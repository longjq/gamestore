(function(){var R;function F(a,b){function d(){}d.prototype=a;var k=new d,c;for(c in b)k[c]=b[c];b.toString!==Object.prototype.toString&&(k.toString=b.toString);return k}function gd(a){return a instanceof Array?function(){return Q.iter(a)}:"function"==typeof a.iterator?u(a,a.iterator):a.iterator}function u(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Pd++);var d;null==a.hx__closures__?a.hx__closures__={}:d=a.hx__closures__[b.__id__];null==d&&(d=function(){return d.method.apply(d.scope,arguments)},
d.scope=a,d.method=b,a.hx__closures__[b.__id__]=d);return d}var m={},h={events:{}};h.events.IEventDispatcher=function(){};m["openfl.events.IEventDispatcher"]=h.events.IEventDispatcher;h.events.IEventDispatcher.__name__=["openfl","events","IEventDispatcher"];h.events.IEventDispatcher.prototype={addEventListener:null,removeEventListener:null,dispatchEvent:null,__class__:h.events.IEventDispatcher};h.events.EventDispatcher=function(){this.eventList=new v.ds.StringMap};m["openfl.events.EventDispatcher"]=
h.events.EventDispatcher;h.events.EventDispatcher.__name__=["openfl","events","EventDispatcher"];h.events.EventDispatcher.__interfaces__=[h.events.IEventDispatcher];h.events.EventDispatcher.prototype={eventList:null,addEventListener:function(a,b,d,k,c){this.eventList.exists(a)?d=this.eventList.get(a):(k=d=[],this.eventList.set(a,k));d.push(b)},removeEventListener:function(a,b,d){if(this.eventList.exists(a)){d=this.eventList.get(a);for(var k=0;k<d.length;){var c=d[k];++k;if(J.compareMethods(c,b)){Q.remove(d,
c);break}}0==d.length&&this.eventList.remove(a)}},hasEventListener:function(a){return this.eventList.exists(a)},dispatchEvent:function(a){null==a.get_target()&&a.set_target(this);a.set_currentTarget(this);var b=a.type;if(this.eventList.exists(b))for(var b=this.eventList.get(b),d=0;d<b.length;){var k=b[d];k(a);b[d]==k&&d++}return!0},__class__:h.events.EventDispatcher};h.events.EventWrapper=function(){h.events.EventDispatcher.call(this);this.eventMap=new v.ds.ObjectMap};m["openfl.events.EventWrapper"]=
h.events.EventWrapper;h.events.EventWrapper.__name__=["openfl","events","EventWrapper"];h.events.EventWrapper.__super__=h.events.EventDispatcher;h.events.EventWrapper.prototype=F(h.events.EventDispatcher.prototype,{component:null,eventMap:null,addEventListener:function(a,b,d,k,c){null==c&&(c=!1);null==k&&(k=0);null==d&&(d=!1);var g=this;h.events.EventDispatcher.prototype.addEventListener.call(this,a,b,d,k,c);k=function(a){a.get_target()==g.component&&a.set_target(g);a.set_currentTarget(g);b(a)};null==
this.eventMap.h.__keys__[b.__id__]&&this.eventMap.set(b,k);this.component.addEventListener(a,k,d)},removeEventListener:function(a,b,d){null==d&&(d=!1);h.events.EventDispatcher.prototype.removeEventListener.call(this,a,b,d);null!=this.eventMap.h.__keys__[b.__id__]&&(this.component.removeEventListener(a,this.eventMap.h[b.__id__],d),this.eventMap.remove(b))},__class__:h.events.EventWrapper});h.display={};h.display.DisplayObject=function(){this.rotation=this.x=this.y=0;this.alpha=this.scaleX=this.scaleY=
1;this.visible=!0;h.events.EventWrapper.call(this);this.eventRemap=new v.ds.StringMap;null==this.component&&(this.component=h.Lib.jsNode("div"));this.component.node=this;this.transform=new h.geom.Transform(this)};m["openfl.display.DisplayObject"]=h.display.DisplayObject;h.display.DisplayObject.__name__=["openfl","display","DisplayObject"];h.display.DisplayObject.__super__=h.events.EventWrapper;h.display.DisplayObject.prototype=F(h.events.EventWrapper.prototype,{name:null,visible:null,alpha:null,scaleX:null,
scaleY:null,rotation:null,x:null,y:null,parent:null,scrollRect:null,mask:null,transform:null,__filters:null,loaderInfo:null,mouseX:null,mouseY:null,__stage:null,__width:null,__height:null,broadcastEvent:function(a){this.dispatchEvent(a)},invalidate:function(){},_syncMtx_set:null,syncMtx:function(){var a=this.component.style,b;1!=this._syncMtx_set&&(this._syncMtx_set=!0,h.Lib.setCSSProperties(a,"transform-origin","0% 0%",31));b="";if(0!=this.x||0!=this.y)b+="translate("+this.x+"px, "+this.y+"px) ";
if(1!=this.scaleX||1!=this.scaleY)b+="scale("+this.scaleX+", "+this.scaleY+") ";0!=this.rotation&&(b+="rotate("+this.rotation+"deg) ");if(null!=this.transform){var d=this.transform.get_matrix();null==d||d.isIdentity()||(b+="matrix("+d.a+", "+d.b+", "+d.c+", "+d.d+", "+d.tx+", "+d.ty+") ")}a.setProperty("transform",b,null);a.setProperty("-o-transform",b,null);a.setProperty("-ms-transform",b,null);a.setProperty("-moz-transform",b,null);a.setProperty("-webkit-transform",b,null)},set_x:function(a){this.x!=
a&&(this.x=a,this.syncMtx());return a},set_y:function(a){this.y!=a&&(this.y=a,this.syncMtx());return a},set_rotation:function(a){this.rotation!=a&&(this.rotation=a,this.syncMtx());return a},set_scaleX:function(a){this.scaleX!=a&&(this.scaleX=a,this.syncMtx());return a},set_scaleY:function(a){this.scaleY!=a&&(this.scaleY=a,this.syncMtx());return a},get_width:function(){return this.__width||0},get_height:function(){return this.__height||0},set_width:function(a){var b=this.get_width();this.set_scaleX(0==
b||null==b?1:a/b);return this.__width=a},set_height:function(a){var b=this.get_height();this.set_scaleY(0==b||null==b?1:a/b);return this.__height=a},set_alpha:function(a){a!=this.alpha&&(this.component.style.opacity=(this.alpha=a).toFixed(4));return a},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(a){return this.__filters=a},set_visible:function(a){this.visible!=a&&(this.visible=a,this.component.style.display=a?"":"none");return a},set_scrollRect:function(a){H.string(this);
H.string(a);null;return a},get_stage:function(){return this.__stage},set_stage:function(a){if(this.__stage!=a){var b=null!=this.__stage!=(null!=a);this.__stage=a;b&&this.dispatchEvent(new h.events.Event(null!=a?"addedToStage":"removedFromStage"))}return a},getBounds:function(a){var b=this.getGlobalMatrix(),d=new h.geom.Rectangle(0,0,this.get_width(),this.get_height());null==a&&(a=this);a!=this&&(d.transform(b),null!=a&&(b=a.getGlobalMatrix(),b.invert(),d.transform(b)));return d},getRect:function(a){return this.getBounds(a)},
concatTransform:function(a){this.transform.get_matrix().isIdentity()||a.concat(this.transform.get_matrix());0!=this.rotation&&a.rotate(this.rotation*Math.PI/180);1==this.scaleX&&1==this.scaleY||a.scale(this.scaleX,this.scaleY);0==this.x&&0==this.y||a.translate(this.x,this.y)},getGlobalMatrix:function(a){null==a&&(a=new h.geom.Matrix);for(var b=this;null!=b;)b.concatTransform(a),b=b.parent;return a},globalToLocal:function(a,b){null==b&&(b=new h.geom.Point);var d=h.display.DisplayObject.convMatrix,
k=a.x,c=a.y;null==d&&(d=h.display.DisplayObject.convMatrix=new h.geom.Matrix);d.identity();d=this.getGlobalMatrix(d);d.invert();b.x=k*d.a+c*d.c+d.tx;b.y=k*d.b+c*d.d+d.ty;return b},localToGlobal:function(a,b){null==b&&(b=new h.geom.Point);var d=h.display.DisplayObject.convMatrix,k=a.x,c=a.y;null==d&&(d=h.display.DisplayObject.convMatrix=new h.geom.Matrix);d.identity();d=this.getGlobalMatrix(d);b.x=k*d.a+c*d.c+d.tx;b.y=k*d.b+c*d.d+d.ty;return b},get_mouseX:function(){return(h.display.DisplayObject.convPoint=
this.globalToLocal(h.Lib.get_current().get_stage().mousePos,h.display.DisplayObject.convPoint)).x},get_mouseY:function(){return(h.display.DisplayObject.convPoint=this.globalToLocal(h.Lib.get_current().get_stage().mousePos,h.display.DisplayObject.convPoint)).y},hitTestPoint:function(a,b,d){null==d&&(d=!1);h.display.DisplayObject.convPoint.x=a;h.display.DisplayObject.convPoint.y=b;this.globalToLocal(h.display.DisplayObject.convPoint,h.display.DisplayObject.convPoint);return this.hitTestLocal(h.display.DisplayObject.convPoint.x,
h.display.DisplayObject.convPoint.y,d)},hitTestLocal:function(a,b,d,k){return(!k||this.visible)&&0<=a&&0<=b&&a<=this.get_width()&&b<=this.get_height()},eventRemap:null,addEventListener:function(a,b,d,k,c){null==c&&(c=!1);null==k&&(k=0);null==d&&(d=!1);h.events.EventWrapper.prototype.addEventListener.call(this,a,b,d,k,c)},broadcastMouse:function(a,b,d,c){if(!this.visible)return!1;var e,g,p=a.length,f;a.push(this);g=0<c.length?c.pop():new h.geom.Matrix;for(f=d.length;f<=p;)e=a[f],g.identity(),e.concatTransform(g),
g.invert(),e=0<c.length?c.pop():new h.geom.Matrix,0<f?e.copy(d[f-1]):e.identity(),e.concat(g),d.push(e),f++;g.copy(d[p]);d=b.stageX*g.a+b.stageY*g.c+g.tx;p=b.stageX*g.b+b.stageY*g.d+g.ty;c.push(g);a.pop();return this.hitTestLocal(d,p,!0,!0)?(null==b.relatedObject&&(b.localX=d,b.localY=p,b.relatedObject=this),this.dispatchEvent(b),!0):!1},dispatchEvent:function(a){var b=h.events.EventWrapper.prototype.dispatchEvent.call(this,a);if(b&&a.bubbles)switch(a.type){case "mouseMove":case "mouseOver":case "mouseOut":case "mouseClick":case "mouseDown":case "mouseUp":case "rightClick":case "rightMouseDown":case "rightMouseUp":case "middleClick":case "middleMouseDown":case "middleMouseUp":case "mouseWheel":case "touchMove":case "touchBegin":case "touchEnd":var d=
this.parent;null!=d&&d.dispatchEvent(a)}return b},toString:function(){return S.getClassName(S.getClass(this))},__class__:h.display.DisplayObject,__properties__:{get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_filters:"set_filters",get_filters:"get_filters",set_scrollRect:"set_scrollRect",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",set_x:"set_x",set_rotation:"set_rotation",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX",set_alpha:"set_alpha",
set_visible:"set_visible",set_stage:"set_stage",get_stage:"get_stage"}});h.display.InteractiveObject=function(){h.display.DisplayObject.call(this);this.tabEnabled=!1;this.tabIndex=0;this.mouseEnabled=this.doubleClickEnabled=!0};m["openfl.display.InteractiveObject"]=h.display.InteractiveObject;h.display.InteractiveObject.__name__=["openfl","display","InteractiveObject"];h.display.InteractiveObject.__super__=h.display.DisplayObject;h.display.InteractiveObject.prototype=F(h.display.DisplayObject.prototype,
{doubleClickEnabled:null,focusRect:null,mouseEnabled:null,tabEnabled:null,tabIndex:null,giveFocus:function(){this.component.focus()},__class__:h.display.InteractiveObject});h.display.DisplayObjectContainer=function(){h.display.InteractiveObject.call(this);this.children=[];this.mouseChildren=!0};m["openfl.display.DisplayObjectContainer"]=h.display.DisplayObjectContainer;h.display.DisplayObjectContainer.__name__=["openfl","display","DisplayObjectContainer"];h.display.DisplayObjectContainer.__super__=
h.display.InteractiveObject;h.display.DisplayObjectContainer.prototype=F(h.display.InteractiveObject.prototype,{children:null,numChildren:null,mouseChildren:null,get_numChildren:function(){return this.children.length},addChild:function(a){null!=a.parent&&a.parent.removeChild(a);a.parent=this;a.set_stage(this.get_stage());this.children.push(a);this.component.appendChild(a.component);var b=new h.events.Event("added");a.dispatchEvent(b);this.dispatchEvent(b);return a},removeChild:function(a){if(a.parent==
this){a.parent=null;a.set_stage(null);Q.remove(this.children,a);this.component.removeChild(a.component);var b=new h.events.Event("removed");a.dispatchEvent(b);this.dispatchEvent(b)}return a},addChildAt:function(a,b){return b<this.children.length?(null!=a.parent&&a.parent.removeChild(a),a.parent=this,a.set_stage(this.get_stage()),this.component.insertBefore(a.component,this.children[b].component),this.children.splice(b,0,a),a):this.addChild(a)},removeChildAt:function(a){return this.removeChild(this.children[a])},
removeChildren:function(a,b){null==a&&(a=0);null==b&&(b=this.children.length);for(var d=b-a;0<=--d;)this.removeChild(this.children[a])},getChildAt:function(a){return this.children[a]},getChildIndex:function(a){for(var b=-1,d=this.children.length;++b<d;)if(this.children[b]==a)return b;return-1},setChildIndex:function(a,b){a.parent==this&&0<=b&&b<=this.children.length&&(this.removeChild(a),this.addChildAt(a,b))},contains:function(a){for(var b=0,d=this.children;b<d.length;){var c=d[b];++b;if(c==a)return!0}return!1},
broadcastEvent:function(a){this.dispatchEvent(a);for(var b=0,d=this.children;b<d.length;){var c=d[b];++b;c.broadcastEvent(a)}},broadcastMouse:function(a,b,d,c){if(!this.visible)return!1;var e=!1;if(this.mouseChildren){var g=this.children.length;if(0<g){for(a.push(this);0<=--g;)if(this.children[g].broadcastMouse(a,b,d,c)){e=!0;break}a.pop()}}for(;d.length>a.length;)c.push(d.pop());for(e=e||h.display.InteractiveObject.prototype.broadcastMouse.call(this,a,b,d,c);d.length>a.length;)c.push(d.pop());return e},
hitTestLocal:function(a,b,d,c){if(!c||this.visible){var e=this.children.length,g,p;if(0<e){for(g=h.geom.Matrix.create();0<=--e;)if(g.identity(),p=this.children[e],p.concatTransform(g),g.invert(),p.hitTestLocal(a*g.a+b*g.c+g.tx,a*g.b+b*g.d+g.ty,d,c))return!0;h.geom.Matrix.pool.push(g)}}return!1},set_stage:function(a){h.display.InteractiveObject.prototype.set_stage.call(this,a);for(var b=0,d=this.children;b<d.length;){var c=d[b];++b;c.set_stage(a)}return a},__class__:h.display.DisplayObjectContainer,
__properties__:F(h.display.InteractiveObject.prototype.__properties__,{get_numChildren:"get_numChildren"})});h.display.IBitmapDrawable=function(){};m["openfl.display.IBitmapDrawable"]=h.display.IBitmapDrawable;h.display.IBitmapDrawable.__name__=["openfl","display","IBitmapDrawable"];h.display.IBitmapDrawable.prototype={drawToSurface:null,__class__:h.display.IBitmapDrawable};h.display.Sprite=function(){h.display.DisplayObjectContainer.call(this)};m["openfl.display.Sprite"]=h.display.Sprite;h.display.Sprite.__name__=
["openfl","display","Sprite"];h.display.Sprite.__interfaces__=[h.display.IBitmapDrawable];h.display.Sprite.__super__=h.display.DisplayObjectContainer;h.display.Sprite.prototype=F(h.display.DisplayObjectContainer.prototype,{graphics:null,_graphics:null,useHandCursor:null,buttonMode:null,get_graphics:function(){if(null==this._graphics){var a=new h.display.Graphics,b=a.component;a.set_displayObject(this);0==this.children.length?this.component.appendChild(b):this.component.insertBefore(b,this.children[0].component);
this._graphics=a}return this._graphics},set_stage:function(a){var b=null==this.get_stage()&&null!=a;a=h.display.DisplayObjectContainer.prototype.set_stage.call(this,a);b&&null!=this._graphics&&this._graphics.invalidate();return a},set_buttonMode:function(a){this.component.style.cursor=a?"pointer":null;return this.useHandCursor=a},startDrag:function(a,b){null!=this.get_stage()&&this.get_stage().__startDrag(this,a,b)},stopDrag:function(){null!=this.get_stage()&&this.get_stage().__stopDrag(this)},drawToSurface:function(a,
b,d,c,e,g,p){this.get_graphics().drawToSurface(a,b,d,c,e,g,p)},hitTestLocal:function(a,b,d,c){if(h.display.DisplayObjectContainer.prototype.hitTestLocal.call(this,a,b,d,c))return!0;if(!c||this.visible)if(c=this._graphics,null!=c)return c.hitTestLocal(a,b,d);return!1},__class__:h.display.Sprite,__properties__:F(h.display.DisplayObjectContainer.prototype.__properties__,{set_buttonMode:"set_buttonMode",get_graphics:"get_graphics"})});var ia=function(a,b){this.hideRefference=-1;this.hideType="none";this.arrowRefference=
null;this.rayBool=!0;this.isRotating=this.staticInited=!1;this.isRotatingD=0;this._isDead=!1;this._spriteType="none";this._moveDisabaled=!1;this._refArray=[];this._deleted=this._dirty=this.deleted=!1;this._refType="";this._contactCounter=this._refNumber=0;this._isContact=!1;this._type="";this.enableOrDisable="disable";this.rotateAngle=0;this.initialAngle=-1;h.display.Sprite.call(this);this._body=a;this.anim=b;this._body.get_userData().act=this;this._type=this._body.get_userData().act.formType;this._refNumber=
this._body.get_userData().act.refNumber;this._refType=this._body.get_userData().act.refType;this._spriteType=this._body.get_userData().act.spriteType;"teleportOne"==this._spriteType&&v.Log.trace("move",{fileName:"Actor.hx",lineNumber:79,className:"Actor",methodName:"new"});this._velXY=new f.geom.Vec2(this._body.get_userData().act.velX,this._body.get_userData().act.velY)};m.Actor=ia;ia.__name__=["Actor"];ia.__super__=h.display.Sprite;ia.prototype=F(h.display.Sprite.prototype,{_body:null,initialAngle:null,
rotateAngle:null,enableOrDisable:null,_type:null,_isContact:null,_contactCounter:null,_refNumber:null,_refType:null,_deleted:null,_dirty:null,anim:null,deleted:null,_buttonNode:null,_refArray:null,_clickPareButton:null,_buttonNodePoint:null,_velXY:null,_moveDisabaled:null,_spriteType:null,_isDead:null,isRotatingD:null,isRotating:null,staticInited:null,rayBool:null,arrowRefference:null,hideType:null,hideRefference:null,update:function(a){this.updateBody(a);this.updateOther()},updateOther:function(){},
updateBody:function(a){if("box"==this._body.get_userData().act.form&&null!=this.anim){if("hook"==this._body.get_userData().act.formType){var b=l.pig;if(null!=b){var d=0,d=(new f.geom.Vec2(this._body.get_position().get_x()-b._body.get_position().get_x(),this._body.get_position().get_y()-b._body.get_position().get_y())).get_angle()-Math.PI/2;this._body.set_rotation(d)}}"buttonMove"==this._body.get_userData().act._refType&&(this._body.set_position(this._body.get_userData().act._buttonNode._body.localPointToWorld(this._body.get_userData().act._buttonNode._buttonNodePoint)),
this._body.set_rotation(E.Boot.__cast(this._body.get_userData().act,ia)._buttonNode._body.zpp_inner.rot+this._body.get_userData().act.angle));"button"==this._type&&(this._body.get_userData().act.checkAngle(),1==this._isContact?"gravitySimple"!=this._body.get_userData().act._refType?"disable"==this.enableOrDisable&&(this._body.get_userData().act.enableRefference(),this.enableOrDisable="enable",l.playMp3("click")):1==l.gravityNormal&&"disable"==this.enableOrDisable&&(l.gravityNormal=!1,l.playMp3("click"),
this._isContact=!1):"gravitySimple"!=this._body.get_userData().act._refType?"enable"==this.enableOrDisable&&(this._body.get_userData().act.disableRefference(),this.enableOrDisable="disable",l.playMp3("click")):"enable"==this.enableOrDisable&&(l.playMp3("click"),this._isContact=!1));this.staticInited||(this.anim.set_x(this._body.get_position().get_x()),this.anim.set_y(this._body.get_position().get_y()),this.anim.set_rotation(180*this._body.zpp_inner.rot/Math.PI%360));this._body.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC&&
(this.staticInited=!0);this.anim.update(a);this.rayBool=this.rayBool?!1:!0;a=E.Boot.__cast(this,T).rayArray;b=0;for(d=a.length;b<d;){var k=b++;a[k].update(this.rayBool)}}else"circle"==this._body.get_userData().act.form&&("button"==this._type&&this._body.get_userData().act.checkAngle(),0!=this._body.get_userData().act.isRotatingD&&this._body.get_userData().act.rotateDynamic(),null!=this.anim&&(this.anim.set_x(H["int"](this._body.get_position().get_x())),this.anim.set_y(H["int"](this._body.get_position().get_y())),
this.anim.set_rotation(180*this._body.zpp_inner.rot/Math.PI%360),this.anim.update(a)))},rotateDynamic:function(){1==this.isRotatingD&&this._body.set_angularVel(6);-1==this.isRotatingD&&this._body.set_angularVel(-6)},enableRefference:function(){null!=this._clickPareButton&&(E.Boot.__cast(this._clickPareButton,ib).bClickEnabled=!1,this._clickPareButton.anim.showBehavior("disable"));for(var a=0,b=this._refArray.length;a<b;){var d=a++,d=this._refArray[d];switch(d._refType){case "move":d._body.get_velocity().setxy(E.Boot.__cast(d,
T).velX,E.Boot.__cast(d,T).velY);this.anim.showBehavior("enable");break;case "rotateDynamic":0<=this._body.get_userData().act.velX?(d.isRotatingD=1,this.anim.showBehavior("enable")):(this.anim.showBehavior("enable"),d.isRotatingD=-1);break;case "rotateAngle":-1==this.initialAngle&&(this.initialAngle=d._body.zpp_inner.rot,this.rotateAngle=E.Boot.__cast(d,T).velY*Math.PI/180,d._body.set_angularVel(E.Boot.__cast(d,T).velX/3),d.isRotating=!0);break;default:v.Log.trace("something default",{fileName:"Actor.hx",
lineNumber:272,className:"Actor",methodName:"enableRefference"})}}},checkAngle:function(){for(var a=0,b=this._refArray.length;a<b;){var d=a++,d=this._refArray[d];d.isRotating&&Math.abs(this.initialAngle-d._body.zpp_inner.rot)>this.rotateAngle&&(d._body.set_angularVel(0),d.isRotating=!1)}},disableRefference:function(){for(var a=0,b=this._refArray.length;a<b;){var d=a++,d=this._refArray[d];switch(d._refType){case "move":this.anim.showBehavior("disable");d._body.get_velocity().setxy(0,0);break;case "rotateDynamic":d.isRotatingD=
0}}},removeActor:function(a){this._body.set_space(null);null!=this.anim&&a.removeChild(this.anim);this.anim=null},__class__:ia});var T=function(a,b,d,k,e,g,p,x,B,h,ra,t,Ja,m,q){this.teleportEnabled=this.teleportDouble=!1;this.shapeType=this.spriteType="none";this.isMoveable=!1;this.refNumber=0;this.refType="none";this.rayType="intake";this.rayArray=[];this.dirty=this.rayEnabled=!1;this.gameType=this.spriteVisible="none";this.filt=new f.dynamics.InteractionFilter;this.filt.set_sensorGroup(1);this.filt.set_sensorMask(1);
this.filt.set_collisionGroup(1);this.filt.set_collisionMask(1);this.spriteVisible=h;this.form=a;this.xy=d;this.img=b;this.angle=k;this.type=e;this.isSensor=g;this.material=x;this.state=p;this.napeSpace=l.space;this.formType=B;this.points=ra;this.refType=Ja;this.refNumber=m;if(null!=q&&q.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";q.zpp_inner.validate();this.velX=q.zpp_inner.x;if(null!=q&&q.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";q.zpp_inner.validate();
this.velY=q.zpp_inner.y;this.rayType=t;switch(this.state){case "static":a=f.phys.Body;null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);this.body=new a(c.util.ZPP_Flags.BodyType_STATIC);break;case "dynamic":a=f.phys.Body;null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);this.body=new a(c.util.ZPP_Flags.BodyType_DYNAMIC);
this.body.get_cbTypes().add(l.dynamicCbt);this.body.set_isBullet(!0);break;case "kinematic":a=f.phys.Body;null==c.util.ZPP_Flags.BodyType_KINEMATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_KINEMATIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);this.body=new a(c.util.ZPP_Flags.BodyType_KINEMATIC);this.body.get_cbTypes().add(l.kinematicCbt);this.isMoveable=!0;break;default:a=f.phys.Body,null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=
new f.phys.BodyType,c.util.ZPP_Flags.internal=!1),this.body=new a(c.util.ZPP_Flags.BodyType_DYNAMIC)}switch(this.formType){case "pig":this.rectangle=new f.shape.Polygon(f.shape.Polygon.box(H["int"](this.img.bitmap.get_width()-3),H["int"](this.img.bitmap.get_height()-3)));this.body.zpp_inner.wrap_shapes.add(this.rectangle);this.rectangle.set_sensorEnabled(!1);this.circle=new f.shape.Circle(H["int"](this.img.bitmap.get_width()/2-2));this.body.zpp_inner.wrap_shapes.add(this.circle);this.circle.set_sensorEnabled(!0);
this.gameType="pig";this.body.get_cbTypes().add(l.pigCbt);break;case "koruto":case "duck":case "teleport":0<this.points.length&&(this.rectangle=new f.shape.Polygon(this.points),this.body.zpp_inner.wrap_shapes.add(this.rectangle),this.angle=0);break;case "iceDestroy":this.rectangle=new f.shape.Polygon(f.shape.Polygon.box(H["int"](this.img.bitmap.get_width()-3),H["int"](this.img.bitmap.get_height()-3)));this.body.zpp_inner.wrap_shapes.add(this.rectangle);this.body.get_cbTypes().add(l.sensorCbt);break;
case "water":this.rectangle=new f.shape.Polygon(f.shape.Polygon.box(80,22));this.body.zpp_inner.wrap_shapes.add(this.rectangle);this.body.get_cbTypes().add(l.waterCbt);v.Log.trace("pigggggggggggggggggggggggggggggggggggggggg water",{fileName:"ActorBox.hx",lineNumber:147,className:"ActorBox",methodName:"new"});break;case "teleportOne":case "teleportSecond":this.rectangle=new f.shape.Polygon(f.shape.Polygon.box(80,2));this.body.zpp_inner.wrap_shapes.add(this.rectangle);this.body.get_cbTypes().add(l.teleportCbt);
this.img.set_visible(!1);break;case "stone":this.rectangle=new f.shape.Polygon(f.shape.Polygon.box(730,48));this.body.zpp_inner.wrap_shapes.add(this.rectangle);break;case "sensor":this.rectangle=new f.shape.Polygon(f.shape.Polygon.box(H["int"](this.img.bitmap.get_width()-3),H["int"](this.img.bitmap.get_height()-3)));this.body.zpp_inner.wrap_shapes.add(this.rectangle);this.body.get_cbTypes().add(l.sensorCbt);break;case "spike":this.rectangle=new f.shape.Polygon(f.shape.Polygon.box(H["int"](this.img.bitmap.get_width()-
3),H["int"](this.img.bitmap.get_height()-3)));this.body.zpp_inner.wrap_shapes.add(this.rectangle);this.body.get_cbTypes().add(l.spikeCbt);break;case "hook":this.rectangle=new f.shape.Polygon(f.shape.Polygon.box(50,50));this.body.zpp_inner.wrap_shapes.add(this.rectangle);break;case "killer":this.rectangle=new f.shape.Polygon(f.shape.Polygon.box(48,48));this.body.zpp_inner.wrap_shapes.add(this.rectangle);break;case "creator":this.rectangle=new f.shape.Polygon(f.shape.Polygon.box(50,50));this.body.zpp_inner.wrap_shapes.add(this.rectangle);
break;case "button":this.rectangle=new f.shape.Polygon(f.shape.Polygon.box(H["int"](this.img.bitmap.get_width()),H["int"](this.img.bitmap.get_height())));this.body.zpp_inner.wrap_shapes.add(this.rectangle);this.body.get_cbTypes().add(l.buttonCbt);break;default:this.rectangle=new f.shape.Polygon(f.shape.Polygon.box(H["int"](this.img.bitmap.get_width()-3),H["int"](this.img.bitmap.get_height()-3))),this.body.zpp_inner.wrap_shapes.add(this.rectangle)}switch(this.rayType){case "pass":this.rectangle.set_filter(l.filt)}"true"==
this.isSensor?this.rectangle.set_sensorEnabled(!0):this.rectangle.set_sensorEnabled(!1);null!=this.img&&("true"==this.spriteVisible?this.img.set_visible(!0):this.img.set_visible(!1));switch(this.material){case "steel":this.rectangle.set_material(f.phys.Material.steel());break;case "wood":this.rectangle.set_material(f.phys.Material.wood());break;default:this.rectangle.set_material(f.phys.Material.steel())}this.body.set_allowRotation(!0);this.body.get_position().setxy(this.xy.get_x(),this.xy.get_y());
this.body.set_rotation(this.angle);this.body.set_space(l.space);this.body.get_userData().anim=this.img;ia.call(this,this.body,this.img)};m.ActorBox=T;T.__name__=["ActorBox"];T.__super__=ia;T.prototype=F(ia.prototype,{filt:null,xy:null,form:null,angle:null,type:null,isSensor:null,state:null,body:null,rectangle:null,circle:null,material:null,img:null,napeSpace:null,formType:null,gameType:null,spriteVisible:null,points:null,dirty:null,rayEnabled:null,rayArray:null,rayType:null,refType:null,buttonNode:null,
refNumber:null,velX:null,velY:null,isMoveable:null,shapeType:null,spriteType:null,teleportEnabled:null,secondTeleport:null,teleportDouble:null,failHero:function(){1==this.rectangle.zpp_inner.sensorEnabled?this.anim.showBehavior("failCircle"):this.anim.showBehavior("failBox")},dirtyHero:function(){1==this.rectangle.zpp_inner.sensorEnabled?this.anim.showBehavior("dirtyCircle"):this.anim.showBehavior("dirtyBox")},recreateHero:function(){1==this.rectangle.zpp_inner.sensorEnabled?(this.rectangle.set_sensorEnabled(!1),
this.circle.set_sensorEnabled(!0),this.img.showBehavior("normalBox")):(this.rectangle.set_sensorEnabled(!0),this.circle.set_sensorEnabled(!1),this.img.showBehavior("normalCircle"))},__class__:T});var ib=function(a,b,d,k,e,g,p,x,B,h,ra,t,Ja,m){this.teleportEnabled=this.teleportDouble=!1;this.spriteType="none";this.bClickEnabled=!1;this.shapeType="none";this.isMoveable=!1;this.refNumber=0;this.refType="none";this.rayType="intake";this.gameType=this.spriteVisible="none";this.filt=new f.dynamics.InteractionFilter;
this.filt.set_sensorGroup(1);this.filt.set_sensorMask(1);this.filt.set_collisionGroup(1);this.filt.set_collisionMask(1);this.spriteVisible=h;this.form=a;this.xy=d;this.img=b;this.angle=k;this.type=e;this.isSensor=g;this.state=p;this.material=x;this.formType=B;this.refType=t;this.refNumber=Ja;if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();this.velX=m.zpp_inner.x;if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();
this.velY=m.zpp_inner.y;this.rayType=ra;switch(this.state){case "static":a=f.phys.Body;null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);this.body=new a(c.util.ZPP_Flags.BodyType_STATIC);break;case "dynamic":a=f.phys.Body;null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);this.body=new a(c.util.ZPP_Flags.BodyType_DYNAMIC);
this.body.get_cbTypes().add(l.dynamicCbt);break;case "kinematic":a=f.phys.Body;null==c.util.ZPP_Flags.BodyType_KINEMATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_KINEMATIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);this.body=new a(c.util.ZPP_Flags.BodyType_KINEMATIC);this.body.get_cbTypes().add(l.kinematicCbt);break;default:a=f.phys.Body,null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=
!1),this.body=new a(c.util.ZPP_Flags.BodyType_DYNAMIC)}switch(this.formType){case "balloon1":this.circle=new f.shape.Circle(25);this.body.zpp_inner.wrap_shapes.add(this.circle);break;case "woodCircle2":this.circle=new f.shape.Circle(H["int"](this.img.bitmap.get_width()/2));this.body.zpp_inner.wrap_shapes.add(this.circle);break;default:this.circle=new f.shape.Circle(H["int"](this.img.bitmap.get_width()/2-2)),this.body.zpp_inner.wrap_shapes.add(this.circle)}"true"==this.isSensor?this.circle.set_sensorEnabled(!0):
this.circle.set_sensorEnabled(!1);"false"==this.spriteVisible?this.img.set_visible(!1):this.img.set_visible(!0);switch(this.rayType){case "pass":this.circle.set_filter(this.filt)}switch(this.material){case "steel":this.circle.set_material(f.phys.Material.steel());break;case "wood":this.circle.set_material(f.phys.Material.wood())}switch(this.formType){case "star":this.body.get_cbTypes().add(l.starCbt);break;case "sensor":this.body.get_cbTypes().add(l.sensorCbt)}this.body.set_allowRotation(!0);this.body.get_position().setxy(this.xy.get_x(),
this.xy.get_y());this.body.set_rotation(this.angle);this.body.set_space(l.space);this.body.get_userData().anim=this.img;ia.call(this,this.body,this.img)};m.ActorCircle=ib;ib.__name__=["ActorCircle"];ib.__super__=ia;ib.prototype=F(ia.prototype,{filt:null,xy:null,form:null,angle:null,type:null,isSensor:null,state:null,body:null,circle:null,material:null,img:null,napeSpace:null,formType:null,gameType:null,spriteVisible:null,rayType:null,refType:null,refNumber:null,velX:null,velY:null,isMoveable:null,
shapeType:null,buttonNode:null,bClickEnabled:null,spriteType:null,teleportEnabled:null,teleportDouble:null,__class__:ib});var y=function(){};m.ApplicationMain=y;y.__name__=["ApplicationMain"];y.loadEmbed=function(a){y.embeds=(null!=y.embeds?y.embeds:0)+1;var b=null,b=function(d){a.removeEventListener("load",b);0==--y.embeds&&y.preload()};a.addEventListener("load",b)};y.main=function(){null!=y.embeds&&0!=y.embeds||y.preload()};y.preload=function(){for(var a=y.bytesLoaded=y.totalBytes=0,b=y.AssetBytes;a<
b.length;){var d=b[a];++a;y.totalBytes+=d}y.completed=0;y.loaders=new v.ds.StringMap;y.urlLoaders=new v.ds.StringMap;y.total=0;h.Lib.get_current().loaderInfo=h.display.LoaderInfo.create(null);h.Lib.get_stage().set_frameRate(30);h.Lib.get_current().addChild(y.preloader=new wb);y.preloader.onInit();y.loadFile("img/game/blueArrowButton.png");y.loadFile("img/game/blueButton.png");y.loadFile("img/game/blueClickButton.png");y.loadFile("img/game/blueClickButton2.png");y.loadFile("img/game/bomb.png");y.loadFile("img/game/gravibox.png");
y.loadFile("img/game/greenButton.png");y.loadFile("img/game/greenGraviButton.png");y.loadFile("img/game/ice11.png");y.loadFile("img/game/ice12.png");y.loadFile("img/game/ice14.png");y.loadFile("img/game/knife.png");y.loadFile("img/game/koruto.png");y.loadFile("img/game/lapka2.png");y.loadFile("img/game/lapkaDuck.png");y.loadFile("img/game/lapkaPig.png");y.loadFile("img/game/node.png");y.loadFile("img/game/pause.png");y.loadFile("img/game/redArrowButton.png");y.loadFile("img/game/redButton.png");y.loadFile("img/game/redClickButton.png");
y.loadFile("img/game/redClickButton1.png");y.loadFile("img/game/reflex11.png");y.loadFile("img/game/reflex12.png");y.loadFile("img/game/reflex12_move.png");y.loadFile("img/game/rotate.png");y.loadFile("img/game/sensor.png");y.loadFile("img/game/spike11.png");y.loadFile("img/game/spike12.png");y.loadFile("img/game/spike14.png");y.loadFile("img/game/splash2.png");y.loadFile("img/game/star.png");y.loadFile("img/game/steel11.png");y.loadFile("img/game/steel11_move.png");y.loadFile("img/game/steel12.png");
y.loadFile("img/game/steel12_move.png");y.loadFile("img/game/steel13.png");y.loadFile("img/game/steel13_move.png");y.loadFile("img/game/steel14.png");y.loadFile("img/game/steel18.png");y.loadFile("img/game/steelBottom.png");y.loadFile("img/game/stone.png");y.loadFile("img/game/teleportOne.png");y.loadFile("img/game/teleportSecond.png");y.loadFile("img/game/water.png");y.loadFile("img/game/wood11.png");y.loadFile("img/game/wood12.png");y.loadFile("img/game/wood13.png");y.loadFile("img/game/wood14_2.png");
y.loadFile("img/game/wood18.png");y.loadFile("img/game/woodCircle.png");y.loadFile("img/game/woodCircle2.png");y.loadFile("img/game/wood_block18.png");y.loadFile("img/menu/audio.png");y.loadFile("img/menu/levels.png");y.loadFile("img/menu/logo.png");y.loadFile("img/menu/menu.png");y.loadFile("img/menu/play.png");y.loadFile("img/play/ba1.png");y.loadFile("img/play/ba10.png");y.loadFile("img/play/ba11.png");y.loadFile("img/play/ba12.png");y.loadFile("img/play/ba13.png");y.loadFile("img/play/ba14.png");
y.loadFile("img/play/ba15.png");y.loadFile("img/play/ba16.png");y.loadFile("img/play/ba17.png");y.loadFile("img/play/ba18.png");y.loadFile("img/play/ba19.png");y.loadFile("img/play/ba2.png");y.loadFile("img/play/ba20.png");y.loadFile("img/play/ba3.png");y.loadFile("img/play/ba4.png");y.loadFile("img/play/ba5.png");y.loadFile("img/play/ba6.png");y.loadFile("img/play/ba7.png");y.loadFile("img/play/ba8.png");y.loadFile("img/play/ba9.png");y.loadFile("img/play/back1.png");y.loadFile("img/play/bottomBack.png");
y.loadFile("img/play/iconsBack.png");y.loadFile("img/play/kiziLogo.png");y.loadFile("img/play/levelMini.png");y.loadFile("img/play/menuMini.png");y.loadFile("img/play/restartMini.png");y.loadFile("img/play/restartMini1.png");y.loadFile("img/play/restartMini2.png");y.loadFile("img/play/solMini.png");y.loadFile("img/play/soundMini.png");y.loadFile("img/ui/gameCompleted.png");y.loadFile("img/ui/icon.png");y.loadFile("img/ui/iconsBack.png");y.loadFile("img/ui/levelCompleted.png");y.loadFile("img/ui/levelFailed.png");
y.loadFile("img/ui/menuMaxi.png");y.loadFile("img/ui/menuMaxi1.png");y.loadFile("img/ui/menuMaxi2.png");y.loadFile("img/ui/nextMaxi.png");y.loadFile("img/ui/nextMaxi1.png");y.loadFile("img/ui/nextMaxi2.png");y.loadFile("img/ui/restartMaxi.png");y.loadFile("img/ui/restartMaxi1.png");y.loadFile("img/ui/restartMaxi2.png");y.loadFile("img/ui/solutionMaxi.png");y.loadFile("json/acIconsAnimation.png");y.loadFile("json/acornsAnimation.png");y.loadFile("json/attractionAnimation.png");y.loadFile("json/boomAnimation.png");
y.loadFile("json/complAcornAnimation.png");y.loadFile("json/creatorAnimation.png");y.loadFile("json/handAnimation.png");y.loadFile("json/hookAnimation.png");y.loadFile("json/ice11Animation.png");y.loadFile("json/ice12Animation.png");y.loadFile("json/ice14Animation.png");y.loadFile("json/killerAnimation.png");y.loadFile("json/killerAnimation2.png");y.loadFile("json/lIconsAnimation.png");y.loadFile("json/pigAnimation.png");y.loadFile("json/repulsion2Animation.png");y.loadFile("json/repulsionAnimation.png");
y.loadFile("json/splashAnimation.png");y.loadFile("json/starAnimation.png");a=0;for(b=v.Resource.listNames();a<b.length;)d=b[a],++a,O.startsWith(d,"NME_:bitmap_")&&(d=S.resolveClass(O.replace(d.substring(12),"_",".")),null!=d&&(y.total++,S.createInstance(d,[0,0,!0,16777215,y.bitmapClass_onComplete])));if(0!=y.total){y.loaderStack=[];for(a=y.loaders.keys();a.hasNext();)b=a.next(),y.loaderStack.push(b);y.urlLoaderStack=[];for(a=y.urlLoaders.keys();a.hasNext();)b=a.next(),y.urlLoaderStack.push(b);for(a=
0;8>a;)a++,y.nextLoader()}else y.begin()};y.nextLoader=function(){if(0!=y.loaderStack.length){var a=y.loaderStack.shift(),b=y.loaders.get(a);b.contentLoaderInfo.addEventListener("complete",y.loader_onComplete);b.load(new h.net.URLRequest(a))}else 0!=y.urlLoaderStack.length&&(a=y.urlLoaderStack.shift(),b=y.urlLoaders.get(a),b.addEventListener("complete",y.loader_onComplete),b.load(new h.net.URLRequest(a)))};y.loadFile=function(a){var b=new h.display.Loader;y.loaders.set(a,b);y.total++};y.loadBinary=
function(a){var b=new h.net.URLLoader;b.set_dataFormat(0);y.urlLoaders.set(a,b);y.total++};y.loadSound=function(a){};y.begin=function(){y.preloader.addEventListener("complete",y.preloader_onComplete);y.preloader.onLoaded()};y.bitmapClass_onComplete=function(a){y.completed++;S.getClass(a).preload=a;y.completed==y.total&&y.begin()};y.loader_onComplete=function(a){y.completed++;y.bytesLoaded+=y.AssetBytes[Q.indexOf(y.AssetNames,a._target.url,0)];y.preloader.onUpdate(y.bytesLoaded,y.totalBytes);y.completed==
y.total?y.begin():y.nextLoader()};y.preloader_onComplete=function(a){y.preloader.removeEventListener("complete",y.preloader_onComplete);h.Lib.get_current().removeChild(y.preloader);y.preloader=null;null==la.main?(a=new wc,E.Boot.__instanceof(a,h.display.DisplayObject)&&h.Lib.get_current().addChild(a)):la.main()};var la=function(){this.gravity=new f.geom.Vec2(0,500);h.display.Sprite.call(this);this.addEventListener("addedToStage",u(this,this.added))};m.Main=la;la.__name__=["Main"];la.main=function(){h.Lib.get_current().get_stage().align=
"TOP_LEFT";h.Lib.get_current().get_stage().scaleMode="NO_SCALE";h.Lib.get_current().addChild(new la)};la.__super__=h.display.Sprite;la.prototype=F(h.display.Sprite.prototype,{inited:null,menu:null,space:null,gravity:null,upperLayer:null,shutterLayer:null,resize:function(a){this.inited||this.init()},init:function(){this.inited||(this.inited=!0,l.init(h.Lib.get_current().get_stage(),H["int"](h.Lib.get_current().get_stage().get_stageWidth()),H["int"](h.Lib.get_current().get_stage().get_stageHeight()),
h.Lib.get_current().get_stage().frameRate|0),H["int"](h.Lib.get_current().get_stage().get_stageWidth()),H["int"](h.Lib.get_current().get_stage().get_stageHeight()),null,this.space=new f.space.Space(this.gravity),l.setSpace(this.space),this.menu=new za(1),l.curSprite=this.menu,this.checkScaling(),v.Log.trace("after resize",{fileName:"Main.hx",lineNumber:75,className:"Main",methodName:"init"}),v.Log.trace("remove before child",{fileName:"Main.hx",lineNumber:80,className:"Main",methodName:"init"}),l.gameSpace.addChild(this.menu),
v.Log.trace("before main",{fileName:"Main.hx",lineNumber:95,className:"Main",methodName:"init"}),v.Log.trace("end main",{fileName:"Main.hx",lineNumber:97,className:"Main",methodName:"init"}))},onAdded:function(a){l.setXY(H["int"](this.get_stage().get_stageWidth()),H["int"](this.get_stage().get_stageHeight()));l.resizeGame();l.resizeStage(l.curSprite)},checkScaling:function(){l.setXY(H["int"](h.Lib.get_current().get_stage().get_stageWidth()),H["int"](h.Lib.get_current().get_stage().get_stageHeight()));
l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();null},added:function(a){this.removeEventListener("addedToStage",u(this,this.added));this.get_stage().addEventListener("resize",u(this,this.resize));this.init()},__class__:la});var wc=function(){la.call(this)};m.DocumentClass=wc;wc.__name__=["DocumentClass"];wc.__super__=la;wc.prototype=F(la.prototype,{get_stage:function(){return h.Lib.get_current().get_stage()},__class__:wc});var ma=function(a,b,d){this.ScoresText=new h.text.TextField;this.defaultFormat=
new h.text.TextFormat("GROBOLD",36,16777215);this.lastTime=this.cLevel=this.star=this.scoresCommon=0;h.display.Sprite.call(this);this.cLevel=a;this.scoresCommon=d;this.star=b;this.init()};m.CompletedGameState=ma;ma.__name__=["CompletedGameState"];ma.__super__=h.display.Sprite;ma.prototype=F(h.display.Sprite.prototype,{mainBackGround:null,next:null,menu:null,restart:null,nextSpriteSheet:null,menuSpriteSheet:null,restartSpriteSheet:null,playState:null,lastTime:null,cLevel:null,stars:null,star:null,
scoresCommon:null,defaultFormat:null,ScoresText:null,init:function(){var a=new h.display.Bitmap(h.Assets.getBitmapData("img/play/back1.png"));this.addChild(a);this.mainBackGround=new h.display.Bitmap(h.Assets.getBitmapData("img/ui/gameCompleted.png"));this.addChild(this.mainBackGround);this.stars=l.initAnimation("complAcorn");this.stars.showBehavior(H.string(this.star));this.stars.set_x(355);this.stars.set_y(80);this.addChild(this.stars);this.menuSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/ui/menuMaxi.png"),
3,1,73,74);this.menuSpriteSheet.addBehavior(new C.data.BehaviorData("out",[0],!0,30,36,37));this.menuSpriteSheet.addBehavior(new C.data.BehaviorData("over",[1],!1,30,36,37));this.menu=new C.AnimatedSprite(this.menuSpriteSheet,!0);this.addChild(this.menu);this.menu.showBehavior("out");this.menu.set_buttonMode(!0);this.menu.addEventListener("mouseOver",u(this,this.overMouse));this.menu.addEventListener("mouseOut",u(this,this.outMouse));this.menu.addEventListener("mouseDown",u(this,this.goToMenu));this.menu.set_x(311);
this.menu.set_y(348);this.restartSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/ui/restartMaxi.png"),3,1,73,74);this.restartSpriteSheet.addBehavior(new C.data.BehaviorData("out",[0],!0,30,36,37));this.restartSpriteSheet.addBehavior(new C.data.BehaviorData("over",[1],!1,30,36,37));this.restart=new C.AnimatedSprite(this.restartSpriteSheet,!0);this.addChild(this.restart);this.restart.showBehavior("out");this.restart.set_buttonMode(!0);this.restart.addEventListener("mouseOver",
u(this,this.overMouse));this.restart.addEventListener("mouseOut",u(this,this.outMouse));this.restart.addEventListener("mouseDown",u(this,this.goToRestart));this.restart.set_x(405);this.restart.set_y(348);this.ScoresText.set_defaultTextFormat(this.defaultFormat);this.ScoresText.set_selectable(!1);this.ScoresText.mouseEnabled=!1;this.ScoresText.embedFonts=!0;this.ScoresText.set_text("Scores:"+H.string(this.scoresCommon));a=this.ScoresText;a.set_width(2*a.get_width());this.ScoresText.set_x(270);this.ScoresText.set_y(410);
this.addChild(this.ScoresText)},clearState:function(){l.gameSpace.removeEventListener("enterFrame",u(this,this.onEnterFrame));l.clear();l.gameSpace.removeChild(this)},goToRestart:function(a){this.clearState();l.clear();a=new Aa(this.cLevel);l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(a)},overMouse:function(a){a.get_currentTarget().showBehavior("out");v.Log.trace("overMouse",{fileName:"CompletedGameState.hx",lineNumber:178,className:"CompletedGameState",
methodName:"overMouse"})},outMouse:function(a){a.get_currentTarget().showBehavior("over");v.Log.trace("outMouse",{fileName:"CompletedGameState.hx",lineNumber:183,className:"CompletedGameState",methodName:"outMouse"})},goToMenu:function(a){this.clearState();l.clear();a=new za(this.cLevel);l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(a)},onEnterFrame:function(a){a=h.Lib.getTimer()-this.lastTime;this.restart.update(a);this.menu.update(a);this.lastTime=h.Lib.getTimer()},
__class__:ma});var na=function(a,b,d){this.ScoresText=new h.text.TextField;this.defaultFormat=new h.text.TextFormat("GROBOLD",36,16777215);this.lastTime=this.cLevel=this.star=this.scoresCommon=0;h.display.Sprite.call(this);this.cLevel=a;this.scoresCommon=d;this.star=b;this.init()};m.CompletedState=na;na.__name__=["CompletedState"];na.__super__=h.display.Sprite;na.prototype=F(h.display.Sprite.prototype,{mainBackGround:null,next:null,menu:null,restart:null,nextSpriteSheet:null,menuSpriteSheet:null,
restartSpriteSheet:null,playState:null,lastTime:null,cLevel:null,stars:null,star:null,scoresCommon:null,defaultFormat:null,ScoresText:null,init:function(){var a=new h.display.Bitmap(h.Assets.getBitmapData("img/play/back1.png"));this.addChild(a);this.mainBackGround=new h.display.Bitmap(h.Assets.getBitmapData("img/ui/levelCompleted.png"));this.mainBackGround.set_x(0);this.mainBackGround.set_y(0);this.addChild(this.mainBackGround);this.stars=l.initAnimation("complAcorn");this.stars.showBehavior(H.string(this.star));
this.stars.set_x(355);this.stars.set_y(80);this.addChild(this.stars);this.nextSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/ui/nextMaxi.png"),3,1,73,74);this.nextSpriteSheet.addBehavior(new C.data.BehaviorData("out",[0],!0,30,36,37));this.nextSpriteSheet.addBehavior(new C.data.BehaviorData("over",[1],!1,30,36,37));this.next=new C.AnimatedSprite(this.nextSpriteSheet,!0);this.addChild(this.next);this.next.showBehavior("out");this.next.set_buttonMode(!0);this.next.addEventListener("mouseOver",
u(this,this.overMouse));this.next.addEventListener("mouseOut",u(this,this.outMouse));this.next.addEventListener("mouseDown",u(this,this.goToNext));this.next.set_x(442);this.next.set_y(348);this.menuSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/ui/menuMaxi.png"),3,1,73,74);this.menuSpriteSheet.addBehavior(new C.data.BehaviorData("out",[0],!0,30,36,37));this.menuSpriteSheet.addBehavior(new C.data.BehaviorData("over",[1],!1,30,36,37));this.menu=new C.AnimatedSprite(this.menuSpriteSheet,
!0);this.addChild(this.menu);this.menu.showBehavior("out");this.menu.set_buttonMode(!0);this.menu.addEventListener("mouseOver",u(this,this.overMouse));this.menu.addEventListener("mouseOut",u(this,this.outMouse));this.menu.addEventListener("mouseDown",u(this,this.goToMenu));this.menu.set_x(274);this.menu.set_y(348);this.restartSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/ui/restartMaxi.png"),3,1,73,74);this.restartSpriteSheet.addBehavior(new C.data.BehaviorData("out",[0],
!0,30,36,37));this.restartSpriteSheet.addBehavior(new C.data.BehaviorData("over",[1],!1,30,36,37));this.restart=new C.AnimatedSprite(this.restartSpriteSheet,!0);this.addChild(this.restart);this.restart.showBehavior("out");this.restart.set_buttonMode(!0);this.restart.addEventListener("mouseOver",u(this,this.overMouse));this.restart.addEventListener("mouseOut",u(this,this.outMouse));this.restart.addEventListener("mouseDown",u(this,this.goToRestart));this.restart.set_x(358);this.restart.set_y(348);this.ScoresText.set_defaultTextFormat(this.defaultFormat);
this.ScoresText.set_selectable(!1);this.ScoresText.mouseEnabled=!1;this.ScoresText.embedFonts=!0;this.ScoresText.set_text("Scores:"+H.string(this.scoresCommon));a=this.ScoresText;a.set_width(2*a.get_width());this.ScoresText.set_x(270);this.ScoresText.set_y(410);this.addChild(this.ScoresText)},goToNext:function(a){this.clearState();this.playState=new Aa(this.cLevel+1);l.curSprite=this.playState;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(this.playState)},clearState:function(){l.gameSpace.removeEventListener("enterFrame",
u(this,this.onEnterFrame));l.clear();l.gameSpace.removeChild(this)},goToRestart:function(a){this.clearState();l.clear();a=new Aa(this.cLevel);l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(a)},overMouse:function(a){a.get_currentTarget().showBehavior("out");v.Log.trace("overMouse",{fileName:"CompletedState.hx",lineNumber:213,className:"CompletedState",methodName:"overMouse"})},outMouse:function(a){a.get_currentTarget().showBehavior("over");v.Log.trace("outMouse",
{fileName:"CompletedState.hx",lineNumber:218,className:"CompletedState",methodName:"outMouse"})},goToMenu:function(a){this.clearState();l.clear();a=new za(this.cLevel);l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(a)},onEnterFrame:function(a){a=h.Lib.getTimer()-this.lastTime;this.restart.update(a);this.menu.update(a);this.next.update(a);this.lastTime=h.Lib.getTimer()},__class__:na});var Mb=function(){this.initCollisionListenersCollectable();this.initCollisionListenersWater();
this.initCollisionListenersMoveSensor();this.initCollisionListenersSpikes();this.initCollisionListenersButtons();this.initCollisionListenersTeleport()};m.Contacts=Mb;Mb.__name__=["Contacts"];Mb.prototype={opt1:null,opt2:null,initCollisionListenersTeleport:function(){var a=new f.callbacks.OptionType(l.teleportCbt),b=new f.callbacks.OptionType(l.dynamicCbt),d=f.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,
c.util.ZPP_Flags.internal=!1);var k=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);d=new d(k,c.util.ZPP_Flags.InteractionType_SENSOR,a,b,u(this,this.beginCollisionHandlerTeleport));k=f.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_END&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=
!1);var e=c.util.ZPP_Flags.CbEvent_END;null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);a=new k(e,c.util.ZPP_Flags.InteractionType_SENSOR,a,b,u(this,this.endCollisionHandlerTeleport));l.space.zpp_inner.wrap_listeners.add(d);l.space.zpp_inner.wrap_listeners.add(a)},endCollisionHandlerTeleport:function(a){var b;b=E.Boot.__cast(a.zpp_inner.int1.outer_i,f.phys.Body);a=E.Boot.__cast(a.zpp_inner.int2.outer_i,
f.phys.Body);null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});var d;(d="teleportOne"==b.zpp_inner_i.userData.act.formType)||(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),d="teleportSecond"==b.zpp_inner_i.userData.act.formType);d?(null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData={}),a.zpp_inner_i.userData.act.teleportEnabled&&(null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData={}),a.zpp_inner_i.userData.act.teleportEnabled=!1)):(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData=
{}),b.zpp_inner_i.userData.act.teleportEnabled&&(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),b.zpp_inner_i.userData.act.teleportEnabled=!0))},beginCollisionHandlerTeleport:function(a){var b;b=E.Boot.__cast(a.zpp_inner.int1.outer_i,f.phys.Body);var d;d=E.Boot.__cast(a.zpp_inner.int2.outer_i,f.phys.Body);null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});(a="teleportOne"==b.zpp_inner_i.userData.act.formType)||(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),a="teleportSecond"==
b.zpp_inner_i.userData.act.formType);if(a){if(null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),!d.zpp_inner_i.userData.act.teleportEnabled){null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});"teleportSecond"==b.zpp_inner_i.userData.act.formType?(null==d.zpp_inner.wrap_pos&&d.zpp_inner.setupPosition(),a=d.zpp_inner.wrap_pos.get_y(),null==b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition(),a=0<a-b.zpp_inner.wrap_pos.get_y()?new f.geom.Vec2(0,-100):new f.geom.Vec2(0,100)):a=new f.geom.Vec2(0,
100);if(null==(null==d.zpp_inner.compound?null:d.zpp_inner.compound.outer)){if(d.zpp_inner.world)throw"Error: Space::world is immutable";if(0!=d.zpp_inner.angvel){if(d.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: A static object cannot be given a velocity";d.zpp_inner.angvel=0;d.zpp_inner.wake()}d.zpp_inner.angvel;a=a.rotate(E.Boot.__cast(function(a){null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});return b.zpp_inner_i.userData}(this).act.secondTeleport,T)._body.zpp_inner.rot+
Math.PI);null==d.zpp_inner.wrap_pos&&d.zpp_inner.setupPosition();d.zpp_inner.wrap_pos.set(E.Boot.__cast(function(a){null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});return b.zpp_inner_i.userData}(this).act.secondTeleport,T)._body.get_position());null==d.zpp_inner.wrap_vel&&d.zpp_inner.setupVelocity();d.zpp_inner.wrap_vel.set(a)}else{null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});var k=b.zpp_inner_i.userData.act.secondTeleport._body.position.sub(function(a){null==b.zpp_inner.wrap_pos&&
b.zpp_inner.setupPosition();return b.zpp_inner.wrap_pos}(this));k.set_x(function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.x}(this)+80*Math.cos(E.Boot.__cast(function(a){null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});return b.zpp_inner_i.userData}(this).act.secondTeleport,T)._body.zpp_inner.rot+Math.PI/2));k.set_y(function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
k.zpp_inner.validate();return k.zpp_inner.y}(this)-80*Math.sin(E.Boot.__cast(function(a){null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});return b.zpp_inner_i.userData}(this).act.secondTeleport,T)._body.zpp_inner.rot+Math.PI/2));(null==d.zpp_inner.compound?null:d.zpp_inner.compound.outer).translate(k)}null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});d.zpp_inner_i.userData.act.teleportEnabled=!0}}else if(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),!b.zpp_inner_i.userData.act.teleportEnabled){null==
b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition();b.zpp_inner.wrap_pos.set(E.Boot.__cast(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).act,T).secondTeleport._body.get_position());null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});"teleportSecond"==d.zpp_inner_i.userData.act.formType?(null==b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition(),a=b.zpp_inner.wrap_pos.get_y(),null==d.zpp_inner.wrap_pos&&d.zpp_inner.setupPosition(),a=0<a-
d.zpp_inner.wrap_pos.get_y()?new f.geom.Vec2(0,-100):new f.geom.Vec2(0,100)):a=new f.geom.Vec2(0,100);if(null==(null==b.zpp_inner.compound?null:b.zpp_inner.compound.outer)){if(d.zpp_inner.world)throw"Error: Space::world is immutable";if(0!=d.zpp_inner.angvel){if(d.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: A static object cannot be given a velocity";d.zpp_inner.angvel=0;d.zpp_inner.wake()}d.zpp_inner.angvel;a=a.rotate(E.Boot.__cast(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData=
{});return d.zpp_inner_i.userData}(this).act.secondTeleport,T)._body.zpp_inner.rot+Math.PI);null==b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition();b.zpp_inner.wrap_pos.set(E.Boot.__cast(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).act.secondTeleport,T)._body.get_position());null==b.zpp_inner.wrap_vel&&b.zpp_inner.setupVelocity();b.zpp_inner.wrap_vel.set(a)}else{null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});var e=d.zpp_inner_i.userData.act.secondTeleport._body.position.sub(function(a){null==
d.zpp_inner.wrap_pos&&d.zpp_inner.setupPosition();return d.zpp_inner.wrap_pos}(this));e.set_x(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)+80*Math.cos(E.Boot.__cast(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).act.secondTeleport,T)._body.zpp_inner.rot+Math.PI/2));e.set_y(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.y}(this)-80*Math.sin(E.Boot.__cast(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).act.secondTeleport,T)._body.zpp_inner.rot+Math.PI/2));(null==b.zpp_inner.compound?null:b.zpp_inner.compound.outer).translate(e)}null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});b.zpp_inner_i.userData.act.teleportEnabled=!0}},initCollisionListenersCollectable:function(){var a=new f.callbacks.OptionType(l.starCbt),
b=new f.callbacks.OptionType(l.pigCbt),d=f.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);var k=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);a=new d(k,c.util.ZPP_Flags.InteractionType_SENSOR,a,b,u(this,
this.beginCollisionHandlerCollect));l.space.zpp_inner.wrap_listeners.add(a)},beginCollisionHandlerCollect:function(a){var b;b=E.Boot.__cast(a.zpp_inner.int1.outer_i,f.phys.Body);var d;d=E.Boot.__cast(a.zpp_inner.int2.outer_i,f.phys.Body);null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});"star"==b.zpp_inner_i.userData.act.formType?(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),0==b.zpp_inner_i.userData.act.deleted&&(l.playMp3("star"),l.actorForDelete.push(function(a){null==b.zpp_inner_i.userData&&
(b.zpp_inner_i.userData={});return b.zpp_inner_i.userData}(this).act),null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),b.zpp_inner_i.userData.act.deleted=!0,v.Log.trace("star 0",{fileName:"Contacts.hx",lineNumber:203,className:"Contacts",methodName:"beginCollisionHandlerCollect"}))):(null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),0==d.zpp_inner_i.userData.act.deleted&&(l.actorForDelete.push(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).act),
null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),d.zpp_inner_i.userData.act.deleted=!0))},initCollisionListenersWater:function(){var a=new f.callbacks.OptionType(l.waterCbt),b=new f.callbacks.OptionType(l.pigCbt),d=f.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);var k=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);a=new d(k,c.util.ZPP_Flags.InteractionType_SENSOR,a,b,u(this,this.beginCollisionHandlerWater));l.space.zpp_inner.wrap_listeners.add(a)},beginCollisionHandlerWater:function(a){var b;b=E.Boot.__cast(a.zpp_inner.int1.outer_i,f.phys.Body);var d;d=E.Boot.__cast(a.zpp_inner.int2.outer_i,f.phys.Body);l.playMp3("splash");null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});if("pig"==d.zpp_inner_i.userData.act.formType&&
"started"==l.levelState)null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),0==b.zpp_inner_i.userData.act.dirty&&(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),b.zpp_inner_i.userData.act.dirty=!0,this.checkArrow(function(a){null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});return b.zpp_inner_i.userData}(this).act),a=l.splash,a.set_x(H["int"](function(a){null==b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition();return b.zpp_inner.wrap_pos}(this).get_x())+10),a.set_y(H["int"](function(a){null==
b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition();return b.zpp_inner.wrap_pos}(this).get_y())-30),a.set_rotation(b.zpp_inner.rot),a.set_visible(!0),v.Log.trace("pig pig pig 1 2 3",{fileName:"Contacts.hx",lineNumber:250,className:"Contacts",methodName:"beginCollisionHandlerWater"}),a.showBehavior("enable"),v.Log.trace(function(a){null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});return b.zpp_inner_i.userData}(this).act.formType,{fileName:"Contacts.hx",lineNumber:253,className:"Contacts",methodName:"beginCollisionHandlerWater"}),
null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),b.zpp_inner_i.userData.anim.showBehavior("splash"),E.Boot.__cast(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).act,T).dirtyHero(),l.animationArray.push(a),l.levelState="prefinished");else{null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});if(a=0==d.zpp_inner_i.userData.act.dirty&&"started"==l.levelState)null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),a=0==d.zpp_inner_i.userData.act.dirty;
a&&(null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),d.zpp_inner_i.userData.act.dirty=!0,this.checkArrow(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).act),a=l.splash,a.set_x(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).anim.x+10),a.set_y(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).anim.y-30),a.set_rotation(function(a){null==
d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).anim.rotation),a.set_visible(!0),null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),d.zpp_inner_i.userData.anim.showBehavior("splash"),E.Boot.__cast(function(a){null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});return b.zpp_inner_i.userData}(this).act,T).dirtyHero(),a.showBehavior("enable"),l.animationArray.push(a),l.levelState="prefinished")}},checkArrow:function(a){switch(a.hideType){case "hide":l.arrowCounter==
a.hideRefference&&(null!=a.arrowRefference?E.Boot.__cast(a.arrowRefference,ia).anim.set_visible(!1):(a.arrowRefference=l.arrowArray[a.hideRefference-1],a.arrowRefference.anim.set_visible(!1)),a.hideType="none",l.arrowCounter++);break;case "view":l.arrowCounter==a.hideRefference&&(null!=a.arrowRefference?E.Boot.__cast(a.arrowRefference,ia).anim.set_visible(!0):(a.arrowRefference=l.arrowArray[a.hideRefference-1],a.arrowRefference.anim.set_visible(!0)),a.hideType="none",l.arrowCounter++);break;default:v.Log.trace("nothing to act",
{fileName:"Contacts.hx",lineNumber:330,className:"Contacts",methodName:"checkArrow"})}},initCollisionListenersMoveSensor:function(){var a=new f.callbacks.OptionType(l.sensorCbt),b=new f.callbacks.OptionType([l.kinematicCbt,l.pigCbt,l.waterCbt]),d=f.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);var k=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_SENSOR&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);d=new d(k,c.util.ZPP_Flags.InteractionType_SENSOR,a,b,u(this,this.beginCollisionHandlerMoveSensor));k=f.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_END&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);var e=c.util.ZPP_Flags.CbEvent_END;null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);a=new k(e,c.util.ZPP_Flags.InteractionType_SENSOR,a,b,u(this,this.endCollisionHandlerMoveSensor));l.space.zpp_inner.wrap_listeners.add(d);l.space.zpp_inner.wrap_listeners.add(a)},endCollisionHandlerMoveSensor:function(a){},beginCollisionHandlerMoveSensor:function(a){var b;b=E.Boot.__cast(a.zpp_inner.int1.outer_i,f.phys.Body);var d;d=E.Boot.__cast(a.zpp_inner.int2.outer_i,f.phys.Body);null==d.zpp_inner_i.userData&&
(d.zpp_inner_i.userData={});if("sensor"==d.zpp_inner_i.userData.act.formType){if(this.checkArrow(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).act),null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),"move"==b.zpp_inner_i.userData.act._refType){null==b.zpp_inner.wrap_vel&&b.zpp_inner.setupVelocity();b.zpp_inner.wrap_vel.setxy(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).act.velX,
function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).act.velY);null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});a=b.zpp_inner_i.userData.act;null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});a.velX=d.zpp_inner_i.userData.act.velX;null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});a=b.zpp_inner_i.userData.act;null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});a.velY=d.zpp_inner_i.userData.act.velY;null==b.zpp_inner_i.userData&&
(b.zpp_inner_i.userData={});if(a=0==b.zpp_inner_i.userData.act.velX)null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),a=0==b.zpp_inner_i.userData.act.velY;a&&(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),b.zpp_inner_i.userData.act._moveDisabaled=!0)}}else if(this.checkArrow(function(a){null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});return b.zpp_inner_i.userData}(this).act),null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),"move"==d.zpp_inner_i.userData.act._refType){null==
d.zpp_inner.wrap_vel&&d.zpp_inner.setupVelocity();d.zpp_inner.wrap_vel.setxy(function(a){null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});return b.zpp_inner_i.userData}(this).act.velX,function(a){null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});return b.zpp_inner_i.userData}(this).act.velY);null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});a=d.zpp_inner_i.userData.act;null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});a.velX=b.zpp_inner_i.userData.act.velX;null==d.zpp_inner_i.userData&&
(d.zpp_inner_i.userData={});a=d.zpp_inner_i.userData.act;null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});a.velY=b.zpp_inner_i.userData.act.velY;null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});if(a=0==d.zpp_inner_i.userData.act.velY)null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),a=0==d.zpp_inner_i.userData.act.velX;a&&(null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),d.zpp_inner_i.userData.act._moveDisabaled=!0)}a=null;null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData=
{});if("knife"==b.zpp_inner_i.userData.act.spriteType){a=l.space.bodiesUnderPoint(new f.geom.Vec2(function(a){null==d.zpp_inner.wrap_pos&&d.zpp_inner.setupPosition();return d.zpp_inner.wrap_pos}(this).get_x(),function(a){null==d.zpp_inner.wrap_pos&&d.zpp_inner.setupPosition();return d.zpp_inner.wrap_pos}(this).get_y()));v.Log.trace(a.get_length(),{fileName:"Contacts.hx",lineNumber:405,className:"Contacts",methodName:"beginCollisionHandlerMoveSensor"});for(var c=0,e=a.get_length();c<e;){var g=c++;
"ice"==a.at(g).get_userData().act._type&&0==a.at(g).get_userData().act._deleted&&(l.actorForDelete.push(a.at(g).get_userData().act),a.at(g).get_userData().act._deleted=!0)}}else if(null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),"knife"==d.zpp_inner_i.userData.act.spriteType)for(a=l.space.bodiesUnderPoint(new f.geom.Vec2(function(a){null==b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition();return b.zpp_inner.wrap_pos}(this).get_x(),function(a){null==b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition();
return b.zpp_inner.wrap_pos}(this).get_y())),v.Log.trace(a.get_length(),{fileName:"Contacts.hx",lineNumber:420,className:"Contacts",methodName:"beginCollisionHandlerMoveSensor"}),c=0,e=a.get_length();c<e;)g=c++,"ice"==a.at(g).get_userData().act._type&&0==a.at(g).get_userData().act._deleted&&(l.actorForDelete.push(a.at(g).get_userData().act),a.at(g).get_userData().act._deleted=!0)},initCollisionListenersSpikes:function(){var a=new f.callbacks.OptionType(l.pigCbt),b=new f.callbacks.OptionType(l.spikeCbt),
d=f.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);var k=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);a=new d(k,c.util.ZPP_Flags.InteractionType_SENSOR,a,b,u(this,this.beginCollisionHandlerSpikes));l.space.zpp_inner.wrap_listeners.add(a)},
beginCollisionHandlerSpikes:function(a){var b;b=E.Boot.__cast(a.zpp_inner.int1.outer_i,f.phys.Body);var d;d=E.Boot.__cast(a.zpp_inner.int2.outer_i,f.phys.Body);null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});if("spike"==b.zpp_inner_i.userData.act.formType){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});if(a=0==d.zpp_inner_i.userData.act._deleted)if(null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),a="pig"==d.zpp_inner_i.userData.act.formType)if(a="prefailed"!=l.levelState||
"failed"!=l.levelState)null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),a=0==d.zpp_inner_i.userData.act._deleted;a&&(l.levelState="prefailed",null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={}),d.zpp_inner_i.userData.act._deleted=!0,E.Boot.__cast(function(a){null==d.zpp_inner_i.userData&&(d.zpp_inner_i.userData={});return d.zpp_inner_i.userData}(this).act,T).failHero())}else{null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});if(a=0==b.zpp_inner_i.userData.act._deleted)if(null==
b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),a="pig"==b.zpp_inner_i.userData.act.formType)if(a="prefailed"!=l.levelState||"failed"!=l.levelState)null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),a=0==b.zpp_inner_i.userData.act._deleted;a&&(l.levelState="prefailed",null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),b.zpp_inner_i.userData.act._deleted=!0,E.Boot.__cast(function(a){null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});return b.zpp_inner_i.userData}(this).act,
T).failHero())}},initCollisionListenersButtons:function(){var a=new f.callbacks.OptionType([l.dynamicCbt,l.kinematicCbt]),b=new f.callbacks.OptionType(l.buttonCbt),d=f.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_ONGOING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_ONGOING=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);var k=c.util.ZPP_Flags.CbEvent_ONGOING;null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=
new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);d=new d(k,c.util.ZPP_Flags.InteractionType_SENSOR,a,b,u(this,this.ongoingCollisionHandlerButtons));k=f.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_END&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);var e=c.util.ZPP_Flags.CbEvent_END;null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,
c.util.ZPP_Flags.internal=!1);k=new k(e,c.util.ZPP_Flags.InteractionType_SENSOR,a,b,u(this,this.endCollisionHandlerButtons));e=f.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);var g=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=
!1);a=new e(g,c.util.ZPP_Flags.InteractionType_SENSOR,a,b,u(this,this.beginCollisionHandlerButtons));l.space.zpp_inner.wrap_listeners.add(d);l.space.zpp_inner.wrap_listeners.add(k);l.space.zpp_inner.wrap_listeners.add(a)},beginCollisionHandlerButtons:function(a){var b;b=E.Boot.__cast(a.zpp_inner.int1.outer_i,f.phys.Body);a=E.Boot.__cast(a.zpp_inner.int2.outer_i,f.phys.Body);null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});var d=b.zpp_inner_i.userData.act._buttonNode;null==a.zpp_inner_i.userData&&
(a.zpp_inner_i.userData={});if(d=d!=a.zpp_inner_i.userData.act)null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData={}),d=a.zpp_inner_i.userData.act._buttonNode,null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),d=d!=b.zpp_inner_i.userData.act;d&&(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),"button"==b.zpp_inner_i.userData.act.formType?(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),b.zpp_inner_i.userData.act._isContact=!0,null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData=
{}),b.zpp_inner_i.userData.act._contactCounter++):(null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData={}),a.zpp_inner_i.userData.act._isContact=!0,null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData={}),a.zpp_inner_i.userData.act._contactCounter++))},endCollisionHandlerButtons:function(a){var b;b=E.Boot.__cast(a.zpp_inner.int1.outer_i,f.phys.Body);a=E.Boot.__cast(a.zpp_inner.int2.outer_i,f.phys.Body);null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});var d=b.zpp_inner_i.userData.act._buttonNode;
null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData={});if(d=d!=a.zpp_inner_i.userData.act)null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData={}),d=a.zpp_inner_i.userData.act._buttonNode,null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),d=d!=b.zpp_inner_i.userData.act;d&&(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),"button"==b.zpp_inner_i.userData.act.formType?(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),b.zpp_inner_i.userData.act._contactCounter--,null==b.zpp_inner_i.userData&&
(b.zpp_inner_i.userData={}),0>=b.zpp_inner_i.userData.act._contactCounter&&(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),b.zpp_inner_i.userData.act._isContact=!1,null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),b.zpp_inner_i.userData.anim.showBehavior("disable"))):(null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData={}),a.zpp_inner_i.userData.act._contactCounter--,null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData={}),0>=a.zpp_inner_i.userData.act._contactCounter&&(null==
a.zpp_inner_i.userData&&(a.zpp_inner_i.userData={}),a.zpp_inner_i.userData.act._isContact=!1,null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData={}),a.zpp_inner_i.userData.anim.showBehavior("disable"))))},ongoingCollisionHandlerButtons:function(a){var b;b=E.Boot.__cast(a.zpp_inner.int1.outer_i,f.phys.Body);a=E.Boot.__cast(a.zpp_inner.int2.outer_i,f.phys.Body);null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});var d=b.zpp_inner_i.userData.act._buttonNode;null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData=
{});if(d=d!=a.zpp_inner_i.userData.act)null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData={}),d=a.zpp_inner_i.userData.act._buttonNode,null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),d=d!=b.zpp_inner_i.userData.act;d&&(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),"button"==b.zpp_inner_i.userData.act.formType?(null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={}),b.zpp_inner_i.userData.anim.showBehavior("enable")):(null==a.zpp_inner_i.userData&&(a.zpp_inner_i.userData=
{}),a.zpp_inner_i.userData.anim.showBehavior("enable")))},__class__:Mb};var Ka=function(a,b,d,c,e){this.blockArray=[];this.blockInited=!1;this.colorRay=this.distance=0;this.type="none";this.rayAngle=this.rayAngleInitial=0;this.rayMCEnd=l.initSprite("lapkaDuck");this.rayMC2=new h.display.Sprite;this.rayMC=new h.display.Sprite;this.filt=new f.dynamics.InteractionFilter;this.rayFinalPoint=new f.geom.Vec2(0,0);this.rayInitialPoint=new f.geom.Vec2(0,0);this.rayPointStat=new f.geom.Vec2(28,0);this.rayPoint=
new f.geom.Vec2(0,0);this.jointLaserBodyInited=!1;h.display.Sprite.call(this);this.distance=e;this.type=c;this.filt.set_collisionGroup(16);switch(this.type){case "creator":this.colorRay=8022881}this.addChild(this.rayMC);this.addChild(this.rayMCEnd);null==a.zpp_inner.wrap_pos&&a.zpp_inner.setupPosition();this.rayCurrentPoint=a.zpp_inner.wrap_pos;this.rayAngleInitial=d;this.rayBody=a;this.rayAngle=this.rayBody.zpp_inner.rot;this._rayOffSet=this.p=b};m.Creator=Ka;Ka.__name__=["Creator"];Ka.__super__=
h.display.Sprite;Ka.prototype=F(h.display.Sprite.prototype,{polyList:null,gPoly:null,jointLaserActor:null,jointLaserBodyInited:null,jointLaser:null,rayPoint:null,rayPointStat:null,rayInitialPoint:null,rayFinalPoint:null,filt:null,rayMC:null,rayMC2:null,rayMCEnd:null,rayAngle:null,rayAngleInitial:null,ray:null,rayCurrentPoint:null,rayOffSet:null,_rayOffSet:null,p:null,rayBody:null,type:null,colorRay:null,distance:null,rayStaticCurrent:null,blockInited:null,currentBlock:null,blockArray:null,update:function(a){if(!this.blockInited){var b,
d;a=new f.geom.Vec2(0,0);var c=new f.geom.Vec2(0,0);a.set_x(this._rayOffSet.get_x());a.set_y(this._rayOffSet.get_y());this.rayOffSet=a.rotate(this.rayBody.zpp_inner.rot-Math.PI/2+this.rayAngleInitial);c.setxy(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this)-this.rayBody.get_position().get_x(),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();
return c.zpp_inner.y}(this)-this.rayBody.get_position().get_y());a=f.geom.Vec2.fromPolar(1,this.rayBody.zpp_inner.rot-Math.PI/2+this.rayAngleInitial);this.ray=new f.geom.Ray(new f.geom.Vec2(this.rayBody.get_position().get_x()-this.rayOffSet.get_x(),this.rayBody.get_position().get_y()-this.rayOffSet.get_y()),a);this.ray.set_maxDistance(this.distance);d=l.space.rayCast(this.ray,!1,this.filt);this.rayCurrentPoint=b=null!=d?this.ray.at(function(a){if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
return d.zpp_inner.toiDistance}(this)):this.ray.at(this.ray.zpp_inner.maxdist);this.rayInitialPoint=new f.geom.Vec2(this.rayBody.get_position().get_x()-this.rayOffSet.get_x(),this.rayBody.get_position().get_y()-this.rayOffSet.get_y());this.rayPoint=f.geom.Vec2.fromPolar(24,this.rayBody.zpp_inner.rot-Math.PI/2+this.rayAngleInitial);this.rayFinalPoint.set_x(H["int"](this.rayInitialPoint.get_x()+this.rayPoint.get_x()));this.rayFinalPoint.set_y(H["int"](this.rayInitialPoint.get_y()+this.rayPoint.get_y()));
this.rayMC.get_graphics().clear();this.rayMC.get_graphics().lineStyle(4,8022881,1,!1);this.rayMC.get_graphics().moveTo(this.rayFinalPoint.get_x(),this.rayFinalPoint.get_y());this.rayMC.get_graphics().lineTo(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this));this.rayMC2.get_graphics().clear();
this.rayMC2.get_graphics().lineStyle(3,8022881,1,!1);this.rayMC2.get_graphics().moveTo(this.rayFinalPoint.get_x(),this.rayFinalPoint.get_y());this.rayMC2.get_graphics().lineTo(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this));if(null==d)this.rayMCEnd.set_x(function(a){if(null!=
b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)),this.rayMCEnd.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)),this.rayMCEnd.set_rotation(180*(this.rayBody.zpp_inner.rot+Math.PI/2+this.rayAngleInitial)/Math.PI);else{if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";switch(d.zpp_inner.shape.get_body().get_userData().act.rayType){case "pass":break;
default:this.rayMCEnd.set_x(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this));this.rayMCEnd.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this));this.rayMCEnd.set_rotation(180*(this.rayBody.zpp_inner.rot+Math.PI/2+this.rayAngleInitial)/Math.PI);if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
if(!d.zpp_inner.shape.get_body().isDynamic()&&!this.blockInited){a=(new f.geom.Vec2(0,-3)).rotate(this.rayBody.zpp_inner.rot+Math.PI/2);var e=(new f.geom.Vec2(0,3)).rotate(this.rayBody.zpp_inner.rot+Math.PI/2),g=f.geom.Vec2,p=this.rayFinalPoint.get_x();if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();var p=p+a.zpp_inner.x,x=this.rayFinalPoint.get_y();if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();
g=new g(p,x+a.zpp_inner.y);p=f.geom.Vec2;x=this.rayFinalPoint.get_x();if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();var x=x+e.zpp_inner.x,B=this.rayFinalPoint.get_y();if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();p=new p(x,B+e.zpp_inner.y);x=f.geom.Vec2;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();B=b.zpp_inner.x;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();B+=e.zpp_inner.x;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();var h=b.zpp_inner.y;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();e=new x(B,h+e.zpp_inner.y);x=f.geom.Vec2;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();B=b.zpp_inner.x;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();B+=a.zpp_inner.x;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();h=b.zpp_inner.y;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();a=new x(B,h+a.zpp_inner.y);l.creatorArray.push([[g,p,e,a],this]);this.blockInited=!0}}}}},preRemoveCreator:function(){for(var a=0,b=this.blockArray.length;a<b;){var d=a++,d=this.blockArray[d];0==d._deleted&&(l.actorForDelete.push(d),d._deleted=
!0)}},clear:function(){this.removeChild(this.rayMC);this.removeChild(this.rayMCEnd);this.rayMCEnd=this.rayMC=null},__class__:Ka});h.AssetLibrary=function(){};m["openfl.AssetLibrary"]=h.AssetLibrary;h.AssetLibrary.__name__=["openfl","AssetLibrary"];h.AssetLibrary.prototype={exists:function(a,b){return!1},getBitmapData:function(a){return null},getBytes:function(a){return null},getText:function(a){return null},getFont:function(a){return null},getMovieClip:function(a){return null},getMusic:function(a){return this.getSound(a)},
getPath:function(a){return null},getSound:function(a){return null},isLocal:function(a,b){return!0},list:function(a){return null},load:function(a){a(this)},loadBitmapData:function(a,b){b(this.getBitmapData(a))},loadBytes:function(a,b){b(this.getBytes(a))},loadText:function(a,b){b(this.getText(a))},loadFont:function(a,b){b(this.getFont(a))},loadMovieClip:function(a,b){b(this.getMovieClip(a))},loadMusic:function(a,b){b(this.getMusic(a))},loadSound:function(a,b){b(this.getSound(a))},__class__:h.AssetLibrary};
var Sb=function(){this.type=new v.ds.StringMap;this.path=new v.ds.StringMap;this.className=new v.ds.StringMap;h.AssetLibrary.call(this);this.add("img/game/blueArrowButton.png",h.AssetType.IMAGE);this.add("img/game/blueButton.png",h.AssetType.IMAGE);this.add("img/game/blueClickButton.png",h.AssetType.IMAGE);this.add("img/game/blueClickButton2.png",h.AssetType.IMAGE);this.add("img/game/bomb.png",h.AssetType.IMAGE);this.add("img/game/gravibox.png",h.AssetType.IMAGE);this.add("img/game/greenButton.png",
h.AssetType.IMAGE);this.add("img/game/greenGraviButton.png",h.AssetType.IMAGE);this.add("img/game/ice11.png",h.AssetType.IMAGE);this.add("img/game/ice12.png",h.AssetType.IMAGE);this.add("img/game/ice14.png",h.AssetType.IMAGE);this.add("img/game/knife.png",h.AssetType.IMAGE);this.add("img/game/koruto.png",h.AssetType.IMAGE);this.add("img/game/lapka2.png",h.AssetType.IMAGE);this.add("img/game/lapkaDuck.png",h.AssetType.IMAGE);this.add("img/game/lapkaPig.png",h.AssetType.IMAGE);this.add("img/game/node.png",
h.AssetType.IMAGE);this.add("img/game/pause.png",h.AssetType.IMAGE);this.add("img/game/redArrowButton.png",h.AssetType.IMAGE);this.add("img/game/redButton.png",h.AssetType.IMAGE);this.add("img/game/redClickButton.png",h.AssetType.IMAGE);this.add("img/game/redClickButton1.png",h.AssetType.IMAGE);this.add("img/game/reflex11.png",h.AssetType.IMAGE);this.add("img/game/reflex12.png",h.AssetType.IMAGE);this.add("img/game/reflex12_move.png",h.AssetType.IMAGE);this.add("img/game/rotate.png",h.AssetType.IMAGE);
this.add("img/game/sensor.png",h.AssetType.IMAGE);this.add("img/game/spike11.png",h.AssetType.IMAGE);this.add("img/game/spike12.png",h.AssetType.IMAGE);this.add("img/game/spike14.png",h.AssetType.IMAGE);this.add("img/game/splash2.png",h.AssetType.IMAGE);this.add("img/game/star.png",h.AssetType.IMAGE);this.add("img/game/steel11.png",h.AssetType.IMAGE);this.add("img/game/steel11_move.png",h.AssetType.IMAGE);this.add("img/game/steel12.png",h.AssetType.IMAGE);this.add("img/game/steel12_move.png",h.AssetType.IMAGE);
this.add("img/game/steel13.png",h.AssetType.IMAGE);this.add("img/game/steel13_move.png",h.AssetType.IMAGE);this.add("img/game/steel14.png",h.AssetType.IMAGE);this.add("img/game/steel18.png",h.AssetType.IMAGE);this.add("img/game/steelBottom.png",h.AssetType.IMAGE);this.add("img/game/stone.png",h.AssetType.IMAGE);this.add("img/game/teleportOne.png",h.AssetType.IMAGE);this.add("img/game/teleportSecond.png",h.AssetType.IMAGE);this.add("img/game/water.png",h.AssetType.IMAGE);this.add("img/game/wood11.png",
h.AssetType.IMAGE);this.add("img/game/wood12.png",h.AssetType.IMAGE);this.add("img/game/wood13.png",h.AssetType.IMAGE);this.add("img/game/wood14_2.png",h.AssetType.IMAGE);this.add("img/game/wood18.png",h.AssetType.IMAGE);this.add("img/game/woodCircle.png",h.AssetType.IMAGE);this.add("img/game/woodCircle2.png",h.AssetType.IMAGE);this.add("img/game/wood_block18.png",h.AssetType.IMAGE);this.add("img/menu/audio.png",h.AssetType.IMAGE);this.add("img/menu/levels.png",h.AssetType.IMAGE);this.add("img/menu/logo.png",
h.AssetType.IMAGE);this.add("img/menu/menu.png",h.AssetType.IMAGE);this.add("img/menu/play.png",h.AssetType.IMAGE);this.add("img/play/ba1.png",h.AssetType.IMAGE);this.add("img/play/ba10.png",h.AssetType.IMAGE);this.add("img/play/ba11.png",h.AssetType.IMAGE);this.add("img/play/ba12.png",h.AssetType.IMAGE);this.add("img/play/ba13.png",h.AssetType.IMAGE);this.add("img/play/ba14.png",h.AssetType.IMAGE);this.add("img/play/ba15.png",h.AssetType.IMAGE);this.add("img/play/ba16.png",h.AssetType.IMAGE);this.add("img/play/ba17.png",
h.AssetType.IMAGE);this.add("img/play/ba18.png",h.AssetType.IMAGE);this.add("img/play/ba19.png",h.AssetType.IMAGE);this.add("img/play/ba2.png",h.AssetType.IMAGE);this.add("img/play/ba20.png",h.AssetType.IMAGE);this.add("img/play/ba3.png",h.AssetType.IMAGE);this.add("img/play/ba4.png",h.AssetType.IMAGE);this.add("img/play/ba5.png",h.AssetType.IMAGE);this.add("img/play/ba6.png",h.AssetType.IMAGE);this.add("img/play/ba7.png",h.AssetType.IMAGE);this.add("img/play/ba8.png",h.AssetType.IMAGE);this.add("img/play/ba9.png",
h.AssetType.IMAGE);this.add("img/play/back1.png",h.AssetType.IMAGE);this.add("img/play/bottomBack.png",h.AssetType.IMAGE);this.add("img/play/iconsBack.png",h.AssetType.IMAGE);this.add("img/play/kiziLogo.png",h.AssetType.IMAGE);this.add("img/play/levelMini.png",h.AssetType.IMAGE);this.add("img/play/menuMini.png",h.AssetType.IMAGE);this.add("img/play/restartMini.png",h.AssetType.IMAGE);this.add("img/play/restartMini1.png",h.AssetType.IMAGE);this.add("img/play/restartMini2.png",h.AssetType.IMAGE);this.add("img/play/solMini.png",
h.AssetType.IMAGE);this.add("img/play/soundMini.png",h.AssetType.IMAGE);this.add("img/ui/gameCompleted.png",h.AssetType.IMAGE);this.add("img/ui/icon.png",h.AssetType.IMAGE);this.add("img/ui/iconsBack.png",h.AssetType.IMAGE);this.add("img/ui/levelCompleted.png",h.AssetType.IMAGE);this.add("img/ui/levelFailed.png",h.AssetType.IMAGE);this.add("img/ui/menuMaxi.png",h.AssetType.IMAGE);this.add("img/ui/menuMaxi1.png",h.AssetType.IMAGE);this.add("img/ui/menuMaxi2.png",h.AssetType.IMAGE);this.add("img/ui/nextMaxi.png",
h.AssetType.IMAGE);this.add("img/ui/nextMaxi1.png",h.AssetType.IMAGE);this.add("img/ui/nextMaxi2.png",h.AssetType.IMAGE);this.add("img/ui/restartMaxi.png",h.AssetType.IMAGE);this.add("img/ui/restartMaxi1.png",h.AssetType.IMAGE);this.add("img/ui/restartMaxi2.png",h.AssetType.IMAGE);this.add("img/ui/solutionMaxi.png",h.AssetType.IMAGE);this.add("json/acIconsAnimation.png",h.AssetType.IMAGE);this.add("json/acornsAnimation.png",h.AssetType.IMAGE);this.add("json/attractionAnimation.png",h.AssetType.IMAGE);
this.add("json/boomAnimation.png",h.AssetType.IMAGE);this.add("json/complAcornAnimation.png",h.AssetType.IMAGE);this.add("json/creatorAnimation.png",h.AssetType.IMAGE);this.add("json/handAnimation.png",h.AssetType.IMAGE);this.add("json/hookAnimation.png",h.AssetType.IMAGE);this.add("json/ice11Animation.png",h.AssetType.IMAGE);this.add("json/ice12Animation.png",h.AssetType.IMAGE);this.add("json/ice14Animation.png",h.AssetType.IMAGE);this.add("json/killerAnimation.png",h.AssetType.IMAGE);this.add("json/killerAnimation2.png",
h.AssetType.IMAGE);this.add("json/lIconsAnimation.png",h.AssetType.IMAGE);this.add("json/pigAnimation.png",h.AssetType.IMAGE);this.add("json/repulsion2Animation.png",h.AssetType.IMAGE);this.add("json/repulsionAnimation.png",h.AssetType.IMAGE);this.add("json/splashAnimation.png",h.AssetType.IMAGE);this.add("json/starAnimation.png",h.AssetType.IMAGE);this.add("fonts/GROBOLD.ttf",h.AssetType.FONT)};m.DefaultAssetLibrary=Sb;Sb.__name__=["DefaultAssetLibrary"];Sb.__super__=h.AssetLibrary;Sb.prototype=
F(h.AssetLibrary.prototype,{className:null,path:null,type:null,lastModified:null,timer:null,add:function(a,b,d){this.type.set(a,b);this.path.set(a,null!=d?d:a)},getPath:function(a){return this.path.get(a)},exists:function(a,b){var d=this.type.get(a);if(null!=d){if(d==b||null==b)return!0;switch(b[1]){case 5:return d==h.AssetType.MUSIC;case 4:return d==h.AssetType.SOUND;case 0:return!0}}return!1},getBitmapData:function(a){a=this.path.get(a);return y.loaders.get(a).contentLoaderInfo.content.bitmapData},
getFont:function(a){return null},getSound:function(a){return new h.media.Sound(new h.net.URLRequest(this.path.get(a)))},getMusic:function(a){return new h.media.Sound(new h.net.URLRequest(this.path.get(a)))},getBytes:function(a){var b=null;a=this.path.get(a);a=y.urlLoaders.get(a).data;"string"==typeof a?(b=new h.utils.ByteArray).writeUTFBytes(a):b=E.Boot.__instanceof(a,h.utils.ByteArray)?a:null;return null!=b?(b.position=0,b):null},getText:function(a){var b=null;a=this.path.get(a);a=y.urlLoaders.get(a).data;
return"string"==typeof a?a:E.Boot.__instanceof(a,h.utils.ByteArray)?(b=a,b.position=0,b.readUTFBytes(b.length)):null},list:function(a){for(var b=[],d=this.type.keys();d.hasNext();){var c=d.next();(null==a||this.exists(c,a))&&b.push(c)}return b},loadBitmapData:function(a,b){if(this.path.exists(a)){var d=new h.display.Loader,c=null,c=function(a){d.contentLoaderInfo.removeEventListener("complete",c);a=a.get_currentTarget().content;b(a.bitmapData);d=c=null};d.addEventListener("complete",c);d.load(new h.net.URLRequest(this.path.get(a)))}else b(this.getBitmapData(a))},
loadFont:function(a,b){b(this.getFont(a))},loadSound:function(a,b){b(this.getSound(a))},loadMusic:function(a,b){b(this.getMusic(a))},loadBytes:function(a,b){if(this.path.exists(a)){var d=new h.net.URLLoader,c=null,c=function(a){d.removeEventListener("complete",c);var g=new h.utils.ByteArray;g.writeUTFBytes(a.get_currentTarget().data);g.position=0;b(g);d=c=null};d.addEventListener("complete",c)}else b(this.getBytes(a))},loadText:function(a,b){if(this.path.exists(a)){var d=new h.net.URLLoader,c=null,
c=function(a){d.removeEventListener("complete",c);b(a.get_currentTarget().data);d=c=null};d.addEventListener("complete",c)}else b(this.getText(a))},__class__:Sb});var ca=function(a,b){b=b.split("u").join("");this.r=new RegExp(a,b)};m.EReg=ca;ca.__name__=["EReg"];ca.prototype={r:null,match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw"EReg::matched";},
__class__:ca};var Tb=function(a){this.lastTime=this.cLevel=0;h.display.Sprite.call(this);this.cLevel=a;this.init()};m.FailedState=Tb;Tb.__name__=["FailedState"];Tb.__super__=h.display.Sprite;Tb.prototype=F(h.display.Sprite.prototype,{mainBackGround:null,next:null,solution:null,restart:null,nextSpriteSheet:null,solutionSpriteSheet:null,restartSpriteSheet:null,playState:null,lastTime:null,cLevel:null,init:function(){var a=new h.display.Bitmap(h.Assets.getBitmapData("img/play/back1.png"));this.addChild(a);
this.mainBackGround=new h.display.Bitmap(h.Assets.getBitmapData("img/ui/levelFailed.png"));this.addChild(this.mainBackGround);this.mainBackGround.set_x(0);this.mainBackGround.set_y(0);this.nextSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/ui/menuMaxi.png"),2,1,73,73);this.nextSpriteSheet.addBehavior(new C.data.BehaviorData("out",[0],!0,30,36,36));this.nextSpriteSheet.addBehavior(new C.data.BehaviorData("over",[1],!1,30,36,36));this.next=new C.AnimatedSprite(this.nextSpriteSheet,
!0);this.addChild(this.next);this.next.showBehavior("out");this.next.set_buttonMode(!0);this.next.addEventListener("mouseOver",u(this,this.overMouse));this.next.addEventListener("mouseOut",u(this,this.outMouse));this.next.addEventListener("mouseDown",u(this,this.goToNext));this.next.set_x(442);this.next.set_y(301.7);this.restartSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/ui/restartMaxi.png"),2,1,73,73);this.restartSpriteSheet.addBehavior(new C.data.BehaviorData("out",
[0],!0,30,36,36));this.restartSpriteSheet.addBehavior(new C.data.BehaviorData("over",[1],!1,30,36,36));this.restart=new C.AnimatedSprite(this.restartSpriteSheet,!0);this.addChild(this.restart);this.restart.showBehavior("out");this.restart.set_buttonMode(!0);this.restart.addEventListener("mouseOver",u(this,this.overMouse));this.restart.addEventListener("mouseOut",u(this,this.outMouse));this.restart.addEventListener("mouseDown",u(this,this.goToRestart));this.restart.set_x(274);this.restart.set_y(301.7)},
goToSolution:function(a){},goToNext:function(a){l.clear();this.clearState();a=new za(this.cLevel);l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(a)},clearState:function(){l.gameSpace.removeEventListener("enterFrame",u(this,this.onEnterFrame));l.clear();l.gameSpace.removeChild(this)},goToRestart:function(a){l.clear();this.clearState();a=new Aa(this.cLevel);l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(a)},overMouse:function(a){a.get_currentTarget().showBehavior("out");
v.Log.trace("overMouse",{fileName:"FailedState.hx",lineNumber:187,className:"FailedState",methodName:"overMouse"})},outMouse:function(a){a.get_currentTarget().showBehavior("over");v.Log.trace("outMouse",{fileName:"FailedState.hx",lineNumber:192,className:"FailedState",methodName:"outMouse"})},goToMenu:function(a){this.clearState();l.clear();this.removeEventListener("enterFrame",u(this,this.onEnterFrame));a=new Aa(l.currentLevel);l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.gameSpace.addChild(a);
l.offsetPage();l.gameSpace.removeChild(this)},onEnterFrame:function(a){a=h.Lib.getTimer()-this.lastTime;this.restart.update(a);this.solution.update(a);this.next.update(a);this.lastTime=h.Lib.getTimer()},__class__:Tb});var qb=function(a,b,d,c,e){this.pigInited=!1;this.colorRay=this.distance=0;this.type="none";this.rayAngle=this.rayAngleInitial=0;this.rayMCEnd=new h.display.Sprite;this.rayMC=new h.display.Sprite;this.filt=new f.dynamics.InteractionFilter;this.rayFinalPoint=new f.geom.Vec2(0,0);this.rayInitialPoint=
new f.geom.Vec2(0,0);this.rayPointStat=new f.geom.Vec2(28,0);this.rayPoint=new f.geom.Vec2(0,0);this.jointLaserBodyInited=!1;h.display.Sprite.call(this);this.distance=e;this.type=c;this.filt.set_collisionGroup(16);this.pigToConnect=l.pig;switch(this.type){case "hook":this.colorRay=15925281}this.addChild(this.rayMC);this.addChild(this.rayMCEnd);null==a.zpp_inner.wrap_pos&&a.zpp_inner.setupPosition();this.rayCurrentPoint=a.zpp_inner.wrap_pos;this.rayAngleInitial=d;this.rayBody=a;this.rayAngle=this.rayBody.zpp_inner.rot;
this._rayOffSet=this.p=b};m.Hook=qb;qb.__name__=["Hook"];qb.__super__=h.display.Sprite;qb.prototype=F(h.display.Sprite.prototype,{polyList:null,gPoly:null,jointLaserActor:null,jointLaserBodyInited:null,jointLaser:null,rayPoint:null,rayPointStat:null,rayInitialPoint:null,rayFinalPoint:null,filt:null,rayMC:null,rayMCEnd:null,rayAngle:null,rayAngleInitial:null,ray:null,rayCurrentPoint:null,rayOffSet:null,_rayOffSet:null,p:null,rayBody:null,type:null,colorRay:null,distance:null,rayStaticCurrent:null,
pigInited:null,distanceJoint:null,pigToConnect:null,update:function(a){a=!0;var b,d,c;c=new f.geom.Vec2(0,0);var e=new f.geom.Vec2(0,0);c.set_x(this._rayOffSet.get_x());c.set_y(this._rayOffSet.get_y());this.rayOffSet=c.rotate(this.rayBody.zpp_inner.rot+Math.PI/2+this.rayAngleInitial);e.setxy(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)-this.rayBody.get_position().get_x(),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.y}(this)-this.rayBody.get_position().get_y());c=f.geom.Vec2.fromPolar(1,this.rayBody.zpp_inner.rot-Math.PI/2+this.rayAngleInitial);this.ray=new f.geom.Ray(new f.geom.Vec2(this.rayBody.get_position().get_x()-this.rayOffSet.get_x(),this.rayBody.get_position().get_y()-this.rayOffSet.get_y()),c);this.ray.set_maxDistance(this.distance);d=l.space.rayCast(this.ray,!1,this.filt);this.rayCurrentPoint=b=null!=d?this.ray.at(function(a){if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
return d.zpp_inner.toiDistance}(this)):this.ray.at(this.ray.zpp_inner.maxdist);this.rayInitialPoint=new f.geom.Vec2(this.rayBody.get_position().get_x()-this.rayOffSet.get_x(),this.rayBody.get_position().get_y()-this.rayOffSet.get_y());a&&(this.rayPoint=f.geom.Vec2.fromPolar(20,this.rayBody.zpp_inner.rot+Math.PI/2+this.rayAngleInitial),this.rayFinalPoint.set_x(this.rayInitialPoint.get_x()+this.rayPoint.get_x()),this.rayFinalPoint.set_y(this.rayInitialPoint.get_y()+this.rayPoint.get_y()),this.rayMC.get_graphics().clear(),
this.rayMC.get_graphics().lineStyle(2,this.colorRay,1,!1),this.rayMC.get_graphics().moveTo(this.rayFinalPoint.get_x(),this.rayFinalPoint.get_y()),this.rayMC.get_graphics().lineTo(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)),this.rayMCEnd.get_graphics().clear(),
this.rayMCEnd.get_graphics().lineStyle(4,this.colorRay,1,!1),this.rayMCEnd.get_graphics().drawCircle(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this),4));if(null==d)a&&this.rayMCEnd.get_graphics().drawCircle(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this),4);else{if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";switch(d.zpp_inner.shape.get_body().get_userData().act.rayType){case "pass":break;default:if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";"pig"==d.zpp_inner.shape.get_body().get_userData().act._type?
(0==this.pigInited?(this.distanceJoint=new f.constraint.DistanceJoint(this.rayBody,this.pigToConnect._body,new f.geom.Vec2(0,0),new f.geom.Vec2(0,0),64,f.geom.Vec2.distance(this.rayBody.get_position(),this.pigToConnect._body.get_position())),this.distanceJoint.set_space(l.space),this.distanceJoint.set_ignore(!0),this.distanceJoint.set_stiff(!0),this.pigInited=!0):this.distanceJoint.zpp_inner_zn.jointMax-4>this.distanceJoint.zpp_inner_zn.jointMin?(c=this.distanceJoint,c.set_jointMax(.98*c.zpp_inner_zn.jointMax)):
this.pigToConnect._body.get_velocity().set(new f.geom.Vec2(0,0)),a&&(this.rayMCEnd.get_graphics().drawCircle(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this),4),this.rayMCEnd.get_graphics().clear(),this.rayMCEnd.get_graphics().lineStyle(4,this.colorRay,1,!1),this.rayMCEnd.get_graphics().drawCircle(function(a){if(null!=
b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this),4),this.rayMC.get_graphics().clear(),this.rayMC.get_graphics().lineStyle(2,this.colorRay,1,!1),this.rayMC.get_graphics().moveTo(this.rayFinalPoint.get_x(),this.rayFinalPoint.get_y()),this.rayMC.get_graphics().lineTo(function(a){if(null!=
b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)))):this.pigInited&&this.preRemoveHook()}}},preRemoveHook:function(){this.distanceJoint.set_space(null);this.distanceJoint=null;this.pigInited=!1},changeType:function(a){this.type=a;switch(this.type){case "hook":this.colorRay=15925281;break;
case "hide":this.rayMC.set_visible(!1);this.rayMCEnd.set_visible(!1);break;case "view":this.rayMC.set_visible(!0),this.rayMCEnd.set_visible(!0)}},hide:function(){this.rayMCEnd.set_visible(!1);this.rayMC.set_visible(!1)},applyImpulses:function(a,b,d,c){},clear:function(){this.removeChild(this.rayMC);this.removeChild(this.rayMCEnd);this.rayMCEnd=this.rayMC=null},__class__:qb});var Q=function(){};m.HxOverrides=Q;Q.__name__=["HxOverrides"];Q.dateStr=function(a){var b=a.getMonth()+1,d=a.getDate(),c=a.getHours(),
e=a.getMinutes(),g=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>d?"0"+d:""+d)+" "+(10>c?"0"+c:""+c)+":"+(10>e?"0"+e:""+e)+":"+(10>g?"0"+g:""+g)};Q.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);
default:throw"Invalid date format : "+a;}};Q.cca=function(a,b){var d=a.charCodeAt(b);return d!=d?void 0:d};Q.substr=function(a,b,d){if(null!=b&&0!=b&&null!=d&&0>d)return"";null==d&&(d=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>d&&(d=a.length+d-b);return a.substr(b,d)};Q.indexOf=function(a,b,d){var c=a.length;0>d&&(d+=c,0>d&&(d=0));for(;d<c;){if(a[d]===b)return d;d++}return-1};Q.remove=function(a,b){var d=Q.indexOf(a,b,0);if(-1==d)return!1;a.splice(d,1);return!0};Q.iter=function(a){return{cur:0,arr:a,
hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Ua=function(){this.lastTime=0;h.display.Sprite.call(this);this.init()};m.IconsState=Ua;Ua.__name__=["IconsState"];Ua.__super__=h.display.Sprite;Ua.prototype=F(h.display.Sprite.prototype,{mainBackGround:null,sound:null,menu:null,icon:null,starIcon:null,iconText:null,logo:null,soundSpriteSheet:null,menuSpriteSheet:null,iconSpriteSheet:null,playState:null,lastTime:null,init:function(){h.Assets.getFont("fonts/GROBOLD.ttf");
var a=new h.text.TextFormat("GROBOLD",30,16777215);this.mainBackGround=new h.display.Bitmap(h.Assets.getBitmapData("img/ui/iconsBack.png"));this.addChild(this.mainBackGround);this.soundSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/play/soundMini.png"),3,1,50,50);this.soundSpriteSheet.addBehavior(new C.data.BehaviorData("enableSound",[0],!0,30,25,25));this.soundSpriteSheet.addBehavior(new C.data.BehaviorData("disableSound",[1],!1,30,25,25));this.sound=new C.AnimatedSprite(this.soundSpriteSheet,
!0);this.addChild(this.sound);this.sound.showBehavior("enableSound");this.sound.set_buttonMode(!0);this.sound.addEventListener("mouseDown",u(this,this.goToSound));this.sound.set_x(666);this.sound.set_y(450);this.sound.set_scaleX(1.2);this.sound.set_scaleY(1.2);this.menuSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/play/menuMini.png"),3,1,50,50);this.menuSpriteSheet.addBehavior(new C.data.BehaviorData("out",[0],!0,30,25,25));this.menuSpriteSheet.addBehavior(new C.data.BehaviorData("over",
[1],!1,30,25,25));this.menu=new C.AnimatedSprite(this.menuSpriteSheet,!0);this.addChild(this.menu);this.menu.showBehavior("out");this.menu.set_buttonMode(!0);this.menu.addEventListener("mouseOver",u(this,this.overMouse));this.menu.addEventListener("mouseOut",u(this,this.outMouse));this.menu.addEventListener("mouseDown",u(this,this.goToMenu));this.menu.set_x(578);this.menu.set_y(450);this.menu.set_scaleX(1.2);this.menu.set_scaleY(1.2);for(var b=0;4>b;)for(var d=b++,c=0;5>c;){var e=c++;this.iconSpriteSheet=
C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/ui/icon.png"),2,1,72,72);this.iconSpriteSheet.addBehavior(new C.data.BehaviorData("disable",[0],!0,5,36,36));this.iconSpriteSheet.addBehavior(new C.data.BehaviorData("enable",[1],!1,5,36,36));this.icon=l.initAnimation("lIcons");this.starIcon=l.initAnimation("acIcons");this.iconText=new h.text.TextField;this.iconText.set_selectable(!1);this.iconText.mouseEnabled=!1;this.iconText.set_defaultTextFormat(a);this.iconText.set_width(16);this.iconText.set_height(32);
this.iconText.set_text(H.string(5*d+e+1));this.iconText.set_x(173+85*e-16);this.iconText.set_y(48+100*d-12);this.iconText.embedFonts=!0;this.starIcon.showBehavior(H.string(l.starArray[5*d+e]));0==l.levelStateArray[5*d+e]?(this.icon.showBehavior("0"),this.iconText.set_visible(!1),this.icon.set_buttonMode(!1)):(this.icon.showBehavior(H.string(5*d+e+1)),this.icon.addEventListener("mouseDown",u(this,this.goToIcon)),this.icon.set_buttonMode(!0));this.icon.name=H.string(5*d+e+1);this.icon.set_x(173+85*
e);this.icon.set_y(48+100*d);this.starIcon.set_x(173+85*e);this.starIcon.set_y(88+100*d);this.addChild(this.starIcon);this.addChild(this.icon);v.Log.trace(this.iconText.x+" "+this.iconText.y,{fileName:"IconsState.hx",lineNumber:203,className:"IconsState",methodName:"init"})}},goToIcon:function(a){v.Log.trace("before clear",{fileName:"IconsState.hx",lineNumber:211,className:"IconsState",methodName:"goToIcon"});v.Log.trace(H["int"](a.get_currentTarget().name),{fileName:"IconsState.hx",lineNumber:212,
className:"IconsState",methodName:"goToIcon"});this.clearState();a=new Aa(H["int"](a.get_currentTarget().name));v.Log.trace("after clear",{fileName:"IconsState.hx",lineNumber:216,className:"IconsState",methodName:"goToIcon"});l.curSprite=a;l.gameSpace.addChild(a);l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();null},goToSound:function(a){v.Log.trace(this.sound.currentBehavior.name,{fileName:"IconsState.hx",lineNumber:239,className:"IconsState",methodName:"goToSound"});l.isPlaying?(this.sound.showBehavior("disableSound"),
l.stopSound()):(this.sound.showBehavior("enableSound"),l.playSound())},goToMenu:function(a){this.clearState();a=new za(1);l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(a)},clearState:function(){l.gameSpace.removeEventListener("enterFrame",u(this,this.onEnterFrame));l.clear();l.gameSpace.removeChild(this)},overMouse:function(a){a.get_currentTarget().showBehavior("out");v.Log.trace("overMouse",{fileName:"IconsState.hx",lineNumber:284,className:"IconsState",
methodName:"overMouse"})},outMouse:function(a){a.get_currentTarget().showBehavior("over");v.Log.trace("outMouse",{fileName:"IconsState.hx",lineNumber:289,className:"IconsState",methodName:"outMouse"})},onEnterFrame:function(a){a=h.Lib.getTimer()-this.lastTime;this.menu.update(a);this.sound.update(a);this.lastTime=h.Lib.getTimer()},__class__:Ua});var cb=function(a,b,d,c,e){this.killerTimer=0;this.blockInited=!1;this.alpha2=1;this.colorRay=this.colorRay2=this.distance=0;this.type="none";this.rayAngle=
this.rayAngleInitial=0;this.rayMC=new h.display.Sprite;this.filt=new f.dynamics.InteractionFilter;this.rayFinalPoint=new f.geom.Vec2(0,0);this.rayInitialPoint=new f.geom.Vec2(0,0);this.rayPointStat=new f.geom.Vec2(30,0);this.jointLaserBodyInited=!1;this.killerCounter=0;h.display.Sprite.call(this);this.distance=e;this.type=c;this.filt.set_collisionGroup(16);switch(this.type){case "killer":this.colorRay=15925281}this.addChild(this.rayMC);null==a.zpp_inner.wrap_pos&&a.zpp_inner.setupPosition();this.rayCurrentPoint=
a.zpp_inner.wrap_pos;this.rayAngleInitial=d;this.rayBody=a;this.rayAngle=this.rayBody.zpp_inner.rot;this._rayOffSet=this.p=b};m.Killer=cb;cb.__name__=["Killer"];cb.__super__=h.display.Sprite;cb.prototype=F(h.display.Sprite.prototype,{killerCounter:null,polyList:null,rayPoint:null,gPoly:null,jointLaserActor:null,jointLaserBodyInited:null,jointLaser:null,rayPointStat:null,rayInitialPoint:null,rayFinalPoint:null,filt:null,rayMC:null,rayAngle:null,rayAngleInitial:null,ray:null,rayCurrentPoint:null,rayOffSet:null,
_rayOffSet:null,p:null,rayBody:null,type:null,colorRay:null,colorRay2:null,distance:null,rayStaticCurrent:null,alpha2:null,blockInited:null,oldPoint:null,killerTimer:null,update:function(a){if(!this.blockInited)if(0<this.killerCounter){a=this.rayMC;a.set_alpha(.9*a.alpha);if(30<this.killerCounter){this.rayBody.get_userData().act.rayEnabled=!1;this.rayBody.get_userData().anim.showBehavior("normal");a=0;for(var b=this.rayBody.get_userData().act.rayArray.length;a<b;){var d=a++,d=this.rayBody.get_userData().act.rayArray[d];
l.rayForDelete.push(d);this.rayMC.set_alpha(0);this.removeChild(this.rayMC)}this.rayBody.get_userData().act.rayArray=[]}this.killerCounter++}else{this.killerCounter++;var c,e,g;a=new f.geom.Vec2(0,0);a.set_x(this._rayOffSet.get_x());a.set_y(this._rayOffSet.get_y());this.rayOffSet=a.rotate(this.rayBody.zpp_inner.rot-Math.PI/2+this.rayAngleInitial);g="heroRay"==this.type?f.geom.Vec2.fromPolar(1,3*Math.PI/2+this.rayAngleInitial):f.geom.Vec2.fromPolar(1,this.rayBody.zpp_inner.rot-Math.PI/2+this.rayAngleInitial);
this.ray=new f.geom.Ray(new f.geom.Vec2(this.rayBody.get_position().get_x()-this.rayOffSet.get_x(),this.rayBody.get_position().get_y()-this.rayOffSet.get_y()),g);this.ray.set_maxDistance(this.distance);e=l.space.rayCast(this.ray,!1,this.filt);this.rayCurrentPoint=c=null!=e?this.ray.at(function(a){if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return e.zpp_inner.toiDistance}(this)):this.ray.at(this.ray.zpp_inner.maxdist);this.rayInitialPoint=new f.geom.Vec2(this.rayBody.get_position().get_x()-
this.rayOffSet.get_x(),this.rayBody.get_position().get_y()-this.rayOffSet.get_y());this.rayPoint=f.geom.Vec2.fromPolar(22,this.rayBody.zpp_inner.rot-Math.PI/2+this.rayAngleInitial);this.rayFinalPoint.set_x(H["int"](this.rayInitialPoint.get_x()+this.rayPoint.get_x()));this.rayFinalPoint.set_y(H["int"](this.rayInitialPoint.get_y()+this.rayPoint.get_y()));this.rayMC.get_graphics().clear();this.rayMC.get_graphics().lineStyle(3,this.colorRay,this.alpha2,!1);this.rayMC.get_graphics().moveTo(this.rayFinalPoint.get_x(),
this.rayFinalPoint.get_y());this.rayMC.get_graphics().lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this));if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";switch(e.zpp_inner.shape.get_body().get_userData().act.rayType){case "destroyed":"killer"!=
this.type&&"emitter"!=this.type||l.actorForDelete.push(function(a){if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return e.zpp_inner.shape}(this).get_body().get_userData().act);return;case "intake":if("killer"==this.type&&"pig"==H.string(function(a){if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return e.zpp_inner.shape}(this).get_body().get_userData().act.gameType).substring(0,4)&&"started"==l.levelState){l.playMp3("fail");
l.levelState="prefailed";if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";e.zpp_inner.shape.get_body().get_userData().act.failHero()}if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";e.zpp_inner.shape.get_body().isDynamic()&&this.applyImpulses(this.type,function(a){if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return e.zpp_inner.shape}(this).get_body(),c,g.normalise());
return}for(a=0;4>a;){a++;b=Math.PI;d=function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();var b=g.zpp_inner.x;if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();if(b=b==g.zpp_inner.y){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();b=0==g.zpp_inner.x}return b?
0:Math.atan2(function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.y}(a),function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.x}(a))}(this);if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";this.rayAngle=b-(d-e.zpp_inner.normal.get_angle());this.rayAngle>2*Math.PI&&(this.rayAngle-=2*Math.PI);g.set_x(function(a){if(null!=
e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return e.zpp_inner.normal}(this).get_x());g.set_y(function(a){if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return e.zpp_inner.normal}(this).get_y());b=f.geom.Vec2;if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";d=e.zpp_inner.normal.get_x();if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
g=new b(d,e.zpp_inner.normal.get_y());g.rotate(this.rayAngle);this.ray=new f.geom.Ray(this.rayCurrentPoint,g);this.ray.set_maxDistance(this.distance);e=l.space.rayCast(this.ray,!1,this.filt);this.rayCurrentPoint=c=null!=e?this.ray.at(function(a){if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return e.zpp_inner.toiDistance}(this)):this.ray.at(this.ray.zpp_inner.maxdist);this.rayMC.get_graphics().lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
c.zpp_inner.validate();return c.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this));if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";switch(e.zpp_inner.shape.get_body().get_userData().act.rayType){case "destroyed":"killer"==this.type&&l.actorForDelete.push(function(a){if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
return e.zpp_inner.shape}(this).get_body().get_userData().act);return;case "intake":if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";e.zpp_inner.shape.get_body().isDynamic()&&this.applyImpulses(this.type,function(a){if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return e.zpp_inner.shape}(this).get_body(),c,g.normalise());if("killer"==this.type&&"pig"==H.string(function(a){if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
return e.zpp_inner.shape}(this).get_body().get_userData().act.gameType).substring(0,4)){if("started"==l.levelState){l.playMp3("fail");l.levelState="prefailed";if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";e.zpp_inner.shape.get_body().get_userData().act.failHero()}return}break;case "pass":v.Log.trace("pass",{fileName:"Killer.hx",lineNumber:357,className:"Killer",methodName:"update"})}}}},changeType:function(a){this.type=a;switch(this.type){case "attraction":this.colorRay=
52224;break;case "repulsion":this.colorRay=12648583}},applyImpulses:function(a,b,d,k){var e=0;if(b.zpp_inner.world)throw"Error: Space::world has no mass";b.zpp_inner.validate_mass();if(b.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==b.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";e=b.zpp_inner.cmass;null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});"koruto"==b.zpp_inner_i.userData.act._type&&(e*=20);null==b.zpp_inner_i.userData&&
(b.zpp_inner_i.userData={});"lever"==b.zpp_inner_i.userData.act.refType&&(e*=2);switch(a){case "repulsion":b.applyImpulse(k.mul(12*e),d);break;case "attraction":b.applyImpulse(k.mul(12*e).rotate(Math.PI),d)}},clear:function(){},__class__:cb});var Oa=function(){this.length=0};m.List=Oa;Oa.__name__=["List"];Oa.prototype={h:null,q:null,length:null,add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},
next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},__class__:Oa};var Y=function(){};m.IMap=Y;Y.__name__=["IMap"];Y.prototype={get:null,keys:null,__class__:Y};Math.__name__=["Math"];var za=function(a){this.lastTime=0;this.time=new h.utils.Timer(2E3,1);h.display.Sprite.call(this);this.init()};m.MenuState=za;za.__name__=["MenuState"];za.__super__=h.display.Sprite;za.prototype=F(h.display.Sprite.prototype,{rotateScr:null,mainBackGround:null,title:null,play:null,levels:null,
credits:null,time:null,sound:null,soundSpriteSheet:null,mainMenuLogo:null,logoSpl:null,cacheOffsetX:null,cacheOffsetY:null,playState:null,lastTime:null,logo:null,more_games:null,init:function(){this.mainBackGround=new h.display.Bitmap(h.Assets.getBitmapData("img/menu/menu.png"));this.addChild(this.mainBackGround);this.mainMenuLogo=new h.display.Bitmap(h.Assets.getBitmapData("img/menu/logo_softgames.png"));this.mainMenuLogo.set_x(200);this.mainMenuLogo.set_y(380);this.mainMenuLogo.addEventListener("mouseClick",
u(this,this.logoListener));this.addChild(this.mainMenuLogo);this.more_games=new h.display.Bitmap(h.Assets.getBitmapData("img/menu/more.png"));this.more_games.set_x(40);this.more_games.set_y(386);this.more_games.addEventListener("mouseClick",u(this,this.logoListener));this.more_games.set_scaleX(.8);this.more_games.set_scaleY(.8);this.addChild(this.more_games);this.play=new h.display.Sprite;this.play.addChild(new h.display.Bitmap(h.Assets.getBitmapData("img/menu/play.png")));this.play.set_buttonMode(!0);
this.play.addEventListener("mouseDown",u(this,this.goToPlay));this.addChild(this.play);this.play.set_x(444);this.play.set_y(350);this.addChild(this.play);this.soundSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/menu/audio.png"),2,1,67,74);this.soundSpriteSheet.addBehavior(new C.data.BehaviorData("normal",[0],!0));this.soundSpriteSheet.addBehavior(new C.data.BehaviorData("above",[1],!0));this.sound=new C.AnimatedSprite(this.soundSpriteSheet,!0);this.addChild(this.sound);
this.sound.showBehavior("normal");this.sound.set_buttonMode(!0);this.sound.addEventListener("mouseDown",u(this,this.goToSound));this.sound.set_x(650);this.sound.set_y(10);this.rotateScr=l.initImage("rotate");this.rotateScr.set_x(0);this.rotateScr.set_y(0);h.Lib.get_current().get_stage().addEventListener("resize",u(this,this.resizeStage));h.Lib.get_current().get_stage().addEventListener("enterFrame",u(this,this.onEnterFrame));this.time.start()},hideSplash:function(a){this.time.stop();this.removeChild(this.logoSpl);
this.logoSpl.set_visible(!1);this.logoSpl=null},resizeStage:function(a){l.setXY(H["int"](h.Lib.get_current().get_stage().get_stageWidth()),H["int"](h.Lib.get_current().get_stage().get_stageHeight()));l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();null},logoListener:function(a){},goToSound:function(a){l.isPlaying?(this.sound.showBehavior("above"),l.stopSound()):(this.sound.showBehavior("normal"),l.playSound())},clearState:function(){l.gameSpace.removeEventListener("enterFrame",u(this,this.onEnterFrame));
l.gameSpace.removeChild(this)},goToPlay:function(a){this.clearState();this.playState=new Ua;l.curSprite=this.playState;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(this.playState)},onEnterFrame:function(a){a=h.Lib.getTimer()-this.lastTime;this.sound.update(a);this.lastTime=h.Lib.getTimer()},__class__:za});var wb=function(){h.display.Sprite.call(this);h5api.initGame(100044297,"\u732a\u4ed4\u4e0b\u6ce5\u57513",720,480);var a=this.getBackgroundColor(),b=0;70>.299*(a>>
16&255)+.587*(a>>8&255)+.114*(a&255)&&(b=16777215);var a=this.getHeight()/2-3.5,d=this.getWidth()-60;this.outline=new h.display.Sprite;this.outline.get_graphics().beginFill(b,.07);this.outline.get_graphics().drawRect(0,0,d,7);this.outline.set_x(30);this.outline.set_y(a);this.addChild(this.outline);this.progress=new h.display.Sprite;this.progress.get_graphics().beginFill(b,.35);this.progress.get_graphics().drawRect(0,0,d-4,3);this.progress.set_x(32);this.progress.set_y(a+2);this.progress.set_scaleX(0);
this.addChild(this.progress)};m.NMEPreloader=wb;wb.__name__=["NMEPreloader"];wb.__super__=h.display.Sprite;wb.prototype=F(h.display.Sprite.prototype,{outline:null,progress:null,getBackgroundColor:function(){return 0},getHeight:function(){return h.Lib.get_current().get_stage().get_stageHeight()},getWidth:function(){return h.Lib.get_current().get_stage().get_stageWidth()},onInit:function(){v.Log.trace("init",{fileName:"NMEPreloader.hx",lineNumber:118,className:"NMEPreloader",methodName:"onInit"})},
onLoaded:function(){v.Log.trace("loaded",{fileName:"NMEPreloader.hx",lineNumber:126,className:"NMEPreloader",methodName:"onLoaded"});this.dispatchEvent(new h.events.Event("complete"))},onUpdate:function(a,b){var d=a/b;1<d&&(d=1);var c=100*d|0;95<c&&(c=100);var e;e=null==c?"null":""+c;v.Log.trace(c,{fileName:"NMEPreloader.hx",lineNumber:153,className:"NMEPreloader",methodName:"onUpdate"});h5api.progress(c,e);this.progress.set_scaleX(d)},__class__:wb});var Aa=function(a){this.levelScore=2400;this.starCounter=
-1;this.lastTime=0;this.time=new h.utils.Timer(2E3,1);this.counterForFinish=this.counterForFail=60;this.rotateEnable=!1;this.commonScores=0;h.display.Sprite.call(this);this.cLevel=a;this.init(this.cLevel)};m.PlayState=Aa;Aa.__name__=["PlayState"];Aa.__super__=h.display.Sprite;Aa.prototype=F(h.display.Sprite.prototype,{commonScores:null,rotateScr:null,rotateEnable:null,pauseScr:null,mainBackGround:null,back:null,logo:null,counterForFinish:null,counterForFail:null,logoSpl:null,bottomBackGround:null,
time:null,sound:null,menu:null,levels:null,restart:null,stars:null,soundSpriteSheet:null,menuSpriteSheet:null,levelsSpriteSheet:null,restartSpriteSheet:null,levelData:null,space:null,lastTime:null,cLevel:null,currentRay:null,currentHook:null,currentCreator:null,currentKiller:null,starCounter:null,levelScore:null,init:function(a){v.Log.trace("start oo",{fileName:"PlayState.hx",lineNumber:147,className:"PlayState",methodName:"init"});a=null==a?"null":""+a;v.Log.trace(a,{fileName:"PlayState.hx",lineNumber:150,
className:"PlayState",methodName:"init"});switch(a){case "1":this.levelData=G.TJSON.parse(G.TJSON.encode(level_1));break;case "2":this.levelData=G.TJSON.parse(G.TJSON.encode(level_2));break;case "3":this.levelData=G.TJSON.parse(G.TJSON.encode(level_3));break;case "4":this.levelData=G.TJSON.parse(G.TJSON.encode(level_4));break;case "5":this.levelData=G.TJSON.parse(G.TJSON.encode(level_5));break;case "6":this.levelData=G.TJSON.parse(G.TJSON.encode(level_6));break;case "7":this.levelData=G.TJSON.parse(G.TJSON.encode(level_7));
break;case "8":this.levelData=G.TJSON.parse(G.TJSON.encode(level_8));break;case "9":this.levelData=G.TJSON.parse(G.TJSON.encode(level_9));break;case "10":this.levelData=G.TJSON.parse(G.TJSON.encode(level_10));break;case "11":this.levelData=G.TJSON.parse(G.TJSON.encode(level_11));break;case "12":this.levelData=G.TJSON.parse(G.TJSON.encode(level_12));break;case "13":this.levelData=G.TJSON.parse(G.TJSON.encode(level_13));break;case "14":this.levelData=G.TJSON.parse(G.TJSON.encode(level_14));break;case "15":this.levelData=
G.TJSON.parse(G.TJSON.encode(level_15));break;case "16":this.levelData=G.TJSON.parse(G.TJSON.encode(level_16));break;case "17":this.levelData=G.TJSON.parse(G.TJSON.encode(level_17));break;case "18":this.levelData=G.TJSON.parse(G.TJSON.encode(level_18));break;case "19":this.levelData=G.TJSON.parse(G.TJSON.encode(level_19));break;case "20":this.levelData=G.TJSON.parse(G.TJSON.encode(level_20))}this.loadUI();this.loadlevels();this.checkRefferences();new Mb;l.initLevel(this);h.Lib.get_current().get_stage().addEventListener("resize",
u(this,this.resizeStage));h.Lib.get_current().get_stage().addEventListener("blur",u(this,this.focusOut));l.checkMobile()&&h.Lib.get_current().get_stage().addEventListener("deactivate",u(this,this.focusOut));this.startGame()},resizeStage:function(a){l.pauseGame(this.pauseScr);l.setXY(H["int"](h.Lib.get_current().get_stage().get_stageWidth()),H["int"](h.Lib.get_current().get_stage().get_stageHeight()));l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();null},timerHundler:function(){0<=this.levelScore&&
--this.levelScore},checkRefferences:function(){for(var a,b=[],d=0,c=l.itemArray.length;d<c;){var e=d++,e=l.itemArray[e];if("arrow"==e.hideType){"hideArrow"==e._refType&&e.anim.set_visible(!1);a=0;for(var g=l.itemArray.length;a<g;){var p=a++;l.itemArray[p].hideRefference==e.hideRefference&&e!=l.itemArray[p]&&(e.arrowRefference=l.itemArray[p],l.itemArray[p].arrowRefference=e,l.arrowArray.push(e))}}if("button"==e._type)for(a=l.space.bodiesUnderPoint(e._body.get_position()),1<a.get_length()&&("button"==
a.at(0).get_userData().act._type&&1==a.at(0).get_userData().act.isMoveable?(e._buttonNode=a.at(1).get_userData().act,a.at(1).get_userData().act._buttonNodePoint=a.at(1).worldPointToLocal(e._body.get_position())):(e._buttonNode=a.at(0).get_userData().act,a.at(0).get_userData().act._buttonNodePoint=a.at(0).worldPointToLocal(e._body.get_position()),"gravity"==a.at(0).get_userData().act.shapeType&&v.Log.trace("gravity",{fileName:"PlayState.hx",lineNumber:294,className:"PlayState",methodName:"checkRefferences"}))),
a=e,g=0,p=l.itemArray.length;g<p;){var f=g++,f=l.itemArray[f];f!=a&&"none"!=f._refType&&f._refNumber==a._refNumber&&"button"!=f._refType&&"buttonClick"!=f._refType&&"buttonMove"!=f._refType&&"gravityClick"!=f._refType&&(a._refArray.push(f),f._refArray.push(a));"buttonClick"==a._refType&&"buttonClick"==f._refType&&f!=a&&null==f._clickPareButton&&(f._clickPareButton=a,a._clickPareButton=f)}E.Boot.__instanceof(e,T)&&("teleportOne"!=E.Boot.__cast(e,T).spriteType&&"teleportSecond"!=E.Boot.__cast(e,T).spriteType||
b.push(e));"gravibox"==e._type&&(l.graviBox=e._body.get_userData().act)}2==b.length&&(E.Boot.__cast(b[0],T).teleportEnabled=!1,E.Boot.__cast(b[1],T).teleportEnabled=!1,E.Boot.__cast(b[0],T).secondTeleport=b[1],E.Boot.__cast(b[1],T).secondTeleport=b[0])},loadLevel:function(a){G.TJSON.parse(h.Assets.getText(a))},focusOut:function(a){l.pauseGame(this.pauseScr)},loadlevels:function(){for(var a=this.levelData.data.stage.shape,b=this.levelData.data.stage.joint,d,c=0,e=a.length;c<e;){d=c++;var g=a[d],p;
"koruto"!=g.spriteType&&"none"!=g.spriteType&&"teleport"!=g.spriteType?(d="pig"!=g.spriteType?h.Assets.getBitmapData("img/game/"+g.spriteType+".png"):null,p=this.addBehaviors(g.type,d,g.refType),this.addChild(p)):p=null;d=new f.geom.Vec2(g.x|0,g.y|0);if("circle"==g.form)d=new ib(g.form,p,d,H.parseFloat(g.angle),"type",g.sensor,g.typeForm,g.material,g.type,g.visible,g.rayType,g.refType,g.refNumber|0,new f.geom.Vec2(g.velocityX|0,g.velocityY|0)),null!=g.hideType&&(d.hideType=g.hideType,d.hideRefference=
g.hideRefference),d.spriteType=g.spriteType,l.itemArray.push(d);else{var x=l.getPointsFromString(g.points,d);d=new T(g.form,p,d,H.parseFloat(g.angle),"type",g.sensor,g.typeForm,g.material,g.type,g.visible,x,g.rayType,g.refType,g.refNumber|0,new f.geom.Vec2(g.velocityX|0,g.velocityY|0));null!=g.hideType&&(d.hideType=g.hideType,d.hideRefference=g.hideRefference);d.spriteType=g.spriteType;d._spriteType=d.spriteType;l.itemArray.push(d);if("arrow"==d.formType){d.anim.set_x(d._body.get_position().get_x());
d.anim.set_y(d._body.get_position().get_y());d.anim.set_rotation(180*d._body.zpp_inner.rot/Math.PI%360);var B=new f.geom.Vec2(0,0);B.set_x(5*Math.sin(d.anim.rotation));B.set_y(5*Math.cos(d.anim.rotation));g=(new n.MotionPath).bezier(d.anim.x+function(a){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();return B.zpp_inner.x}(this),d.anim.y+function(a){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();
return B.zpp_inner.y}(this),d.anim.x+function(a){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();return B.zpp_inner.x}(this),d.anim.y+function(a){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();return B.zpp_inner.y}(this)).bezier(d.anim.x-function(a){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();return B.zpp_inner.x}(this),d.anim.y-
function(a){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();return B.zpp_inner.y}(this),d.anim.x+function(a){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();return B.zpp_inner.x}(this),d.anim.y+function(a){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();return B.zpp_inner.y}(this));n.Actuate.motionPath(d.anim,1,{x:g.get_x(),y:g.get_y()}).repeat().ease(n.easing.Quad.get_easeOut())}"pig"==
d.formType&&(l.pig=d)}}a=0;for(c=b.length;a<c;)switch(e=a++,e=b[e],d=new f.geom.Vec2(e.x,e.y),e.type){case "weld":e=l.space.bodiesUnderPoint(d,l.filt);e.at(0);v.Log.trace(e.get_length(),{fileName:"PlayState.hx",lineNumber:523,className:"PlayState",methodName:"loadlevels"});1<e.get_length()?(e=3==e.get_length()?"pass"!=e.at(0).get_userData().act.rayType?"pass"!=e.at(1).get_userData().act.rayType?new f.constraint.WeldJoint(e.at(0),e.at(1),e.at(0).worldPointToLocal(d),e.at(1).worldPointToLocal(d),e.at(1).get_rotation()-
e.at(0).get_rotation()):new f.constraint.WeldJoint(e.at(0),e.at(2),e.at(0).worldPointToLocal(d),e.at(2).worldPointToLocal(d),e.at(2).get_rotation()-e.at(0).get_rotation()):new f.constraint.WeldJoint(e.at(1),e.at(2),e.at(1).worldPointToLocal(d),e.at(2).worldPointToLocal(d),e.at(2).get_rotation()-e.at(1).get_rotation()):new f.constraint.WeldJoint(e.at(0),e.at(1),e.at(0).worldPointToLocal(d),e.at(1).worldPointToLocal(d),e.at(1).get_rotation()-e.at(0).get_rotation()),1!=e.zpp_inner.ignore&&(e.zpp_inner.ignore=
!0,e.zpp_inner.wake()),e.zpp_inner.ignore,e.set_space(l.space)):v.Log.trace(e.get_length(),{fileName:"PlayState.hx",lineNumber:554,className:"PlayState",methodName:"loadlevels"});break;case "pivot":e=l.space.bodiesUnderPoint(d,l.filt);2==e.get_length()&&(d=new f.constraint.PivotJoint(e.at(0),e.at(1),e.at(0).worldPointToLocal(d),e.at(1).worldPointToLocal(d)),1!=d.zpp_inner.ignore&&(d.zpp_inner.ignore=!0,d.zpp_inner.wake()),d.zpp_inner.ignore,d.set_space(l.space),e.at(0).get_userData().joint=d,e.at(1).get_userData().joint=
d);break;case "motor":e=l.space.bodiesUnderPoint(d,l.filt),2==e.get_length()&&(e=new f.constraint.MotorJoint(e.at(0),e.at(1),0,1),1!=e.zpp_inner.ignore&&(e.zpp_inner.ignore=!0,e.zpp_inner.wake()),e.zpp_inner.ignore,e.set_space(l.space))}},checkArrow:function(a){switch(a.hideType){case "hide":l.arrowCounter==a.hideRefference&&(null!=a.arrowRefference?E.Boot.__cast(a.arrowRefference,ia).anim.set_visible(!1):(a.arrowRefference=l.arrowArray[a.hideRefference-1],a.arrowRefference.anim.set_visible(!1)),
a.hideType="none",l.arrowCounter++);break;case "view":l.arrowCounter==a.hideRefference&&(null==a.arrowRefference&&(a.arrowRefference=l.arrowArray[a.hideRefference-1]),a.arrowRefference.anim.set_visible(!0),a.hideType="none",l.arrowCounter++);break;default:v.Log.trace("nothing to act",{fileName:"PlayState.hx",lineNumber:627,className:"PlayState",methodName:"checkArrow"})}},addBehaviors:function(a,b,d){switch(a){case "pig":b=l.initAnimation("pig");b.showBehavior("normalBox");break;case "killer":b=l.initAnimation("killer");
b.showBehavior("normal");break;case "killer2":b=l.initAnimation("killer2");b.showBehavior("normal");break;case "repulsion":b=l.initAnimation("repulsion");b.showBehavior("normal");break;case "repulsion2":b=l.initAnimation("repulsion2");b.showBehavior("normal");break;case "water":a=C.importers.BitmapImporter.create(b,1,4,122,51);a.addBehavior(new C.data.BehaviorData("normal",[0],!0,1,b.component.width/2-4,b.component.width/8+14));a.addBehavior(new C.data.BehaviorData("splash",[1],!1,10,b.component.width/
2-4,b.component.width/8+14));b=new C.AnimatedSprite(a,!0);b.set_visible(!1);b.showBehavior("normal");break;case "attraction":case "attraction2":b=l.initAnimation("attraction");b.showBehavior("normal");break;case "hook":b=l.initAnimation("hook");b.showBehavior("normal");break;case "creator":b=l.initAnimation("creator");b.showBehavior("normal");break;case "gravibox":a=C.importers.BitmapImporter.create(b,2,1,36,52);a.addBehavior(new C.data.BehaviorData("disable",[0],!0,1,18,26));a.addBehavior(new C.data.BehaviorData("enable",
[1],!1,1,18,26));b=new C.AnimatedSprite(a,!0);b.showBehavior("disable");break;case "arrow":b=l.initAnimation("hand");b.showBehavior("enable");break;case "button":switch(d){case "button":a=C.importers.BitmapImporter.create(b,2,1,37,20);a.addBehavior(new C.data.BehaviorData("disable",[0],!0,1,19,14));a.addBehavior(new C.data.BehaviorData("enable",[1],!1,1,19,14));b=new C.AnimatedSprite(a,!0);b.showBehavior("disable");break;case "buttonClick":case "gravityClick":a=C.importers.BitmapImporter.create(b,
2,1,38,38);a.addBehavior(new C.data.BehaviorData("disable",[0],!0,1,19,19));a.addBehavior(new C.data.BehaviorData("enable",[1],!1,1,19,19));b=new C.AnimatedSprite(a,!0);b.showBehavior("disable");break;default:a=C.importers.BitmapImporter.create(b,2,1,36,19),a.addBehavior(new C.data.BehaviorData("disable",[0],!0,1,18,14)),a.addBehavior(new C.data.BehaviorData("enable",[1],!1,1,18,14)),b=new C.AnimatedSprite(a,!0),b.showBehavior("disable")}break;default:a=C.importers.BitmapImporter.create(b,1,1,b.component.width,
b.component.height),a.addBehavior(new C.data.BehaviorData("normal",[0],!0,1,b.component.width/2,b.component.height/2)),b=new C.AnimatedSprite(a,!0),b.showBehavior("normal")}return b},changeGravitation:function(){for(var a=0,b=l.itemArray.length;a<b;){var d=a++;l.itemArray[d]._body.set_gravMass(-l.itemArray[d]._body.get_gravMass())}},loadAnimation:function(a){var b=C.importers.BitmapImporter.create(a,1,1,a.component.width,a.component.height);b.addBehavior(new C.data.BehaviorData("normal",[0],!1,5,
a.component.width/2,a.component.height/2));a=new C.AnimatedSprite(b,!0);a.showBehavior("normal");return a},createRectangle:function(a){},createCircle:function(a){},startGame:function(){l.gameSpace.removeEventListener("enterFrame",u(this,this.onEnterFrame));l.gameSpace.addEventListener("enterFrame",u(this,this.onEnterFrame));l.gameSpace.removeEventListener("mouseDown",u(this,this.clickInGame));l.gameSpace.addEventListener("mouseDown",u(this,this.clickInGame))},clickInGame:function(a){a=l.space.bodiesUnderPoint(new f.geom.Vec2(this.get_mouseX(),
this.get_mouseY()));l.unPauseGame(this.pauseScr);if(0<a.get_length()){var b=0,d=a.get_length();try{for(;b<d;){var c=b++,e=a.at(c);null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});switch(e.zpp_inner_i.userData.act.formType){case "pig":v.Log.trace("pig mp3",{fileName:"PlayState.hx",lineNumber:834,className:"PlayState",methodName:"clickInGame"});this.checkArrow(function(a){null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});return e.zpp_inner_i.userData}(this).act);l.playMp3("pig");null==
e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.act.recreateHero();return;case "hook":l.playMp3("toad");this.checkArrow(function(a){null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});return e.zpp_inner_i.userData}(this).act);null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});if(0==e.zpp_inner_i.userData.act.rayEnabled)this.currentHook=new qb(e,new f.geom.Vec2(42,0),0,"hook",720),l.rayCastArray.push(this.currentHook),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData=
{}),e.zpp_inner_i.userData.act.rayEnabled=!0,null!=l.pig&&(this.currentHook.pigToConnect=l.pig),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.rayArray.push(this.currentHook),this.addChild(this.currentHook),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.anim.showBehavior("enable");else{null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.act.rayEnabled=!1;var g=0;null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData=
{});for(var p=e.zpp_inner_i.userData.act.rayArray.length;g<p;){var x=g++;null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});var B=e.zpp_inner_i.userData.act.rayArray[x];B.pigInited&&B.preRemoveHook();l.rayForDelete.push(B)}null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.act.anim.showBehavior("normal");null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.act.rayArray=[]}break;case "killer":throw l.playMp3("morz"),this.checkArrow(function(a){null==
e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});return e.zpp_inner_i.userData}(this).act),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),0==e.zpp_inner_i.userData.act.rayEnabled&&(this.currentKiller=new cb(e,new f.geom.Vec2(-6,0),0,"killer",800),l.rayCastArray.push(this.currentRay),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.rayEnabled=!0,null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.rayArray.push(this.currentKiller),
this.addChild(this.currentKiller),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.anim.showBehavior("enable")),"__break__";case "bomb":l.playMp3("bomb");this.createExplosion(e);var h=l.initAnimation("boom");h.set_x(function(a){null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});return e.zpp_inner_i.userData}(this).anim.x);h.set_y(function(a){null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});return e.zpp_inner_i.userData}(this).anim.y);l.currentSprite.addChild(h);
h.showBehavior("enable");l.animationArray.push(h);l.actorForDelete.push(function(a){null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});return e.zpp_inner_i.userData}(this).act);return;case "creator":l.playMp3("duck");this.checkArrow(function(a){null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});return e.zpp_inner_i.userData}(this).act);null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});if(0==e.zpp_inner_i.userData.act.rayEnabled)this.currentCreator=new Ka(e,new f.geom.Vec2(0,
19),0,"creator",720),l.rayCastArray.push(this.currentCreator),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.rayArray.push(this.currentCreator),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.rayEnabled=!0,this.addChild(this.currentCreator),this.currentCreator=new Ka(e,new f.geom.Vec2(0,-19),0,"creator",720),l.rayCastArray.push(this.currentCreator),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.rayArray.push(this.currentCreator),
null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.rayEnabled=!0,this.addChild(this.currentCreator),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.anim.showBehavior("enable");else{null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.act.rayEnabled=!1;var ra=0;null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});for(var t=e.zpp_inner_i.userData.act.rayArray.length;ra<t;){var Ja=ra++;null==e.zpp_inner_i.userData&&
(e.zpp_inner_i.userData={});var m=e.zpp_inner_i.userData.act.rayArray[Ja];m.blockInited&&m.preRemoveCreator();l.rayForDelete.push(m)}null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.act.rayArray=[];null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.act.anim.showBehavior("normal")}throw"__break__";case "repulsion":l.playMp3("pigBig");this.checkArrow(function(a){null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});return e.zpp_inner_i.userData}(this).act);
null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});if(0==e.zpp_inner_i.userData.act.rayEnabled)this.currentRay=new Va(e,new f.geom.Vec2(0,6),0,"repulsion",720),l.rayCastArray.push(this.currentRay),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.rayArray.push(this.currentRay),this.addChild(this.currentRay),this.currentRay=new Va(e,new f.geom.Vec2(0,-6),0,"repulsion",720),l.rayCastArray.push(this.currentRay),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData=
{}),e.zpp_inner_i.userData.act.rayArray.push(this.currentRay),this.addChild(this.currentRay),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.rayEnabled=!0,null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.anim.showBehavior("enable");else{t=0;null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});for(ra=e.zpp_inner_i.userData.act.rayArray.length;t<ra;){var q=t++;null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});l.rayForDelete.push(e.zpp_inner_i.userData.act.rayArray[q])}null==
e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.act.rayArray=[];null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.act.rayEnabled=!1;null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.anim.showBehavior("normal")}return;case "attraction":l.playMp3("begem");this.checkArrow(function(a){null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});return e.zpp_inner_i.userData}(this).act);null==e.zpp_inner_i.userData&&
(e.zpp_inner_i.userData={});if(0==e.zpp_inner_i.userData.act.rayEnabled)this.currentRay=new Va(e,new f.geom.Vec2(0,6),0,"attraction",720),l.rayCastArray.push(this.currentRay),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.rayArray.push(this.currentRay),this.addChild(this.currentRay),this.currentRay=new Va(e,new f.geom.Vec2(0,-6),0,"attraction",720),l.rayCastArray.push(this.currentRay),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.rayArray.push(this.currentRay),
this.addChild(this.currentRay),null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.rayEnabled=!0,null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.anim.showBehavior("enable");else{t=0;null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});for(var n=e.zpp_inner_i.userData.act.rayArray.length;t<n;){var u=t++;null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});l.rayForDelete.push(e.zpp_inner_i.userData.act.rayArray[u])}null==e.zpp_inner_i.userData&&
(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.anim.showBehavior("normal");null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.act.rayArray=[];null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.act.rayEnabled=!1}return;case "button":null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});switch(e.zpp_inner_i.userData.act._refType){case "buttonClick":this.checkArrow(function(a){null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});
return e.zpp_inner_i.userData}(this).act);null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});e.zpp_inner_i.userData.act.bClickEnabled||(null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.bClickEnabled=!0,null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.enableRefference(),l.playMp3("click"));break;case "gravityClick":this.checkArrow(function(a){null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={});return e.zpp_inner_i.userData}(this).act),
null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.bClickEnabled?(null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.bClickEnabled=!1,l.gravityNormal=!1,null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.anim.showBehavior("disable")):(null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.act.bClickEnabled=!0,null==e.zpp_inner_i.userData&&(e.zpp_inner_i.userData={}),e.zpp_inner_i.userData.anim.showBehavior("enable"),
l.gravityNormal=!1),l.playMp3("click")}return}}}catch(y){if("__break__"!=y)throw y;}}},createExplosion:function(a){var b=new f.phys.BodyList;l.space.bodiesInCircle(function(b){null==a.zpp_inner.wrap_pos&&a.zpp_inner.setupPosition();return a.zpp_inner.wrap_pos}(this),100,!1,null,b);var d=b.get_length();if(0<d){for(var k=f.geom.Vec2.get(null,null,null),e=f.geom.Vec2.get(null,null,null),g=0;g<d;){var p=g++,x=b.at(p);if(x.zpp_inner.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)null==x.zpp_inner_i.userData&&
(x.zpp_inner_i.userData={}),"ice"==x.zpp_inner_i.userData.act._type&&l.actorForDelete.push(function(a){null==x.zpp_inner_i.userData&&(x.zpp_inner_i.userData={});return x.zpp_inner_i.userData}(this).act);else{null==x.zpp_inner_i.userData&&(x.zpp_inner_i.userData={});if(p="pig"==x.zpp_inner_i.userData.act._type)null==x.zpp_inner_i.userData&&(x.zpp_inner_i.userData={}),p=0==x.zpp_inner_i.userData.act._isDead;p&&(l.levelState="failed");null==x.zpp_inner_i.userData&&(x.zpp_inner_i.userData={});"bomb"==
x.zpp_inner_i.userData.act._type&&x!=a&&(l.actorForDelete.push(function(a){null==x.zpp_inner_i.userData&&(x.zpp_inner_i.userData={});return x.zpp_inner_i.userData}(this).act),p=l.initAnimation("boom"),p.set_x(function(a){null==x.zpp_inner_i.userData&&(x.zpp_inner_i.userData={});return x.zpp_inner_i.userData}(this).anim.x),p.set_y(function(a){null==x.zpp_inner_i.userData&&(x.zpp_inner_i.userData={});return x.zpp_inner_i.userData}(this).anim.y),l.currentSprite.addChild(p),p.showBehavior("enable"),l.animationArray.push(p));
p=f.geom.Geom.distanceBody(a,x,k,e);0>=p&&(p=1,null==x.zpp_inner.wrap_pos&&x.zpp_inner.setupPosition(),e=x.zpp_inner.wrap_pos);var B=e.sub(function(b){null==a.zpp_inner.wrap_pos&&a.zpp_inner.setupPosition();return a.zpp_inner.wrap_pos}(this)),h;if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h=Math.sqrt(function(a){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();return B.zpp_inner.x}(this)*function(a){if(null!=
B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();return B.zpp_inner.x}(this)+function(a){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();return B.zpp_inner.y}(this)*function(a){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();return B.zpp_inner.y}(this));if(1>=h){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.immutable();
if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();if(!(h=1!=B.zpp_inner.x)){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B.zpp_inner.validate();h=0!=B.zpp_inner.y}h&&(B.zpp_inner.x=1,B.zpp_inner.y=0,B.zpp_inner.invalidate());B;h=1}B.muleq(1/h);B.muleq((100-p)/100*400);x.applyImpulse(B,e)}}b.clear()}},loadUI:function(){this.mainBackGround=new h.display.Bitmap(h.Assets.getBitmapData("img/play/back1.png"));this.addChild(this.mainBackGround);
this.back=new h.display.Bitmap(h.Assets.getBitmapData("img/play/ba"+H.string(this.cLevel)+".png"));this.addChild(this.back);this.stars=l.initAnimation("acorns");this.stars.set_x(336);this.stars.set_y(450);this.stars.set_scaleX(1);this.stars.set_scaleY(1);this.stars.set_visible(!0);this.stars.showBehavior("0");this.addChild(this.stars);l.animationArray.push(this.stars);this.soundSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/play/soundMini.png"),3,1,50,50);this.soundSpriteSheet.addBehavior(new C.data.BehaviorData("enableSound",
[0],!0,30,25,25));this.soundSpriteSheet.addBehavior(new C.data.BehaviorData("disableSound",[1],!1,30,25,25));this.sound=new C.AnimatedSprite(this.soundSpriteSheet,!0);this.addChild(this.sound);this.sound.showBehavior("enableSound");this.sound.set_buttonMode(!0);this.sound.addEventListener("mouseDown",u(this,this.goToSound));this.sound.set_x(60);this.sound.set_y(450);this.sound.set_scaleX(1);this.sound.set_scaleY(1);this.menuSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/play/menuMini.png"),
3,1,50,50);this.menuSpriteSheet.addBehavior(new C.data.BehaviorData("out",[0],!0,30,25,25));this.menuSpriteSheet.addBehavior(new C.data.BehaviorData("over",[1],!1,30,25,25));this.menu=new C.AnimatedSprite(this.menuSpriteSheet,!0);this.addChild(this.menu);this.menu.showBehavior("out");this.menu.set_buttonMode(!0);this.menu.addEventListener("mouseOver",u(this,this.overMouse));this.menu.addEventListener("mouseOut",u(this,this.outMouse));this.menu.addEventListener("mouseDown",u(this,this.goToMenu));this.menu.set_x(649);
this.menu.set_y(450);this.menu.set_scaleX(1);this.menu.set_scaleY(1);this.levelsSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/play/levelMini.png"),3,1,50,50);this.levelsSpriteSheet.addBehavior(new C.data.BehaviorData("out",[0],!0,30,25,25));this.levelsSpriteSheet.addBehavior(new C.data.BehaviorData("over",[1],!1,30,25,25));this.levels=new C.AnimatedSprite(this.levelsSpriteSheet,!0);this.addChild(this.levels);this.levels.showBehavior("out");this.levels.set_buttonMode(!0);
this.levels.addEventListener("mouseOver",u(this,this.overMouse));this.levels.addEventListener("mouseOut",u(this,this.outMouse));this.levels.addEventListener("mouseDown",u(this,this.goToLevels));this.levels.set_x(569);this.levels.set_y(450);this.levels.set_scaleX(1);this.levels.set_scaleY(1);this.restartSpriteSheet=C.importers.BitmapImporter.create(h.Assets.getBitmapData("img/play/restartMini.png"),3,1,50,50);this.restartSpriteSheet.addBehavior(new C.data.BehaviorData("out",[0],!0,30,25,25));this.restartSpriteSheet.addBehavior(new C.data.BehaviorData("over",
[1],!1,30,25,25));this.restart=new C.AnimatedSprite(this.restartSpriteSheet,!0);this.addChild(this.restart);this.restart.showBehavior("out");this.restart.set_buttonMode(!0);this.restart.addEventListener("mouseOver",u(this,this.overMouse));this.restart.addEventListener("mouseOut",u(this,this.outMouse));this.restart.addEventListener("mouseDown",u(this,this.goToRestart));this.restart.set_x(489);this.restart.set_y(450);this.restart.set_scaleX(1);this.restart.set_scaleY(1);this.pauseScr=l.initImage("pause");
this.pauseScr.set_x(0);this.pauseScr.set_y(0);this.rotateScr=l.initImage("rotate");this.rotateScr.set_x(0);this.rotateScr.set_y(0);l.unPauseGame(this.pauseScr)},goToRestart:function(a){this.clearState();a=new Aa(this.cLevel);l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(a)},goToLevels:function(a){this.clearState();a=new Ua;l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(a)},goToNext:function(){this.clearState();
l.gameSpace.removeEventListener("mouseDown",u(this,this.clickInGame));l.playMp3("victory");21>this.cLevel&&(l.levelStateArray[this.cLevel]=1);l.starArray[this.cLevel-1]<this.starCounter&&(l.starArray[this.cLevel-1]=this.starCounter);var a=10*this.starCounter+(60-(2400-this.levelScore)/40)|0;0>a&&(a=0);l.scoresArray[this.cLevel-1]<a&&(l.scoresArray[this.cLevel-1]=a);var b=this.countScores();this.countStars();h5api.submitScore(b,this.submitCallback);v.Log.trace(b+" =com",{fileName:"PlayState.hx",lineNumber:1439,
className:"PlayState",methodName:"goToNext"});a=new na(this.cLevel,this.starCounter,a);l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(a);l.updateSaves()},countStars:function(){for(var a=0,b=0;20>b;)var d=b++,a=a+l.starArray[d];return a},countScores:function(){for(var a=0,b=0;20>b;)var d=b++,a=a+l.scoresArray[d];return a},goToMenu:function(a){this.clearState();a=new za(1);l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(a)},
clearState:function(){l.gameSpace.removeEventListener("enterFrame",u(this,this.onEnterFrame));l.gameSpace.removeEventListener("mouseDown",u(this,this.clickInGame));l.clear();l.gameSpace.removeChild(this)},overMouse:function(a){a.get_currentTarget().showBehavior("out")},outMouse:function(a){a.get_currentTarget().showBehavior("over")},onEnterFrame:function(a){a=h.Lib.getTimer()-this.lastTime;this.lastTime=h.Lib.getTimer();l.run?(l.space.step(1/l.frameRate),this.checkState(l.levelState)):v.Log.trace("stop",
{fileName:"PlayState.hx",lineNumber:1556,className:"PlayState",methodName:"onEnterFrame"});this.checkGravitation();this.removeItems();this.deleteRayCasts();this.checkCreators();for(var b=0,d=l.animationArray.length;b<d;){var c=b++;l.animationArray[c].update(a);l.animationArray[c].behaviorComplete&&l.animationArray[c].set_visible(!1)}b=0;for(d=l.itemArray.length;b<d;)c=b++,l.itemArray[c].update(a);this.timerHundler()},checkGravitation:function(){0==l.gravityNormal&&(this.changeGravitation(),l.gravityNormal=
!0,l.normalGravity=l.normalGravity?!1:!0,null!=l.graviBox&&(l.gravityNormal?l.graviBox.anim.showBehavior("enable"):l.graviBox.anim.showBehavior("disable")))},checkCreators:function(){if(0<l.creatorArray.length)for(var a,b=[],d=0,c=l.creatorArray.length;d<c;)a=d++,b=l.creatorArray[a],a=new T("box",null,new f.geom.Vec2(0,0),0,"type","false","static","steel","duck","false",b[0],"intake","none",0,new f.geom.Vec2(0,0)),b[1].blockArray.push(a),a._body.set_space(l.space),l.itemArray.push(a);l.creatorArray=
[]},deleteRayCasts:function(){if(0<l.rayForDelete.length){for(var a=0,b=l.rayForDelete.length;a<b;){var d=a++,d=l.rayForDelete[d],c=Q.indexOf(l.rayCastArray,d,0);-1!=c&&(this.removeChild(d),l.rayCastArray.splice(c,1))}l.rayForDelete=[]}},updateRayCast:function(){for(var a,b=0,d=l.rayCastArray.length;b<d;)a=b++,a=l.rayCastArray[a],a.update(!0)},removeItems:function(){for(var a=0,b=l.actorForDelete.length;a<b;){var d=a++;switch(l.actorForDelete[d]._type){case "star":var c=l.initAnimation("star");this.addChild(c);
c.set_x(l.actorForDelete[d]._body.get_position().get_x());c.set_y(l.actorForDelete[d]._body.get_position().get_y());l.animationArray.push(c);c.showBehavior("enable");this.starCounter=H.parseInt(this.stars.currentBehavior.name);this.starCounter++;this.stars.showBehavior(H.string(this.starCounter));l.playMp3("beetle");break;case "ice":switch(l.actorForDelete[d]._spriteType){case "ice12":c=l.initAnimation("ice12");break;case "ice11":c=l.initAnimation("ice11");break;case "ice14":c=l.initAnimation("ice14");
break;default:c=l.initAnimation("ice12")}this.addChild(c);c.set_x(l.actorForDelete[d]._body.get_position().get_x());c.set_y(l.actorForDelete[d]._body.get_position().get_y());c.set_y(l.actorForDelete[d]._body.get_position().get_y());l.animationArray.push(c);c.showBehavior("enable");n.Actuate.tween(c,1,{alpha:0},!1).delay(0);l.playMp3("ice")}l.itemArray.splice(Q.indexOf(l.itemArray,l.actorForDelete[d],0),1);l.actorForDelete[d].removeActor(this)}l.actorForDelete=[]},checkState:function(a){switch(a){case "finished":21>
this.cLevel?(l.currentLevel=this.cLevel,l.currentLevel++):v.Log.trace("game completed",{fileName:"PlayState.hx",lineNumber:1747,className:"PlayState",methodName:"checkState"});20!=this.cLevel?this.goToNext():this.goToEnd();break;case "prefailed":this.counterForFail--;0>=this.counterForFail&&(l.levelState="failed");break;case "failed":this.goToFailed();break;case "prefinished":this.counterForFinish--,0>=this.counterForFinish&&(l.levelState="finished")}},goToEnd:function(){this.clearState();l.starArray[l.currentLevel-
2]<this.starCounter&&(l.starArray[l.currentLevel-2]=this.starCounter);var a=10*this.starCounter+(60-(2400-this.levelScore)/40)|0;0>a&&(a=0);l.scoresArray[l.currentLevel-2]<a&&(l.scoresArray[l.currentLevel-2]=a);this.countScores();a=new ma(this.cLevel,this.starCounter,a);l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.updateSaves();l.offsetPage();l.gameSpace.addChild(a);this.commonScores=this.countScores();h5api.submitScore(this.commonScores,this.submitCallback)},goToFailed:function(){this.clearState();
var a=new Tb(this.cLevel);l.playMp3("fail");l.curSprite=a;l.resizeGame();l.resizeStage(l.curSprite);l.offsetPage();l.gameSpace.addChild(a)},goToSound:function(a){v.Log.trace(this.sound.currentBehavior.name,{fileName:"PlayState.hx",lineNumber:1846,className:"PlayState",methodName:"goToSound"});l.isPlaying?(this.sound.showBehavior("disableSound"),l.stopSound()):(this.sound.showBehavior("enableSound"),l.playSound())},Logo_onMouseDown:function(a){},__class__:Aa});var Va=function(a,b,d,c,e){this.blockInited=
!1;this.alpha2=1;this.colorRay=this.colorRay2=this.distance=0;this.type="none";this.rayAngle=this.rayAngleInitial=0;this.rayMC=new h.display.Sprite;this.filt=new f.dynamics.InteractionFilter;this.rayFinalPoint=new f.geom.Vec2(0,0);this.rayInitialPoint=new f.geom.Vec2(0,0);this.rayPointStat=new f.geom.Vec2(30,0);this.jointLaserBodyInited=!1;h.display.Sprite.call(this);this.distance=e;this.type=c;this.filt.set_collisionGroup(16);switch(this.type){case "attraction":this.alpha2=1;this.colorRay=16089925;
this.rayMCEnd=l.initSprite("lapka2");break;case "repulsion":this.alpha2=1,this.colorRay=10599114,this.rayMCEnd=l.initSprite("lapkaPig")}this.addChild(this.rayMC);this.addChild(this.rayMCEnd);null==a.zpp_inner.wrap_pos&&a.zpp_inner.setupPosition();this.rayCurrentPoint=a.zpp_inner.wrap_pos;this.rayAngleInitial=d;this.rayBody=a;this.rayAngle=this.rayBody.zpp_inner.rot;this._rayOffSet=this.p=b};m.Rays=Va;Va.__name__=["Rays"];Va.__super__=h.display.Sprite;Va.prototype=F(h.display.Sprite.prototype,{polyList:null,
rayPoint:null,gPoly:null,jointLaserActor:null,jointLaserBodyInited:null,jointLaser:null,rayPointStat:null,rayInitialPoint:null,rayFinalPoint:null,filt:null,rayMC:null,rayMCEnd:null,rayAngle:null,rayAngleInitial:null,ray:null,rayCurrentPoint:null,rayOffSet:null,_rayOffSet:null,p:null,rayBody:null,type:null,colorRay:null,colorRay2:null,distance:null,rayStaticCurrent:null,alpha2:null,blockInited:null,oldPoint:null,update:function(a){if(!this.blockInited){var b,d,c,e=new f.geom.Vec2(0,0);e.set_x(this._rayOffSet.get_x());
e.set_y(this._rayOffSet.get_y());this.rayOffSet=e.rotate(this.rayBody.zpp_inner.rot-Math.PI/2+this.rayAngleInitial);c="heroRay"==this.type?f.geom.Vec2.fromPolar(1,3*Math.PI/2+this.rayAngleInitial):f.geom.Vec2.fromPolar(1,this.rayBody.zpp_inner.rot-Math.PI/2+this.rayAngleInitial);this.ray=new f.geom.Ray(new f.geom.Vec2(this.rayBody.get_position().get_x()-this.rayOffSet.get_x(),this.rayBody.get_position().get_y()-this.rayOffSet.get_y()),c);this.ray.set_maxDistance(this.distance);d=l.space.rayCast(this.ray,
!1,this.filt);this.rayCurrentPoint=b=null!=d?this.ray.at(function(a){if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return d.zpp_inner.toiDistance}(this)):this.ray.at(this.ray.zpp_inner.maxdist);this.rayInitialPoint=new f.geom.Vec2(this.rayBody.get_position().get_x()-this.rayOffSet.get_x(),this.rayBody.get_position().get_y()-this.rayOffSet.get_y());this.rayPoint=f.geom.Vec2.fromPolar(25,this.rayBody.zpp_inner.rot-Math.PI/2+this.rayAngleInitial);this.rayFinalPoint.set_x(H["int"](this.rayInitialPoint.get_x()+
this.rayPoint.get_x()));this.rayFinalPoint.set_y(H["int"](this.rayInitialPoint.get_y()+this.rayPoint.get_y()));a&&(this.rayMC.get_graphics().clear(),this.rayMC.get_graphics().lineStyle(4,this.colorRay,this.alpha2,!1),this.rayMC.get_graphics().moveTo(this.rayFinalPoint.get_x(),this.rayFinalPoint.get_y()),this.rayMC.get_graphics().lineTo(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=
b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)));if(null==d)if(a&&(this.rayMCEnd.set_x(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)),this.rayMCEnd.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)),this.rayMCEnd.set_rotation(180*
(this.rayBody.zpp_inner.rot+Math.PI/2+this.rayAngleInitial)/Math.PI)),null==this.oldPoint)this.oldPoint=(new f.geom.Vec2).set(b);else{a=this.oldPoint.get_x();if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();if(a=a==b.zpp_inner.x){a=this.oldPoint.get_y();if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();a=a==b.zpp_inner.y}a?a=!1:(a=!0,this.oldPoint.set(b));null}else{if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
switch(d.zpp_inner.shape.get_body().get_userData().act.rayType){case "intake":case "destroyed":if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";d.zpp_inner.shape.get_body().isDynamic()&&this.applyImpulses(this.type,function(a){if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return d.zpp_inner.shape}(this).get_body(),b,c.normalise());a&&(this.rayMCEnd.set_x(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.x}(this)),this.rayMCEnd.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)),this.rayMCEnd.set_rotation(180*(this.rayBody.zpp_inner.rot+Math.PI/2+this.rayAngleInitial)/Math.PI));return;case "pass":return}for(e=0;4>e;){e++;var g=Math.PI,p=function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
c.zpp_inner.validate();var b=c.zpp_inner.x;if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();if(b=b==c.zpp_inner.y){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();b=0==c.zpp_inner.x}return b?0:Math.atan2(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(a),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
c.zpp_inner.validate();return c.zpp_inner.x}(a))}(this);if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";this.rayAngle=g-(p-d.zpp_inner.normal.get_angle());this.rayAngle>2*Math.PI&&(this.rayAngle-=2*Math.PI);c.set_x(function(a){if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return d.zpp_inner.normal}(this).get_x());c.set_y(function(a){if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
return d.zpp_inner.normal}(this).get_y());g=f.geom.Vec2;if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";p=d.zpp_inner.normal.get_x();if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";c=new g(p,d.zpp_inner.normal.get_y());c.rotate(this.rayAngle);this.ray=new f.geom.Ray(this.rayCurrentPoint,c);this.ray.set_maxDistance(this.distance);d=l.space.rayCast(this.ray,!1,this.filt);this.rayCurrentPoint=b=null!=d?this.ray.at(function(a){if(null!=
d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return d.zpp_inner.toiDistance}(this)):this.ray.at(this.ray.zpp_inner.maxdist);a&&this.rayMC.get_graphics().lineTo(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this));if(null==d){a&&(this.rayMCEnd.set_x(function(a){if(null!=
b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)),this.rayMCEnd.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)),this.rayMCEnd.set_rotation(180*(this.ray.zpp_inner.direction.get_angle()+Math.PI/2)/Math.PI));if(null==this.oldPoint)this.oldPoint=(new f.geom.Vec2).set(b);else{a=this.oldPoint.get_x();if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();if(a=a==b.zpp_inner.x){a=this.oldPoint.get_y();if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();a=a==b.zpp_inner.y}a?a=!1:(a=!0,this.oldPoint.set(b));null}break}if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";switch(d.zpp_inner.shape.get_body().get_userData().act.rayType){case "intake":case "destroyed":if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
d.zpp_inner.shape.get_body().isDynamic()&&this.applyImpulses(this.type,function(a){if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return d.zpp_inner.shape}(this).get_body(),b,c.normalise());this.rayMCEnd.set_x(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this));this.rayMCEnd.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.y}(this));this.rayMCEnd.set_rotation(180*-this.ray.zpp_inner.direction.get_angle()/Math.PI);return;case "pass":v.Log.trace("pass",{fileName:"Rays.hx",lineNumber:314,className:"Rays",methodName:"update"});return}}}}},changeType:function(a){this.type=a;switch(this.type){case "attraction":this.colorRay=52224;break;case "repulsion":this.colorRay=12648583}},applyImpulses:function(a,b,d,k){var e=0;if(b.zpp_inner.world)throw"Error: Space::world has no mass";b.zpp_inner.validate_mass();
if(b.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==b.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";e=b.zpp_inner.cmass;null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});"koruto"==b.zpp_inner_i.userData.act._type&&(e*=6);null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});"lever"==b.zpp_inner_i.userData.act.refType&&(e*=2);switch(a){case "repulsion":b.applyImpulse(k.mul(14*e),d);break;case "attraction":b.applyImpulse(k.mul(14*
e).rotate(Math.PI),d)}},clear:function(){this.removeChild(this.rayMC);this.removeChild(this.rayMCEnd);this.rayMCEnd=this.rayMC=null},__class__:Va});var J=function(){};m.Reflect=J;J.__name__=["Reflect"];J.field=function(a,b){try{return a[b]}catch(d){return null}};J.setField=function(a,b,d){a[b]=d};J.getProperty=function(a,b){var d;return null==a?null:a.__properties__&&(d=a.__properties__["get_"+b])?a[d]():a[b]};J.setProperty=function(a,b,d){var c;if(a.__properties__&&(c=a.__properties__["set_"+b]))a[c](d);
else a[b]=d};J.fields=function(a){var b=[];if(null!=a){var d=Object.prototype.hasOwnProperty,c;for(c in a)"__id__"!=c&&"hx__closures__"!=c&&d.call(a,c)&&b.push(c)}return b};J.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};J.compareMethods=function(a,b){return a==b?!0:J.isFunction(a)&&J.isFunction(b)?a.scope==b.scope&&a.method==b.method&&null!=a.method:!1};J.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&null==a.__enum__||"function"==
b&&null!=(a.__name__||a.__ename__)};J.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};J.copy=function(a){for(var b={},d=0,c=J.fields(a);d<c.length;){var e=c[d];++d;J.setField(b,e,J.field(a,e))}return b};var H=function(){};m.Std=H;H.__name__=["Std"];H.is=function(a,b){return E.Boot.__instanceof(a,b)};H.string=function(a){return E.Boot.__string_rec(a,"")};H["int"]=function(a){return a|0};H.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=Q.cca(a,
1)&&88!=Q.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};H.parseFloat=function(a){return parseFloat(a)};h.display.Stage=function(){this.intervalHandle=null;this.touchCount=0;this.isTouchScreen=!1;this.frameRate=null;h.display.DisplayObjectContainer.call(this);var a=this.component.style,b=window;a.position="absolute";a.overflow="hidden";a.left=a.top="0";a.width=a.height="100%";this.mousePos=new h.geom.Point;b.addEventListener("contextmenu",function(a){a.preventDefault()});b.addEventListener("click",
u(this,this.onMouse));b.addEventListener("mousedown",u(this,this.onMouse));b.addEventListener("mouseup",u(this,this.onMouse));b.addEventListener("mousemove",u(this,this.onMouse));b.addEventListener("mousewheel",u(this,this.onWheel));b.addEventListener("DOMMouseScroll",u(this,this.onWheel));b.addEventListener("touchmove",this.getOnTouch(0));b.addEventListener("touchstart",this.getOnTouch(1));b.addEventListener("touchend",this.getOnTouch(2));b.addEventListener("touchcancel",this.getOnTouch(2));this.mouseMtxDepth=
[];this.mouseMtxStack=[];this.mouseMtxCache=[];this.mouseTriggered=[];this.mouseUntrigger=[];for(a=-1;3>++a;)this.mouseTriggered[a]=!1,this.mouseUntrigger[a]=this.getMouseUntrigger(a)};m["openfl.display.Stage"]=h.display.Stage;h.display.Stage.__name__=["openfl","display","Stage"];h.display.Stage.__super__=h.display.DisplayObjectContainer;h.display.Stage.prototype=F(h.display.DisplayObjectContainer.prototype,{align:null,quality:null,scaleMode:null,displayState:null,stageWidth:null,stageHeight:null,
showDefaultContextMenu:null,frameRate:null,mousePos:null,isTouchScreen:null,touchCount:null,intervalHandle:null,mouseMtxDepth:null,mouseMtxStack:null,mouseMtxCache:null,mouseOver:null,mouseDown:null,mouseLastEvent:null,mouseTriggered:null,mouseUntrigger:null,mouseDownTriggered:null,mouseUpTriggered:null,_broadcastMouseEvent:function(a){var b=this.mouseOver,d;a.stageX=this.mousePos.x;a.stageY=this.mousePos.y;this.broadcastMouse(this.mouseMtxDepth,a,this.mouseMtxStack,this.mouseMtxCache);this.mouseOver=
d=a.relatedObject;b!=d&&(null!=b&&b.dispatchEvent(this._alterMouseEvent(a,"mouseOut")),null!=d&&d.dispatchEvent(this._alterMouseEvent(a,"mouseOver")))},_broadcastTouchEvent:function(a,b,d){a.stageX=b;a.stageY=d;this.broadcastMouse(this.mouseMtxDepth,a,this.mouseMtxStack,this.mouseMtxCache)},getMouseUntrigger:function(a){var b=this;return function(){b.mouseTriggered[a]=!1}},_alterMouseEvent:function(a,b){var d=new h.events.MouseEvent(b,a.bubbles,a.cancelable,a.localX,a.localY,a.relatedObject,a.ctrlKey,
a.altKey,a.shiftKey,a.buttonDown,a.delta);d.stageX=a.stageX;d.stageY=a.stageY;return d},_translateMouseEvent:function(a,b){return new h.events.MouseEvent(b,!0,!1,null,null,null,a.ctrlKey,a.altKey,a.shiftKey)},_translateTouchEvent:function(a,b,d){b=new h.events.TouchEvent(d,!0,!1,b.identifier,!1,null,null,b.radiusX,b.radiusY,b.force,null,a.ctrlKey,a.altKey,a.shiftKey);b.__jsEvent=a;return b},mouseEventPrevent:function(a,b,d){var c=this.mousePos,c=c.x==b&&c.y==d;if(0<=a&&c&&this.mouseTriggered[a])return!0;
c||this.mousePos.setTo(b,d);0<=a&&!this.mouseTriggered[a]&&(this.mouseTriggered[a]=!0,window.setTimeout(this.mouseUntrigger[a],0));1==a?this.mouseDown?this._broadcastMouseEvent(this._alterMouseEvent(this.mouseLastEvent,"mouseUp")):this.mouseDown=!0:2==a&&(this.mouseDown?this.mouseDown=!1:this._broadcastMouseEvent(new h.events.MouseEvent("mouseDown")));return!1},getOnTouch:function(a){var b=this;return function(d){b.onTouch(d,a)}},onTouch:function(a,b){var d=a.targetTouches,c=d.length,e=a.changedTouches,
g=e.length,d=0<c?d[0]:0<g?e[0]:null,p;a.preventDefault();this.isTouchScreen=!0;null!=d&&(0==b||1==b&&c==g||2==b&&0==c&&0<g)&&!this.mouseEventPrevent(b,d.pageX,d.pageY)&&(this.mouseLastEvent=new h.events.MouseEvent(1==b?"mouseDown":2==b?"mouseUp":"mouseMove"),this.mouseLastEvent.__jsEvent=a,this._broadcastMouseEvent(this.mouseLastEvent),2==b&&(c=new h.events.MouseEvent("mouseClick"),c.__jsEvent=a,this._broadcastMouseEvent(c)));if(0<g){switch(b){case 1:d="touchBegin";break;case 2:d="touchEnd";break;
default:d="touchMove"}for(c=-1;++c<g;)p=e[c],this._broadcastTouchEvent(this._translateTouchEvent(a,p,d),p.pageX,p.pageY)}},onWheel:function(a){var b=this._translateMouseEvent(a,"mouseWheel"),d=a.wheelDelta,d=null!=d?40<Math.abs(d)?Math.round(d/40):0>d?-1:0<d?1:0:-a.detail;b.delta=d;this.mousePos.setTo(a.pageX,a.pageY);this._broadcastMouseEvent(b)},onMouse:function(a){var b=null,d=-1,c;if("mousemove"==a.type)b="mouseMove",d=0;else switch(c=a.button,a.type){case "click":0==c?b="mouseClick":1==c?b="rightClick":
2==c&&(b="middleClick");break;case "mousedown":0==c?b="mouseDown":1==c?b="middleMouseDown":2==c&&(b="rightMouseDown");d=1;break;case "mouseup":0==c?b="mouseUp":1==c?b="middleMouseUp":2==c&&(b="rightMouseUp");d=2;break;default:return}this.mouseEventPrevent(d,a.pageX,a.pageY)||(this.mouseLastEvent=new h.events.MouseEvent(b),this.mouseLastEvent.__jsEvent=a,this._broadcastMouseEvent(this.mouseLastEvent))},__dragging:null,__dragObject:null,__dragBounds:null,__dragOffsetX:null,__dragOffsetY:null,__onDrag:function(a){a=
this.__dragObject.parent;if(null!=a){var b=a.globalToLocal(this.mousePos);a=this.__dragOffsetX+b.x;var b=this.__dragOffsetY+b.y,d=this.__dragBounds;null!=d&&(a<d.x?a=d.x:a>d.x+d.width&&(a=d.x+d.width),b<d.y?b=d.y:b>d.y+d.height&&(b=d.y+d.height));this.__dragObject.set_x(a);this.__dragObject.set_y(b)}},__startDrag:function(a,b,d){null==this.__dragObject&&this.addEventListener("mouseMove",u(this,this.__onDrag));this.__dragObject=a;b?(this.__dragOffsetX=-this.__dragObject.get_width()/2,this.__dragOffsetY=
-this.__dragObject.get_height()/2):(a=this.__dragObject.parent.globalToLocal(this.mousePos),this.__dragOffsetX=this.__dragObject.x-a.x,this.__dragOffsetY=this.__dragObject.y-a.y)},__stopDrag:function(a){null!=this.__dragObject&&(this.removeEventListener("mouseMove",u(this,this.__onDrag)),this.__dragObject=null)},hitTestLocal:function(a,b,d,c){return!c||this.visible},addEventListener:function(a,b,d,c,e){null==e&&(e=!1);null==c&&(c=0);null==d&&(d=!1);var g=this.component;this.component=window;h.display.DisplayObjectContainer.prototype.addEventListener.call(this,
a,b,d,c,e);this.component=g},removeEventListener:function(a,b,d){null==d&&(d=!1);var c=this.component;this.component=window;h.display.DisplayObjectContainer.prototype.removeEventListener.call(this,a,b,d);this.component=c},get_focus:function(){var a=document.activeElement;return null!=a&&H.is(a=a.node,h.display.InteractiveObject)?a:null},set_focus:function(a){null!=a?a.giveFocus():this.component.blur();return a},get_stageWidth:function(){return window.innerWidth},get_stageHeight:function(){return window.innerHeight},
get_stage:function(){return this},set_frameRate:function(a){this.frameRate!=a&&(null!=this.intervalHandle&&(0>=this.frameRate?window._cancelAnimationFrame(this.intervalHandle):window.clearInterval(this.intervalHandle)),0>=(this.frameRate=a)?this.intervalHandle=window._requestAnimationFrame(u(this,this.onTimer)):this.intervalHandle=window.setInterval(u(this,this.onTimer),H["int"](Math.max(0,1E3/a))));return a},onTimer:function(){h.Lib.getTimer();for(var a=-1;++a<h.Lib.schLength;)h.Lib.schList[a](),
h.Lib.schList[a]=null;h.Lib.schLength=0;this.broadcastEvent(new h.events.Event("enterFrame"));0>=this.frameRate&&(this.intervalHandle=window._requestAnimationFrame(u(this,this.onTimer)))},__class__:h.display.Stage,__properties__:F(h.display.DisplayObjectContainer.prototype.__properties__,{set_focus:"set_focus",get_focus:"get_focus",set_frameRate:"set_frameRate",get_stageHeight:"get_stageHeight",get_stageWidth:"get_stageWidth"})});h.geom={};h.geom.Point=function(a,b){this.x=null!=a?a:0;this.y=null!=
b?b:0};m["openfl.geom.Point"]=h.geom.Point;h.geom.Point.__name__=["openfl","geom","Point"];h.geom.Point.interpolate=function(a,b,d){return new h.geom.Point(a.x+d*(b.x-a.x),a.y+d*(b.y-a.y))};h.geom.Point.polar=function(a,b){return new h.geom.Point(Math.cos(b)*a,Math.sin(b)*a)};h.geom.Point.prototype={x:null,y:null,clone:function(){return new h.geom.Point(this.x,this.y)},equals:function(a){return this.x==a.x&&this.y==a.y},setTo:function(a,b){this.x=a;this.y=b},length:null,get_length:function(){return Math.sqrt(this.x*
this.x+this.y*this.y)},toString:function(){return"point("+this.x+", "+this.y+")"},normalize:function(a){0==this.y?this.x=0>this.x?-a:a:0==this.x?this.y=0>this.y?-a:a:(a/=Math.sqrt(this.x*this.x+this.y*this.y),this.x*=a,this.y*=a)},offset:function(a,b){this.x+=a;this.y+=b},add:function(a){return new h.geom.Point(this.x+a.x,this.y+a.y)},subtract:function(a){return new h.geom.Point(this.x-a.x,this.y-a.y)},__class__:h.geom.Point,__properties__:{get_length:"get_length"}};h.Lib=function(){};m["openfl.Lib"]=
h.Lib;h.Lib.__name__=["openfl","Lib"];h.Lib.__properties__={get_mobile:"get_mobile",get_stage:"get_stage",get_current:"get_current"};h.Lib.get_mobile=function(){if(null==h.Lib._mobile){var a=navigator.userAgent||navigator.vendor||wnd.opera;h.Lib._mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4))}return h.Lib._mobile};h.Lib.__init=function(){h.Lib.schList=[];h.Lib.schLength=0;var a=window,b="equestAnimationFrame";h.Lib.getTimer();a._requestAnimationFrame=a["r"+b]||a["webkitR"+b]||a["mozR"+b]||a["oR"+b]||a["msR"+b]||function(b){return a.setTimeout(b,700/h.Lib.get_stage().frameRate|0)};b="ancelAnimationFrame";a._cancelAnimationFrame=a["c"+b]||a["webkitC"+b]||a["mozC"+b]||a["oC"+b]||a["msC"+b]||function(b){return a.clearTimeout(b)}};h.Lib.getTimer=function(){return H["int"](new Date-h.Lib.qTimeStamp)};
h.Lib.getURL=function(a,b){window.open(a.url,b)};h.Lib.jsNode=function(a){var b=document.createElement(a),d=b.style;d.position="absolute";switch(a){case "canvas":d.setProperty("-webkit-touch-callout","none",null);h.Lib.setCSSProperties(d,"user-select","none",47);break;case "input":case "textarea":d.outline="none"}return b};h.Lib.jsHelper=function(){if(null==h.Lib.qHelper){var a=h.Lib.jsNode("div");h.Lib.get_stage().component.appendChild(a);a.style.visibility="hidden";a.appendChild(h.Lib.qHelper=h.Lib.jsNode("div"))}return h.Lib.qHelper};
h.Lib.get_current=function(){null==h.Lib.qCurrent&&h.Lib.get_stage().addChild(h.Lib.qCurrent=new h.display.MovieClip);return h.Lib.qCurrent};h.Lib.get_stage=function(){null==h.Lib.qStage&&document.body.appendChild((h.Lib.qStage=new h.display.Stage).component);return h.Lib.qStage};h.Lib.schedule=function(a){h.Lib.schList[h.Lib.schLength++]=a};h.Lib.rgba=function(a){return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+((a>>24&255)/255).toFixed(4)+")"};h.Lib.rgbf=function(a,b){return"rgba("+(a>>
16&255)+","+(a>>8&255)+","+(a&255)+","+b.toFixed(4)+")"};h.Lib.setCSSProperties=function(a,b,d,c){c||(c=31);c&1&&a.setProperty(b,d,null);c&2&&a.setProperty("-webkit-"+b,d,null);c&4&&a.setProperty("-moz-"+b,d,null);c&8&&a.setProperty("-ms-"+b,d,null);c&16&&a.setProperty("-o-"+b,d,null);c&32&&a.setProperty("-khtml-"+b,d,null)};h.geom.Transform=function(a){if(null==a)throw"Cannot create Transform with no DisplayObject.";this._displayObject=a;this._matrix=new h.geom.Matrix;this._fullMatrix=new h.geom.Matrix;
this.set_colorTransform(new h.geom.ColorTransform)};m["openfl.geom.Transform"]=h.geom.Transform;h.geom.Transform.__name__=["openfl","geom","Transform"];h.geom.Transform.prototype={colorTransform:null,concatenatedMatrix:null,_displayObject:null,_fullMatrix:null,_matrix:null,nmeGetFullMatrix:function(a){var b;null!=a?(b=new h.geom.Matrix(a.a,a.b,a.c,a.d,a.tx,a.ty)).concat(this._fullMatrix):b=this._fullMatrix.clone();return b},nmeSetFullMatrix:function(a){this._fullMatrix.copy(a);return this._fullMatrix},
nmeSetMatrix:function(a){this._matrix.copy(a)},set_colorTransform:function(a){return this.colorTransform=a},get_concatenatedMatrix:function(){return this.nmeGetFullMatrix(this._matrix)},get_matrix:function(){return this._matrix.clone()},set_matrix:function(a){this._matrix.copy(a);this._displayObject.syncMtx();return this._matrix},get_pixelBounds:function(){return this._displayObject.getBounds(null)},__class__:h.geom.Transform,__properties__:{get_pixelBounds:"get_pixelBounds",set_matrix:"set_matrix",
get_matrix:"get_matrix",get_concatenatedMatrix:"get_concatenatedMatrix",set_colorTransform:"set_colorTransform"}};h.geom.Matrix=function(a,b,d,c,e,g){this.a=null==a?1:a;this.b=null==b?0:b;this.c=null==d?0:d;this.d=null==c?1:c;this.tx=null==e?0:e;this.ty=null==g?0:g};m["openfl.geom.Matrix"]=h.geom.Matrix;h.geom.Matrix.__name__=["openfl","geom","Matrix"];h.geom.Matrix.create=function(){var a=h.geom.Matrix.pool;return 0<a.length?a.pop():new h.geom.Matrix};h.geom.Matrix.prototype={a:null,b:null,c:null,
d:null,tx:null,ty:null,setTo:function(a,b,d,c,e,g){this.a=a;this.b=b;this.tx=e;this.c=d;this.d=c;this.ty=g},clone:function(){return new h.geom.Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty)},identity:function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0},isIdentity:function(){return 1==this.a&&1==this.d&&0==this.tx&&0==this.ty&&0==this.b&&0==this.c},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},invert:function(){var a,b=this.a*this.d-this.b*this.c;
0==b?(this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty):(b=1/b,a=this.d*b,this.d=this.a*b,this.a=a,this.b*=-b,this.c*=-b,a=-this.a*this.tx-this.c*this.ty,this.ty=-this.b*this.tx-this.d*this.ty,this.tx=a)},translate:function(a,b){this.tx+=a;this.ty+=b},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var d;d=this.a*b-this.b*a;this.b=this.a*a+this.b*b;this.a=d;d=this.c*b-this.d*a;this.d=this.c*a+this.d*b;this.c=d;d=this.tx*b-this.ty*a;this.ty=this.tx*a+this.ty*b;this.tx=d},scale:function(a,
b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},concat:function(a){var b;b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},transformPoint:function(a){return new h.geom.Point(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},createBox:function(a,b,d,c,e){this.a=a;this.d=b;this.b=null!=d?d:0;this.tx=null!=c?c:0;this.ty=
null!=e?e:0},createGradientBox:function(a,b,d,c,e){this.a=a/1638.4;this.d=b/1638.4;if(null!=d&&0!=d){var g=Math.cos(d);d=Math.sin(d);this.b=d*this.d;this.c=-d*this.a;this.a*=g;this.d*=g}else this.b=this.c=0;this.tx=null!=c?c+a/2:a/2;this.ty=null!=e?e+b/2:b/2},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},to3dString:function(){return"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+
", 0, 1)"},free:function(){h.geom.Matrix.pool.push(this)},__class__:h.geom.Matrix};h.geom.ColorTransform=function(a,b,d,c,e,g,p,f){this.redMultiplier=null!=a?a:1;this.greenMultiplier=null!=b?b:1;this.blueMultiplier=null!=d?d:1;this.alphaMultiplier=null!=c?c:1;this.redOffset=null!=e?e:0;this.greenOffset=null!=g?g:0;this.blueOffset=null!=p?p:0;this.alphaOffset=null!=f?f:0};m["openfl.geom.ColorTransform"]=h.geom.ColorTransform;h.geom.ColorTransform.__name__=["openfl","geom","ColorTransform"];h.geom.ColorTransform.prototype=
{alphaMultiplier:null,alphaOffset:null,blueMultiplier:null,blueOffset:null,greenMultiplier:null,greenOffset:null,redMultiplier:null,redOffset:null,concat:function(a){this.redMultiplier+=a.redMultiplier;this.greenMultiplier+=a.greenMultiplier;this.blueMultiplier+=a.blueMultiplier;this.alphaMultiplier+=a.alphaMultiplier},isColorSetter:function(){return 0==this.redMultiplier&&0==this.greenMultiplier&&0==this.blueMultiplier&&(0==this.alphaMultiplier||0==this.alphaOffset)},isAlphaMultiplier:function(){return 1==
this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},get_color:function(){return(this.redOffset|0)<<16|(this.greenOffset|0)<<8|this.blueOffset|0},set_color:function(a){this.redOffset=a>>16&255;this.greenOffset=a>>8&255;this.blueOffset=a&255;this.redMultiplier=this.greenMultiplier=this.blueMultiplier=0;return this.get_color()},__class__:h.geom.ColorTransform,__properties__:{set_color:"set_color",get_color:"get_color"}};
var v={ds:{}};v.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};m["haxe.ds.ObjectMap"]=v.ds.ObjectMap;v.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];v.ds.ObjectMap.__interfaces__=[Y];v.ds.ObjectMap.prototype={h:null,set:function(a,b){var d=a.__id__||(a.__id__=++v.ds.ObjectMap.count);this.h[d]=b;this.h.__keys__[d]=a},get:function(a){return this.h[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=
[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return Q.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:v.ds.ObjectMap};var f={dynamics:{}};f.dynamics.InteractionFilter=function(a,b,d,k,e,g){null==g&&(g=-1);null==e&&(e=1);null==k&&(k=-1);null==d&&(d=1);null==b&&(b=-1);null==a&&(a=1);this.zpp_inner=null;null==c.dynamics.ZPP_InteractionFilter.zpp_pool?
this.zpp_inner=new c.dynamics.ZPP_InteractionFilter:(this.zpp_inner=c.dynamics.ZPP_InteractionFilter.zpp_pool,c.dynamics.ZPP_InteractionFilter.zpp_pool=this.zpp_inner.next,this.zpp_inner.next=null);null;this.zpp_inner.outer=this;this.zpp_inner.collisionGroup!=a&&(this.zpp_inner.collisionGroup=a,this.zpp_inner.invalidate());this.zpp_inner.collisionGroup;this.zpp_inner.collisionMask!=b&&(this.zpp_inner.collisionMask=b,this.zpp_inner.invalidate());this.zpp_inner.collisionMask;this.zpp_inner.sensorGroup!=
d&&(this.zpp_inner.sensorGroup=d,this.zpp_inner.invalidate());this.zpp_inner.sensorGroup;this.zpp_inner.sensorMask!=k&&(this.zpp_inner.sensorMask=k,this.zpp_inner.invalidate());this.zpp_inner.sensorMask;this.zpp_inner.fluidGroup!=e&&(this.zpp_inner.fluidGroup=e,this.zpp_inner.invalidate());this.zpp_inner.fluidGroup;this.zpp_inner.fluidMask!=g&&(this.zpp_inner.fluidMask=g,this.zpp_inner.invalidate());this.zpp_inner.fluidMask};m["nape.dynamics.InteractionFilter"]=f.dynamics.InteractionFilter;f.dynamics.InteractionFilter.__name__=
["nape","dynamics","InteractionFilter"];f.dynamics.InteractionFilter.prototype={zpp_inner:null,get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_shapes:function(){null==this.zpp_inner.wrap_shapes&&(this.zpp_inner.wrap_shapes=c.util.ZPP_ShapeList.get(this.zpp_inner.shapes,!0));return this.zpp_inner.wrap_shapes},get_collisionGroup:function(){return this.zpp_inner.collisionGroup},set_collisionGroup:function(a){this.zpp_inner.collisionGroup!=
a&&(this.zpp_inner.collisionGroup=a,this.zpp_inner.invalidate());return this.zpp_inner.collisionGroup},get_collisionMask:function(){return this.zpp_inner.collisionMask},set_collisionMask:function(a){this.zpp_inner.collisionMask!=a&&(this.zpp_inner.collisionMask=a,this.zpp_inner.invalidate());return this.zpp_inner.collisionMask},get_sensorGroup:function(){return this.zpp_inner.sensorGroup},set_sensorGroup:function(a){this.zpp_inner.sensorGroup!=a&&(this.zpp_inner.sensorGroup=a,this.zpp_inner.invalidate());
return this.zpp_inner.sensorGroup},get_sensorMask:function(){return this.zpp_inner.sensorMask},set_sensorMask:function(a){this.zpp_inner.sensorMask!=a&&(this.zpp_inner.sensorMask=a,this.zpp_inner.invalidate());return this.zpp_inner.sensorMask},get_fluidGroup:function(){return this.zpp_inner.fluidGroup},set_fluidGroup:function(a){this.zpp_inner.fluidGroup!=a&&(this.zpp_inner.fluidGroup=a,this.zpp_inner.invalidate());return this.zpp_inner.fluidGroup},get_fluidMask:function(){return this.zpp_inner.fluidMask},
set_fluidMask:function(a){this.zpp_inner.fluidMask!=a&&(this.zpp_inner.fluidMask=a,this.zpp_inner.invalidate());return this.zpp_inner.fluidMask},shouldCollide:function(a){if(null==a)throw"Error: filter argument cannot be null for shouldCollide";return this.zpp_inner.shouldCollide(a.zpp_inner)},shouldSense:function(a){if(null==a)throw"Error: filter argument cannot be null for shouldSense";return this.zpp_inner.shouldSense(a.zpp_inner)},shouldFlow:function(a){if(null==a)throw"Error: filter argument cannot be null for shouldFlow";
return this.zpp_inner.shouldFlow(a.zpp_inner)},copy:function(){return new f.dynamics.InteractionFilter(this.zpp_inner.collisionGroup,this.zpp_inner.collisionMask,this.zpp_inner.sensorGroup,this.zpp_inner.sensorMask,this.zpp_inner.fluidGroup,this.zpp_inner.fluidMask)},toString:function(){return"{ collision: "+O.hex(this.zpp_inner.collisionGroup,8)+"~"+O.hex(this.zpp_inner.collisionMask,8)+" sensor: "+O.hex(this.zpp_inner.sensorGroup,8)+"~"+O.hex(this.zpp_inner.sensorMask,8)+" fluid: "+O.hex(this.zpp_inner.fluidGroup,
8)+"~"+O.hex(this.zpp_inner.fluidMask,8)+" }"},__class__:f.dynamics.InteractionFilter,__properties__:{set_fluidMask:"set_fluidMask",get_fluidMask:"get_fluidMask",set_fluidGroup:"set_fluidGroup",get_fluidGroup:"get_fluidGroup",set_sensorMask:"set_sensorMask",get_sensorMask:"get_sensorMask",set_sensorGroup:"set_sensorGroup",get_sensorGroup:"get_sensorGroup",set_collisionMask:"set_collisionMask",get_collisionMask:"get_collisionMask",set_collisionGroup:"set_collisionGroup",get_collisionGroup:"get_collisionGroup",
get_shapes:"get_shapes",get_userData:"get_userData"}};var c={dynamics:{}};c.dynamics.ZPP_InteractionFilter=function(){this.collisionGroup=this.collisionMask=this.sensorGroup=this.sensorMask=this.fluidGroup=this.fluidMask=0;this.next=this.userData=this.outer=this.shapes=this.wrap_shapes=null;this.shapes=new c.util.ZNPList_ZPP_Shape;this.collisionGroup=this.sensorGroup=this.fluidGroup=1;this.collisionMask=this.sensorMask=this.fluidMask=-1};m["zpp_nape.dynamics.ZPP_InteractionFilter"]=c.dynamics.ZPP_InteractionFilter;
c.dynamics.ZPP_InteractionFilter.__name__=["zpp_nape","dynamics","ZPP_InteractionFilter"];c.dynamics.ZPP_InteractionFilter.prototype={next:null,userData:null,outer:null,wrapper:function(){if(null==this.outer){this.outer=new f.dynamics.InteractionFilter;var a=this.outer.zpp_inner;a.outer=null;a.next=c.dynamics.ZPP_InteractionFilter.zpp_pool;c.dynamics.ZPP_InteractionFilter.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},free:function(){this.outer=null},alloc:function(){},shapes:null,wrap_shapes:null,
feature_cons:function(){this.shapes=new c.util.ZNPList_ZPP_Shape},addShape:function(a){this.shapes.add(a)},remShape:function(a){this.shapes.remove(a)},copy:function(){var a;null==c.dynamics.ZPP_InteractionFilter.zpp_pool?a=new c.dynamics.ZPP_InteractionFilter:(a=c.dynamics.ZPP_InteractionFilter.zpp_pool,c.dynamics.ZPP_InteractionFilter.zpp_pool=a.next,a.next=null);null;a.collisionGroup=this.collisionGroup;a.collisionMask=this.collisionMask;a.sensorGroup=this.sensorGroup;a.sensorMask=this.sensorMask;
a.fluidGroup=this.fluidGroup;a.fluidMask=this.fluidMask;return a},collisionGroup:null,collisionMask:null,shouldCollide:function(a){return 0!=(this.collisionMask&a.collisionGroup)&&0!=(a.collisionMask&this.collisionGroup)},sensorGroup:null,sensorMask:null,shouldSense:function(a){return 0!=(this.sensorMask&a.sensorGroup)&&0!=(a.sensorMask&this.sensorGroup)},fluidGroup:null,fluidMask:null,shouldFlow:function(a){return 0!=(this.fluidMask&a.fluidGroup)&&0!=(a.fluidMask&this.fluidGroup)},invalidate:function(){for(var a=
this.shapes.head;null!=a;)a.elt.invalidate_filter(),a=a.next},__class__:c.dynamics.ZPP_InteractionFilter};c.util={};c.util.ZNPList_ZPP_Shape=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_Shape"]=c.util.ZNPList_ZPP_Shape;c.util.ZNPList_ZPP_Shape.__name__=["zpp_nape","util","ZNPList_ZPP_Shape"];c.util.ZNPList_ZPP_Shape.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;
this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Shape.zpp_pool?b=new c.util.ZNPNode_ZPP_Shape:(b=c.util.ZNPNode_ZPP_Shape.zpp_pool,c.util.ZNPNode_ZPP_Shape.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;
null==c.util.ZNPNode_ZPP_Shape.zpp_pool?d=new c.util.ZNPNode_ZPP_Shape:(d=c.util.ZNPNode_ZPP_Shape.zpp_pool,c.util.ZNPNode_ZPP_Shape.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Shape.zpp_pool;c.util.ZNPNode_ZPP_Shape.zpp_pool=a;null==this.head&&(this.pushmod=
!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=
!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Shape.zpp_pool;c.util.ZNPNode_ZPP_Shape.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=
this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Shape};var l=function(){h.display.Sprite.call(this)};m.Storage=l;l.__name__=["Storage"];l.init=function(a,b,d,c){l.XX=b;l.YY=d;l.filt.set_sensorGroup(1);l.filt.set_sensorMask(1);l.filt.set_collisionGroup(1);l.filt.set_collisionMask(1);l.itemArray=[];l.arrowArray=[];l.arrowCounter=
0;l.actorForDelete=[];l.rayCastArray=[];l.rayForDelete=[];l.creatorArray=[];l.animationArray=[];l.gameSpace=a;l.frameRate=c;l.dynamicCbt=new f.callbacks.CbType;l.waterCbt=new f.callbacks.CbType;l.pigCbt=new f.callbacks.CbType;l.starCbt=new f.callbacks.CbType;l.kinematicCbt=new f.callbacks.CbType;l.sensorCbt=new f.callbacks.CbType;l.spikeCbt=new f.callbacks.CbType;l.buttonCbt=new f.callbacks.CbType;l.teleportCbt=new f.callbacks.CbType;l.splash=l.initAnimation("splash");l.saves=h.net.SharedObject.getLocal("piggy3_4399",
"/");v.Log.trace("stored= "+H.string(l.saves.data),{fileName:"Storage.hx",lineNumber:177,className:"Storage",methodName:"init"});l.InitialX=720;l.InitialY=480;l.sound_loop=new window.Howl({urls:["sounds/loop.mp3","sounds/loop.ogg"]});l.pig_sound=new window.Howl({urls:["sounds/pig_one.mp3","sounds/pig_one.ogg"]});l.beetle_sound=new window.Howl({urls:["sounds/beetle.mp3","sounds/beetle.ogg"]});l.victory_sound=new window.Howl({urls:["sounds/victory.mp3","sounds/victory.ogg"]});l.fail_sound=new window.Howl({urls:["sounds/fail.mp3",
"sounds/fail.ogg"]});l.pigBig_sound=new window.Howl({urls:["sounds/medv.mp3","sounds/medv.ogg"]});l.click_sound=new window.Howl({urls:["sounds/click_button.mp3","sounds/click_button.ogg"]});l.splash_sound=new window.Howl({urls:["sounds/splash.mp3","sounds/splash.ogg"]});l.toad_sound=new window.Howl({urls:["sounds/monkey.mp3","sounds/monkey.ogg"]});l.duck_sound=new window.Howl({urls:["sounds/loss.mp3","sounds/loss.ogg"]});l.bomb_sound=new window.Howl({urls:["sounds/bomb.mp3","sounds/bomb.ogg"]});l.begem_sound=
new window.Howl({urls:["sounds/bird.mp3","sounds/bird.ogg"]});l.morz_sound=new window.Howl({urls:["sounds/morz.mp3","sounds/morz.ogg"]});null!=l.sound_loop&&(l.sound_loop.play(),l.sound_loop.loop(!0),l.playSound());l.initSaves()};l.offsetPage=function(){l.curSprite.set_x(0);l.curSprite.set_y(0);var a=l.curSprite;a.set_x(a.x+l.offSetX);a=l.curSprite;a.set_y(a.y+l.offSetY)};l.reinitGame=function(a,b){l.XX=a;l.YY=b};l.resizeGame=function(){v.Log.trace("beforeResize XY= "+l.XX+" =XX "+l.YY+" YY",{fileName:"Storage.hx",
lineNumber:253,className:"Storage",methodName:"resizeGame"});l.XX>l.YY?(l.H=l.YY/480,l.W=l.YY/480,l.offSetX=(l.XX-720*l.H)/2|0,l.offSetY=0,v.Log.trace(l.offSetX,{fileName:"Storage.hx",lineNumber:263,className:"Storage",methodName:"resizeGame"}),0>l.offSetX&&(l.H=l.XX/720,l.W=l.XX/720,l.offSetX=(l.XX-720*l.H)/2|0,l.offSetY=(l.YY-480*l.H)/2|0),v.Log.trace("normal",{fileName:"Storage.hx",lineNumber:274,className:"Storage",methodName:"resizeGame"})):(l.H=l.XX/720,l.W=l.XX/720,l.offSetY=(l.YY-480*l.H)/
2|0,l.offSetX=0,v.Log.trace("portrait",{fileName:"Storage.hx",lineNumber:282,className:"Storage",methodName:"resizeGame"}));v.Log.trace("W= "+l.W+" H= "+l.H,{fileName:"Storage.hx",lineNumber:286,className:"Storage",methodName:"resizeGame"});v.Log.trace("resize stage",{fileName:"Storage.hx",lineNumber:289,className:"Storage",methodName:"resizeGame"})};l.initLevel=function(a){l.currentSprite=a;l.InitialX=720;l.InitialY=480;l.levelState="started";l.animStar=l.initAnimation("star");l.splash=null;l.splash=
l.initAnimation("splash");l.currentSprite.addChild(l.splash);l.run=!0};l.playMp3=function(a){if(1==l.isPlaying)switch(a){case "pig":null!=l.pig_sound&&(l.pig_sound.play(),l.pig_sound.volume(.4));break;case "morz":null!=l.morz_sound&&(l.morz_sound.play(),l.morz_sound.volume(.4));break;case "splash":null!=l.splash_sound&&(l.splash_sound.play(),l.splash_sound.volume(.4));break;case "beetle":null!=l.beetle_sound&&(l.beetle_sound.play(),l.beetle_sound.volume(.4));break;case "begem":null!=l.begem_sound&&
(l.begem_sound.play(),l.begem_sound.volume(.4));break;case "victory":null!=l.victory_sound&&(l.victory_sound.play(),l.victory_sound.volume(.4));break;case "click":null!=l.click_sound&&(l.click_sound.play(),l.click_sound.volume(.4));break;case "pigBig":null!=l.pigBig_sound&&(l.pigBig_sound.play(),l.pigBig_sound.volume(.4));break;case "toad":null!=l.toad_sound&&(l.toad_sound.play(),l.toad_sound.volume(.4));break;case "duck":null!=l.duck_sound&&(l.duck_sound.play(),l.duck_sound.volume(.4));break;case "bomb":null!=
l.bomb_sound&&(l.bomb_sound.play(),l.bomb_sound.volume(.4));break;case "fail":null!=l.fail_sound&&(l.fail_sound.play(),l.fail_sound.volume(.4))}};l.playSound=function(){0==l.isPlaying&&null!=l.sound_loop&&(window.Howler.unmute(),l.sound_loop.pos(l.position),l.sound_loop.volume(.4),l.isPlaying=!0)};l.onMusicFinished=function(a){v.Log.trace("loop",{fileName:"Storage.hx",lineNumber:490,className:"Storage",methodName:"onMusicFinished"});l.channel.removeEventListener("soundComplete",l.onMusicFinished);
l.channel.stop();l.channel=null;l.isPlaying=!1;l.playSound()};l.stopSound=function(){1==l.isPlaying&&null!=l.sound_loop&&(l.position=(ga=l.sound_loop,u(ga,ga.pos)),window.Howler.mute(),l.isPlaying=!1)};l.checkMobile=function(){var a=window.navigator.userAgent,b=new ca("Android",""),d=new ca("webOS",""),c=new ca("iPhone",""),e=new ca("iPad",""),g=new ca("iPod",""),p=new ca("BlackBerry",""),f=new ca("Windows Phone","");return b.match(a)||d.match(a)||c.match(a)||e.match(a)||g.match(a)||p.match(a)||f.match(a)?
!0:!1};l.checkIpod=function(){var a=window.navigator.userAgent;new ca("iPad","");var b=new ca("iPod",""),d=new ca("iPhone","");return b.match(a)||d.match(a)?!0:!1};l.setXY=function(a,b){l.XX=a;l.YY=b;null};l.setSpace=function(a){l.space=a};l.clear=function(){l.space.clear();l.itemArray=[];l.arrowArray=[];l.arrowCounter=0;l.actorForDelete=[];l.rayCastArray=[];l.rayForDelete=[];l.animationArray=[]};l.initSprite=function(a){var b=new C.Spritesheet;a=h.Assets.getBitmapData("img/game/"+a+".png");var d,
b=C.importers.BitmapImporter.create(a,1,1,a.component.width,a.component.height);d=new C.AnimatedSprite(b,!0);b.addBehavior(new C.data.BehaviorData("normal",[0],!1,1,a.component.width/2,a.component.height/2));d.showBehavior("normal");return d};l.initSaves=function(){l.levelStateArray=[];l.starArray=[];l.scoresArray=[];if(null==l.saves.data.levelStates){for(var a=0;20>a;)a++,l.levelStateArray.push(0),l.starArray.push(0),l.scoresArray.push(0);l.levelStateArray[0]=1}else l.loadSaves()};l.pauseGame=function(a){0==
l.addPause&&(l.pauseSprite=a,l.currentSprite.addChild(l.pauseSprite),l.addPause=!0,v.Log.trace("pause add "+H.string(l.pauseSprite),{fileName:"Storage.hx",lineNumber:627,className:"Storage",methodName:"pauseGame"}),1==l.isPlaying?(l.stopSound(),l.soundBeforeStop=!0):l.soundBeforeStop=!1);v.Log.trace("pause "+H.string(l.addPause),{fileName:"Storage.hx",lineNumber:638,className:"Storage",methodName:"pauseGame"});a.set_visible(!0);l.run=!1};l.unPauseGame=function(a){1==l.addPause&&(l.currentSprite.removeChild(l.pauseSprite),
v.Log.trace("pause remove "+H.string(l.pauseSprite),{fileName:"Storage.hx",lineNumber:651,className:"Storage",methodName:"unPauseGame"}),l.addPause=!1,1==l.soundBeforeStop?l.playSound():v.Log.trace("sound stiil muted ",{fileName:"Storage.hx",lineNumber:657,className:"Storage",methodName:"unPauseGame"}));v.Log.trace("unPause "+H.string(l.addPause),{fileName:"Storage.hx",lineNumber:661,className:"Storage",methodName:"unPauseGame"});a.set_visible(!1);l.run=!0};l.loadSaves=function(){l.levelStateArray=
[];l.starArray=[];l.scoresArray=[];l.levelStateArray=l.saves.data.levelStates;l.starArray=l.saves.data.starArray;l.scoresArray=l.saves.data.scoresArray};l.updateSaves=function(){l.saves.data.levelStates=l.levelStateArray;l.saves.data.starArray=l.starArray;l.saves.data.scoresArray=l.scoresArray;l.saves.flush()};l.initAnimation=function(a){var b;switch(a){case "star":b=G.TJSON.parse(G.TJSON.encode(star));break;case "splash":b=G.TJSON.parse(G.TJSON.encode(splash));break;case "hand":b=G.TJSON.parse(G.TJSON.encode(hand));
break;case "killer":b=G.TJSON.parse(G.TJSON.encode(killer));break;case "killer2":b=G.TJSON.parse(G.TJSON.encode(killer));break;case "pig":b=G.TJSON.parse(G.TJSON.encode(pig));break;case "ice11":b=G.TJSON.parse(G.TJSON.encode(ice11));break;case "ice12":b=G.TJSON.parse(G.TJSON.encode(ice12));break;case "ice14":b=G.TJSON.parse(G.TJSON.encode(ice14));break;case "hook":b=G.TJSON.parse(G.TJSON.encode(hook));break;case "complAcorn":b=G.TJSON.parse(G.TJSON.encode(complAcorn));break;case "repulsion":b=G.TJSON.parse(G.TJSON.encode(repulsion));
break;case "attraction":b=G.TJSON.parse(G.TJSON.encode(attraction));break;case "repulsion2":b=G.TJSON.parse(G.TJSON.encode(repulsion2));break;case "boom":b=G.TJSON.parse(G.TJSON.encode(boom));break;case "creator":b=G.TJSON.parse(G.TJSON.encode(creator));break;case "acorns":b=G.TJSON.parse(G.TJSON.encode(acorns));break;case "acIcons":b=G.TJSON.parse(G.TJSON.encode(acIcons));break;case "lIcons":b=G.TJSON.parse(G.TJSON.encode(lIcons));break;default:b=G.TJSON.parse(G.TJSON.encode(hand))}b=b.frames;var d,
c=new C.Spritesheet;d=h.Assets.getBitmapData("json/"+a+"Animation.png");c.addBehavior(new C.data.BehaviorData("normal",[0],!1,1));c.updateImage(d);for(var e=0,g=b.length;e<g;){var p=e++;d=new C.data.SpritesheetFrame;d.x=b[p].frame.x|0;d.y=b[p].frame.y|0;d.width=b[p].frame.w|0;d.height=b[p].frame.h|0;d.offsetX=b[p].offSet.x|0;d.offsetY=b[p].offSet.y|0;c.addFrame(d)}switch(a){case "star":c.addBehavior(new C.data.BehaviorData("enable",[0,1,2,3,4,5,6,7,8,9],!1,20));break;case "splash":c.addBehavior(new C.data.BehaviorData("enable",
[0,1,2,3,4,5,6,7],!1,15,0,0));v.Log.trace("splash inited",{fileName:"Storage.hx",lineNumber:800,className:"Storage",methodName:"initAnimation"});break;case "boom":c.addBehavior(new C.data.BehaviorData("enable",[0,1,2,3,4,5,6,7,8,9,10,11,12],!1,10,0,0));break;case "acorns":c.addBehavior(new C.data.BehaviorData("0",[0],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("1",[1],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("2",[2],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("3",[3],!0,1,0,0));
break;case "ice11":c.addBehavior(new C.data.BehaviorData("enable",[0,0,1,1,2,2,3,3,4,4],!1,20));break;case "ice12":c.addBehavior(new C.data.BehaviorData("enable",[0,0,1,1,2,2,3,3,4,4],!1,20));break;case "ice14":c.addBehavior(new C.data.BehaviorData("enable",[0,0,1,1,2,2,3,3,4,4,5,5],!1,20));break;case "hand":c.addBehavior(new C.data.BehaviorData("enable",[0,0,0,1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6],!0,15,0,0));break;case "acIcons":c.addBehavior(new C.data.BehaviorData("0",[0],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("1",
[1],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("2",[2],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("3",[3],!0,1,0,0));break;case "complAcorn":c.addBehavior(new C.data.BehaviorData("0",[0],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("1",[1],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("2",[2],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("3",[3],!0,1,0,0));break;case "killer":case "killer2":c.addBehavior(new C.data.BehaviorData("normal",[0],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("above",
[1],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("enable",[1],!0,1,0,0));break;case "repulsion2":case "repulsion":c.addBehavior(new C.data.BehaviorData("normal",[0],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("above",[1],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("enable",[2],!0,1,0,0));break;case "attraction":case "attraction2":c.addBehavior(new C.data.BehaviorData("normal",[0],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("above",[1],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("enable",
[2],!0,1,0,0));break;case "creator":c.addBehavior(new C.data.BehaviorData("normal",[0],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("above",[1],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("enable",[2],!0,1,0,0));break;case "hook":c.addBehavior(new C.data.BehaviorData("normal",[0],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("above",[1],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("enable",[2],!0,1,0,0));break;case "pig":c.addBehavior(new C.data.BehaviorData("normalCircle",[0],!0,
1,0,0));c.addBehavior(new C.data.BehaviorData("sleepCircle",[1],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("normalBox",[2],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("sleepBox",[3],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("failBox",[4],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("failCircle",[5],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("dirtyBox",[6],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("dirtyCircle",[7],!0,1,0,0));break;case "lIcons":c.addBehavior(new C.data.BehaviorData("0",
[0],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("1",[1],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("2",[2],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("3",[3],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("4",[4],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("5",[5],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("6",[6],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("7",[7],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("8",[8],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("9",
[9],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("10",[10],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("11",[11],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("12",[12],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("13",[13],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("14",[14],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("15",[15],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("16",[16],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("17",[17],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("18",
[18],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("19",[19],!0,1,0,0));c.addBehavior(new C.data.BehaviorData("20",[20],!0,1,0,0));break;default:c.addBehavior(new C.data.BehaviorData("enable",[0,1,2,3,4,5,6,7,8,9],!1,1,24,24))}return new C.AnimatedSprite(c,!0)};l.resizeStage=function(a){a.set_scaleX(l.W);a.set_scaleY(l.H)};l.resize2=function(a,b){var d,c,e=c=1;l.normalStage.set_scaleX(1);l.shutterLayer.set_scaleX(e);l.upperLayer.set_scaleX(e);l.gameSpace.set_scaleX(e);e=1;l.normalStage.set_scaleY(e);
l.shutterLayer.set_scaleY(e);l.upperLayer.set_scaleY(e);l.gameSpace.set_scaleY(e);e=l.getWidth();c=l.getHeight();var g=l.W,p=l.H;0!=e&&(p>b?(d=a/g,c=b/p,d=c=d<c?d:c,l.normalStage.set_scaleX(d),l.shutterLayer.set_scaleX(d),l.upperLayer.set_scaleX(d),l.gameSpace.set_scaleX(d),d=c,l.normalStage.set_scaleY(d),l.shutterLayer.set_scaleY(d),l.upperLayer.set_scaleY(d),l.gameSpace.set_scaleY(d),d=a/2-g*c/2,l.normalStage.set_x(d),l.shutterLayer.set_x(d),l.upperLayer.set_x(d),l.gameSpace.set_x(d)):c>b&&(d=a/
e,c=b/c,d=c=d<c?d:c,l.normalStage.set_scaleX(d),l.shutterLayer.set_scaleX(d),l.upperLayer.set_scaleX(d),l.gameSpace.set_scaleX(d),d=c,l.normalStage.set_scaleY(d),l.shutterLayer.set_scaleY(d),l.upperLayer.set_scaleY(d),l.gameSpace.set_scaleY(d),d=a/2-e*c/2,l.normalStage.set_x(d),l.shutterLayer.set_x(d),l.upperLayer.set_x(d),l.gameSpace.set_x(d)))};l.getWidth=function(){return h.Lib.get_current().get_stage().get_stageWidth()};l.getHeight=function(){return h.Lib.get_current().get_stage().get_stageHeight()};
l.orientation=function(){v.Log.trace("show rotate",{fileName:"Storage.hx",lineNumber:1057,className:"Storage",methodName:"orientation"})};l.initImage=function(a){var b;b=h.Assets.getBitmapData("img/game/"+a+".png");switch(a){case "node1":a=C.importers.BitmapImporter.create(b,1,1,b.component.width,b.component.height);a.addBehavior(new C.data.BehaviorData("normal",[0],!0,1,b.component.width/2,b.component.height/2-2));break;case "rotate":a=C.importers.BitmapImporter.create(b,1,1,b.component.width,b.component.height);
a.addBehavior(new C.data.BehaviorData("normal",[0],!0,1));break;case "pause":a=C.importers.BitmapImporter.create(b,1,1,b.component.width,b.component.height);a.addBehavior(new C.data.BehaviorData("normal",[0],!0,1));break;default:a=C.importers.BitmapImporter.create(b,1,1,b.component.width,b.component.height),a.addBehavior(new C.data.BehaviorData("normal",[0],!0,1,b.component.width/2,b.component.height/2))}b=new C.AnimatedSprite(a,!0);b.showBehavior("normal");return b};l.addMask=function(){var a=new h.display.Sprite;
a.get_graphics().beginFill(0);a.get_graphics().moveTo(0,0);a.get_graphics().lineTo(-720,0);a.get_graphics().lineTo(-720,480);a.get_graphics().lineTo(0,480);a.get_graphics().endFill();l.upperLayer.addChild(a);a=new h.display.Sprite;a.get_graphics().beginFill(0);a.get_graphics().moveTo(720,0);a.get_graphics().lineTo(1440,0);a.get_graphics().lineTo(1440,480);a.get_graphics().lineTo(720,480);a.get_graphics().endFill();l.upperLayer.addChild(a);a=new h.display.Sprite;a.get_graphics().beginFill(0);a.get_graphics().moveTo(-720,
480);a.get_graphics().lineTo(-720,960);a.get_graphics().lineTo(1440,960);a.get_graphics().lineTo(1440,480);a.get_graphics().endFill();l.upperLayer.addChild(a)};l.getPointsFromString=function(a,b){if("0"!=a){var d=a.split(" "),c=[],e=[];if(3<=d.length)for(var g=0,p=d.length;g<p;){var x=g++;c.push(d[x]|0)}d=0;for(g=c.length/2|0;d<g;){p=d++;x=new f.geom.Vec2(0,0);x.set_x(c[2*p]);x.set_y(c[2*p+1]);var B=x;B.set_x(function(a){if(null!=B&&B.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
B.zpp_inner.validate();return B.zpp_inner.x}(this)-function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this));var h=x;h.set_y(function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.y}(this)-function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this));e.push(x)}return e}return[]};
l.__super__=h.display.Sprite;l.prototype=F(h.display.Sprite.prototype,{__class__:l});var wa=function(){this.b=""};m.StringBuf=wa;wa.__name__=["StringBuf"];wa.prototype={b:null,add:function(a){this.b+=H.string(a)},__class__:wa};var O=function(){};m.StringTools=O;O.__name__=["StringTools"];O.urlEncode=function(a){return encodeURIComponent(a)};O.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):
a};O.startsWith=function(a,b){return a.length>=b.length&&Q.substr(a,0,b.length)==b};O.isSpace=function(a,b){var d=Q.cca(a,b);return 8<d&&14>d||32==d};O.ltrim=function(a){for(var b=a.length,d=0;d<b&&O.isSpace(a,d);)d++;return 0<d?Q.substr(a,d,b-d):a};O.rtrim=function(a){for(var b=a.length,d=0;d<b&&O.isSpace(a,b-d-1);)d++;return 0<d?Q.substr(a,0,b-d):a};O.trim=function(a){return O.ltrim(O.rtrim(a))};O.replace=function(a,b,d){return a.split(b).join(d)};O.hex=function(a,b){var d="";do d="0123456789ABCDEF".charAt(a&
15)+d,a>>>=4;while(0<a);if(null!=b)for(;d.length<b;)d="0"+d;return d};O.fastCodeAt=function(a,b){return a.charCodeAt(b)};var U=m.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};U.TNull=["TNull",0];U.TNull.__enum__=U;U.TInt=["TInt",1];U.TInt.__enum__=U;U.TFloat=["TFloat",2];U.TFloat.__enum__=U;U.TBool=["TBool",3];U.TBool.__enum__=U;U.TObject=["TObject",4];U.TObject.__enum__=U;U.TFunction=["TFunction",5];U.TFunction.__enum__=
U;U.TClass=function(a){a=["TClass",6,a];a.__enum__=U;return a};U.TEnum=function(a){a=["TEnum",7,a];a.__enum__=U;return a};U.TUnknown=["TUnknown",8];U.TUnknown.__enum__=U;var S=function(){};m.Type=S;S.__name__=["Type"];S.getClass=function(a){return null==a?null:E.Boot.getClass(a)};S.getClassName=function(a){return a.__name__.join(".")};S.getEnumName=function(a){return a.__ename__.join(".")};S.resolveClass=function(a){a=m[a];return null!=a&&a.__name__?a:null};S.resolveEnum=function(a){a=m[a];return null!=
a&&a.__ename__?a:null};S.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};S.createEmptyInstance=function(a){function b(){}
b.prototype=a.prototype;return new b};S.createEnum=function(a,b,d){var c=J.field(a,b);if(null==c)throw"No such constructor "+b;if(J.isFunction(c)){if(null==d)throw"Constructor "+b+" need parameters";return c.apply(a,d)}if(null!=d&&0!=d.length)throw"Constructor "+b+" does not need parameters";return c};S.getInstanceFields=function(a){var b=[],d;for(d in a.prototype)b.push(d);Q.remove(b,"__class__");Q.remove(b,"__properties__");return b};S.getEnumConstructs=function(a){return a.__constructs__.slice()};
S["typeof"]=function(a){switch(typeof a){case "boolean":return U.TBool;case "string":return U.TClass(String);case "number":return Math.ceil(a)==a%2147483648?U.TInt:U.TFloat;case "object":if(null==a)return U.TNull;var b=a.__enum__;if(null!=b)return U.TEnum(b);a=E.Boot.getClass(a);return null!=a?U.TClass(a):U.TObject;case "function":return a.__name__||a.__ename__?U.TObject:U.TFunction;case "undefined":return U.TNull;default:return U.TUnknown}};v.StackItem=m["haxe.StackItem"]={__ename__:["haxe","StackItem"],
__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};v.StackItem.CFunction=["CFunction",0];v.StackItem.CFunction.__enum__=v.StackItem;v.StackItem.Module=function(a){a=["Module",1,a];a.__enum__=v.StackItem;return a};v.StackItem.FilePos=function(a,b,d){a=["FilePos",2,a,b,d];a.__enum__=v.StackItem;return a};v.StackItem.Method=function(a,b){var d=["Method",3,a,b];d.__enum__=v.StackItem;return d};v.StackItem.LocalFunction=function(a){a=["LocalFunction",4,a];a.__enum__=v.StackItem;
return a};v.CallStack=function(){};m["haxe.CallStack"]=v.CallStack;v.CallStack.__name__=["haxe","CallStack"];v.CallStack.getStack=function(a){if(null==a)return[];var b=Error.prepareStackTrace;Error.prepareStackTrace=function(a,b){for(var c=[],g=0;g<b.length;){var p=b[g];++g;null!=v.CallStack.wrapCallSite&&(p=v.CallStack.wrapCallSite(p));var f=null,B=p.getFunctionName();if(null!=B){var h=B.lastIndexOf(".");0<=h&&(f=Q.substr(B,0,h),B=Q.substr(B,h+1,null),f=v.StackItem.Method(f,B))}c.push(v.StackItem.FilePos(f,
p.getFileName(),p.getLineNumber()))}return c};a=v.CallStack.makeStack(a.stack);Error.prepareStackTrace=b;return a};v.CallStack.callStack=function(){try{throw Error();}catch(a){var b=v.CallStack.getStack(a);b.shift();return b}};v.CallStack.exceptionStack=function(){return v.CallStack.getStack(v.CallStack.lastException)};v.CallStack.toString=function(a){for(var b=new wa,d=0;d<a.length;){var c=a[d];++d;b.b+="\nCalled from ";v.CallStack.itemToString(b,c)}return b.b};v.CallStack.itemToString=function(a,
b){switch(b[1]){case 0:a.b+="a C function";break;case 1:var d=b[2];a.b+="module ";a.b=null==d?a.b+"null":a.b+(""+d);break;case 2:var d=b[4],c=b[3],e=b[2];null!=e&&(v.CallStack.itemToString(a,e),a.b+=" (");a.b=null==c?a.b+"null":a.b+(""+c);a.b+=" line ";a.b=null==d?a.b+"null":a.b+(""+d);null!=e&&(a.b+=")");break;case 3:d=b[3];c=b[2];a.b=null==c?a.b+"null":a.b+(""+c);a.b+=".";a.b=null==d?a.b+"null":a.b+(""+d);break;case 4:d=b[2],a.b+="local function #",a.b=null==d?a.b+"null":a.b+(""+d)}};v.CallStack.makeStack=
function(a){if(null==a)return[];if("string"==typeof a){a=a.split("\n");"Error"==a[0]&&a.shift();for(var b=[],d=new ca("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),c=0;c<a.length;){var e=a[c];++c;if(d.match(e)){var e=d.matched(1).split("."),g=e.pop(),p=d.matched(2),f=H.parseInt(d.matched(3));b.push(v.StackItem.FilePos("Anonymous function"==g?v.StackItem.LocalFunction():"Global code"==g?null:v.StackItem.Method(e.join("."),g),p,f))}else b.push(v.StackItem.Module(O.trim(e)))}return b}return a};
v.Log=function(){};m["haxe.Log"]=v.Log;v.Log.__name__=["haxe","Log"];v.Log.trace=function(a,b){E.Boot.__trace(a,b)};v.Resource=function(){};m["haxe.Resource"]=v.Resource;v.Resource.__name__=["haxe","Resource"];v.Resource.listNames=function(){for(var a=[],b=0,d=v.Resource.content;b<d.length;){var c=d[b];++b;a.push(c.name)}return a};v.Serializer=function(){this.buf=new wa;this.cache=[];this.useCache=v.Serializer.USE_CACHE;this.useEnumIndex=v.Serializer.USE_ENUM_INDEX;this.shash=new v.ds.StringMap;this.scount=
0};m["haxe.Serializer"]=v.Serializer;v.Serializer.__name__=["haxe","Serializer"];v.Serializer.run=function(a){var b=new v.Serializer;b.serialize(a);return b.toString()};v.Serializer.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),
this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,d=0,c=this.cache.length;d<c;){var e=d++,g=this.cache[e];if(typeof g==b&&g==a)return this.buf.b+="r",this.buf.b=null==e?this.buf.b+"null":this.buf.b+(""+e),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,d=J.fields(a);b<d.length;){var c=d[b];++b;this.serializeString(c);this.serialize(J.field(a,
c))}this.buf.b+="g"},serialize:function(a){var b=S["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);
break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var d=a.length,c=0;c<d;){var e=c++;null==a[e]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case Oa:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;
case Date:this.buf.b+="v";this.buf.add(Q.dateStr(a));break;case v.ds.StringMap:this.buf.b+="b";for(b=a.keys();b.hasNext();)d=b.next(),this.serializeString(d),this.serialize(a.get(d));this.buf.b+="h";break;case v.ds.IntMap:this.buf.b+="q";for(b=a.keys();b.hasNext();)d=b.next(),this.buf.b+=":",this.buf.b=null==d?this.buf.b+"null":this.buf.b+(""+d),this.serialize(a.get(d));this.buf.b+="h";break;case v.ds.ObjectMap:this.buf.b+="M";for(b=a.keys();b.hasNext();)d=b.next(),c=J.field(d,"__id__"),J.deleteField(d,
"__id__"),this.serialize(d),d.__id__=c,this.serialize(a.h[d.__id__]);this.buf.b+="h";break;case v.io.Bytes:c=0;e=a.length-2;b=new wa;for(d=v.Serializer.BASE64;c<e;){var g=a.get(c++),p=a.get(c++),f=a.get(c++);b.add(d.charAt(g>>2));b.add(d.charAt((g<<4|p>>4)&63));b.add(d.charAt((p<<2|f>>6)&63));b.add(d.charAt(f&63))}c==e?(e=a.get(c++),a=a.get(c++),b.add(d.charAt(e>>2)),b.add(d.charAt((e<<4|a>>4)&63)),b.add(d.charAt(a<<2&63))):c==e+1&&(a=a.get(c++),b.add(d.charAt(a>>2)),b.add(d.charAt(a<<4&63)));a=b.b;
this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(S.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(S.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;
this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(S.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=H.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=H.string(b-2);for(d=2;d<b;)c=d++,this.serialize(a[c]);this.useCache&&this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+
H.string(a);}},__class__:v.Serializer};v.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};m["haxe.Timer"]=v.Timer;v.Timer.__name__=["haxe","Timer"];v.Timer.delay=function(a,b){var d=new v.Timer(b);d.run=function(){d.stop();a()};return d};v.Timer.measure=function(a,b){var d=v.Timer.stamp(),c=a();v.Log.trace(v.Timer.stamp()-d+"s",b);return c};v.Timer.stamp=function(){return(new Date).getTime()/1E3};v.Timer.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),
this.id=null)},run:function(){},__class__:v.Timer};v.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=v.Unserializer.DEFAULT_RESOLVER;null==a&&(a=S,v.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};m["haxe.Unserializer"]=v.Unserializer;v.Unserializer.__name__=["haxe","Unserializer"];v.Unserializer.initCodes=function(){for(var a=[],b=0,d=v.Unserializer.BASE64.length;b<d;){var c=b++;a[v.Unserializer.BASE64.charCodeAt(c)]=c}return a};v.Unserializer.prototype=
{buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,setResolver:function(a){this.resolver=null==a?{resolveClass:function(a){return null},resolveEnum:function(a){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,d=this.pos;;){var c=this.buf.charCodeAt(this.pos);if(c!=c)break;if(45==c){if(this.pos!=d)break;b=!0}else{if(48>c||57<c)break;a=10*a+(c-48)}this.pos++}b&&(a*=-1);return a},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw"Invalid object key";var d=this.unserialize();a[b]=d}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw"Invalid enum format";var d=this.readDigits();if(0==d)return S.createEnum(a,b);for(var c=[];0<d--;)c.push(this.unserialize());return S.createEnum(a,b,c)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;
case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return H.parseFloat(Q.substr(this.buf,a,this.pos-a));case 121:a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid string length";b=Q.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;
case 112:return Math.POSITIVE_INFINITY;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw"Invalid reference";return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw"Invalid string reference";return this.scache[a];
case 120:throw this.unserialize();case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=S.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;this.pos++;var d=this.readDigits(),
c=S.getEnumConstructs(b)[d];if(null==c)throw"Unknown enum index "+a+"@"+d;a=this.unserializeEnum(b,c);this.cache.push(a);return a;case 108:a=new Oa;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new v.ds.StringMap;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new v.ds.IntMap;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),
a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw"Invalid IntMap format";return a;case 77:a=new v.ds.ObjectMap;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return a=Q.substr(this.buf,this.pos,19),a=Q.strDate(a),this.cache.push(a),this.pos+=19,a;case 115:a=this.readDigits();c=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid bytes length";var e=v.Unserializer.CODES;
null==e&&(e=v.Unserializer.initCodes(),v.Unserializer.CODES=e);for(var g=this.pos,p=a&3,f=g+(a-p),b=v.io.Bytes.alloc(3*(a>>2)+(2<=p?p-1:0)),d=0;g<f;){var h=e[O.fastCodeAt(c,g++)],w=e[O.fastCodeAt(c,g++)];b.set(d++,h<<2|w>>4);h=e[O.fastCodeAt(c,g++)];b.set(d++,w<<4|h>>2);w=e[O.fastCodeAt(c,g++)];b.set(d++,h<<6|w)}2<=p&&(w=e[O.fastCodeAt(c,g++)],f=e[O.fastCodeAt(c,g++)],b.set(d++,w<<2|f>>4),3==p&&(c=e[O.fastCodeAt(c,g++)],b.set(d++,f<<4|c>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();
b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=S.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw"Invalid custom data";return a}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},__class__:v.Unserializer};v.Utf8=function(a){this.__b=""};m["haxe.Utf8"]=v.Utf8;v.Utf8.__name__=["haxe","Utf8"];v.Utf8.prototype={__b:null,__class__:v.Utf8};v.io={};v.io.Bytes=function(a,b){this.length=a;this.b=b};
m["haxe.io.Bytes"]=v.io.Bytes;v.io.Bytes.__name__=["haxe","io","Bytes"];v.io.Bytes.alloc=function(a){for(var b=[],d=0;d<a;)d++,b.push(0);return new v.io.Bytes(a,b)};v.io.Bytes.ofString=function(a){for(var b=[],d=0;d<a.length;){var c=O.fastCodeAt(a,d++);55296<=c&&56319>=c&&(c=c-55232<<10|O.fastCodeAt(a,d++)&1023);127>=c?b.push(c):(2047>=c?b.push(192|c>>6):(65535>=c?b.push(224|c>>12):(b.push(240|c>>18),b.push(128|c>>12&63)),b.push(128|c>>6&63)),b.push(128|c&63))}return new v.io.Bytes(b.length,b)};v.io.Bytes.prototype=
{length:null,b:null,get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},__class__:v.io.Bytes};v.ds.IntMap=function(){this.h={}};m["haxe.ds.IntMap"]=v.ds.IntMap;v.ds.IntMap.__name__=["haxe","ds","IntMap"];v.ds.IntMap.__interfaces__=[Y];v.ds.IntMap.prototype={h:null,set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return Q.iter(a)},__class__:v.ds.IntMap};v.ds.StringMap=function(){this.h=
{}};m["haxe.ds.StringMap"]=v.ds.StringMap;v.ds.StringMap.__name__=["haxe","ds","StringMap"];v.ds.StringMap.__interfaces__=[Y];v.ds.StringMap.prototype={h:null,set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return Q.iter(a)},iterator:function(){return{ref:this.h,
it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref["$"+a]}}},__class__:v.ds.StringMap};v.io.Eof=function(){};m["haxe.io.Eof"]=v.io.Eof;v.io.Eof.__name__=["haxe","io","Eof"];v.io.Eof.prototype={toString:function(){return"Eof"},__class__:v.io.Eof};var E={_Boot:{}};E._Boot.HaxeError=function(a){Error.call(this);this.val=a;Object.prototype.hasOwnProperty.call(a,"name")?this.name=J.field(a,"name"):this.name="Error";Object.prototype.hasOwnProperty.call(a,
"message")?this.message=J.field(a,"message"):this.message=H.string(a);Error.captureStackTrace&&Error.captureStackTrace(this,E._Boot.HaxeError)};m["js._Boot.HaxeError"]=E._Boot.HaxeError;E._Boot.HaxeError.__name__=["js","_Boot","HaxeError"];E._Boot.HaxeError.__super__=Error;E._Boot.HaxeError.prototype=F(Error.prototype,{val:null,__class__:E._Boot.HaxeError});E.Boot=function(){};m["js.Boot"]=E.Boot;E.Boot.__name__=["js","Boot"];E.Boot.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};
E.Boot.__trace=function(a,b){var d;d=null!=b?b.fileName+":"+b.lineNumber+": ":"";d+=E.Boot.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var c=0,e=b.customParams;c<e.length;){var g=e[c];++c;d+=","+E.Boot.__string_rec(g,"")}var p;"undefined"!=typeof document&&null!=(p=document.getElementById("haxe:trace"))?p.innerHTML+=E.Boot.__unhtml(d)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(d)};E.Boot.__clear_trace=function(){var a=document.getElementById("haxe:trace");null!=
a&&(a.innerHTML="")};E.Boot.isClass=function(a){return a.__name__};E.Boot.isEnum=function(a){return a.__ename__};E.Boot.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=E.Boot.__nativeClassName(a);return null!=a?E.Boot.__resolveNativeClass(a):null};E.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var d=typeof a;"function"==d&&(a.__name__||a.__ename__)&&(d="object");switch(d){case "object":if(a instanceof
Array){if(a.__enum__){if(2==a.length)return a[0];d=a[0]+"(";b+="\t";for(var c=2,e=a.length;c<e;)var g=c++,d=2!=g?d+(","+E.Boot.__string_rec(a[g],b)):d+E.Boot.__string_rec(a[g],b);return d+")"}d=a.length;c="[";b+="\t";for(e=0;e<d;)g=e++,c+=(0<g?",":"")+E.Boot.__string_rec(a[g],b);return c+"]"}try{c=a.toString}catch(p){return"???"}if(null!=c&&c!=Object.toString&&"function"==typeof c&&(d=a.toString(),"[object Object]"!=d))return d;d=null;c="{\n";b+="\t";e=null!=a.hasOwnProperty;for(d in a)e&&!a.hasOwnProperty(d)||
"prototype"==d||"__class__"==d||"__super__"==d||"__interfaces__"==d||"__properties__"==d||(2!=c.length&&(c+=", \n"),c+=b+d+" : "+E.Boot.__string_rec(a[d],b));b=b.substring(1);return c+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};E.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var d=a.__interfaces__;if(null!=d)for(var c=0,e=d.length;c<e;){var g=c++,g=d[g];if(g==b||E.Boot.__interfLoop(g,b))return!0}return E.Boot.__interfLoop(a.__super__,
b)};E.Boot.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Qd:return(a|0)===a;case Pc:return"number"==typeof a;case Qc:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Ie:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||E.Boot.__interfLoop(E.Boot.getClass(a),b))return!0}else{if("object"==typeof b&&E.Boot.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Rc&&null!=a.__name__||
b==Je&&null!=a.__ename__?!0:a.__enum__==b}};E.Boot.__cast=function(a,b){if(E.Boot.__instanceof(a,b))return a;throw"Cannot cast "+H.string(a)+" to "+H.string(b);};E.Boot.__nativeClassName=function(a){a=E.Boot.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};E.Boot.__isNativeObj=function(a){return null!=E.Boot.__nativeClassName(a)};E.Boot.__resolveNativeClass=function(a){return Function("return typeof "+a+' != "undefined" ? '+a+" : null")()};E.Browser=function(){};
m["js.Browser"]=E.Browser;E.Browser.__name__=["js","Browser"];E.Browser.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return null}};R=void 0;R=m["lime.ui.MouseCursor"]={__ename__:["lime","ui","MouseCursor"],__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};R.ARROW=["ARROW",0];R.ARROW.__enum__=R;R.CROSSHAIR=["CROSSHAIR",1];R.CROSSHAIR.__enum__=R;R.DEFAULT=["DEFAULT",2];
R.DEFAULT.__enum__=R;R.MOVE=["MOVE",3];R.MOVE.__enum__=R;R.POINTER=["POINTER",4];R.POINTER.__enum__=R;R.RESIZE_NESW=["RESIZE_NESW",5];R.RESIZE_NESW.__enum__=R;R.RESIZE_NS=["RESIZE_NS",6];R.RESIZE_NS.__enum__=R;R.RESIZE_NWSE=["RESIZE_NWSE",7];R.RESIZE_NWSE.__enum__=R;R.RESIZE_WE=["RESIZE_WE",8];R.RESIZE_WE.__enum__=R;R.TEXT=["TEXT",9];R.TEXT.__enum__=R;R.WAIT=["WAIT",10];R.WAIT.__enum__=R;R.WAIT_ARROW=["WAIT_ARROW",11];R.WAIT_ARROW.__enum__=R;R.CUSTOM=["CUSTOM",12];R.CUSTOM.__enum__=R;var n={actuators:{}};
n.actuators.IGenericActuator=function(){};m["motion.actuators.IGenericActuator"]=n.actuators.IGenericActuator;n.actuators.IGenericActuator.__name__=["motion","actuators","IGenericActuator"];n.actuators.IGenericActuator.prototype={autoVisible:null,delay:null,ease:null,onComplete:null,onRepeat:null,onUpdate:null,reflect:null,repeat:null,reverse:null,smartRotation:null,snapping:null,onPause:null,onResume:null,apply:null,move:null,pause:null,resume:null,stop:null,__class__:n.actuators.IGenericActuator};
n.actuators.GenericActuator=function(a,b,d){this._autoVisible=!0;this._delay=0;this._reflect=!1;this._repeat=0;this.special=this._snapping=this._smartRotation=this._reverse=!1;this.target=a;this.properties=d;this.duration=b;this._ease=n.Actuate.defaultEase};m["motion.actuators.GenericActuator"]=n.actuators.GenericActuator;n.actuators.GenericActuator.__name__=["motion","actuators","GenericActuator"];n.actuators.GenericActuator.__interfaces__=[n.actuators.IGenericActuator];n.actuators.GenericActuator.prototype=
{duration:null,id:null,properties:null,target:null,_autoVisible:null,_delay:null,_ease:null,_onComplete:null,_onCompleteParams:null,_onRepeat:null,_onRepeatParams:null,_onUpdate:null,_onUpdateParams:null,_onResume:null,_onResumeParams:null,_onPause:null,_onPauseParams:null,_reflect:null,_repeat:null,_reverse:null,_smartRotation:null,_snapping:null,special:null,apply:function(){for(var a=0,b=J.fields(this.properties);a<b.length;){var d=b[a];++a;Object.prototype.hasOwnProperty.call(this.target,d)?J.setField(this.target,
d,J.field(this.properties,d)):J.setProperty(this.target,d,J.field(this.properties,d))}},autoVisible:function(a){null==a&&(a=!0);this._autoVisible=a;return this},callMethod:function(a,b){null==b&&(b=[]);return a.apply(a,b)},change:function(){null!=this._onUpdate&&this.callMethod(this._onUpdate,this._onUpdateParams)},complete:function(a){null==a&&(a=!0);a&&(this.change(),null!=this._onComplete&&this.callMethod(this._onComplete,this._onCompleteParams));n.Actuate.unload(this)},delay:function(a){this._delay=
a;return this},ease:function(a){this._ease=a;return this},move:function(){},onComplete:function(a,b){this._onComplete=a;this._onCompleteParams=null==b?[]:b;0==this.duration&&this.complete();return this},onRepeat:function(a,b){this._onRepeat=a;this._onRepeatParams=null==b?[]:b;return this},onUpdate:function(a,b){this._onUpdate=a;this._onUpdateParams=null==b?[]:b;return this},onPause:function(a,b){this._onPause=a;this._onPauseParams=null==b?[]:b;return this},onResume:function(a,b){this._onResume=a;
this._onResumeParams=null==b?[]:b;return this},pause:function(){null!=this._onPause&&this.callMethod(this._onPause,this._onPauseParams)},reflect:function(a){null==a&&(a=!0);this._reflect=a;this.special=!0;return this},repeat:function(a){null==a&&(a=-1);this._repeat=a;return this},resume:function(){null!=this._onResume&&this.callMethod(this._onResume,this._onResumeParams)},reverse:function(a){null==a&&(a=!0);this._reverse=a;this.special=!0;return this},smartRotation:function(a){null==a&&(a=!0);this._smartRotation=
a;this.special=!0;return this},snapping:function(a){null==a&&(a=!0);this._snapping=a;this.special=!0;return this},stop:function(a,b,d){},__class__:n.actuators.GenericActuator};n.actuators.SimpleActuator=function(a,b,d){this.active=!0;this.propertyDetails=[];this.toggleVisible=this.setVisible=this.initialized=this.cacheVisible=this.paused=this.sendChange=!1;this.startTime=h.Lib.getTimer()/1E3;n.actuators.GenericActuator.call(this,a,b,d);n.actuators.SimpleActuator.addedEvent||(n.actuators.SimpleActuator.addedEvent=
!0,h.Lib.get_current().get_stage().addEventListener("enterFrame",n.actuators.SimpleActuator.stage_onEnterFrame))};m["motion.actuators.SimpleActuator"]=n.actuators.SimpleActuator;n.actuators.SimpleActuator.__name__=["motion","actuators","SimpleActuator"];n.actuators.SimpleActuator.stage_onEnterFrame=function(a){a=h.Lib.getTimer()/1E3;for(var b,d=0,c=0,e=n.actuators.SimpleActuator.actuatorsLength;c<e;)c++,b=n.actuators.SimpleActuator.actuators[d],null!=b&&b.active?(a>=b.timeOffset&&b.update(a),d++):
(n.actuators.SimpleActuator.actuators.splice(d,1),--n.actuators.SimpleActuator.actuatorsLength)};n.actuators.SimpleActuator.__super__=n.actuators.GenericActuator;n.actuators.SimpleActuator.prototype=F(n.actuators.GenericActuator.prototype,{setField_motion_actuators_SimpleActuator_T:function(a,b,d){Object.prototype.hasOwnProperty.call(a,b)?a[b]=d:J.setProperty(a,b,d)},timeOffset:null,active:null,cacheVisible:null,detailsLength:null,initialized:null,paused:null,pauseTime:null,propertyDetails:null,sendChange:null,
setVisible:null,startTime:null,toggleVisible:null,autoVisible:function(a){null==a&&(a=!0);this._autoVisible=a;a||(this.toggleVisible=!1,this.setVisible&&this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",this.cacheVisible));return this},delay:function(a){this._delay=a;this.timeOffset=this.startTime+a;return this},getField:function(a,b){var d=null;return d=Object.prototype.hasOwnProperty.call(a,b)?J.field(a,b):J.getProperty(a,b)},initialize:function(){for(var a,b=0,d=J.fields(this.properties);b<
d.length;){var c=d[b];++b;var e=!0;!Object.prototype.hasOwnProperty.call(this.target,c)||this.target.__properties__&&this.target.__properties__["set_"+c]?(e=!1,a=J.getProperty(this.target,c)):a=J.field(this.target,c);if("number"==typeof a){var g=this.getField(this.properties,c);null==a&&(a=0);null==g&&(g=0);a=new n.actuators.PropertyDetails(this.target,c,a,g-a,e);this.propertyDetails.push(a)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},move:function(){(this.toggleVisible=Object.prototype.hasOwnProperty.call(this.properties,
"alpha")&&E.Boot.__instanceof(this.target,h.display.DisplayObject))&&0!=this.properties.alpha&&!this.getField(this.target,"visible")&&(this.setVisible=!0,this.cacheVisible=this.getField(this.target,"visible"),this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!0));this.timeOffset=this.startTime;n.actuators.SimpleActuator.actuators.push(this);++n.actuators.SimpleActuator.actuatorsLength},onUpdate:function(a,b){this._onUpdate=a;this._onUpdateParams=null==b?[]:b;this.sendChange=!0;
return this},pause:function(){this.paused||(this.paused=!0,n.actuators.GenericActuator.prototype.pause.call(this),this.pauseTime=h.Lib.getTimer())},resume:function(){this.paused&&(this.paused=!1,this.timeOffset+=(h.Lib.getTimer()-this.pauseTime)/1E3,n.actuators.GenericActuator.prototype.resume.call(this))},setProperty:function(a,b){a.isField?a.target[a.propertyName]=b:J.setProperty(a.target,a.propertyName,b)},stop:function(a,b,d){if(this.active)if(null==a)this.active=!1,b&&this.apply(),this.complete(d);
else{var c=0;for(a=J.fields(a);c<a.length;){var e=a[c];++c;if(Object.prototype.hasOwnProperty.call(this.properties,e)){this.active=!1;b&&this.apply();this.complete(d);break}}}},update:function(a){if(!this.paused){var b,d,c=(a-this.timeOffset)/this.duration;1<c&&(c=1);this.initialized||this.initialize();if(this.special){d=this._reverse?this._ease.calculate(1-c):this._ease.calculate(c);for(var e,g=0,p=this.detailsLength;g<p;)b=g++,b=this.propertyDetails[b],!this._smartRotation||"rotation"!=b.propertyName&&
"rotationX"!=b.propertyName&&"rotationY"!=b.propertyName&&"rotationZ"!=b.propertyName?e=b.start+b.change*d:(e=b.change%360,180<e?e-=360:-180>e&&(e+=360),e=b.start+e*d),this._snapping?this.setProperty(b,Math.round(e)):b.isField?b.target[b.propertyName]=e:J.setProperty(b.target,b.propertyName,e)}else for(d=this._ease.calculate(c),g=0,p=this.detailsLength;g<p;)b=g++,b=this.propertyDetails[b],this.setProperty(b,b.start+b.change*d);if(1==c){if(0==this._repeat){this.active=!1;this.toggleVisible&&0==this.getField(this.target,
"alpha")&&this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!1);this.complete(!0);return}null!=this._onRepeat&&this.callMethod(this._onRepeat,this._onRepeatParams);this._reflect&&(this._reverse=!this._reverse);this.startTime=a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:n.actuators.SimpleActuator});n.easing={};n.easing.Expo=function(){};m["motion.easing.Expo"]=n.easing.Expo;n.easing.Expo.__name__=["motion",
"easing","Expo"];n.easing.Expo.__properties__={get_easeOut:"get_easeOut",get_easeInOut:"get_easeInOut",get_easeIn:"get_easeIn"};n.easing.Expo.get_easeIn=function(){return new n.easing.ExpoEaseIn};n.easing.Expo.get_easeInOut=function(){return new n.easing.ExpoEaseInOut};n.easing.Expo.get_easeOut=function(){return new n.easing.ExpoEaseOut};n.easing.IEasing=function(){};m["motion.easing.IEasing"]=n.easing.IEasing;n.easing.IEasing.__name__=["motion","easing","IEasing"];n.easing.IEasing.prototype={calculate:null,
ease:null,__class__:n.easing.IEasing};n.easing.ExpoEaseOut=function(){};m["motion.easing.ExpoEaseOut"]=n.easing.ExpoEaseOut;n.easing.ExpoEaseOut.__name__=["motion","easing","ExpoEaseOut"];n.easing.ExpoEaseOut.__interfaces__=[n.easing.IEasing];n.easing.ExpoEaseOut.prototype={calculate:function(a){return 1==a?1:1-Math.pow(2,-10*a)},ease:function(a,b,d,c){return a==c?b+d:d*(1-Math.pow(2,-10*a/c))+b},__class__:n.easing.ExpoEaseOut};n.Actuate=function(){};m["motion.Actuate"]=n.Actuate;n.Actuate.__name__=
["motion","Actuate"];n.Actuate.apply=function(a,b,d){n.Actuate.stop(a,b);null==d&&(d=n.Actuate.defaultActuator);a=S.createInstance(d,[a,0,b]);a.apply();return a};n.Actuate.effects=function(a,b,d){null==d&&(d=!0);return new n._Actuate.EffectsOptions(a,b,d)};n.Actuate.getLibrary=function(a,b){null==b&&(b=!0);null==n.Actuate.targetLibraries.h.__keys__[a.__id__]&&b&&n.Actuate.targetLibraries.set(a,[]);return n.Actuate.targetLibraries.h[a.__id__]};n.Actuate.isActive=function(){for(var a=!1,b=n.Actuate.targetLibraries.iterator();b.hasNext();){b.next();
a=!0;break}return a};n.Actuate.motionPath=function(a,b,d,c){null==c&&(c=!0);return n.Actuate.tween(a,b,d,c,n.actuators.MotionPathActuator)};n.Actuate.pause=function(a){if(E.Boot.__instanceof(a,n.actuators.IGenericActuator))a.pause();else if(a=n.Actuate.getLibrary(a,!1),null!=a)for(var b=0;b<a.length;){var d=a[b];++b;d.pause()}};n.Actuate.pauseAll=function(){for(var a=n.Actuate.targetLibraries.iterator();a.hasNext();)for(var b=a.next(),d=0;d<b.length;){var c=b[d];++d;c.pause()}};n.Actuate.reset=function(){for(var a=
n.Actuate.targetLibraries.iterator();a.hasNext();)for(var b=a.next(),d=b.length-1;0<=d;)b[d].stop(null,!1,!1),d--;n.Actuate.targetLibraries=new v.ds.ObjectMap};n.Actuate.resume=function(a){if(E.Boot.__instanceof(a,n.actuators.IGenericActuator))a.resume();else if(a=n.Actuate.getLibrary(a,!1),null!=a)for(var b=0;b<a.length;){var d=a[b];++b;d.resume()}};n.Actuate.resumeAll=function(){for(var a=n.Actuate.targetLibraries.iterator();a.hasNext();)for(var b=a.next(),d=0;d<b.length;){var c=b[d];++d;c.resume()}};
n.Actuate.stop=function(a,b,d,c){null==c&&(c=!0);null==d&&(d=!1);if(null!=a)if(E.Boot.__instanceof(a,n.actuators.IGenericActuator))a.stop(null,d,c);else if(a=n.Actuate.getLibrary(a,!1),null!=a){if("string"==typeof b){var e={};J.setField(e,b,null);b=e}else if(b instanceof Array&&null==b.__enum__){var e={},g=0;for(b=E.Boot.__cast(b,Array);g<b.length;){var p=b[g];++g;J.setField(e,p,null)}b=e}for(e=a.length-1;0<=e;)a[e].stop(b,d,c),e--}};n.Actuate.timer=function(a,b){return n.Actuate.tween(new n._Actuate.TweenTimer(0),
a,new n._Actuate.TweenTimer(1),!1,b)};n.Actuate.transform=function(a,b,d){null==d&&(d=!0);null==b&&(b=0);return new n._Actuate.TransformOptions(a,b,d)};n.Actuate.tween=function(a,b,d,c,e){null==c&&(c=!0);if(null!=a){if(0<b){null==e&&(e=n.Actuate.defaultActuator);a=S.createInstance(e,[a,b,d]);b=n.Actuate.getLibrary(a.target);if(c){for(c=b.length-1;0<=c;)b[c].stop(a.properties,!1,!1),c--;b=n.Actuate.getLibrary(a.target)}b.push(a);a.move();return a}return n.Actuate.apply(a,d,e)}return null};n.Actuate.unload=
function(a){var b=a.target;null!=n.Actuate.targetLibraries.h.__keys__[b.__id__]&&(Q.remove(n.Actuate.targetLibraries.h[b.__id__],a),0==n.Actuate.targetLibraries.h[b.__id__].length&&n.Actuate.targetLibraries.remove(b))};n.Actuate.update=function(a,b,d,c,e){null==e&&(e=!0);return n.Actuate.tween(a,b,{start:d,end:c},e,n.actuators.MethodActuator)};n._Actuate={};n._Actuate.EffectsOptions=function(a,b,d){this.target=a;this.duration=b;this.overwrite=d};m["motion._Actuate.EffectsOptions"]=n._Actuate.EffectsOptions;
n._Actuate.EffectsOptions.__name__=["motion","_Actuate","EffectsOptions"];n._Actuate.EffectsOptions.prototype={duration:null,overwrite:null,target:null,filter:function(a,b){b.filter=a;return n.Actuate.tween(this.target,this.duration,b,this.overwrite,n.actuators.FilterActuator)},__class__:n._Actuate.EffectsOptions};n._Actuate.TransformOptions=function(a,b,d){this.target=a;this.duration=b;this.overwrite=d};m["motion._Actuate.TransformOptions"]=n._Actuate.TransformOptions;n._Actuate.TransformOptions.__name__=
["motion","_Actuate","TransformOptions"];n._Actuate.TransformOptions.prototype={duration:null,overwrite:null,target:null,color:function(a,b,d){null==b&&(b=1);null==a&&(a=0);a={colorValue:a,colorStrength:b};null!=d&&(a.colorAlpha=d);return n.Actuate.tween(this.target,this.duration,a,this.overwrite,n.actuators.TransformActuator)},sound:function(a,b){var d={};null!=a&&(d.soundVolume=a);null!=b&&(d.soundPan=b);return n.Actuate.tween(this.target,this.duration,d,this.overwrite,n.actuators.TransformActuator)},
__class__:n._Actuate.TransformOptions};n._Actuate.TweenTimer=function(a){this.progress=a};m["motion._Actuate.TweenTimer"]=n._Actuate.TweenTimer;n._Actuate.TweenTimer.__name__=["motion","_Actuate","TweenTimer"];n._Actuate.TweenTimer.prototype={progress:null,__class__:n._Actuate.TweenTimer};n.MotionPath=function(){this._x=new n.ComponentPath;this._y=new n.ComponentPath;this._rotation=null};m["motion.MotionPath"]=n.MotionPath;n.MotionPath.__name__=["motion","MotionPath"];n.MotionPath.prototype={rotation:null,
x:null,y:null,_rotation:null,_x:null,_y:null,bezier:function(a,b,d,c,e){null==e&&(e=1);this._x.addPath(new n.BezierPath(a,d,e));this._y.addPath(new n.BezierPath(b,c,e));return this},line:function(a,b,d){null==d&&(d=1);this._x.addPath(new n.LinearPath(a,d));this._y.addPath(new n.LinearPath(b,d));return this},get_rotation:function(){null==this._rotation&&(this._rotation=new n.RotationPath(this._x,this._y));return this._rotation},get_x:function(){return this._x},get_y:function(){return this._y},__class__:n.MotionPath,
__properties__:{get_y:"get_y",get_x:"get_x",get_rotation:"get_rotation"}};n.IComponentPath=function(){};m["motion.IComponentPath"]=n.IComponentPath;n.IComponentPath.__name__=["motion","IComponentPath"];n.IComponentPath.prototype={end:null,start:null,calculate:null,__class__:n.IComponentPath};n.ComponentPath=function(){this.paths=[];this.totalStrength=this.start=0};m["motion.ComponentPath"]=n.ComponentPath;n.ComponentPath.__name__=["motion","ComponentPath"];n.ComponentPath.__interfaces__=[n.IComponentPath];
n.ComponentPath.prototype={start:null,end:null,paths:null,totalStrength:null,addPath:function(a){this.paths.push(a);this.totalStrength+=a.strength},calculate:function(a){if(1==this.paths.length)return this.paths[0].calculate(this.start,a);a*=this.totalStrength;for(var b=this.start,d=0,c=this.paths;d<c.length;){var e=c[d];++d;if(a>e.strength)a-=e.strength,b=e.end;else return e.calculate(b,a/e.strength)}return 0},get_end:function(){return 0<this.paths.length?this.paths[this.paths.length-1].end:this.start},
__class__:n.ComponentPath,__properties__:{get_end:"get_end"}};n.BezierPath=function(a,b,d){this.end=a;this.control=b;this.strength=d};m["motion.BezierPath"]=n.BezierPath;n.BezierPath.__name__=["motion","BezierPath"];n.BezierPath.prototype={control:null,end:null,strength:null,calculate:function(a,b){return(1-b)*(1-b)*a+2*(1-b)*b*this.control+b*b*this.end},__class__:n.BezierPath};n.LinearPath=function(a,b){n.BezierPath.call(this,a,0,b)};m["motion.LinearPath"]=n.LinearPath;n.LinearPath.__name__=["motion",
"LinearPath"];n.LinearPath.__super__=n.BezierPath;n.LinearPath.prototype=F(n.BezierPath.prototype,{calculate:function(a,b){return a+b*(this.end-a)},__class__:n.LinearPath});n.RotationPath=function(a,b){this.step=.01;this._x=a;this._y=b;this.offset=0;this.start=this.calculate(0)};m["motion.RotationPath"]=n.RotationPath;n.RotationPath.__name__=["motion","RotationPath"];n.RotationPath.__interfaces__=[n.IComponentPath];n.RotationPath.prototype={end:null,offset:null,start:null,step:null,_x:null,_y:null,
calculate:function(a){var b=this._x.calculate(a)-this._x.calculate(a+this.step);a=this._y.calculate(a)-this._y.calculate(a+this.step);b=Math.atan2(a,b)*(180/Math.PI);return b=(b+this.offset)%360},get_end:function(){return this.calculate(1)},__class__:n.RotationPath,__properties__:{get_end:"get_end"}};n.actuators.FilterActuator=function(a,b,d){this.filterIndex=-1;n.actuators.SimpleActuator.call(this,a,b,d);if(E.Boot.__instanceof(d.filter,Rc))for(this.filterClass=d.filter,0==a.get_filters().length&&
a.set_filters([S.createInstance(this.filterClass,[])]),b=0,a=a.get_filters();b<a.length;)d=a[b],++b,E.Boot.__instanceof(d,this.filterClass)&&(this.filter=d);else this.filterIndex=d.filter,this.filter=a.get_filters()[this.filterIndex]};m["motion.actuators.FilterActuator"]=n.actuators.FilterActuator;n.actuators.FilterActuator.__name__=["motion","actuators","FilterActuator"];n.actuators.FilterActuator.__super__=n.actuators.SimpleActuator;n.actuators.FilterActuator.prototype=F(n.actuators.SimpleActuator.prototype,
{setField_openfl_display_DisplayObject:function(a,b,d){Object.prototype.hasOwnProperty.call(a,b)?a[b]=d:J.setProperty(a,b,d)},filter:null,filterClass:null,filterIndex:null,apply:function(){for(var a=0,b=J.fields(this.properties);a<b.length;){var d=b[a];++a;"filter"!=d&&J.setField(this.filter,d,J.field(this.properties,d))}a=this.getField(this.target,"filters");J.setField(a,this.properties.filter,this.filter);this.setField_openfl_display_DisplayObject(this.target,"filters",a)},initialize:function(){for(var a,
b=0,d=J.fields(this.properties);b<d.length;){var c=d[b];++b;"filter"!=c&&(a=this.getField(this.filter,c),a=new n.actuators.PropertyDetails(this.filter,c,a,J.field(this.properties,c)-a),this.propertyDetails.push(a))}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){n.actuators.SimpleActuator.prototype.update.call(this,a);a=this.target.get_filters();if(-1<this.filterIndex)J.setField(a,this.properties.filter,this.filter);else for(var b=0,d=a.length;b<d;){var c=b++;
E.Boot.__instanceof(a[c],this.filterClass)&&(a[c]=this.filter)}this.setField_openfl_display_DisplayObject(this.target,"filters",a)},__class__:n.actuators.FilterActuator});n.actuators.MethodActuator=function(a,b,d){this.currentParameters=[];this.tweenProperties={};n.actuators.SimpleActuator.call(this,a,b,d);Object.prototype.hasOwnProperty.call(d,"start")||(this.properties.start=[]);Object.prototype.hasOwnProperty.call(d,"end")||(this.properties.end=this.properties.start);a=0;for(b=this.properties.start.length;a<
b;)d=a++,this.currentParameters.push(this.properties.start[d])};m["motion.actuators.MethodActuator"]=n.actuators.MethodActuator;n.actuators.MethodActuator.__name__=["motion","actuators","MethodActuator"];n.actuators.MethodActuator.__super__=n.actuators.SimpleActuator;n.actuators.MethodActuator.prototype=F(n.actuators.SimpleActuator.prototype,{currentParameters:null,tweenProperties:null,apply:function(){this.callMethod(this.target,this.properties.end)},complete:function(a){null==a&&(a=!0);for(var b=
0,d=this.properties.start.length;b<d;){var c=b++;this.currentParameters[c]=J.field(this.tweenProperties,"param"+c)}this.callMethod(this.target,this.currentParameters);n.actuators.SimpleActuator.prototype.complete.call(this,a)},initialize:function(){for(var a,b,d=0,c=this.properties.start.length;d<c;){var e=d++;a="param"+e;b=this.properties.start[e];this.tweenProperties[a]=b;if("number"==typeof b||(b|0)===b)a=new n.actuators.PropertyDetails(this.tweenProperties,a,b,this.properties.end[e]-b),this.propertyDetails.push(a)}this.detailsLength=
this.propertyDetails.length;this.initialized=!0},update:function(a){n.actuators.SimpleActuator.prototype.update.call(this,a);if(this.active&&!this.paused){a=0;for(var b=this.properties.start.length;a<b;){var d=a++;this.currentParameters[d]=J.field(this.tweenProperties,"param"+d)}this.callMethod(this.target,this.currentParameters)}},__class__:n.actuators.MethodActuator});n.actuators.MotionPathActuator=function(a,b,d){n.actuators.SimpleActuator.call(this,a,b,d)};m["motion.actuators.MotionPathActuator"]=
n.actuators.MotionPathActuator;n.actuators.MotionPathActuator.__name__=["motion","actuators","MotionPathActuator"];n.actuators.MotionPathActuator.__super__=n.actuators.SimpleActuator;n.actuators.MotionPathActuator.prototype=F(n.actuators.SimpleActuator.prototype,{setField_motion_actuators_MotionPathActuator_T:function(a,b,d){Object.prototype.hasOwnProperty.call(a,b)?a[b]=d:J.setProperty(a,b,d)},apply:function(){for(var a=0,b=J.fields(this.properties);a<b.length;){var d=b[a];++a;Object.prototype.hasOwnProperty.call(this.target,
d)?J.setField(this.target,d,E.Boot.__cast(J.field(this.properties,d),n.IComponentPath).get_end()):J.setProperty(this.target,d,E.Boot.__cast(J.field(this.properties,d),n.IComponentPath).get_end())}},initialize:function(){for(var a,b=0,d=J.fields(this.properties);b<d.length;){var c=d[b];++b;a=E.Boot.__cast(J.field(this.properties,c),n.IComponentPath);if(null!=a){var e=!0;Object.prototype.hasOwnProperty.call(this.target,c)?a.start=J.field(this.target,c):(e=!1,a.start=J.getProperty(this.target,c));a=
new n.actuators.PropertyPathDetails(this.target,c,a,e);this.propertyDetails.push(a)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){if(!this.paused){var b,d=(a-this.timeOffset)/this.duration;1<d&&(d=1);this.initialized||this.initialize();if(this.special){b=this._reverse?this._ease.calculate(1-d):this._ease.calculate(d);for(var c=0,e=this.propertyDetails;c<e.length;){var g=e[c];++c;this._snapping?g.isField?J.setField(g.target,g.propertyName,Math.round(E.Boot.__cast(g,
n.actuators.PropertyPathDetails).path.calculate(b))):J.setProperty(g.target,g.propertyName,Math.round(E.Boot.__cast(g,n.actuators.PropertyPathDetails).path.calculate(b))):g.isField?J.setField(g.target,g.propertyName,E.Boot.__cast(g,n.actuators.PropertyPathDetails).path.calculate(b)):J.setProperty(g.target,g.propertyName,E.Boot.__cast(g,n.actuators.PropertyPathDetails).path.calculate(b))}}else for(b=this._ease.calculate(d),c=0,e=this.propertyDetails;c<e.length;)g=e[c],++c,g.isField?J.setField(g.target,
g.propertyName,E.Boot.__cast(g,n.actuators.PropertyPathDetails).path.calculate(b)):J.setProperty(g.target,g.propertyName,E.Boot.__cast(g,n.actuators.PropertyPathDetails).path.calculate(b));if(1==d){if(0==this._repeat){this.active=!1;this.toggleVisible&&0==this.getField(this.target,"alpha")&&this.setField_motion_actuators_MotionPathActuator_T(this.target,"visible",!1);this.complete(!0);return}null!=this._onRepeat&&this.callMethod(this._onRepeat,this._onRepeatParams);this._reflect&&(this._reverse=!this._reverse);
this.startTime=a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:n.actuators.MotionPathActuator});n.actuators.PropertyDetails=function(a,b,d,c,e){null==e&&(e=!0);this.target=a;this.propertyName=b;this.start=d;this.change=c;this.isField=e};m["motion.actuators.PropertyDetails"]=n.actuators.PropertyDetails;n.actuators.PropertyDetails.__name__=["motion","actuators","PropertyDetails"];n.actuators.PropertyDetails.prototype={change:null,
isField:null,propertyName:null,start:null,target:null,__class__:n.actuators.PropertyDetails};n.actuators.PropertyPathDetails=function(a,b,d,c){null==c&&(c=!0);n.actuators.PropertyDetails.call(this,a,b,0,0,c);this.path=d};m["motion.actuators.PropertyPathDetails"]=n.actuators.PropertyPathDetails;n.actuators.PropertyPathDetails.__name__=["motion","actuators","PropertyPathDetails"];n.actuators.PropertyPathDetails.__super__=n.actuators.PropertyDetails;n.actuators.PropertyPathDetails.prototype=F(n.actuators.PropertyDetails.prototype,
{path:null,__class__:n.actuators.PropertyPathDetails});n.actuators.TransformActuator=function(a,b,d){n.actuators.SimpleActuator.call(this,a,b,d)};m["motion.actuators.TransformActuator"]=n.actuators.TransformActuator;n.actuators.TransformActuator.__name__=["motion","actuators","TransformActuator"];n.actuators.TransformActuator.__super__=n.actuators.SimpleActuator;n.actuators.TransformActuator.prototype=F(n.actuators.SimpleActuator.prototype,{setField_openfl_geom_Transform:function(a,b,d){Object.prototype.hasOwnProperty.call(a,
b)?a[b]=d:J.setProperty(a,b,d)},setField_motion_actuators_TransformActuator_T:function(a,b,d){Object.prototype.hasOwnProperty.call(a,b)?a[b]=d:J.setProperty(a,b,d)},endColorTransform:null,endSoundTransform:null,tweenColorTransform:null,tweenSoundTransform:null,apply:function(){this.initialize();if(null!=this.endColorTransform){var a=this.getField(this.target,"transform");this.setField_openfl_geom_Transform(a,"colorTransform",this.endColorTransform)}null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,
"soundTransform",this.endSoundTransform)},initialize:function(){Object.prototype.hasOwnProperty.call(this.properties,"colorValue")&&E.Boot.__instanceof(this.target,h.display.DisplayObject)&&this.initializeColor();(Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")||Object.prototype.hasOwnProperty.call(this.properties,"soundPan"))&&this.initializeSound();this.detailsLength=this.propertyDetails.length;this.initialized=!0},initializeColor:function(){this.endColorTransform=new h.geom.ColorTransform;
var a=this.properties.colorValue,b=this.properties.colorStrength;if(1>b){var d;.5>b?(d=1,b*=2):(d=1-2*(b-.5),b=1);this.endColorTransform.redMultiplier=d;this.endColorTransform.greenMultiplier=d;this.endColorTransform.blueMultiplier=d;this.endColorTransform.redOffset=b*(a>>16&255);this.endColorTransform.greenOffset=b*(a>>8&255);this.endColorTransform.blueOffset=b*(a&255)}else this.endColorTransform.redMultiplier=0,this.endColorTransform.greenMultiplier=0,this.endColorTransform.blueMultiplier=0,this.endColorTransform.redOffset=
a>>16&255,this.endColorTransform.greenOffset=a>>8&255,this.endColorTransform.blueOffset=a&255;a="redMultiplier greenMultiplier blueMultiplier redOffset greenOffset blueOffset".split(" ");Object.prototype.hasOwnProperty.call(this.properties,"colorAlpha")?(this.endColorTransform.alphaMultiplier=this.properties.colorAlpha,a.push("alphaMultiplier")):this.endColorTransform.alphaMultiplier=this.getField(this.target,"alpha");d=this.getField(this.target,"transform");d=this.getField(d,"colorTransform");this.tweenColorTransform=
new h.geom.ColorTransform;for(var c,b=0;b<a.length;){var e=a[b];++b;c=this.getField(d,e);c=new n.actuators.PropertyDetails(this.tweenColorTransform,e,c,this.getField(this.endColorTransform,e)-c);this.propertyDetails.push(c)}},initializeSound:function(){null==this.getField(this.target,"soundTransform")&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",new h.media.SoundTransform);var a=this.getField(this.target,"soundTransform");this.endSoundTransform=this.getField(this.target,
"soundTransform");this.tweenSoundTransform=new h.media.SoundTransform;Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")&&(this.endSoundTransform.volume=this.properties.soundVolume,this.propertyDetails.push(new n.actuators.PropertyDetails(this.tweenSoundTransform,"volume",a.volume,this.endSoundTransform.volume-a.volume)));Object.prototype.hasOwnProperty.call(this.properties,"soundPan")&&(this.endSoundTransform.pan=this.properties.soundPan,this.propertyDetails.push(new n.actuators.PropertyDetails(this.tweenSoundTransform,
"pan",a.pan,this.endSoundTransform.pan-a.pan)))},update:function(a){n.actuators.SimpleActuator.prototype.update.call(this,a);null!=this.endColorTransform&&(a=this.getField(this.target,"transform"),this.setField_openfl_geom_Transform(a,"colorTransform",this.tweenColorTransform));null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",this.tweenSoundTransform)},__class__:n.actuators.TransformActuator});n.easing.ExpoEaseIn=function(){};m["motion.easing.ExpoEaseIn"]=
n.easing.ExpoEaseIn;n.easing.ExpoEaseIn.__name__=["motion","easing","ExpoEaseIn"];n.easing.ExpoEaseIn.__interfaces__=[n.easing.IEasing];n.easing.ExpoEaseIn.prototype={calculate:function(a){return 0==a?0:Math.pow(2,10*(a-1))},ease:function(a,b,d,c){return 0==a?b:d*Math.pow(2,10*(a/c-1))+b},__class__:n.easing.ExpoEaseIn};n.easing.ExpoEaseInOut=function(){};m["motion.easing.ExpoEaseInOut"]=n.easing.ExpoEaseInOut;n.easing.ExpoEaseInOut.__name__=["motion","easing","ExpoEaseInOut"];n.easing.ExpoEaseInOut.__interfaces__=
[n.easing.IEasing];n.easing.ExpoEaseInOut.prototype={calculate:function(a){return 0==a?0:1==a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},ease:function(a,b,d,c){return 0==a?b:a==c?b+d:1>(a/=c/2)?d/2*Math.pow(2,10*(a-1))+b:d/2*(2-Math.pow(2,-10*--a))+b},__class__:n.easing.ExpoEaseInOut};n.easing.Quad=function(){};m["motion.easing.Quad"]=n.easing.Quad;n.easing.Quad.__name__=["motion","easing","Quad"];n.easing.Quad.__properties__={get_easeOut:"get_easeOut",get_easeInOut:"get_easeInOut",
get_easeIn:"get_easeIn"};n.easing.Quad.get_easeIn=function(){return new n.easing.QuadEaseIn};n.easing.Quad.get_easeInOut=function(){return new n.easing.QuadEaseInOut};n.easing.Quad.get_easeOut=function(){return new n.easing.QuadEaseOut};n.easing.QuadEaseIn=function(){};m["motion.easing.QuadEaseIn"]=n.easing.QuadEaseIn;n.easing.QuadEaseIn.__name__=["motion","easing","QuadEaseIn"];n.easing.QuadEaseIn.__interfaces__=[n.easing.IEasing];n.easing.QuadEaseIn.prototype={calculate:function(a){return a*a},
ease:function(a,b,d,c){return d*(a/=c)*a+b},__class__:n.easing.QuadEaseIn};n.easing.QuadEaseInOut=function(){};m["motion.easing.QuadEaseInOut"]=n.easing.QuadEaseInOut;n.easing.QuadEaseInOut.__name__=["motion","easing","QuadEaseInOut"];n.easing.QuadEaseInOut.__interfaces__=[n.easing.IEasing];n.easing.QuadEaseInOut.prototype={calculate:function(a){return 1>(a*=2)?.5*a*a:-.5*((a-1)*(a-3)-1)},ease:function(a,b,d,c){return 1>(a/=c/2)?d/2*a*a+b:-d/2*((a-1)*(a-3)-1)+b},__class__:n.easing.QuadEaseInOut};
n.easing.QuadEaseOut=function(){};m["motion.easing.QuadEaseOut"]=n.easing.QuadEaseOut;n.easing.QuadEaseOut.__name__=["motion","easing","QuadEaseOut"];n.easing.QuadEaseOut.__interfaces__=[n.easing.IEasing];n.easing.QuadEaseOut.prototype={calculate:function(a){return-a*(a-2)},ease:function(a,b,d,c){return-d*(a/=c)*(a-2)+b},__class__:n.easing.QuadEaseOut};f.Config=function(){};m["nape.Config"]=f.Config;f.Config.__name__=["nape","Config"];f.Config.prototype={__class__:f.Config};f.callbacks={};f.callbacks.Callback=
function(){this.zpp_inner=null;if(!c.callbacks.ZPP_Callback.internal)throw"Error: Callback cannot be instantiated derp!";};m["nape.callbacks.Callback"]=f.callbacks.Callback;f.callbacks.Callback.__name__=["nape","callbacks","Callback"];f.callbacks.Callback.prototype={zpp_inner:null,get_event:function(){return c.callbacks.ZPP_Listener.events[this.zpp_inner.event]},get_listener:function(){return this.zpp_inner.listener.outer},toString:function(){return""},__class__:f.callbacks.Callback,__properties__:{get_listener:"get_listener",
get_event:"get_event"}};f.callbacks.BodyCallback=function(){f.callbacks.Callback.call(this)};m["nape.callbacks.BodyCallback"]=f.callbacks.BodyCallback;f.callbacks.BodyCallback.__name__=["nape","callbacks","BodyCallback"];f.callbacks.BodyCallback.__super__=f.callbacks.Callback;f.callbacks.BodyCallback.prototype=F(f.callbacks.Callback.prototype,{get_body:function(){return this.zpp_inner.body.outer},toString:function(){var a;a="Cb:"+["WAKE","SLEEP"][this.zpp_inner.event-c.util.ZPP_Flags.id_CbEvent_WAKE];
a+=":"+this.zpp_inner.body.outer.toString();return a+=" : listener: "+H.string(this.zpp_inner.listener.outer)},__class__:f.callbacks.BodyCallback,__properties__:F(f.callbacks.Callback.prototype.__properties__,{get_body:"get_body"})});f.callbacks.Listener=function(){this.zpp_inner=null;if(!c.callbacks.ZPP_Listener.internal)throw"Error: Cannot instantiate Listener derp!";};m["nape.callbacks.Listener"]=f.callbacks.Listener;f.callbacks.Listener.__name__=["nape","callbacks","Listener"];f.callbacks.Listener.prototype=
{zpp_inner:null,get_type:function(){return c.callbacks.ZPP_Listener.types[this.zpp_inner.type]},get_event:function(){return c.callbacks.ZPP_Listener.events[this.zpp_inner.event]},set_event:function(a){if(null==a)throw"Error: Cannot set listener event type to null";c.callbacks.ZPP_Listener.events[this.zpp_inner.event]!=a&&(null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_BEGIN?
a=c.util.ZPP_Flags.id_CbEvent_BEGIN:(null==c.util.ZPP_Flags.CbEvent_ONGOING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_ONGOING=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_ONGOING?a=c.util.ZPP_Flags.id_CbEvent_ONGOING:(null==c.util.ZPP_Flags.CbEvent_END&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_END?a=c.util.ZPP_Flags.id_CbEvent_END:(null==c.util.ZPP_Flags.CbEvent_SLEEP&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_SLEEP=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_SLEEP?a=c.util.ZPP_Flags.id_CbEvent_SLEEP:(null==c.util.ZPP_Flags.CbEvent_WAKE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_WAKE=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_WAKE?a=c.util.ZPP_Flags.id_CbEvent_WAKE:(null==c.util.ZPP_Flags.CbEvent_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_PRE=
new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a=a==c.util.ZPP_Flags.CbEvent_PRE?c.util.ZPP_Flags.id_CbEvent_PRE:c.util.ZPP_Flags.id_CbEvent_BREAK))))),this.zpp_inner.swapEvent(a));return c.callbacks.ZPP_Listener.events[this.zpp_inner.event]},get_precedence:function(){return this.zpp_inner.precedence},set_precedence:function(a){this.zpp_inner.precedence!=a&&(this.zpp_inner.precedence=a,this.zpp_inner.invalidate_precedence());return this.zpp_inner.precedence},get_space:function(){return null==
this.zpp_inner.space?null:this.zpp_inner.space.outer},set_space:function(a){(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=a&&(null!=this.zpp_inner.space&&this.zpp_inner.space.outer.zpp_inner.wrap_listeners.remove(this),null!=a?a.zpp_inner.wrap_listeners.add(this):this.zpp_inner.space=null);return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},toString:function(){var a="BEGIN END WAKE SLEEP BREAK PRE ONGOING".split(" ")[this.zpp_inner.event];if(this.zpp_inner.type==c.util.ZPP_Flags.id_ListenerType_BODY)return"BodyListener{"+
a+"::"+H.string(this.zpp_inner.body.outer_zn.zpp_inner_zn.options.outer)+"}";if(this.zpp_inner.type==c.util.ZPP_Flags.id_ListenerType_CONSTRAINT)return"ConstraintListener{"+a+"::"+H.string(this.zpp_inner.constraint.outer_zn.zpp_inner_zn.options.outer)+"}";var b=this.zpp_inner.interaction,d;switch(b.itype){case c.util.ZPP_Flags.id_InteractionType_COLLISION:d="COLLISION";break;case c.util.ZPP_Flags.id_InteractionType_SENSOR:d="SENSOR";break;case c.util.ZPP_Flags.id_InteractionType_FLUID:d="FLUID";break;
default:d="ALL"}return(this.zpp_inner.type==c.util.ZPP_Flags.id_ListenerType_INTERACTION?"InteractionListener{"+a+"#"+d+"::"+H.string(b.outer_zni.zpp_inner_zn.options1.outer)+":"+H.string(b.outer_zni.zpp_inner_zn.options2.outer)+"}":"PreListener{"+d+"::"+H.string(b.outer_znp.zpp_inner_zn.options1.outer)+":"+H.string(b.outer_znp.zpp_inner_zn.options2.outer)+"}")+" precedence="+this.zpp_inner.precedence},__class__:f.callbacks.Listener,__properties__:{set_space:"set_space",get_space:"get_space",set_precedence:"set_precedence",
get_precedence:"get_precedence",set_event:"set_event",get_event:"get_event",get_type:"get_type"}};f.callbacks.BodyListener=function(a,b,d,k){null==k&&(k=0);this.zpp_inner_zn=null;c.callbacks.ZPP_Listener.internal=!0;f.callbacks.Listener.call(this);c.callbacks.ZPP_Listener.internal=!1;if(null==d)throw"Error: BodyListener::handler cannot be null";var e=-1;null==c.util.ZPP_Flags.CbEvent_WAKE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_WAKE=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=
!1);if(a==c.util.ZPP_Flags.CbEvent_WAKE)e=c.util.ZPP_Flags.id_CbEvent_WAKE;else if(null==c.util.ZPP_Flags.CbEvent_SLEEP&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_SLEEP=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_SLEEP)e=c.util.ZPP_Flags.id_CbEvent_SLEEP;else throw"Error: cbEvent '"+a.toString()+"' is not a valid event type for a BodyListener";this.zpp_inner=this.zpp_inner_zn=new c.callbacks.ZPP_BodyListener(c.callbacks.ZPP_OptionType.argument(b),
e,d);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;this.zpp_inner.precedence=k};m["nape.callbacks.BodyListener"]=f.callbacks.BodyListener;f.callbacks.BodyListener.__name__=["nape","callbacks","BodyListener"];f.callbacks.BodyListener.__super__=f.callbacks.Listener;f.callbacks.BodyListener.prototype=F(f.callbacks.Listener.prototype,{zpp_inner_zn:null,get_options:function(){return this.zpp_inner_zn.options.outer},set_options:function(a){this.zpp_inner_zn.options.set(a.zpp_inner);return this.zpp_inner_zn.options.outer},
get_handler:function(){return this.zpp_inner_zn.handler},set_handler:function(a){if(null==a)throw"Error: BodyListener::handler cannot be null";this.zpp_inner_zn.handler=a;return this.zpp_inner_zn.handler},__class__:f.callbacks.BodyListener,__properties__:F(f.callbacks.Listener.prototype.__properties__,{set_handler:"set_handler",get_handler:"get_handler",set_options:"set_options",get_options:"get_options"})});f.callbacks.CbEvent=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate CbEvent derp!";
};m["nape.callbacks.CbEvent"]=f.callbacks.CbEvent;f.callbacks.CbEvent.__name__=["nape","callbacks","CbEvent"];f.callbacks.CbEvent.__properties__={get_PRE:"get_PRE",get_BREAK:"get_BREAK",get_SLEEP:"get_SLEEP",get_WAKE:"get_WAKE",get_END:"get_END",get_ONGOING:"get_ONGOING",get_BEGIN:"get_BEGIN"};f.callbacks.CbEvent.get_BEGIN=function(){null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_BEGIN};
f.callbacks.CbEvent.get_ONGOING=function(){null==c.util.ZPP_Flags.CbEvent_ONGOING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_ONGOING=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_ONGOING};f.callbacks.CbEvent.get_END=function(){null==c.util.ZPP_Flags.CbEvent_END&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_END};f.callbacks.CbEvent.get_WAKE=function(){null==
c.util.ZPP_Flags.CbEvent_WAKE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_WAKE=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_WAKE};f.callbacks.CbEvent.get_SLEEP=function(){null==c.util.ZPP_Flags.CbEvent_SLEEP&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_SLEEP=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_SLEEP};f.callbacks.CbEvent.get_BREAK=function(){null==c.util.ZPP_Flags.CbEvent_BREAK&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.CbEvent_BREAK=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_BREAK};f.callbacks.CbEvent.get_PRE=function(){null==c.util.ZPP_Flags.CbEvent_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_PRE=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_PRE};f.callbacks.CbEvent.prototype={toString:function(){null==c.util.ZPP_Flags.CbEvent_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_PRE=new f.callbacks.CbEvent,
c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.CbEvent_PRE?a="PRE":(null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.CbEvent_BEGIN?a="BEGIN":(null==c.util.ZPP_Flags.CbEvent_ONGOING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_ONGOING=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.CbEvent_ONGOING?a="ONGOING":(null==c.util.ZPP_Flags.CbEvent_END&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.CbEvent_END?a="END":(null==c.util.ZPP_Flags.CbEvent_WAKE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_WAKE=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.CbEvent_WAKE?a="WAKE":(null==c.util.ZPP_Flags.CbEvent_SLEEP&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_SLEEP=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=
!1),this==c.util.ZPP_Flags.CbEvent_SLEEP?a="SLEEP":(null==c.util.ZPP_Flags.CbEvent_BREAK&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BREAK=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.CbEvent_BREAK?"BREAK":""))))));return a},__class__:f.callbacks.CbEvent};f.callbacks.CbType=function(){this.zpp_inner=null;this.zpp_inner=new c.callbacks.ZPP_CbType;this.zpp_inner.outer=this};m["nape.callbacks.CbType"]=f.callbacks.CbType;f.callbacks.CbType.__name__=["nape",
"callbacks","CbType"];f.callbacks.CbType.__properties__={get_ANY_COMPOUND:"get_ANY_COMPOUND",get_ANY_SHAPE:"get_ANY_SHAPE",get_ANY_CONSTRAINT:"get_ANY_CONSTRAINT",get_ANY_BODY:"get_ANY_BODY"};f.callbacks.CbType.get_ANY_BODY=function(){return c.callbacks.ZPP_CbType.ANY_BODY};f.callbacks.CbType.get_ANY_CONSTRAINT=function(){return c.callbacks.ZPP_CbType.ANY_CONSTRAINT};f.callbacks.CbType.get_ANY_SHAPE=function(){return c.callbacks.ZPP_CbType.ANY_SHAPE};f.callbacks.CbType.get_ANY_COMPOUND=function(){return c.callbacks.ZPP_CbType.ANY_COMPOUND};
f.callbacks.CbType.prototype={zpp_inner:null,get_id:function(){return this.zpp_inner.id},including:function(a){return(new f.callbacks.OptionType(this)).including(a)},excluding:function(a){return(new f.callbacks.OptionType(this)).excluding(a)},get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_interactors:function(){null==this.zpp_inner.wrap_interactors&&(this.zpp_inner.wrap_interactors=c.util.ZPP_InteractorList.get(this.zpp_inner.interactors,
!0));return this.zpp_inner.wrap_interactors},get_constraints:function(){null==this.zpp_inner.wrap_constraints&&(this.zpp_inner.wrap_constraints=c.util.ZPP_ConstraintList.get(this.zpp_inner.constraints,!0));return this.zpp_inner.wrap_constraints},toString:function(){return this==c.callbacks.ZPP_CbType.ANY_BODY?"ANY_BODY":this==c.callbacks.ZPP_CbType.ANY_SHAPE?"ANY_SHAPE":this==c.callbacks.ZPP_CbType.ANY_COMPOUND?"ANY_COMPOUND":this==c.callbacks.ZPP_CbType.ANY_CONSTRAINT?"ANY_CONSTRAINT":"CbType#"+
this.zpp_inner.id},__class__:f.callbacks.CbType,__properties__:{get_constraints:"get_constraints",get_interactors:"get_interactors",get_userData:"get_userData",get_id:"get_id"}};f.callbacks.CbTypeIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_CbTypeList.internal)throw"Error: Cannot instantiate CbTypeIterator derp!";};m["nape.callbacks.CbTypeIterator"]=f.callbacks.CbTypeIterator;f.callbacks.CbTypeIterator.__name__=["nape","callbacks","CbTypeIterator"];
f.callbacks.CbTypeIterator.get=function(a){var b;null==f.callbacks.CbTypeIterator.zpp_pool?(c.util.ZPP_CbTypeList.internal=!0,b=new f.callbacks.CbTypeIterator,c.util.ZPP_CbTypeList.internal=!1):(b=f.callbacks.CbTypeIterator.zpp_pool,f.callbacks.CbTypeIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.callbacks.CbTypeIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();
this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.callbacks.CbTypeIterator.zpp_pool;f.callbacks.CbTypeIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.callbacks.CbTypeIterator};f.callbacks.CbTypeList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_CbTypeList;this.zpp_inner.outer=this};m["nape.callbacks.CbTypeList"]=f.callbacks.CbTypeList;f.callbacks.CbTypeList.__name__=["nape","callbacks",
"CbTypeList"];f.callbacks.CbTypeList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.callbacks.CbTypeList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};f.callbacks.CbTypeList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},
at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: CbTypeList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);
return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: CbTypeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),
this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: CbTypeList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=
this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: CbTypeList is immutable";this.zpp_inner.modify_test();if(null==
this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,
b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: CbTypeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&
this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: CbTypeList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.callbacks.CbTypeIterator.get(this)},copy:function(a){null==
a&&(a=!1);var b=new f.callbacks.CbTypeList,d;this.zpp_inner.valmod();for(d=f.callbacks.CbTypeIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: CbType is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=f.callbacks.CbTypeIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?
this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.callbacks.CbTypeIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=f.callbacks.CbTypeIterator.get(this);b.hasNext();)try{var d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=
f.callbacks.CbTypeIterator.zpp_pool;f.callbacks.CbTypeIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.callbacks.CbTypeList,__properties__:{get_length:"get_length"}};f.callbacks.ConstraintCallback=function(){f.callbacks.Callback.call(this)};m["nape.callbacks.ConstraintCallback"]=f.callbacks.ConstraintCallback;
f.callbacks.ConstraintCallback.__name__=["nape","callbacks","ConstraintCallback"];f.callbacks.ConstraintCallback.__super__=f.callbacks.Callback;f.callbacks.ConstraintCallback.prototype=F(f.callbacks.Callback.prototype,{get_constraint:function(){return this.zpp_inner.constraint.outer},toString:function(){var a;a="Cb:"+["WAKE","SLEEP","BREAK"][this.zpp_inner.event-c.util.ZPP_Flags.id_CbEvent_WAKE];a+=":"+this.zpp_inner.constraint.outer.toString();return a+=" : listener: "+H.string(this.zpp_inner.listener.outer)},
__class__:f.callbacks.ConstraintCallback,__properties__:F(f.callbacks.Callback.prototype.__properties__,{get_constraint:"get_constraint"})});f.callbacks.ConstraintListener=function(a,b,d,k){null==k&&(k=0);this.zpp_inner_zn=null;c.callbacks.ZPP_Listener.internal=!0;f.callbacks.Listener.call(this);c.callbacks.ZPP_Listener.internal=!1;if(null==d)throw"Error: ConstraintListener::handler cannot be null";var e=-1;null==c.util.ZPP_Flags.CbEvent_WAKE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_WAKE=
new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);if(a==c.util.ZPP_Flags.CbEvent_WAKE)e=c.util.ZPP_Flags.id_CbEvent_WAKE;else if(null==c.util.ZPP_Flags.CbEvent_SLEEP&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_SLEEP=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_SLEEP)e=c.util.ZPP_Flags.id_CbEvent_SLEEP;else if(null==c.util.ZPP_Flags.CbEvent_BREAK&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BREAK=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=
!1),a==c.util.ZPP_Flags.CbEvent_BREAK)e=c.util.ZPP_Flags.id_CbEvent_BREAK;else throw"Error: cbEvent '"+a.toString()+"' is not a valid event type for a ConstraintListener";this.zpp_inner=this.zpp_inner_zn=new c.callbacks.ZPP_ConstraintListener(c.callbacks.ZPP_OptionType.argument(b),e,d);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;this.zpp_inner.precedence=k};m["nape.callbacks.ConstraintListener"]=f.callbacks.ConstraintListener;f.callbacks.ConstraintListener.__name__=["nape","callbacks",
"ConstraintListener"];f.callbacks.ConstraintListener.__super__=f.callbacks.Listener;f.callbacks.ConstraintListener.prototype=F(f.callbacks.Listener.prototype,{zpp_inner_zn:null,get_options:function(){return this.zpp_inner_zn.options.outer},set_options:function(a){this.zpp_inner_zn.options.set(a.zpp_inner);return this.zpp_inner_zn.options.outer},get_handler:function(){return this.zpp_inner_zn.handler},set_handler:function(a){if(null==a)throw"Error: ConstraintListener::handler cannot be null";this.zpp_inner_zn.handler=
a;return this.zpp_inner_zn.handler},__class__:f.callbacks.ConstraintListener,__properties__:F(f.callbacks.Listener.prototype.__properties__,{set_handler:"set_handler",get_handler:"get_handler",set_options:"set_options",get_options:"get_options"})});f.callbacks.InteractionCallback=function(){f.callbacks.Callback.call(this)};m["nape.callbacks.InteractionCallback"]=f.callbacks.InteractionCallback;f.callbacks.InteractionCallback.__name__=["nape","callbacks","InteractionCallback"];f.callbacks.InteractionCallback.__super__=
f.callbacks.Callback;f.callbacks.InteractionCallback.prototype=F(f.callbacks.Callback.prototype,{get_int1:function(){return this.zpp_inner.int1.outer_i},get_int2:function(){return this.zpp_inner.int2.outer_i},get_arbiters:function(){return this.zpp_inner.wrap_arbiters},toString:function(){var a;a="Cb:"+"BEGIN END     ONGOING".split(" ")[this.zpp_inner.event];a+=":"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString();a+=" : "+this.zpp_inner.wrap_arbiters.toString();return a+=
" : listener: "+H.string(this.zpp_inner.listener.outer)},__class__:f.callbacks.InteractionCallback,__properties__:F(f.callbacks.Callback.prototype.__properties__,{get_arbiters:"get_arbiters",get_int2:"get_int2",get_int1:"get_int1"})});f.callbacks.InteractionListener=function(a,b,d,k,e,g){null==g&&(g=0);this.zpp_inner_zn=null;c.callbacks.ZPP_Listener.internal=!0;f.callbacks.Listener.call(this);c.callbacks.ZPP_Listener.internal=!1;if(null==e)throw"Error: InteractionListener::handler cannot be null";
if(null==a)throw"Error: CbEvent cannot be null for InteractionListener";var p=-1;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);if(a==c.util.ZPP_Flags.CbEvent_BEGIN)p=c.util.ZPP_Flags.id_CbEvent_BEGIN;else if(null==c.util.ZPP_Flags.CbEvent_END&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_END)p=c.util.ZPP_Flags.id_CbEvent_END;
else if(null==c.util.ZPP_Flags.CbEvent_ONGOING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_ONGOING=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_ONGOING)p=c.util.ZPP_Flags.id_CbEvent_ONGOING;else throw"Error: CbEvent '"+a.toString()+"' is not a valid event type for InteractionListener";this.zpp_inner=this.zpp_inner_zn=new c.callbacks.ZPP_InteractionListener(c.callbacks.ZPP_OptionType.argument(d),c.callbacks.ZPP_OptionType.argument(k),p,c.util.ZPP_Flags.id_ListenerType_INTERACTION);
this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zni=this;this.zpp_inner.precedence=g;this.zpp_inner_zn.handleri=e;this.set_interactionType(b)};m["nape.callbacks.InteractionListener"]=f.callbacks.InteractionListener;f.callbacks.InteractionListener.__name__=["nape","callbacks","InteractionListener"];f.callbacks.InteractionListener.__super__=f.callbacks.Listener;f.callbacks.InteractionListener.prototype=F(f.callbacks.Listener.prototype,{zpp_inner_zn:null,get_options1:function(){return this.zpp_inner_zn.options1.outer},
set_options1:function(a){this.zpp_inner_zn.options1.set(a.zpp_inner);return this.zpp_inner_zn.options1.outer},get_options2:function(){return this.zpp_inner_zn.options2.outer},set_options2:function(a){this.zpp_inner_zn.options2.set(a.zpp_inner);return this.zpp_inner_zn.options2.outer},get_interactionType:function(){var a=this.zpp_inner_zn.itype;return a==c.util.ZPP_Flags.id_InteractionType_COLLISION?(null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=
new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_COLLISION):a==c.util.ZPP_Flags.id_InteractionType_SENSOR?(null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_SENSOR):a==c.util.ZPP_Flags.id_InteractionType_FLUID?(null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=
new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_FLUID):a==c.util.ZPP_Flags.id_InteractionType_ANY?(null==c.util.ZPP_Flags.InteractionType_ANY&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_ANY=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_ANY):null},set_interactionType:function(a){if(null==a)throw"Error: Cannot set listener interaction type to null";this.get_interactionType()!=a&&(null==
c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.InteractionType_COLLISION?a=c.util.ZPP_Flags.id_InteractionType_COLLISION:(null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.InteractionType_SENSOR?a=c.util.ZPP_Flags.id_InteractionType_SENSOR:
(null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a=a==c.util.ZPP_Flags.InteractionType_FLUID?c.util.ZPP_Flags.id_InteractionType_FLUID:c.util.ZPP_Flags.id_InteractionType_ANY)),this.zpp_inner_zn.itype=a);return this.get_interactionType()},get_handler:function(){return this.zpp_inner_zn.handleri},set_handler:function(a){if(null==a)throw"Error: InteractionListener::handler cannot be null";
this.zpp_inner_zn.handleri=a;return this.zpp_inner_zn.handleri},get_allowSleepingCallbacks:function(){return this.zpp_inner_zn.allowSleepingCallbacks},set_allowSleepingCallbacks:function(a){this.zpp_inner_zn.allowSleepingCallbacks=a;return this.zpp_inner_zn.allowSleepingCallbacks},__class__:f.callbacks.InteractionListener,__properties__:F(f.callbacks.Listener.prototype.__properties__,{set_allowSleepingCallbacks:"set_allowSleepingCallbacks",get_allowSleepingCallbacks:"get_allowSleepingCallbacks",set_handler:"set_handler",
get_handler:"get_handler",set_interactionType:"set_interactionType",get_interactionType:"get_interactionType",set_options2:"set_options2",get_options2:"get_options2",set_options1:"set_options1",get_options1:"get_options1"})});f.callbacks.InteractionType=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate InteractionType derp!";};m["nape.callbacks.InteractionType"]=f.callbacks.InteractionType;f.callbacks.InteractionType.__name__=["nape","callbacks","InteractionType"];f.callbacks.InteractionType.__properties__=
{get_ANY:"get_ANY",get_FLUID:"get_FLUID",get_SENSOR:"get_SENSOR",get_COLLISION:"get_COLLISION"};f.callbacks.InteractionType.get_COLLISION=function(){null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.InteractionType_COLLISION};f.callbacks.InteractionType.get_SENSOR=function(){null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.InteractionType_SENSOR};f.callbacks.InteractionType.get_FLUID=function(){null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.InteractionType_FLUID};f.callbacks.InteractionType.get_ANY=function(){null==c.util.ZPP_Flags.InteractionType_ANY&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_ANY=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.InteractionType_ANY};f.callbacks.InteractionType.prototype={toString:function(){null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.InteractionType_COLLISION?a="COLLISION":(null==c.util.ZPP_Flags.InteractionType_SENSOR&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.InteractionType_SENSOR?a="SENSOR":(null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.InteractionType_FLUID?a="FLUID":(null==c.util.ZPP_Flags.InteractionType_ANY&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_ANY=
new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.InteractionType_ANY?"ANY":"")));return a},__class__:f.callbacks.InteractionType};f.callbacks.ListenerIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_ListenerList.internal)throw"Error: Cannot instantiate ListenerIterator derp!";};m["nape.callbacks.ListenerIterator"]=f.callbacks.ListenerIterator;f.callbacks.ListenerIterator.__name__=["nape","callbacks","ListenerIterator"];
f.callbacks.ListenerIterator.get=function(a){var b;null==f.callbacks.ListenerIterator.zpp_pool?(c.util.ZPP_ListenerList.internal=!0,b=new f.callbacks.ListenerIterator,c.util.ZPP_ListenerList.internal=!1):(b=f.callbacks.ListenerIterator.zpp_pool,f.callbacks.ListenerIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.callbacks.ListenerIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=
this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.callbacks.ListenerIterator.zpp_pool;f.callbacks.ListenerIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.callbacks.ListenerIterator};f.callbacks.ListenerList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_ListenerList;this.zpp_inner.outer=this};m["nape.callbacks.ListenerList"]=f.callbacks.ListenerList;f.callbacks.ListenerList.__name__=
["nape","callbacks","ListenerList"];f.callbacks.ListenerList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.callbacks.ListenerList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};f.callbacks.ListenerList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();
return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: ListenerList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);
return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: ListenerList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),
this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: ListenerList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=
this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: ListenerList is immutable";this.zpp_inner.modify_test();
if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=
this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: ListenerList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=
d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: ListenerList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.callbacks.ListenerIterator.get(this)},
copy:function(a){null==a&&(a=!1);var b=new f.callbacks.ListenerList,d;this.zpp_inner.valmod();for(d=f.callbacks.ListenerIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Listener is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=f.callbacks.ListenerIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||
(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.callbacks.ListenerIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=f.callbacks.ListenerIterator.get(this);b.hasNext();)try{var d=void 0;b.zpp_critical=!1;
d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.callbacks.ListenerIterator.zpp_pool;f.callbacks.ListenerIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.callbacks.ListenerList,__properties__:{get_length:"get_length"}};f.callbacks.ListenerType=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate ListenerType derp!";
};m["nape.callbacks.ListenerType"]=f.callbacks.ListenerType;f.callbacks.ListenerType.__name__=["nape","callbacks","ListenerType"];f.callbacks.ListenerType.__properties__={get_PRE:"get_PRE",get_INTERACTION:"get_INTERACTION",get_CONSTRAINT:"get_CONSTRAINT",get_BODY:"get_BODY"};f.callbacks.ListenerType.get_BODY=function(){null==c.util.ZPP_Flags.ListenerType_BODY&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_BODY=new f.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ListenerType_BODY};
f.callbacks.ListenerType.get_CONSTRAINT=function(){null==c.util.ZPP_Flags.ListenerType_CONSTRAINT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_CONSTRAINT=new f.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ListenerType_CONSTRAINT};f.callbacks.ListenerType.get_INTERACTION=function(){null==c.util.ZPP_Flags.ListenerType_INTERACTION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_INTERACTION=new f.callbacks.ListenerType,c.util.ZPP_Flags.internal=
!1);return c.util.ZPP_Flags.ListenerType_INTERACTION};f.callbacks.ListenerType.get_PRE=function(){null==c.util.ZPP_Flags.ListenerType_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_PRE=new f.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ListenerType_PRE};f.callbacks.ListenerType.prototype={toString:function(){null==c.util.ZPP_Flags.ListenerType_BODY&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_BODY=new f.callbacks.ListenerType,c.util.ZPP_Flags.internal=
!1);var a;this==c.util.ZPP_Flags.ListenerType_BODY?a="BODY":(null==c.util.ZPP_Flags.ListenerType_CONSTRAINT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_CONSTRAINT=new f.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.ListenerType_CONSTRAINT?a="CONSTRAINT":(null==c.util.ZPP_Flags.ListenerType_INTERACTION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_INTERACTION=new f.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.ListenerType_INTERACTION?
a="INTERACTION":(null==c.util.ZPP_Flags.ListenerType_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_PRE=new f.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.ListenerType_PRE?"PRE":"")));return a},__class__:f.callbacks.ListenerType};f.callbacks.OptionType=function(a,b){this.zpp_inner=null;this.zpp_inner=new c.callbacks.ZPP_OptionType;this.zpp_inner.outer=this;null!=a&&this.including(a);null!=b&&this.excluding(b)};m["nape.callbacks.OptionType"]=f.callbacks.OptionType;
f.callbacks.OptionType.__name__=["nape","callbacks","OptionType"];f.callbacks.OptionType.prototype={zpp_inner:null,get_includes:function(){null==this.zpp_inner.wrap_includes&&this.zpp_inner.setup_includes();return this.zpp_inner.wrap_includes},get_excludes:function(){null==this.zpp_inner.wrap_excludes&&this.zpp_inner.setup_excludes();return this.zpp_inner.wrap_excludes},including:function(a){this.zpp_inner.append(this.zpp_inner.includes,a);return this},excluding:function(a){this.zpp_inner.append(this.zpp_inner.excludes,
a);return this},toString:function(){null==this.zpp_inner.wrap_includes&&this.zpp_inner.setup_includes();var a=this.zpp_inner.wrap_includes.toString();null==this.zpp_inner.wrap_excludes&&this.zpp_inner.setup_excludes();return"@{"+a+" excluding "+this.zpp_inner.wrap_excludes.toString()+"}"},__class__:f.callbacks.OptionType,__properties__:{get_excludes:"get_excludes",get_includes:"get_includes"}};f.callbacks.PreCallback=function(){f.callbacks.Callback.call(this)};m["nape.callbacks.PreCallback"]=f.callbacks.PreCallback;
f.callbacks.PreCallback.__name__=["nape","callbacks","PreCallback"];f.callbacks.PreCallback.__super__=f.callbacks.Callback;f.callbacks.PreCallback.prototype=F(f.callbacks.Callback.prototype,{get_arbiter:function(){return this.zpp_inner.pre_arbiter.wrapper()},get_int1:function(){return this.zpp_inner.int1.outer_i},get_int2:function(){return this.zpp_inner.int2.outer_i},get_swapped:function(){return this.zpp_inner.pre_swapped},toString:function(){var a;a="Cb:PRE:"+(":"+this.zpp_inner.int1.outer_i.toString()+
"/"+this.zpp_inner.int2.outer_i.toString());a+=" : "+this.zpp_inner.pre_arbiter.wrapper().toString();return a+=" : listnener: "+H.string(this.zpp_inner.listener.outer)},__class__:f.callbacks.PreCallback,__properties__:F(f.callbacks.Callback.prototype.__properties__,{get_swapped:"get_swapped",get_int2:"get_int2",get_int1:"get_int1",get_arbiter:"get_arbiter"})});f.callbacks.PreFlag=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate PreFlag derp!";};m["nape.callbacks.PreFlag"]=
f.callbacks.PreFlag;f.callbacks.PreFlag.__name__=["nape","callbacks","PreFlag"];f.callbacks.PreFlag.__properties__={get_IGNORE_ONCE:"get_IGNORE_ONCE",get_ACCEPT_ONCE:"get_ACCEPT_ONCE",get_IGNORE:"get_IGNORE",get_ACCEPT:"get_ACCEPT"};f.callbacks.PreFlag.get_ACCEPT=function(){null==c.util.ZPP_Flags.PreFlag_ACCEPT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.PreFlag_ACCEPT};f.callbacks.PreFlag.get_IGNORE=
function(){null==c.util.ZPP_Flags.PreFlag_IGNORE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.PreFlag_IGNORE};f.callbacks.PreFlag.get_ACCEPT_ONCE=function(){null==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE};f.callbacks.PreFlag.get_IGNORE_ONCE=function(){null==
c.util.ZPP_Flags.PreFlag_IGNORE_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE_ONCE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.PreFlag_IGNORE_ONCE};f.callbacks.PreFlag.prototype={toString:function(){null==c.util.ZPP_Flags.PreFlag_ACCEPT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.PreFlag_ACCEPT?a="ACCEPT":(null==c.util.ZPP_Flags.PreFlag_IGNORE&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.PreFlag_IGNORE?a="IGNORE":(null==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE?a="ACCEPT_ONCE":(null==c.util.ZPP_Flags.PreFlag_IGNORE_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE_ONCE=
new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.PreFlag_IGNORE_ONCE?"IGNORE_ONCE":"")));return a},__class__:f.callbacks.PreFlag};f.callbacks.PreListener=function(a,b,d,k,e,g){null==g&&(g=!1);null==e&&(e=0);this.zpp_inner_zn=null;c.callbacks.ZPP_Listener.internal=!0;f.callbacks.Listener.call(this);c.callbacks.ZPP_Listener.internal=!1;if(null==k)throw"Error: PreListener must take a handler!";this.zpp_inner=this.zpp_inner_zn=new c.callbacks.ZPP_InteractionListener(c.callbacks.ZPP_OptionType.argument(b),
c.callbacks.ZPP_OptionType.argument(d),c.util.ZPP_Flags.id_CbEvent_PRE,c.util.ZPP_Flags.id_ListenerType_PRE);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_znp=this;this.zpp_inner.precedence=e;this.zpp_inner_zn.pure=g;this.zpp_inner_zn.handlerp=k;this.set_interactionType(a)};m["nape.callbacks.PreListener"]=f.callbacks.PreListener;f.callbacks.PreListener.__name__=["nape","callbacks","PreListener"];f.callbacks.PreListener.__super__=f.callbacks.Listener;f.callbacks.PreListener.prototype=F(f.callbacks.Listener.prototype,
{zpp_inner_zn:null,get_options1:function(){return this.zpp_inner_zn.options1.outer},set_options1:function(a){this.zpp_inner_zn.options1.set(a.zpp_inner);return this.zpp_inner_zn.options1.outer},get_options2:function(){return this.zpp_inner_zn.options2.outer},set_options2:function(a){this.zpp_inner_zn.options2.set(a.zpp_inner);return this.zpp_inner_zn.options2.outer},get_handler:function(){return this.zpp_inner_zn.handlerp},set_handler:function(a){if(null==a)throw"Error: PreListener must take a non-null handler!";
this.zpp_inner_zn.handlerp=a;this.zpp_inner_zn.wake();return this.zpp_inner_zn.handlerp},get_pure:function(){return this.zpp_inner_zn.pure},set_pure:function(a){a||this.zpp_inner_zn.wake();this.zpp_inner_zn.pure=a;return this.zpp_inner_zn.pure},get_interactionType:function(){var a=this.zpp_inner_zn.itype;return a==c.util.ZPP_Flags.id_InteractionType_COLLISION?(null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,
c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_COLLISION):a==c.util.ZPP_Flags.id_InteractionType_SENSOR?(null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_SENSOR):a==c.util.ZPP_Flags.id_InteractionType_FLUID?(null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=
new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_FLUID):a==c.util.ZPP_Flags.id_InteractionType_ANY?(null==c.util.ZPP_Flags.InteractionType_ANY&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_ANY=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_ANY):null},set_interactionType:function(a){if(null==a)throw"Error: Cannot set listener interaction type to null";this.get_interactionType()!=a&&(null==
c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.InteractionType_COLLISION?a=c.util.ZPP_Flags.id_InteractionType_COLLISION:(null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.InteractionType_SENSOR?a=c.util.ZPP_Flags.id_InteractionType_SENSOR:
(null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a=a==c.util.ZPP_Flags.InteractionType_FLUID?c.util.ZPP_Flags.id_InteractionType_FLUID:c.util.ZPP_Flags.id_InteractionType_ANY)),this.zpp_inner_zn.itype=a);return this.get_interactionType()},__class__:f.callbacks.PreListener,__properties__:F(f.callbacks.Listener.prototype.__properties__,{set_interactionType:"set_interactionType",
get_interactionType:"get_interactionType",set_pure:"set_pure",get_pure:"get_pure",set_handler:"set_handler",get_handler:"get_handler",set_options2:"set_options2",get_options2:"get_options2",set_options1:"set_options1",get_options1:"get_options1"})});f.constraint={};f.constraint.Constraint=function(){this.debugDraw=!0;this.zpp_inner.insert_cbtype(c.callbacks.ZPP_CbType.ANY_CONSTRAINT.zpp_inner);if(!f.constraint.Constraint.zpp_internalAlloc)throw"Error: Constraint cannot be instantiated derp!";};m["nape.constraint.Constraint"]=
f.constraint.Constraint;f.constraint.Constraint.__name__=["nape","constraint","Constraint"];f.constraint.Constraint.prototype={zpp_inner:null,get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},debugDraw:null,get_compound:function(){return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},set_compound:function(a){(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)!=a&&(null!=(null==this.zpp_inner.compound?
null:this.zpp_inner.compound.outer)&&(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer).zpp_inner.wrap_constraints.remove(this),null!=a&&a.zpp_inner.wrap_constraints.add(this));return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},get_space:function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},set_space:function(a){if(null!=this.zpp_inner.compound)throw"Error: Cannot set the space of a Constraint belonging to a Compound, only the root Compound space can be set";
(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=a&&(null!=this.zpp_inner.component&&(this.zpp_inner.component.woken=!1),this.zpp_inner.clearcache(),null!=this.zpp_inner.space&&this.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(this),null!=a?a.zpp_inner.wrap_constraints.add(this):this.zpp_inner.space=null);return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},get_isSleeping:function(){if(null==this.zpp_inner.space||!this.zpp_inner.active)throw"Error: isSleeping only makes sense if constraint is active and inside a space";
return this.zpp_inner.component.sleeping},get_active:function(){return this.zpp_inner.active},set_active:function(a){this.zpp_inner.active!=a&&(null!=this.zpp_inner.component&&(this.zpp_inner.component.woken=!1),this.zpp_inner.clearcache(),a?(this.zpp_inner.active=a,this.zpp_inner.activate(),null!=this.zpp_inner.space&&(null!=this.zpp_inner.component&&(this.zpp_inner.component.sleeping=!0),this.zpp_inner.space.wake_constraint(this.zpp_inner,!0))):(null!=this.zpp_inner.space&&(this.zpp_inner.wake(),
this.zpp_inner.space.live_constraints.remove(this.zpp_inner)),this.zpp_inner.active=a,this.zpp_inner.deactivate()));return this.zpp_inner.active},get_ignore:function(){return this.zpp_inner.ignore},set_ignore:function(a){this.zpp_inner.ignore!=a&&(this.zpp_inner.ignore=a,this.zpp_inner.wake());return this.zpp_inner.ignore},get_stiff:function(){return this.zpp_inner.stiff},set_stiff:function(a){this.zpp_inner.stiff!=a&&(this.zpp_inner.stiff=a,this.zpp_inner.wake());return this.zpp_inner.stiff},get_frequency:function(){return this.zpp_inner.frequency},
set_frequency:function(a){if(a!=a)throw"Error: Constraint::Frequency cannot be NaN";if(0>=a)throw"Error: Constraint::Frequency must be >0";this.zpp_inner.frequency!=a&&(this.zpp_inner.frequency=a,this.zpp_inner.stiff||this.zpp_inner.wake());return this.zpp_inner.frequency},get_damping:function(){return this.zpp_inner.damping},set_damping:function(a){if(a!=a)throw"Error: Constraint::Damping cannot be Nan";if(0>a)throw"Error: Constraint::Damping must be >=0";this.zpp_inner.damping!=a&&(this.zpp_inner.damping=
a,this.zpp_inner.stiff||this.zpp_inner.wake());return this.zpp_inner.damping},get_maxForce:function(){return this.zpp_inner.maxForce},set_maxForce:function(a){if(a!=a)throw"Error: Constraint::maxForce cannot be NaN";if(0>a)throw"Error: Constraint::maxForce must be >=0";this.zpp_inner.maxForce!=a&&(this.zpp_inner.maxForce=a,this.zpp_inner.wake());return this.zpp_inner.maxForce},get_maxError:function(){return this.zpp_inner.maxError},set_maxError:function(a){if(a!=a)throw"Error: Constraint::maxError cannot be NaN";
if(0>a)throw"Error: Constraint::maxError must be >=0";this.zpp_inner.maxError!=a&&(this.zpp_inner.maxError=a,this.zpp_inner.wake());return this.zpp_inner.maxError},get_breakUnderForce:function(){return this.zpp_inner.breakUnderForce},set_breakUnderForce:function(a){this.zpp_inner.breakUnderForce!=a&&(this.zpp_inner.breakUnderForce=a,this.zpp_inner.wake());return this.zpp_inner.breakUnderForce},get_breakUnderError:function(){return this.zpp_inner.breakUnderError},set_breakUnderError:function(a){this.zpp_inner.breakUnderError!=
a&&(this.zpp_inner.breakUnderError=a,this.zpp_inner.wake());return this.zpp_inner.breakUnderError},get_removeOnBreak:function(){return this.zpp_inner.removeOnBreak},set_removeOnBreak:function(a){this.zpp_inner.removeOnBreak=a;return this.zpp_inner.removeOnBreak},impulse:function(){return null},bodyImpulse:function(a){return null},visitBodies:function(a){},get_cbTypes:function(){null==this.zpp_inner.wrap_cbTypes&&this.zpp_inner.setupcbTypes();return this.zpp_inner.wrap_cbTypes},toString:function(){return"{Constraint}"},
copy:function(){return this.zpp_inner.copy()},__class__:f.constraint.Constraint,__properties__:{get_cbTypes:"get_cbTypes",set_removeOnBreak:"set_removeOnBreak",get_removeOnBreak:"get_removeOnBreak",set_breakUnderError:"set_breakUnderError",get_breakUnderError:"get_breakUnderError",set_breakUnderForce:"set_breakUnderForce",get_breakUnderForce:"get_breakUnderForce",set_maxError:"set_maxError",get_maxError:"get_maxError",set_maxForce:"set_maxForce",get_maxForce:"get_maxForce",set_damping:"set_damping",
get_damping:"get_damping",set_frequency:"set_frequency",get_frequency:"get_frequency",set_stiff:"set_stiff",get_stiff:"get_stiff",set_ignore:"set_ignore",get_ignore:"get_ignore",set_active:"set_active",get_active:"get_active",get_isSleeping:"get_isSleeping",set_space:"set_space",get_space:"get_space",set_compound:"set_compound",get_compound:"get_compound",get_userData:"get_userData"}};f.constraint.AngleJoint=function(a,b,d,k,e){null==e&&(e=1);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=
new c.constraint.ZPP_AngleJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.zpp_internalAlloc=!0;f.constraint.Constraint.call(this);f.constraint.Constraint.zpp_internalAlloc=!1;this.set_body1(a);this.set_body2(b);this.zpp_inner.immutable_midstep("AngleJoint::jointMin");if(d!=d)throw"Error: AngleJoint::jointMin cannot be NaN";this.zpp_inner_zn.jointMin!=d&&(this.zpp_inner_zn.jointMin=d,this.zpp_inner.wake());this.zpp_inner_zn.jointMin;this.zpp_inner.immutable_midstep("AngleJoint::jointMax");
if(k!=k)throw"Error: AngleJoint::jointMax cannot be NaN";this.zpp_inner_zn.jointMax!=k&&(this.zpp_inner_zn.jointMax=k,this.zpp_inner.wake());this.zpp_inner_zn.jointMax;this.zpp_inner.immutable_midstep("AngleJoint::ratio");if(e!=e)throw"Error: AngleJoint::ratio cannot be NaN";this.zpp_inner_zn.ratio!=e&&(this.zpp_inner_zn.ratio=e,this.zpp_inner.wake());this.zpp_inner_zn.ratio};m["nape.constraint.AngleJoint"]=f.constraint.AngleJoint;f.constraint.AngleJoint.__name__=["nape","constraint","AngleJoint"];
f.constraint.AngleJoint.__super__=f.constraint.Constraint;f.constraint.AngleJoint.prototype=F(f.constraint.Constraint.prototype,{zpp_inner_zn:null,get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&
null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));
return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),
this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_jointMin:function(){return this.zpp_inner_zn.jointMin},
set_jointMin:function(a){this.zpp_inner.immutable_midstep("AngleJoint::jointMin");if(a!=a)throw"Error: AngleJoint::jointMin cannot be NaN";this.zpp_inner_zn.jointMin!=a&&(this.zpp_inner_zn.jointMin=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMin},get_jointMax:function(){return this.zpp_inner_zn.jointMax},set_jointMax:function(a){this.zpp_inner.immutable_midstep("AngleJoint::jointMax");if(a!=a)throw"Error: AngleJoint::jointMax cannot be NaN";this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=
a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMax},get_ratio:function(){return this.zpp_inner_zn.ratio},set_ratio:function(a){this.zpp_inner.immutable_midstep("AngleJoint::ratio");if(a!=a)throw"Error: AngleJoint::ratio cannot be NaN";this.zpp_inner_zn.ratio!=a&&(this.zpp_inner_zn.ratio=a,this.zpp_inner.wake());return this.zpp_inner_zn.ratio},isSlack:function(){if(null==(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)||null==(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Cannot compute slack for AngleJoint if either body is null.";
return this.zpp_inner_zn.is_slack()},impulse:function(){var a=new f.geom.MatMN(1,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAcc;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?
this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get(0,0,0)},visitBodies:function(a){if(null==a)throw"Error: Cannot apply null lambda to bodies";null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?
null:this.zpp_inner_zn.b2.outer)},__class__:f.constraint.AngleJoint,__properties__:F(f.constraint.Constraint.prototype.__properties__,{set_ratio:"set_ratio",get_ratio:"get_ratio",set_jointMax:"set_jointMax",get_jointMax:"get_jointMax",set_jointMin:"set_jointMin",get_jointMin:"get_jointMin",set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.constraint.ConstraintIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_ConstraintList.internal)throw"Error: Cannot instantiate ConstraintIterator derp!";
};m["nape.constraint.ConstraintIterator"]=f.constraint.ConstraintIterator;f.constraint.ConstraintIterator.__name__=["nape","constraint","ConstraintIterator"];f.constraint.ConstraintIterator.get=function(a){var b;null==f.constraint.ConstraintIterator.zpp_pool?(c.util.ZPP_ConstraintList.internal=!0,b=new f.constraint.ConstraintIterator,c.util.ZPP_ConstraintList.internal=!1):(b=f.constraint.ConstraintIterator.zpp_pool,f.constraint.ConstraintIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=
!1;return b};f.constraint.ConstraintIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.constraint.ConstraintIterator.zpp_pool;f.constraint.ConstraintIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.constraint.ConstraintIterator};f.constraint.ConstraintList=
function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_ConstraintList;this.zpp_inner.outer=this};m["nape.constraint.ConstraintList"]=f.constraint.ConstraintList;f.constraint.ConstraintList.__name__=["nape","constraint","ConstraintList"];f.constraint.ConstraintList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.constraint.ConstraintList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};f.constraint.ConstraintList.prototype={zpp_inner:null,
get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=
a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: ConstraintList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&
(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: ConstraintList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):
!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: ConstraintList is immutable";this.zpp_inner.modify_test();
if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:
b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: ConstraintList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&
(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?
this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: ConstraintList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: ConstraintList is immutable";
if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.constraint.ConstraintIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.constraint.ConstraintList,d;this.zpp_inner.valmod();for(d=f.constraint.ConstraintIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?
function(a){throw"Error: Constraint is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=f.constraint.ConstraintIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.constraint.ConstraintIterator.get(this);d.hasNext();){var c;d.zpp_critical=
!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=f.constraint.ConstraintIterator.get(this);b.hasNext();)try{var d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.constraint.ConstraintIterator.zpp_pool;f.constraint.ConstraintIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==
a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.constraint.ConstraintList,__properties__:{get_length:"get_length"}};f.constraint.DistanceJoint=function(a,b,d,k,e,g){this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_DistanceJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.zpp_internalAlloc=!0;f.constraint.Constraint.call(this);
f.constraint.Constraint.zpp_internalAlloc=!1;this.set_body1(a);this.set_body2(b);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==d)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(d);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==k)throw"Error: Constraint::anchor2 cannot be null";
null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(k);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2;this.zpp_inner.immutable_midstep("DistanceJoint::jointMin");if(e!=e)throw"Error: DistanceJoint::jointMin cannot be NaN";if(0>e)throw"Error: DistanceJoint::jointMin must be >= 0";this.zpp_inner_zn.jointMin!=e&&(this.zpp_inner_zn.jointMin=e,this.zpp_inner.wake());this.zpp_inner_zn.jointMin;this.zpp_inner.immutable_midstep("DistanceJoint::jointMax");
if(g!=g)throw"Error: DistanceJoint::jointMax cannot be NaN";if(0>g)throw"Error: DistanceJoint::jointMax must be >= 0";this.zpp_inner_zn.jointMax!=g&&(this.zpp_inner_zn.jointMax=g,this.zpp_inner.wake());this.zpp_inner_zn.jointMax};m["nape.constraint.DistanceJoint"]=f.constraint.DistanceJoint;f.constraint.DistanceJoint.__name__=["nape","constraint","DistanceJoint"];f.constraint.DistanceJoint.__super__=f.constraint.Constraint;f.constraint.DistanceJoint.prototype=F(f.constraint.Constraint.prototype,{zpp_inner_zn:null,
get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:
this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},
set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=
(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_anchor1:function(){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},set_anchor1:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor2 cannot be null";
null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},get_jointMin:function(){return this.zpp_inner_zn.jointMin},set_jointMin:function(a){this.zpp_inner.immutable_midstep("DistanceJoint::jointMin");if(a!=a)throw"Error: DistanceJoint::jointMin cannot be NaN";if(0>a)throw"Error: DistanceJoint::jointMin must be >= 0";this.zpp_inner_zn.jointMin!=a&&(this.zpp_inner_zn.jointMin=
a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMin},get_jointMax:function(){return this.zpp_inner_zn.jointMax},set_jointMax:function(a){this.zpp_inner.immutable_midstep("DistanceJoint::jointMax");if(a!=a)throw"Error: DistanceJoint::jointMax cannot be NaN";if(0>a)throw"Error: DistanceJoint::jointMax must be >= 0";this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMax},isSlack:function(){if(null==(null==this.zpp_inner_zn.b1?null:
this.zpp_inner_zn.b1.outer)||null==(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Cannot compute slack for DistanceJoint if either body is null.";return this.zpp_inner_zn.slack},impulse:function(){var a=new f.geom.MatMN(1,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAcc;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";if(a!=(null==this.zpp_inner_zn.b1?
null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get()},visitBodies:function(a){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=
(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:f.constraint.DistanceJoint,__properties__:F(f.constraint.Constraint.prototype.__properties__,{set_jointMax:"set_jointMax",get_jointMax:"get_jointMax",set_jointMin:"set_jointMin",get_jointMin:"get_jointMin",set_anchor2:"set_anchor2",get_anchor2:"get_anchor2",set_anchor1:"set_anchor1",get_anchor1:"get_anchor1",set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",
get_body1:"get_body1"})});f.constraint.LineJoint=function(a,b,d,k,e,g,p){this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_LineJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.zpp_internalAlloc=!0;f.constraint.Constraint.call(this);f.constraint.Constraint.zpp_internalAlloc=!1;this.set_body1(a);this.set_body2(b);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==d)throw"Error: Constraint::anchor1 cannot be null";
null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(d);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==k)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(k);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2;
if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==e)throw"Error: Constraint::direction cannot be null";null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();this.zpp_inner_zn.wrap_n.set(e);null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();this.zpp_inner_zn.wrap_n;this.zpp_inner.immutable_midstep("LineJoint::jointMin");if(g!=g)throw"Error: AngleJoint::jointMin cannot be NaN";this.zpp_inner_zn.jointMin!=g&&(this.zpp_inner_zn.jointMin=g,this.zpp_inner.wake());
this.zpp_inner_zn.jointMin;this.zpp_inner.immutable_midstep("LineJoint::jointMax");if(p!=p)throw"Error: AngleJoint::jointMax cannot be NaN";this.zpp_inner_zn.jointMax!=p&&(this.zpp_inner_zn.jointMax=p,this.zpp_inner.wake());this.zpp_inner_zn.jointMax};m["nape.constraint.LineJoint"]=f.constraint.LineJoint;f.constraint.LineJoint.__name__=["nape","constraint","LineJoint"];f.constraint.LineJoint.__super__=f.constraint.Constraint;f.constraint.LineJoint.prototype=F(f.constraint.Constraint.prototype,{zpp_inner_zn:null,
get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:
this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},
set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=
(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_anchor1:function(){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},set_anchor1:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor2 cannot be null";
null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},get_direction:function(){null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();return this.zpp_inner_zn.wrap_n},set_direction:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::direction cannot be null";null==this.zpp_inner_zn.wrap_n&&
this.zpp_inner_zn.setup_n();this.zpp_inner_zn.wrap_n.set(a);null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();return this.zpp_inner_zn.wrap_n},get_jointMin:function(){return this.zpp_inner_zn.jointMin},set_jointMin:function(a){this.zpp_inner.immutable_midstep("LineJoint::jointMin");if(a!=a)throw"Error: AngleJoint::jointMin cannot be NaN";this.zpp_inner_zn.jointMin!=a&&(this.zpp_inner_zn.jointMin=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMin},get_jointMax:function(){return this.zpp_inner_zn.jointMax},
set_jointMax:function(a){this.zpp_inner.immutable_midstep("LineJoint::jointMax");if(a!=a)throw"Error: AngleJoint::jointMax cannot be NaN";this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMax},impulse:function(){var a=new f.geom.MatMN(2,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAccx;if(1>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";
a.zpp_inner.x[a.zpp_inner.n]=this.zpp_inner_zn.jAccy;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get()},visitBodies:function(a){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&
a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:f.constraint.LineJoint,__properties__:F(f.constraint.Constraint.prototype.__properties__,{set_jointMax:"set_jointMax",get_jointMax:"get_jointMax",set_jointMin:"set_jointMin",
get_jointMin:"get_jointMin",set_direction:"set_direction",get_direction:"get_direction",set_anchor2:"set_anchor2",get_anchor2:"get_anchor2",set_anchor1:"set_anchor1",get_anchor1:"get_anchor1",set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.constraint.MotorJoint=function(a,b,d,k){null==k&&(k=1);null==d&&(d=0);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_MotorJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;
f.constraint.Constraint.zpp_internalAlloc=!0;f.constraint.Constraint.call(this);f.constraint.Constraint.zpp_internalAlloc=!1;this.set_body1(a);this.set_body2(b);this.zpp_inner.immutable_midstep("MotorJoint::rate");if(d!=d)throw"Error: MotorJoint::rate cannot be NaN";this.zpp_inner_zn.rate!=d&&(this.zpp_inner_zn.rate=d,this.zpp_inner.wake());this.zpp_inner_zn.rate;this.zpp_inner.immutable_midstep("MotorJoint::ratio");if(k!=k)throw"Error: MotorJoint::ratio cannot be NaN";this.zpp_inner_zn.ratio!=k&&
(this.zpp_inner_zn.ratio=k,this.zpp_inner.wake());this.zpp_inner_zn.ratio};m["nape.constraint.MotorJoint"]=f.constraint.MotorJoint;f.constraint.MotorJoint.__name__=["nape","constraint","MotorJoint"];f.constraint.MotorJoint.__super__=f.constraint.Constraint;f.constraint.MotorJoint.prototype=F(f.constraint.Constraint.prototype,{zpp_inner_zn:null,get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");
a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=
a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==
this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==
this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_ratio:function(){return this.zpp_inner_zn.ratio},set_ratio:function(a){this.zpp_inner.immutable_midstep("MotorJoint::ratio");if(a!=a)throw"Error: MotorJoint::ratio cannot be NaN";this.zpp_inner_zn.ratio!=a&&(this.zpp_inner_zn.ratio=a,this.zpp_inner.wake());return this.zpp_inner_zn.ratio},get_rate:function(){return this.zpp_inner_zn.rate},
set_rate:function(a){this.zpp_inner.immutable_midstep("MotorJoint::rate");if(a!=a)throw"Error: MotorJoint::rate cannot be NaN";this.zpp_inner_zn.rate!=a&&(this.zpp_inner_zn.rate=a,this.zpp_inner.wake());return this.zpp_inner_zn.rate},impulse:function(){var a=new f.geom.MatMN(1,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAcc;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";
if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get()},visitBodies:function(a){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==
this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:f.constraint.MotorJoint,__properties__:F(f.constraint.Constraint.prototype.__properties__,{set_rate:"set_rate",get_rate:"get_rate",set_ratio:"set_ratio",get_ratio:"get_ratio",set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.constraint.PivotJoint=function(a,b,d,k){this.zpp_inner_zn=
null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_PivotJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.zpp_internalAlloc=!0;f.constraint.Constraint.call(this);f.constraint.Constraint.zpp_internalAlloc=!1;this.set_body1(a);this.set_body2(b);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==d)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(d);
null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==k)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(k);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2};m["nape.constraint.PivotJoint"]=f.constraint.PivotJoint;f.constraint.PivotJoint.__name__=
["nape","constraint","PivotJoint"];f.constraint.PivotJoint.__super__=f.constraint.Constraint;f.constraint.PivotJoint.prototype=F(f.constraint.Constraint.prototype,{zpp_inner_zn:null,get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=
this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),
null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),
this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_anchor1:function(){null==
this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},set_anchor1:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&
this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},impulse:function(){var a=new f.geom.MatMN(2,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";
a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAccx;if(1>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[a.zpp_inner.n]=this.zpp_inner_zn.jAccy;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):
f.geom.Vec3.get()},visitBodies:function(a){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:f.constraint.PivotJoint,__properties__:F(f.constraint.Constraint.prototype.__properties__,
{set_anchor2:"set_anchor2",get_anchor2:"get_anchor2",set_anchor1:"set_anchor1",get_anchor1:"get_anchor1",set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.constraint.PulleyJoint=function(a,b,d,k,e,g,p,x,h,w,ra){null==ra&&(ra=1);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_PulleyJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.zpp_internalAlloc=!0;f.constraint.Constraint.call(this);f.constraint.Constraint.zpp_internalAlloc=
!1;this.set_body1(a);this.set_body2(b);this.set_body3(d);this.set_body4(k);if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==e)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(e);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==g)throw"Error: Constraint::anchor2 cannot be null";
null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(g);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2;if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==p)throw"Error: Constraint::anchor3 cannot be null";null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();this.zpp_inner_zn.wrap_a3.set(p);null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();this.zpp_inner_zn.wrap_a3;
if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==x)throw"Error: Constraint::anchor4 cannot be null";null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();this.zpp_inner_zn.wrap_a4.set(x);null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();this.zpp_inner_zn.wrap_a4;this.zpp_inner.immutable_midstep("PulleyJoint::ratio");if(ra!=ra)throw"Error: PulleyJoint::ratio cannot be NaN";this.zpp_inner_zn.ratio!=ra&&(this.zpp_inner_zn.ratio=ra,this.zpp_inner.wake());
this.zpp_inner_zn.ratio;this.zpp_inner.immutable_midstep("PulleyJoint::jointMin");if(h!=h)throw"Error: PulleyJoint::jointMin cannot be NaN";if(0>h)throw"Error: PulleyJoint::jointMin must be >= 0";this.zpp_inner_zn.jointMin!=h&&(this.zpp_inner_zn.jointMin=h,this.zpp_inner.wake());this.zpp_inner_zn.jointMin;this.zpp_inner.immutable_midstep("PulleyJoint::jointMax");if(w!=w)throw"Error: PulleyJoint::jointMax cannot be NaN";if(0>w)throw"Error: PulleyJoint::jointMax must be >= 0";this.zpp_inner_zn.jointMax!=
w&&(this.zpp_inner_zn.jointMax=w,this.zpp_inner.wake());this.zpp_inner_zn.jointMax};m["nape.constraint.PulleyJoint"]=f.constraint.PulleyJoint;f.constraint.PulleyJoint.__name__=["nape","constraint","PulleyJoint"];f.constraint.PulleyJoint.__super__=f.constraint.Constraint;f.constraint.PulleyJoint.prototype=F(f.constraint.Constraint.prototype,{zpp_inner_zn:null,get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");
a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=
a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&this.zpp_inner_zn.b3!=a&&this.zpp_inner_zn.b4!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");
a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=
a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&this.zpp_inner_zn.b3!=a&&this.zpp_inner_zn.b4!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_body3:function(){return null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer},set_body3:function(a){this.zpp_inner.immutable_midstep("Constraint::body3");
a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b3&&(null!=this.zpp_inner_zn.b3&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b3&&null!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b3.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b3.wake()),this.zpp_inner_zn.b3=
a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&this.zpp_inner_zn.b2!=a&&this.zpp_inner_zn.b4!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer},get_body4:function(){return null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer},set_body4:function(a){this.zpp_inner.immutable_midstep("Constraint::body4");
a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b4&&(null!=this.zpp_inner_zn.b4&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b4&&null!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b4.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b4.wake()),this.zpp_inner_zn.b4=
a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&this.zpp_inner_zn.b2!=a&&this.zpp_inner_zn.b3!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer},get_anchor1:function(){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},
set_anchor1:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},get_anchor3:function(){null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();return this.zpp_inner_zn.wrap_a3},set_anchor3:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Constraint::anchor3 cannot be null";null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();this.zpp_inner_zn.wrap_a3.set(a);null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();return this.zpp_inner_zn.wrap_a3},get_anchor4:function(){null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();return this.zpp_inner_zn.wrap_a4},set_anchor4:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor4 cannot be null";
null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();this.zpp_inner_zn.wrap_a4.set(a);null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();return this.zpp_inner_zn.wrap_a4},get_jointMin:function(){return this.zpp_inner_zn.jointMin},set_jointMin:function(a){this.zpp_inner.immutable_midstep("PulleyJoint::jointMin");if(a!=a)throw"Error: PulleyJoint::jointMin cannot be NaN";if(0>a)throw"Error: PulleyJoint::jointMin must be >= 0";this.zpp_inner_zn.jointMin!=a&&(this.zpp_inner_zn.jointMin=
a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMin},get_jointMax:function(){return this.zpp_inner_zn.jointMax},set_jointMax:function(a){this.zpp_inner.immutable_midstep("PulleyJoint::jointMax");if(a!=a)throw"Error: PulleyJoint::jointMax cannot be NaN";if(0>a)throw"Error: PulleyJoint::jointMax must be >= 0";this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMax},get_ratio:function(){return this.zpp_inner_zn.ratio},set_ratio:function(a){this.zpp_inner.immutable_midstep("PulleyJoint::ratio");
if(a!=a)throw"Error: PulleyJoint::ratio cannot be NaN";this.zpp_inner_zn.ratio!=a&&(this.zpp_inner_zn.ratio=a,this.zpp_inner.wake());return this.zpp_inner_zn.ratio},isSlack:function(){if(null==(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)||null==(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)||null==(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)||null==(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer))throw"Error: Cannot compute slack for PulleyJoint if either body is null.";
return this.zpp_inner_zn.slack},impulse:function(){var a=new f.geom.MatMN(1,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAcc;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&a!=(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)&&
a!=(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer))throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get()},visitBodies:function(a){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?
null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer);null!=(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)&&(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&a(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer);null!=(null==this.zpp_inner_zn.b4?
null:this.zpp_inner_zn.b4.outer)&&(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)!=(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)&&a(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)},__class__:f.constraint.PulleyJoint,
__properties__:F(f.constraint.Constraint.prototype.__properties__,{set_ratio:"set_ratio",get_ratio:"get_ratio",set_jointMax:"set_jointMax",get_jointMax:"get_jointMax",set_jointMin:"set_jointMin",get_jointMin:"get_jointMin",set_anchor4:"set_anchor4",get_anchor4:"get_anchor4",set_anchor3:"set_anchor3",get_anchor3:"get_anchor3",set_anchor2:"set_anchor2",get_anchor2:"get_anchor2",set_anchor1:"set_anchor1",get_anchor1:"get_anchor1",set_body4:"set_body4",get_body4:"get_body4",set_body3:"set_body3",get_body3:"get_body3",
set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.constraint.UserConstraint=function(a,b){null==b&&(b=!1);this.zpp_inner_zn=null;if(1>a)throw"Error: Constraint dimension must be at least 1";this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_UserConstraint(a,b);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.zpp_internalAlloc=!0;f.constraint.Constraint.call(this);f.constraint.Constraint.zpp_internalAlloc=!1};m["nape.constraint.UserConstraint"]=
f.constraint.UserConstraint;f.constraint.UserConstraint.__name__=["nape","constraint","UserConstraint"];f.constraint.UserConstraint.__super__=f.constraint.Constraint;f.constraint.UserConstraint.prototype=F(f.constraint.Constraint.prototype,{zpp_inner_zn:null,__bindVec2:function(){var a=new f.geom.Vec2;a.zpp_inner._inuse=!0;a.zpp_inner._invalidate=(ga=this.zpp_inner_zn,u(ga,ga.bindVec2_invalidate));return a},__copy:function(){throw"Error: UserConstraint::__copy must be overriden";},__broken:function(){},
__validate:function(){},__draw:function(a){},__prepare:function(){},__position:function(a){throw"Error: UserConstraint::__position must be overriden";},__velocity:function(a){throw"Error: Userconstraint::__velocity must be overriden";},__eff_mass:function(a){throw"Error: UserConstraint::__eff_mass must be overriden";},__clamp:function(a){},__impulse:function(a,b,d){throw"Error: UserConstraint::__impulse must be overriden";},impulse:function(){for(var a=new f.geom.MatMN(this.zpp_inner_zn.dim,1),b=
0,d=this.zpp_inner_zn.dim;b<d;){var c=b++;if(0>c||c>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[c*a.zpp_inner.n]=this.zpp_inner_zn.jAcc[c]}return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";for(var b=!1,d=0,c=this.zpp_inner_zn.bodies;d<c.length;){var e=c[d];++d;if(e.body==a.zpp_inner){b=!0;break}}if(!b)throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):
f.geom.Vec3.get()},visitBodies:function(a){for(var b=0,d=this.zpp_inner_zn.bodies.length;b<d;){var c=this.zpp_inner_zn.bodies[b];if(null!=c.body){for(var e=!1,g=b+1;g<d;){var p=g++;if(this.zpp_inner_zn.bodies[p].body==c.body){e=!0;break}}e||a(c.body.outer)}b++}},__invalidate:function(){this.zpp_inner.immutable_midstep("UserConstraint::invalidate()");this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner.wake()},__registerBody:function(a,b){this.zpp_inner.immutable_midstep("UserConstraint::registerBody(..)");
if(a!=b){if(null!=a){if(!this.zpp_inner_zn.remBody(a.zpp_inner))throw"Error: oldBody is not registered to the cosntraint";this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&a.zpp_inner.wake()}null!=b&&this.zpp_inner_zn.addBody(b.zpp_inner);this.zpp_inner.wake();null!=b&&b.zpp_inner.wake()}return b},__class__:f.constraint.UserConstraint});f.constraint.WeldJoint=function(a,b,d,k,e){null==e&&(e=0);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_WeldJoint;
this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.zpp_internalAlloc=!0;f.constraint.Constraint.call(this);f.constraint.Constraint.zpp_internalAlloc=!1;this.set_body1(a);this.set_body2(b);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==d)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(d);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();
this.zpp_inner_zn.wrap_a1;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==k)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(k);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2;this.zpp_inner.immutable_midstep("WeldJoint::phase");if(e!=e)throw"Error: WeldJoint::phase cannot be NaN";this.zpp_inner_zn.phase!=e&&(this.zpp_inner_zn.phase=
e,this.zpp_inner.wake());this.zpp_inner_zn.phase};m["nape.constraint.WeldJoint"]=f.constraint.WeldJoint;f.constraint.WeldJoint.__name__=["nape","constraint","WeldJoint"];f.constraint.WeldJoint.__super__=f.constraint.Constraint;f.constraint.WeldJoint.prototype=F(f.constraint.Constraint.prototype,{zpp_inner_zn:null,get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;
a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=
a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?
null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?
null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_anchor1:function(){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},set_anchor1:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);
null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&
this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},get_phase:function(){return this.zpp_inner_zn.phase},set_phase:function(a){this.zpp_inner.immutable_midstep("WeldJoint::phase");if(a!=a)throw"Error: WeldJoint::phase cannot be NaN";this.zpp_inner_zn.phase!=a&&(this.zpp_inner_zn.phase=a,this.zpp_inner.wake());return this.zpp_inner_zn.phase},impulse:function(){var a=new f.geom.MatMN(3,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=
this.zpp_inner_zn.jAccx;if(1>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[a.zpp_inner.n]=this.zpp_inner_zn.jAccy;if(1>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[a.zpp_inner.n]=this.zpp_inner_zn.jAccz;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Body is not linked to this constraint";
return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get()},visitBodies:function(a){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:f.constraint.WeldJoint,
__properties__:F(f.constraint.Constraint.prototype.__properties__,{set_phase:"set_phase",get_phase:"get_phase",set_anchor2:"set_anchor2",get_anchor2:"get_anchor2",set_anchor1:"set_anchor1",get_anchor1:"get_anchor1",set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.dynamics.Arbiter=function(){this.zpp_inner=null;if(!c.dynamics.ZPP_Arbiter.internal)throw"Error: Cannot instantiate Arbiter derp!";};m["nape.dynamics.Arbiter"]=f.dynamics.Arbiter;f.dynamics.Arbiter.__name__=
["nape","dynamics","Arbiter"];f.dynamics.Arbiter.prototype={zpp_inner:null,get_isSleeping:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return this.zpp_inner.sleeping},get_type:function(){return c.dynamics.ZPP_Arbiter.types[this.zpp_inner.type]},isCollisionArbiter:function(){return this.zpp_inner.type==c.dynamics.ZPP_Arbiter.COL},isFluidArbiter:function(){return this.zpp_inner.type==c.dynamics.ZPP_Arbiter.FLUID},isSensorArbiter:function(){return this.zpp_inner.type==
c.dynamics.ZPP_Arbiter.SENSOR},get_collisionArbiter:function(){return this.zpp_inner.type==c.dynamics.ZPP_Arbiter.COL?this.zpp_inner.colarb.outer_zn:null},get_fluidArbiter:function(){return this.zpp_inner.type==c.dynamics.ZPP_Arbiter.FLUID?this.zpp_inner.fluidarb.outer_zn:null},get_shape1:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:this.zpp_inner.ws1.outer},get_shape2:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
return this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer},get_body1:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer},get_body2:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer},get_state:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
var a=this.zpp_inner.immState;if(a==(c.util.ZPP_Flags.id_ImmState_ACCEPT|c.util.ZPP_Flags.id_ImmState_ALWAYS))return null==c.util.ZPP_Flags.PreFlag_ACCEPT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.PreFlag_ACCEPT;switch(a){case c.util.ZPP_Flags.id_ImmState_ACCEPT:return null==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=
!1),c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE;default:if(a==(c.util.ZPP_Flags.id_ImmState_IGNORE|c.util.ZPP_Flags.id_ImmState_ALWAYS))return null==c.util.ZPP_Flags.PreFlag_IGNORE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.PreFlag_IGNORE;null==c.util.ZPP_Flags.PreFlag_IGNORE_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE_ONCE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.PreFlag_IGNORE_ONCE}},
totalImpulse:function(a,b){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var d;if(d=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)}if(d){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}if(d)throw"Error: Arbiter does not relate to body";
return f.geom.Vec3.get(0,0,0)},toString:function(){var a;a=this.zpp_inner.type==c.dynamics.ZPP_Arbiter.COL?"CollisionArbiter":this.zpp_inner.type==c.dynamics.ZPP_Arbiter.FLUID?"FluidArbiter":"SensorArbiter";if(this.zpp_inner.cleared)a+="(object-pooled)";else{if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";a=a+"("+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:this.zpp_inner.ws1.outer).toString()+"|";if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
a=a+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer).toString()+")"+(this.zpp_inner.type==c.dynamics.ZPP_Arbiter.COL?"["+["SD","DD"][this.zpp_inner.colarb.stat?0:1]+"]":"")+"<-"+this.get_state().toString()}return a},__class__:f.dynamics.Arbiter,__properties__:{get_state:"get_state",get_body2:"get_body2",get_body1:"get_body1",get_shape2:"get_shape2",get_shape1:"get_shape1",get_fluidArbiter:"get_fluidArbiter",get_collisionArbiter:"get_collisionArbiter",
get_type:"get_type",get_isSleeping:"get_isSleeping"}};f.dynamics.ArbiterIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_ArbiterList.internal)throw"Error: Cannot instantiate ArbiterIterator derp!";};m["nape.dynamics.ArbiterIterator"]=f.dynamics.ArbiterIterator;f.dynamics.ArbiterIterator.__name__=["nape","dynamics","ArbiterIterator"];f.dynamics.ArbiterIterator.get=function(a){var b;null==f.dynamics.ArbiterIterator.zpp_pool?(c.util.ZPP_ArbiterList.internal=
!0,b=new f.dynamics.ArbiterIterator,c.util.ZPP_ArbiterList.internal=!1):(b=f.dynamics.ArbiterIterator.zpp_pool,f.dynamics.ArbiterIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.dynamics.ArbiterIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.zpp_gl();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.dynamics.ArbiterIterator.zpp_pool;f.dynamics.ArbiterIterator.zpp_pool=
this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.dynamics.ArbiterIterator};f.dynamics.ArbiterList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_ArbiterList;this.zpp_inner.outer=this};m["nape.dynamics.ArbiterList"]=f.dynamics.ArbiterList;f.dynamics.ArbiterList.__name__=["nape","dynamics","ArbiterList"];f.dynamics.ArbiterList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";
for(var b=new f.dynamics.ArbiterList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};f.dynamics.ArbiterList.prototype={zpp_inner:null,get_length:function(){return this.zpp_gl()},zpp_gl:function(){this.zpp_inner.valmod();if(this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1;this.zpp_inner.user_length=0;for(var a=this.zpp_inner.inner.head;null!=a;)a.elt.active&&this.zpp_inner.user_length++,a=a.next}return this.zpp_inner.user_length},zpp_vm:function(){this.zpp_inner.valmod()},has:function(a){this.zpp_vm();
return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_vm();if(0>a||a>=this.zpp_gl())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)for(this.zpp_inner.at_index=0,this.zpp_inner.at_ite=this.zpp_inner.inner.head;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;for(;this.zpp_inner.at_index!=a;)for(this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=
this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},push:function(a){if(this.zpp_inner.immutable)throw"Error: ArbiterList is immutable";this.zpp_inner.modify_test();this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.empty()?this.zpp_inner.push_ite=null:this.zpp_inner.push_ite=this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=
this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: ArbiterList is immutable";this.zpp_inner.modify_test();this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.empty()?this.zpp_inner.push_ite=null:this.zpp_inner.push_ite=this.zpp_inner.inner.iterator_at(this.zpp_gl()-
1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: ArbiterList is immutable";this.zpp_inner.modify_test();if(this.empty())throw"Error: Cannot remove from empty list";this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.wrapper();
null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},
shift:function(){if(this.zpp_inner.immutable)throw"Error: ArbiterList is immutable";this.zpp_inner.modify_test();if(this.empty())throw"Error: Cannot remove from empty list";this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: ArbiterList is immutable";this.zpp_inner.modify_test();this.zpp_vm();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=
d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: ArbiterList is immutable";if(this.zpp_inner.reverse_flag)for(;!this.empty();)this.pop();else for(;!this.empty();)this.shift()},empty:function(){return 0==this.zpp_gl()},iterator:function(){this.zpp_vm();return f.dynamics.ArbiterIterator.get(this)},
copy:function(a){null==a&&(a=!1);for(var b=new f.dynamics.ArbiterList,d=this.iterator();d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Arbiter is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";for(a=a.iterator();a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||this.add(b)}},toString:function(){for(var a="[",b=!0,d=this.iterator();d.hasNext();){var c;
d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";for(var b=this.iterator();b.hasNext();)try{var d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.dynamics.ArbiterIterator.zpp_pool;f.dynamics.ArbiterIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";
for(var b=0;b<this.zpp_gl();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.dynamics.ArbiterList,__properties__:{get_length:"get_length"}};f.dynamics.ArbiterType=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate ArbiterType derp!";};m["nape.dynamics.ArbiterType"]=f.dynamics.ArbiterType;f.dynamics.ArbiterType.__name__=["nape","dynamics","ArbiterType"];f.dynamics.ArbiterType.__properties__={get_FLUID:"get_FLUID",get_SENSOR:"get_SENSOR",
get_COLLISION:"get_COLLISION"};f.dynamics.ArbiterType.get_COLLISION=function(){null==c.util.ZPP_Flags.ArbiterType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_COLLISION=new f.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ArbiterType_COLLISION};f.dynamics.ArbiterType.get_SENSOR=function(){null==c.util.ZPP_Flags.ArbiterType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_SENSOR=new f.dynamics.ArbiterType,c.util.ZPP_Flags.internal=
!1);return c.util.ZPP_Flags.ArbiterType_SENSOR};f.dynamics.ArbiterType.get_FLUID=function(){null==c.util.ZPP_Flags.ArbiterType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_FLUID=new f.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ArbiterType_FLUID};f.dynamics.ArbiterType.prototype={toString:function(){null==c.util.ZPP_Flags.ArbiterType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_COLLISION=new f.dynamics.ArbiterType,c.util.ZPP_Flags.internal=
!1);var a;this==c.util.ZPP_Flags.ArbiterType_COLLISION?a="COLLISION":(null==c.util.ZPP_Flags.ArbiterType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_SENSOR=new f.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.ArbiterType_SENSOR?a="SENSOR":(null==c.util.ZPP_Flags.ArbiterType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_FLUID=new f.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.ArbiterType_FLUID?"FLUID":
""));return a},__class__:f.dynamics.ArbiterType};f.dynamics.CollisionArbiter=function(){if(!c.dynamics.ZPP_Arbiter.internal)throw"Error: Cannot instantiate CollisionArbiter derp!";f.dynamics.Arbiter.call(this)};m["nape.dynamics.CollisionArbiter"]=f.dynamics.CollisionArbiter;f.dynamics.CollisionArbiter.__name__=["nape","dynamics","CollisionArbiter"];f.dynamics.CollisionArbiter.__super__=f.dynamics.Arbiter;f.dynamics.CollisionArbiter.prototype=F(f.dynamics.Arbiter.prototype,{get_contacts:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
null==this.zpp_inner.colarb.wrap_contacts&&this.zpp_inner.colarb.setupcontacts();return this.zpp_inner.colarb.wrap_contacts},get_normal:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";null==this.zpp_inner.colarb.wrap_normal&&this.zpp_inner.colarb.getnormal();return this.zpp_inner.colarb.wrap_normal},get_radius:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return this.zpp_inner.colarb.radius},get_referenceEdge1:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
var a=this.zpp_inner.colarb.__ref_edge1,b;if(b=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";if(!(b=!(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:this.zpp_inner.ws1.outer).isPolygon())){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";b=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:this.zpp_inner.ws1.outer).zpp_inner!=a.polygon}}b&&(a=this.zpp_inner.colarb.__ref_edge2);return null==a?null:a.wrapper()},
get_referenceEdge2:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var a=this.zpp_inner.colarb.__ref_edge1,b;if(b=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";if(!(b=!(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer).isPolygon())){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";b=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer).zpp_inner!=
a.polygon}}b&&(a=this.zpp_inner.colarb.__ref_edge2);return null==a?null:a.wrapper()},firstVertex:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return null!=this.zpp_inner.colarb.__ref_edge1!=(null!=this.zpp_inner.colarb.__ref_edge2)?-1==this.zpp_inner.colarb.__ref_vertex:!1},secondVertex:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return null!=this.zpp_inner.colarb.__ref_edge1!=(null!=this.zpp_inner.colarb.__ref_edge2)?1==this.zpp_inner.colarb.__ref_vertex:
!1},normalImpulse:function(a,b){null==b&&(b=!1);if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var d;if(d=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)}if(d){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}if(d)throw"Error: Arbiter does not relate to body";
var c=d=0,e=0,g=this.zpp_inner.colarb;if(!b||g.oc1.fresh){var p=g.oc1.wrapper().normalImpulse(a);if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();d+=1*p.zpp_inner.x;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();c+=1*p.zpp_inner.y;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();e+=1*p.zpp_inner.z;p.dispose()}if(g.hc2&&(!b||g.oc2.fresh)){g=
g.oc2.wrapper().normalImpulse(a);if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();d+=1*g.zpp_inner.x;if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();c+=1*g.zpp_inner.y;if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();e+=1*g.zpp_inner.z;g.dispose()}return f.geom.Vec3.get(d,c,e)},tangentImpulse:function(a,b){null==b&&(b=!1);if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
var d;if(d=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)}if(d){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}if(d)throw"Error: Arbiter does not relate to body";var c=d=0,e=0,g=this.zpp_inner.colarb;if(!b||g.oc1.fresh){var p=g.oc1.wrapper().tangentImpulse(a);
if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();d+=1*p.zpp_inner.x;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();c+=1*p.zpp_inner.y;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();e+=1*p.zpp_inner.z;p.dispose()}if(g.hc2&&(!b||g.oc2.fresh)){g=g.oc2.wrapper().tangentImpulse(a);if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
g.zpp_inner.validate();d+=1*g.zpp_inner.x;if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();c+=1*g.zpp_inner.y;if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();e+=1*g.zpp_inner.z;g.dispose()}return f.geom.Vec3.get(d,c,e)},totalImpulse:function(a,b){null==b&&(b=!1);if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var d;if(d=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)}if(d){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}if(d)throw"Error: Arbiter does not relate to body";var c=d=0,e=0,g=this.zpp_inner.colarb;if(!b||g.oc1.fresh){var p=g.oc1.wrapper().totalImpulse(a);if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();
d+=1*p.zpp_inner.x;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();c+=1*p.zpp_inner.y;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();e+=1*p.zpp_inner.z;p.dispose()}if(g.hc2&&(!b||g.oc2.fresh)){g=g.oc2.wrapper().totalImpulse(a);if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();d+=1*g.zpp_inner.x;if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
g.zpp_inner.validate();c+=1*g.zpp_inner.y;if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();e+=1*g.zpp_inner.z;g.dispose()}return f.geom.Vec3.get(d,c,e)},rollingImpulse:function(a,b){null==b&&(b=!1);if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var d;if(d=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)}if(d){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}if(d)throw"Error: Arbiter does not relate to body";d=this.zpp_inner.colarb;return!b||d.oc1.fresh?d.oc1.wrapper().rollingImpulse(a):0},get_elasticity:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var a=this.zpp_inner.colarb;a.invalidated&&(a.invalidated=!1,a.userdef_restitution||(a.restitution=a.s1.material.elasticity<=Math.NEGATIVE_INFINITY||a.s2.material.elasticity<=
Math.NEGATIVE_INFINITY?0:a.s1.material.elasticity>=Math.POSITIVE_INFINITY||a.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(a.s1.material.elasticity+a.s2.material.elasticity)/2,0>a.restitution&&(a.restitution=0),1<a.restitution&&(a.restitution=1)),a.userdef_dyn_fric||(a.dyn_fric=Math.sqrt(a.s1.material.dynamicFriction*a.s2.material.dynamicFriction)),a.userdef_stat_fric||(a.stat_fric=Math.sqrt(a.s1.material.staticFriction*a.s2.material.staticFriction)),a.userdef_rfric||(a.rfric=Math.sqrt(a.s1.material.rollingFriction*
a.s2.material.rollingFriction)));return a.restitution},set_elasticity:function(a){if(!this.zpp_inner.colarb.mutable)throw"Error: CollisionArbiter::elasticity is only mutable during a pre-handler";if(a!=a)throw"Error: CollisionArbiter::elasticity cannot be NaN";if(0>a)throw"Error: CollisionArbiter::elasticity cannot be negative";var b=this.zpp_inner.colarb;b.restitution=a;b.userdef_restitution=!0;return this.get_elasticity()},get_dynamicFriction:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
var a=this.zpp_inner.colarb;a.invalidated&&(a.invalidated=!1,a.userdef_restitution||(a.restitution=a.s1.material.elasticity<=Math.NEGATIVE_INFINITY||a.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:a.s1.material.elasticity>=Math.POSITIVE_INFINITY||a.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(a.s1.material.elasticity+a.s2.material.elasticity)/2,0>a.restitution&&(a.restitution=0),1<a.restitution&&(a.restitution=1)),a.userdef_dyn_fric||(a.dyn_fric=Math.sqrt(a.s1.material.dynamicFriction*a.s2.material.dynamicFriction)),
a.userdef_stat_fric||(a.stat_fric=Math.sqrt(a.s1.material.staticFriction*a.s2.material.staticFriction)),a.userdef_rfric||(a.rfric=Math.sqrt(a.s1.material.rollingFriction*a.s2.material.rollingFriction)));return a.dyn_fric},set_dynamicFriction:function(a){if(!this.zpp_inner.colarb.mutable)throw"Error: CollisionArbiter::dynamicFriction is only mutable during a pre-handler";if(a!=a)throw"Error: CollisionArbiter::dynamicFriction cannot be NaN";if(0>a)throw"Error: CollisionArbiter::dynamicFriction cannot be negative";
var b=this.zpp_inner.colarb;b.dyn_fric=a;b.userdef_dyn_fric=!0;return this.get_dynamicFriction()},get_staticFriction:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var a=this.zpp_inner.colarb;a.invalidated&&(a.invalidated=!1,a.userdef_restitution||(a.restitution=a.s1.material.elasticity<=Math.NEGATIVE_INFINITY||a.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:a.s1.material.elasticity>=Math.POSITIVE_INFINITY||a.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(a.s1.material.elasticity+
a.s2.material.elasticity)/2,0>a.restitution&&(a.restitution=0),1<a.restitution&&(a.restitution=1)),a.userdef_dyn_fric||(a.dyn_fric=Math.sqrt(a.s1.material.dynamicFriction*a.s2.material.dynamicFriction)),a.userdef_stat_fric||(a.stat_fric=Math.sqrt(a.s1.material.staticFriction*a.s2.material.staticFriction)),a.userdef_rfric||(a.rfric=Math.sqrt(a.s1.material.rollingFriction*a.s2.material.rollingFriction)));return a.stat_fric},set_staticFriction:function(a){if(!this.zpp_inner.colarb.mutable)throw"Error: CollisionArbiter::staticFriction is only mutable during a pre-handler";
if(a!=a)throw"Error: CollisionArbiter::staticFriction cannot be NaN";if(0>a)throw"Error: CollisionArbiter::staticFriction cannot be negative";var b=this.zpp_inner.colarb;b.stat_fric=a;b.userdef_stat_fric=!0;return this.get_staticFriction()},get_rollingFriction:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var a=this.zpp_inner.colarb;a.invalidated&&(a.invalidated=!1,a.userdef_restitution||(a.restitution=a.s1.material.elasticity<=Math.NEGATIVE_INFINITY||a.s2.material.elasticity<=
Math.NEGATIVE_INFINITY?0:a.s1.material.elasticity>=Math.POSITIVE_INFINITY||a.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(a.s1.material.elasticity+a.s2.material.elasticity)/2,0>a.restitution&&(a.restitution=0),1<a.restitution&&(a.restitution=1)),a.userdef_dyn_fric||(a.dyn_fric=Math.sqrt(a.s1.material.dynamicFriction*a.s2.material.dynamicFriction)),a.userdef_stat_fric||(a.stat_fric=Math.sqrt(a.s1.material.staticFriction*a.s2.material.staticFriction)),a.userdef_rfric||(a.rfric=Math.sqrt(a.s1.material.rollingFriction*
a.s2.material.rollingFriction)));return a.rfric},set_rollingFriction:function(a){if(!this.zpp_inner.colarb.mutable)throw"Error: CollisionArbiter::rollingFriction is only mutable during a pre-handler";if(a!=a)throw"Error: CollisionArbiter::rollingFriction cannot be NaN";if(0>a)throw"Error: CollisionArbiter::rollingFriction cannot be negative";var b=this.zpp_inner.colarb;b.rfric=a;b.userdef_rfric=!0;return this.get_rollingFriction()},__class__:f.dynamics.CollisionArbiter,__properties__:F(f.dynamics.Arbiter.prototype.__properties__,
{set_rollingFriction:"set_rollingFriction",get_rollingFriction:"get_rollingFriction",set_staticFriction:"set_staticFriction",get_staticFriction:"get_staticFriction",set_dynamicFriction:"set_dynamicFriction",get_dynamicFriction:"get_dynamicFriction",set_elasticity:"set_elasticity",get_elasticity:"get_elasticity",get_referenceEdge2:"get_referenceEdge2",get_referenceEdge1:"get_referenceEdge1",get_radius:"get_radius",get_normal:"get_normal",get_contacts:"get_contacts"})});f.dynamics.Contact=function(){this.zpp_inner=
null;if(!c.dynamics.ZPP_Contact.internal)throw"Error: Cannot instantiate Contact derp!";};m["nape.dynamics.Contact"]=f.dynamics.Contact;f.dynamics.Contact.__name__=["nape","dynamics","Contact"];f.dynamics.Contact.prototype={zpp_inner:null,get_arbiter:function(){return null==this.zpp_inner.arbiter?null:this.zpp_inner.arbiter.outer.get_collisionArbiter()},get_penetration:function(){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";return-this.zpp_inner.dist},get_position:function(){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";
null==this.zpp_inner.wrap_position&&this.zpp_inner.getposition();return this.zpp_inner.wrap_position},get_fresh:function(){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";return this.zpp_inner.fresh},normalImpulse:function(a){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";var b=this.zpp_inner.arbiter.colarb,d=this.zpp_inner.inner,c=d.jnAcc;if(null==a)return f.geom.Vec3.get(b.nx*c,b.ny*c);if(a!=b.b1.outer&&a!=b.b2.outer)throw"Error: Contact does not relate to the given body";
return a==b.b1.outer?f.geom.Vec3.get(b.nx*-c,b.ny*-c,-(b.ny*d.r1x-b.nx*d.r1y)*c):f.geom.Vec3.get(b.nx*c,b.ny*c,(b.ny*d.r2x-b.nx*d.r2y)*c)},tangentImpulse:function(a){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";var b=this.zpp_inner.arbiter.colarb,d=this.zpp_inner.inner,c=d.jtAcc;if(null==a)return f.geom.Vec3.get(-b.ny*c,b.nx*c);if(a!=b.b1.outer&&a!=b.b2.outer)throw"Error: Contact does not relate to the given body";return a==b.b1.outer?f.geom.Vec3.get(b.ny*c,-b.nx*c,-(d.r1x*
b.nx+d.r1y*b.ny)*c):f.geom.Vec3.get(-b.ny*c,b.nx*c,(d.r2x*b.nx+d.r2y*b.ny)*c)},rollingImpulse:function(a){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";var b=this.zpp_inner.arbiter.colarb,d=this.zpp_inner.arbiter.colarb.jrAcc;if(null==a)return d;if(a!=b.b1.outer&&a!=b.b2.outer)throw"Error: Contact does not relate to the given body";return a==b.b1.outer?-d:d},totalImpulse:function(a){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";var b=this.zpp_inner.arbiter.colarb,
d=this.zpp_inner.inner,c=d.jnAcc,e=d.jtAcc,g=b.jrAcc;if(null==a)return f.geom.Vec3.get(b.nx*c-b.ny*e,b.ny*c+b.nx*e,g);if(a!=b.b1.outer&&a!=b.b2.outer)throw"Error: Contact does not relate to the given body";var p=b.nx*c-b.ny*e,c=b.ny*c+b.nx*e;return a==b.b1.outer?f.geom.Vec3.get(-p,-c,-(c*d.r1x-p*d.r1y)-g):f.geom.Vec3.get(p,c,c*d.r2x-p*d.r2y+g)},get_friction:function(){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";return this.zpp_inner.inner.friction},toString:function(){return null==
this.zpp_inner.arbiter||this.zpp_inner.arbiter.cleared?"{object-pooled}":"{Contact}"},__class__:f.dynamics.Contact,__properties__:{get_friction:"get_friction",get_fresh:"get_fresh",get_position:"get_position",get_penetration:"get_penetration",get_arbiter:"get_arbiter"}};f.dynamics.ContactIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_ContactList.internal)throw"Error: Cannot instantiate ContactIterator derp!";};m["nape.dynamics.ContactIterator"]=
f.dynamics.ContactIterator;f.dynamics.ContactIterator.__name__=["nape","dynamics","ContactIterator"];f.dynamics.ContactIterator.get=function(a){var b;null==f.dynamics.ContactIterator.zpp_pool?(c.util.ZPP_ContactList.internal=!0,b=new f.dynamics.ContactIterator,c.util.ZPP_ContactList.internal=!1):(b=f.dynamics.ContactIterator.zpp_pool,f.dynamics.ContactIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.dynamics.ContactIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,
zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.dynamics.ContactIterator.zpp_pool;f.dynamics.ContactIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.dynamics.ContactIterator};f.dynamics.ContactList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_ContactList;this.zpp_inner.outer=this};
m["nape.dynamics.ContactList"]=f.dynamics.ContactList;f.dynamics.ContactList.__name__=["nape","dynamics","ContactList"];f.dynamics.ContactList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.dynamics.ContactList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};f.dynamics.ContactList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();if(this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1;this.zpp_inner.user_length=0;
for(var a=this.zpp_inner.inner.next;null!=a;){var b=a;b.active&&b.arbiter.active&&this.zpp_inner.user_length++;a=a.next}}return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)for(this.zpp_inner.at_index=0,this.zpp_inner.at_ite=
this.zpp_inner.inner.next;;){var b=this.zpp_inner.at_ite;if(b.active&&b.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}for(;this.zpp_inner.at_index!=a;)for(this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;;){b=this.zpp_inner.at_ite;if(b.active&&b.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}return this.zpp_inner.at_ite.wrapper()},push:function(a){if(this.zpp_inner.immutable)throw"Error: ContactList is immutable";this.zpp_inner.modify_test();
this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(0==this.get_length()?this.zpp_inner.push_ite=null:this.zpp_inner.push_ite=this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},
unshift:function(a){if(this.zpp_inner.immutable)throw"Error: ContactList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(0==this.get_length()?this.zpp_inner.push_ite=null:this.zpp_inner.push_ite=this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),
this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: ContactList is immutable";this.zpp_inner.modify_test();if(0==this.get_length())throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.next,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=
this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.next:b.next,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){if(this.zpp_inner.immutable)throw"Error: ContactList is immutable";this.zpp_inner.modify_test();
if(0==this.get_length())throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.next:b.next,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.next,
b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: ContactList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.next;null!=d;){if(d==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&
this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: ContactList is immutable";if(this.zpp_inner.reverse_flag)for(;0!=this.get_length();)this.pop();else for(;0!=this.get_length();)this.shift()},empty:function(){return 0==this.get_length()},iterator:function(){this.zpp_inner.valmod();return f.dynamics.ContactIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=
new f.dynamics.ContactList,d;this.zpp_inner.valmod();for(d=f.dynamics.ContactIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Contact is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=f.dynamics.ContactIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):
this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.dynamics.ContactIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=f.dynamics.ContactIterator.get(this);b.hasNext();)try{var d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=
f.dynamics.ContactIterator.zpp_pool;f.dynamics.ContactIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.dynamics.ContactList,__properties__:{get_length:"get_length"}};f.dynamics.FluidArbiter=function(){if(!c.dynamics.ZPP_Arbiter.internal)throw"Error: Cannot instantiate FluidArbiter derp!";
f.dynamics.Arbiter.call(this)};m["nape.dynamics.FluidArbiter"]=f.dynamics.FluidArbiter;f.dynamics.FluidArbiter.__name__=["nape","dynamics","FluidArbiter"];f.dynamics.FluidArbiter.__super__=f.dynamics.Arbiter;f.dynamics.FluidArbiter.prototype=F(f.dynamics.Arbiter.prototype,{get_position:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";null==this.zpp_inner.fluidarb.wrap_position&&this.zpp_inner.fluidarb.getposition();return this.zpp_inner.fluidarb.wrap_position},set_position:function(a){if(!this.zpp_inner.fluidarb.mutable)throw"Error: Arbiter is mutable only within a pre-handler";
if(null==a)throw"Error: FluidArbiter::position cannot be null";if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";null==this.zpp_inner.fluidarb.wrap_position&&this.zpp_inner.fluidarb.getposition();this.zpp_inner.fluidarb.wrap_position.set(a);if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";null==this.zpp_inner.fluidarb.wrap_position&&this.zpp_inner.fluidarb.getposition();return this.zpp_inner.fluidarb.wrap_position},get_overlap:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
return this.zpp_inner.fluidarb.overlap},set_overlap:function(a){if(!this.zpp_inner.fluidarb.mutable)throw"Error: Arbiter is mutable only within a pre-handler";if(a!=a)throw"Error: FluidArbiter::overlap cannot be NaN";if(0>=a||a==Math.POSITIVE_INFINITY)throw"Error: FluidArbiter::overlap must be strictly positive and non infinite";this.zpp_inner.fluidarb.overlap=a;if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return this.zpp_inner.fluidarb.overlap},buoyancyImpulse:function(a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
var b;if(b=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";b=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)}if(b){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";b=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}if(b)throw"Error: Arbiter does not relate to body";b=this.zpp_inner.fluidarb;return null==a?f.geom.Vec3.get(b.buoyx,b.buoyy,0):a.zpp_inner==
this.zpp_inner.b2?f.geom.Vec3.get(b.buoyx,b.buoyy,b.buoyy*b.r2x-b.buoyx*b.r2y):f.geom.Vec3.get(-b.buoyx,-b.buoyy,-(b.buoyy*b.r1x-b.buoyx*b.r1y))},dragImpulse:function(a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var b;if(b=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";b=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)}if(b){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
b=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}if(b)throw"Error: Arbiter does not relate to body";b=this.zpp_inner.fluidarb;a=null==a||a.zpp_inner==this.zpp_inner.b2?1:-1;return f.geom.Vec3.get(b.dampx*a,b.dampy*a,b.adamp*a)},totalImpulse:function(a,b){null==b&&(b=!1);if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var d;if(d=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>
this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)}if(d){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}if(d)throw"Error: Arbiter does not relate to body";var c=this.buoyancyImpulse(a),e=this.dragImpulse(a);e.set_x(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)+function(a){if(null!=
c&&c.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this));e.set_y(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this)+function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this));e.set_z(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.z}(this)+function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.z}(this));c.dispose();return e},__class__:f.dynamics.FluidArbiter,__properties__:F(f.dynamics.Arbiter.prototype.__properties__,{set_overlap:"set_overlap",get_overlap:"get_overlap",set_position:"set_position",get_position:"get_position"})});f.dynamics.InteractionGroup=function(a){null==a&&(a=!1);this.zpp_inner=null;
this.zpp_inner=new c.dynamics.ZPP_InteractionGroup;this.zpp_inner.outer=this;this.zpp_inner.ignore!=a&&(this.zpp_inner.invalidate(!0),this.zpp_inner.ignore=a);this.zpp_inner.ignore};m["nape.dynamics.InteractionGroup"]=f.dynamics.InteractionGroup;f.dynamics.InteractionGroup.__name__=["nape","dynamics","InteractionGroup"];f.dynamics.InteractionGroup.prototype={zpp_inner:null,get_group:function(){return null==this.zpp_inner.group?null:this.zpp_inner.group.outer},set_group:function(a){if(a==this)throw"Error: Cannot assign InteractionGroup to itself";
this.zpp_inner.setGroup(null==a?null:a.zpp_inner);return null==this.zpp_inner.group?null:this.zpp_inner.group.outer},get_ignore:function(){return this.zpp_inner.ignore},set_ignore:function(a){this.zpp_inner.ignore!=a&&(this.zpp_inner.invalidate(!0),this.zpp_inner.ignore=a);return this.zpp_inner.ignore},get_interactors:function(){null==this.zpp_inner.wrap_interactors&&(this.zpp_inner.wrap_interactors=c.util.ZPP_InteractorList.get(this.zpp_inner.interactors,!0));return this.zpp_inner.wrap_interactors},
get_groups:function(){null==this.zpp_inner.wrap_groups&&(this.zpp_inner.wrap_groups=c.util.ZPP_InteractionGroupList.get(this.zpp_inner.groups,!0));return this.zpp_inner.wrap_groups},toString:function(){var a="InteractionGroup";this.zpp_inner.ignore&&(a+=":ignore");return a},__class__:f.dynamics.InteractionGroup,__properties__:{get_groups:"get_groups",get_interactors:"get_interactors",set_ignore:"set_ignore",get_ignore:"get_ignore",set_group:"set_group",get_group:"get_group"}};f.dynamics.InteractionGroupIterator=
function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_InteractionGroupList.internal)throw"Error: Cannot instantiate InteractionGroupIterator derp!";};m["nape.dynamics.InteractionGroupIterator"]=f.dynamics.InteractionGroupIterator;f.dynamics.InteractionGroupIterator.__name__=["nape","dynamics","InteractionGroupIterator"];f.dynamics.InteractionGroupIterator.get=function(a){var b;null==f.dynamics.InteractionGroupIterator.zpp_pool?(c.util.ZPP_InteractionGroupList.internal=
!0,b=new f.dynamics.InteractionGroupIterator,c.util.ZPP_InteractionGroupList.internal=!1):(b=f.dynamics.InteractionGroupIterator.zpp_pool,f.dynamics.InteractionGroupIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.dynamics.InteractionGroupIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.dynamics.InteractionGroupIterator.zpp_pool;
f.dynamics.InteractionGroupIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.dynamics.InteractionGroupIterator};f.dynamics.InteractionGroupList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_InteractionGroupList;this.zpp_inner.outer=this};m["nape.dynamics.InteractionGroupList"]=f.dynamics.InteractionGroupList;f.dynamics.InteractionGroupList.__name__=["nape","dynamics","InteractionGroupList"];
f.dynamics.InteractionGroupList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.dynamics.InteractionGroupList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};f.dynamics.InteractionGroupList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();
return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: InteractionGroupList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);
return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: InteractionGroupList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),
this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: InteractionGroupList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=
this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: InteractionGroupList is immutable";this.zpp_inner.modify_test();
if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=
this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: InteractionGroupList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=
!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: InteractionGroupList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();
return f.dynamics.InteractionGroupIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.dynamics.InteractionGroupList,d;this.zpp_inner.valmod();for(d=f.dynamics.InteractionGroupIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: InteractionGroup is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=f.dynamics.InteractionGroupIterator.get(a);a.hasNext();){var b;
a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.dynamics.InteractionGroupIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=f.dynamics.InteractionGroupIterator.get(this);b.hasNext();)try{var d=
void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.dynamics.InteractionGroupIterator.zpp_pool;f.dynamics.InteractionGroupIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.dynamics.InteractionGroupList,__properties__:{get_length:"get_length"}};f.geom={};f.geom.AABB=
function(a,b,d,k){null==k&&(k=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.zpp_inner=null;if(a!=a||b!=b)throw"Error: AABB position cannot be NaN";if(d!=d||k!=k)throw"Error: AABB dimensions cannot be NaN";this.zpp_inner=c.geom.ZPP_AABB.get(a,b,a+d,b+k);this.zpp_inner.outer=this};m["nape.geom.AABB"]=f.geom.AABB;f.geom.AABB.__name__=["nape","geom","AABB"];f.geom.AABB.fromRect=function(a){if(null==a)throw"Error: Cannot create AABB from null Rectangle";return new f.geom.AABB(a.x,a.y,a.width,a.height)};
f.geom.AABB.prototype={zpp_inner:null,copy:function(){this.zpp_inner.validate();return this.zpp_inner.copy().wrapper()},toRect:function(){var a=h.geom.Rectangle;this.zpp_inner.validate();var b=this.zpp_inner.minx;this.zpp_inner.validate();var d=this.zpp_inner.miny;this.zpp_inner.validate();var c=this.zpp_inner.width(),e;this.zpp_inner.validate();e=this.zpp_inner.height();return new a(b,d,c,e)},get_min:function(){return this.zpp_inner.getmin()},set_min:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(this.zpp_inner._immutable)throw"Error: AABB is immutable";if(null==a)throw"Error: Cannot assign null to AABB::min";this.zpp_inner.validate();var b=this.zpp_inner.minx;this.zpp_inner.validate();(b=b!=this.zpp_inner.minx)||(this.zpp_inner.validate(),b=this.zpp_inner.miny,this.zpp_inner.validate(),b=b!=this.zpp_inner.miny);if(b)throw"Error: AABB::min components cannot be NaN";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();if(a.zpp_inner.x>this.zpp_inner.getmax().get_x())throw"Error: Assignment would cause negative width";
if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();if(a.zpp_inner.y>this.zpp_inner.getmax().get_y())throw"Error: Assignment would cause negative height";this.zpp_inner.getmin().set(a);return this.zpp_inner.getmin()},get_max:function(){return this.zpp_inner.getmax()},set_max:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(this.zpp_inner._immutable)throw"Error: AABB is immutable";if(null==a)throw"Error: Cannot assign null to AABB::max";
this.zpp_inner.validate();var b=this.zpp_inner.minx;this.zpp_inner.validate();(b=b!=this.zpp_inner.minx)||(this.zpp_inner.validate(),b=this.zpp_inner.miny,this.zpp_inner.validate(),b=b!=this.zpp_inner.miny);if(b)throw"Error: AABB::max components cannot be NaN";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();if(a.zpp_inner.x<this.zpp_inner.getmin().get_x())throw"Error: Assignment would cause negative width";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();if(a.zpp_inner.y<this.zpp_inner.getmin().get_y())throw"Error: Assignment would cause negative height";this.zpp_inner.getmax().set(a);return this.zpp_inner.getmax()},get_x:function(){this.zpp_inner.validate();return this.zpp_inner.minx},set_x:function(a){if(this.zpp_inner._immutable)throw"Error: AABB is immutable";this.zpp_inner.validate();if(this.zpp_inner.minx!=a){if(a!=a)throw"Error: AABB::x cannot be NaN";this.zpp_inner.maxx+=a-this.zpp_inner.minx;this.zpp_inner.minx=a;this.zpp_inner.invalidate()}this.zpp_inner.validate();
return this.zpp_inner.minx},get_y:function(){this.zpp_inner.validate();return this.zpp_inner.miny},set_y:function(a){if(this.zpp_inner._immutable)throw"Error: AABB is immutable";this.zpp_inner.validate();if(this.zpp_inner.miny!=a){if(a!=a)throw"Error: AABB::y cannot be NaN";this.zpp_inner.maxy+=a-this.zpp_inner.miny;this.zpp_inner.miny=a;this.zpp_inner.invalidate()}this.zpp_inner.validate();return this.zpp_inner.miny},get_width:function(){this.zpp_inner.validate();return this.zpp_inner.width()},set_width:function(a){if(this.zpp_inner._immutable)throw"Error: AABB is immutable";
this.zpp_inner.validate();if(this.zpp_inner.width()!=a){if(a!=a)throw"Error: AABB::width cannot be NaN";if(0>a)throw"Error: AABB::width ("+a+") must be >= 0";var b=this.zpp_inner;this.zpp_inner.validate();b.maxx=this.zpp_inner.minx+a;this.zpp_inner.invalidate()}this.zpp_inner.validate();return this.zpp_inner.width()},get_height:function(){this.zpp_inner.validate();return this.zpp_inner.height()},set_height:function(a){if(this.zpp_inner._immutable)throw"Error: AABB is immutable";this.zpp_inner.validate();
if(this.zpp_inner.height()!=a){if(a!=a)throw"Error: AABB::height cannot be NaN";if(0>a)throw"Error: AABB::height ("+a+") must be >= 0";var b=this.zpp_inner;this.zpp_inner.validate();b.maxy=this.zpp_inner.miny+a;this.zpp_inner.invalidate()}this.zpp_inner.validate();return this.zpp_inner.height()},toString:function(){this.zpp_inner.validate();return this.zpp_inner.toString()},__class__:f.geom.AABB,__properties__:{set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",
set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_max:"set_max",get_max:"get_max",set_min:"set_min",get_min:"get_min"}};f.geom.ConvexResult=function(){this.zpp_inner=null;if(!c.geom.ZPP_ConvexRayResult.internal)throw"Error: ConvexResult cannot be instantiated derp!";};m["nape.geom.ConvexResult"]=f.geom.ConvexResult;f.geom.ConvexResult.__name__=["nape","geom","ConvexResult"];f.geom.ConvexResult.prototype={zpp_inner:null,get_normal:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
return this.zpp_inner.normal},get_position:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.position},get_toi:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.toiDistance},get_shape:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.shape},dispose:function(){if(null!=
this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";this.zpp_inner.free()},toString:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";var a="{ shape: "+H.string(function(a){if(null!=a.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return a.zpp_inner.shape}(this))+" toi: ";if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return a+
this.zpp_inner.toiDistance+" }"},__class__:f.geom.ConvexResult,__properties__:{get_shape:"get_shape",get_toi:"get_toi",get_position:"get_position",get_normal:"get_normal"}};f.geom.ConvexResultIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_ConvexResultList.internal)throw"Error: Cannot instantiate ConvexResultIterator derp!";};m["nape.geom.ConvexResultIterator"]=f.geom.ConvexResultIterator;f.geom.ConvexResultIterator.__name__=["nape","geom",
"ConvexResultIterator"];f.geom.ConvexResultIterator.get=function(a){var b;null==f.geom.ConvexResultIterator.zpp_pool?(c.util.ZPP_ConvexResultList.internal=!0,b=new f.geom.ConvexResultIterator,c.util.ZPP_ConvexResultList.internal=!1):(b=f.geom.ConvexResultIterator.zpp_pool,f.geom.ConvexResultIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.geom.ConvexResultIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();
var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.geom.ConvexResultIterator.zpp_pool;f.geom.ConvexResultIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.geom.ConvexResultIterator};f.geom.ConvexResultList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_ConvexResultList;this.zpp_inner.outer=this};m["nape.geom.ConvexResultList"]=f.geom.ConvexResultList;
f.geom.ConvexResultList.__name__=["nape","geom","ConvexResultList"];f.geom.ConvexResultList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.geom.ConvexResultList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};f.geom.ConvexResultList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},
has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},
push:function(a){if(this.zpp_inner.immutable)throw"Error: ConvexResultList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a)),this.zpp_inner.invalidate(),
null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: ConvexResultList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,
a)):this.zpp_inner.inner.add(a),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: ConvexResultList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag)a=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||
this.zpp_inner.inner.pop();else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);a=null==b?this.zpp_inner.inner.head.elt:b.next.elt;null!=this.zpp_inner.subber&&this.zpp_inner.subber(a);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a},shift:function(){if(this.zpp_inner.immutable)throw"Error: ConvexResultList is immutable";
this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);a=null==b?this.zpp_inner.inner.head.elt:b.next.elt;null!=this.zpp_inner.subber&&this.zpp_inner.subber(a);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=
this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: ConvexResultList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}b&&(null!=
this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: ConvexResultList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.geom.ConvexResultIterator.get(this)},
copy:function(a){null==a&&(a=!1);var b=new f.geom.ConvexResultList,d;this.zpp_inner.valmod();for(d=f.geom.ConvexResultIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: ConvexResult is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=f.geom.ConvexResultIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||
(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.geom.ConvexResultIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=f.geom.ConvexResultIterator.get(this);b.hasNext();)try{var d=void 0;b.zpp_critical=!1;
d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.geom.ConvexResultIterator.zpp_pool;f.geom.ConvexResultIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.geom.ConvexResultList,__properties__:{get_length:"get_length"}};f.geom.Geom=function(){};m["nape.geom.Geom"]=f.geom.Geom;f.geom.Geom.__name__=
["nape","geom","Geom"];f.geom.Geom.distanceBody=function(a,b,d,k){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.immutable();k.zpp_inner.immutable();if(a.zpp_inner.wrap_shapes.empty()||b.zpp_inner.wrap_shapes.empty())throw"Error: Bodies cannot be empty in calculating distances";for(var e=a.zpp_inner.shapes.head;null!=e;)c.geom.ZPP_Geom.validateShape(e.elt),e=e.next;for(e=b.zpp_inner.shapes.head;null!=
e;)c.geom.ZPP_Geom.validateShape(e.elt),e=e.next;return c.geom.ZPP_SweepDistance.distanceBody(a.zpp_inner,b.zpp_inner,d.zpp_inner,k.zpp_inner)};f.geom.Geom.distance=function(a,b,d,k){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.immutable();k.zpp_inner.immutable();if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null)||null==(null!=b.zpp_inner.body?b.zpp_inner.body.outer:
null))throw"Error: Shape must be part of a Body to calculate distances";c.geom.ZPP_Geom.validateShape(a.zpp_inner);c.geom.ZPP_Geom.validateShape(b.zpp_inner);var e;null==c.geom.ZPP_Vec2.zpp_pool?e=new c.geom.ZPP_Vec2:(e=c.geom.ZPP_Vec2.zpp_pool,c.geom.ZPP_Vec2.zpp_pool=e.next,e.next=null);e.weak=!1;a=c.geom.ZPP_SweepDistance.distance(a.zpp_inner,b.zpp_inner,d.zpp_inner,k.zpp_inner,e,1E100);null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null);e._isimmutable=null;e._validate=null;e._invalidate=null;
e.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=e;return a};f.geom.Geom.intersectsBody=function(a,b){if(a.zpp_inner.wrap_shapes.empty()||b.zpp_inner.wrap_shapes.empty())throw"Error: Bodies must have shapes to test for intersection.";for(var d=a.zpp_inner.shapes.head;null!=d;)c.geom.ZPP_Geom.validateShape(d.elt),d=d.next;for(d=b.zpp_inner.shapes.head;null!=d;)c.geom.ZPP_Geom.validateShape(d.elt),d=d.next;if(a.zpp_inner.aabb.intersect(b.zpp_inner.aabb))for(d=a.zpp_inner.shapes.head;null!=d;){for(var k=
d.elt,e=b.zpp_inner.shapes.head;null!=e;){if(c.geom.ZPP_Collide.testCollide_safe(k,e.elt))return!0;e=e.next}d=d.next}return!1};f.geom.Geom.intersects=function(a,b){if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null)||null==(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null))throw"Error: Shape must be part of a Body to calculate intersection";c.geom.ZPP_Geom.validateShape(a.zpp_inner);c.geom.ZPP_Geom.validateShape(b.zpp_inner);return a.zpp_inner.aabb.intersect(b.zpp_inner.aabb)&&c.geom.ZPP_Collide.testCollide_safe(a.zpp_inner,
b.zpp_inner)};f.geom.Geom.contains=function(a,b){if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null)||null==(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null))throw"Error: Shape must be part of a Body to calculate containment";c.geom.ZPP_Geom.validateShape(a.zpp_inner);c.geom.ZPP_Geom.validateShape(b.zpp_inner);return c.geom.ZPP_Collide.containTest(a.zpp_inner,b.zpp_inner)};f.geom.GeomPoly=function(a){this.zpp_pool=this.zpp_inner=null;this.zpp_inner=new c.geom.ZPP_GeomPoly(this);if(null!=
a){if(a instanceof Array&&null==a.__enum__)for(var b=0;b<a.length;){var d=a[b];++b;if(null==d)throw"Error: Array<Vec2> contains null objects";if(!E.Boot.__instanceof(d,f.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";var k=d;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d=c.geom.ZPP_GeomVert.get(function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.x}(this),function(a){if(null!=
k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=d.prev=d.next=d:(d.prev=this.zpp_inner.vertices,d.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=d,this.zpp_inner.vertices.next=d);this.zpp_inner.vertices=d}else if(E.Boot.__instanceof(a,f.geom.Vec2List))for(b=a.iterator();b.hasNext();){var e;b.zpp_critical=!1;e=b.zpp_inner.at(b.zpp_i++);if(null==e)throw"Error: Vec2List contains null objects";
if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d=c.geom.ZPP_GeomVert.get(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=d.prev=d.next=d:(d.prev=this.zpp_inner.vertices,d.next=
this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=d,this.zpp_inner.vertices.next=d);this.zpp_inner.vertices=d}else if(E.Boot.__instanceof(a,f.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";b=a.zpp_inner.vertices;if(null!=b){d=b;do{var g=f.geom.Vec2.get(d.x,d.y,null),d=d.next,p=c.geom.ZPP_GeomVert.get(function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.x}(this),
function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=p.prev=p.next=p:(p.prev=this.zpp_inner.vertices,p.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=p,this.zpp_inner.vertices.next=p);this.zpp_inner.vertices=p;g.dispose()}while(d!=b)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";
this.skipForward(1);if(a instanceof Array&&null==a.__enum__)for(b=0;b<a.length;){d=a[b];if(p=d.zpp_inner.weak)d.dispose(),p=!0;p?a.splice(b,1):b++}else if(E.Boot.__instanceof(a,f.geom.Vec2List))for(null!=a.zpp_inner._validate&&a.zpp_inner._validate(),a=a.zpp_inner.inner,b=null,d=a.head;null!=d;)p=d.elt,p.outer.zpp_inner.weak?(d=a.erase(b),p.outer.zpp_inner.weak?(p.outer.dispose(),!0):!1):(b=d,d=d.next)}};m["nape.geom.GeomPoly"]=f.geom.GeomPoly;f.geom.GeomPoly.__name__=["nape","geom","GeomPoly"];f.geom.GeomPoly.get=
function(a){var b;null==c.util.ZPP_PubPool.poolGeomPoly?b=new f.geom.GeomPoly:(b=c.util.ZPP_PubPool.poolGeomPoly,c.util.ZPP_PubPool.poolGeomPoly=b.zpp_pool,b.zpp_pool=null,b.zpp_disp=!1,b==c.util.ZPP_PubPool.nextGeomPoly&&(c.util.ZPP_PubPool.nextGeomPoly=null));if(null!=a){if(a instanceof Array&&null==a.__enum__)for(var d=0;d<a.length;){var k=a[d];++d;if(null==k)throw"Error: Array<Vec2> contains null objects";if(!E.Boot.__instanceof(k,f.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";
var e=k;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k=c.geom.ZPP_GeomVert.get(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this));null==b.zpp_inner.vertices?b.zpp_inner.vertices=k.prev=k.next=k:(k.prev=b.zpp_inner.vertices,k.next=
b.zpp_inner.vertices.next,b.zpp_inner.vertices.next.prev=k,b.zpp_inner.vertices.next=k);b.zpp_inner.vertices=k}else if(E.Boot.__instanceof(a,f.geom.Vec2List))for(d=a.iterator();d.hasNext();){var g;d.zpp_critical=!1;g=d.zpp_inner.at(d.zpp_i++);if(null==g)throw"Error: Vec2List contains null objects";if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k=c.geom.ZPP_GeomVert.get(function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();
return g.zpp_inner.x}(this),function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.y}(this));null==b.zpp_inner.vertices?b.zpp_inner.vertices=k.prev=k.next=k:(k.prev=b.zpp_inner.vertices,k.next=b.zpp_inner.vertices.next,b.zpp_inner.vertices.next.prev=k,b.zpp_inner.vertices.next=k);b.zpp_inner.vertices=k}else if(E.Boot.__instanceof(a,f.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
d=a.zpp_inner.vertices;if(null!=d){k=d;do{var p=f.geom.Vec2.get(k.x,k.y,null),k=k.next,x=c.geom.ZPP_GeomVert.get(function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.x}(this),function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.y}(this));null==b.zpp_inner.vertices?b.zpp_inner.vertices=x.prev=x.next=x:(x.prev=b.zpp_inner.vertices,x.next=b.zpp_inner.vertices.next,
b.zpp_inner.vertices.next.prev=x,b.zpp_inner.vertices.next=x);b.zpp_inner.vertices=x;p.dispose()}while(k!=d)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";b.skipForward(1);if(a instanceof Array&&null==a.__enum__)for(d=0;d<a.length;){k=a[d];if(x=k.zpp_inner.weak)k.dispose(),x=!0;x?a.splice(d,1):d++}else if(E.Boot.__instanceof(a,f.geom.Vec2List))for(null!=a.zpp_inner._validate&&a.zpp_inner._validate(),a=a.zpp_inner.inner,
d=null,k=a.head;null!=k;)x=k.elt,x.outer.zpp_inner.weak?(k=a.erase(d),x.outer.zpp_inner.weak?(x.outer.dispose(),!0):!1):(d=k,k=k.next)}return b};f.geom.GeomPoly.prototype={zpp_pool:null,zpp_disp:null,zpp_inner:null,empty:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";return null==this.zpp_inner.vertices},size:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";var a=0,b=this.zpp_inner.vertices,d=this.zpp_inner.vertices;
if(null!=b){do a++,b=b.next;while(b!=d)}return a},iterator:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";return c.geom.ZPP_GeomVertexIterator.get(this.zpp_inner.vertices,!0)},forwardIterator:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";return c.geom.ZPP_GeomVertexIterator.get(this.zpp_inner.vertices,!0)},backwardsIterator:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";return c.geom.ZPP_GeomVertexIterator.get(this.zpp_inner.vertices,
!1)},current:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: GeomPoly is empty";return this.zpp_inner.vertices.wrapper()},push:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot push null vertex";
var b=c.geom.ZPP_GeomVert.get(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=b.prev=b.next=b:(b.prev=this.zpp_inner.vertices,b.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=b,this.zpp_inner.vertices.next=
b);this.zpp_inner.vertices=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},pop:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: Cannot pop from empty polygon";var a=this.zpp_inner.vertices;if(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices)this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null;else{var b=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.prev.next=
this.zpp_inner.vertices.next;this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null;this.zpp_inner.vertices=null;this.zpp_inner.vertices=b}null!=a.wrap&&(a.wrap.zpp_inner._inuse=!1,a.wrap.dispose(),a.wrap=null);a.prev=a.next=null;a.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=a;return this},unshift:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot unshift null vertex";
var b=c.geom.ZPP_GeomVert.get(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=b.prev=b.next=b:(b.next=this.zpp_inner.vertices,b.prev=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.prev.next=b,this.zpp_inner.vertices.prev=
b);this.zpp_inner.vertices=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},shift:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: Cannot shift from empty polygon";var a=this.zpp_inner.vertices;if(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices)this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=this.zpp_inner.vertices=null;else{var b=this.zpp_inner.vertices.next;
this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next;this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null;this.zpp_inner.vertices=null;this.zpp_inner.vertices=b}null!=a.wrap&&(a.wrap.zpp_inner._inuse=!1,a.wrap.dispose(),a.wrap=null);a.prev=a.next=null;a.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=a;return this},skipForward:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
if(null!=this.zpp_inner.vertices)if(0<a)for(;0<a--;)this.zpp_inner.vertices=this.zpp_inner.vertices.next;else if(0>a)for(;0>a++;)this.zpp_inner.vertices=this.zpp_inner.vertices.prev;return this},skipBackwards:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";return this.skipForward(-a)},erase:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";for(;0!=a&&null!=this.zpp_inner.vertices;){var b=this.zpp_inner.vertices;if(0<
a){if(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices)this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=this.zpp_inner.vertices=null;else{var d=this.zpp_inner.vertices.next;this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next;this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null;this.zpp_inner.vertices=null;this.zpp_inner.vertices=d}a--}else 0>
a&&(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices?(this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null):(d=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null,this.zpp_inner.vertices=d),a++);null!=b.wrap&&(b.wrap.zpp_inner._inuse=
!1,b.wrap.dispose(),b.wrap=null);b.prev=b.next=null;b.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=b}return this},clear:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";for(;null!=this.zpp_inner.vertices;){var a=this.zpp_inner.vertices;if(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices)this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=this.zpp_inner.vertices=null;else{var b=
this.zpp_inner.vertices.next;this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next;this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null;this.zpp_inner.vertices=null;this.zpp_inner.vertices=b}null!=a.wrap&&(a.wrap.zpp_inner._inuse=!1,a.wrap.dispose(),a.wrap=null);a.prev=a.next=null;a.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=a}return this},copy:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
var a=f.geom.GeomPoly.get(),b=this.zpp_inner.vertices,d=this.zpp_inner.vertices;if(null!=b){do{var k=b,k=c.geom.ZPP_GeomVert.get(k.x,k.y);null==a.zpp_inner.vertices?a.zpp_inner.vertices=k.prev=k.next=k:(k.prev=a.zpp_inner.vertices,k.next=a.zpp_inner.vertices.next,a.zpp_inner.vertices.next.prev=k,a.zpp_inner.vertices.next=k);a.zpp_inner.vertices=k;b=b.next}while(b!=d)}return a.skipForward(1)},dispose:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";this.clear();
this.zpp_pool=null;null!=c.util.ZPP_PubPool.nextGeomPoly?c.util.ZPP_PubPool.nextGeomPoly.zpp_pool=this:c.util.ZPP_PubPool.poolGeomPoly=this;c.util.ZPP_PubPool.nextGeomPoly=this;this.zpp_disp=!0},toString:function(){var a="GeomPoly[",b=this.zpp_inner.vertices,d=this.zpp_inner.vertices;if(null!=b){do{var c=b;c!=this.zpp_inner.vertices&&(a+=",");a+="{"+c.x+","+c.y+"}";b=b.next}while(b!=d)}return a+"]"},area:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==
this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return 0;var a;a=0;var b=this.zpp_inner.vertices,d=this.zpp_inner.vertices;if(null!=b){do{var c=b;a+=c.x*(c.next.y-c.prev.y);b=b.next}while(b!=d)}a*=.5;return 0>a?-a:a},winding:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return null==
c.util.ZPP_Flags.Winding_UNDEFINED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_UNDEFINED=new f.geom.Winding,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.Winding_UNDEFINED;var a;a=0;var b=this.zpp_inner.vertices,d=this.zpp_inner.vertices;if(null!=b){do{var k=b;a+=k.x*(k.next.y-k.prev.y);b=b.next}while(b!=d)}a*=.5;if(0<a)return null==c.util.ZPP_Flags.Winding_CLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_CLOCKWISE=new f.geom.Winding,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.Winding_CLOCKWISE;
if(0==a)return null==c.util.ZPP_Flags.Winding_UNDEFINED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_UNDEFINED=new f.geom.Winding,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.Winding_UNDEFINED;null==c.util.ZPP_Flags.Winding_ANTICLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_ANTICLOCKWISE=new f.geom.Winding,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Winding_ANTICLOCKWISE},contains:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: GeomPoly::contains point cannot be null";var b;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();b=a.zpp_inner.x;var d;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d=a.zpp_inner.y;var c=!1,e=this.zpp_inner.vertices,g=this.zpp_inner.vertices;if(null!=e){do{var p=e,f=p.prev;(p.y<d&&f.y>=
d||f.y<d&&p.y>=d)&&(p.x<=b||f.x<=b)&&p.x+(d-p.y)/(f.y-p.y)*(f.x-p.x)<b&&(c=!c);e=e.next}while(e!=g)}b=c;a.zpp_inner.weak?(a.dispose(),!0):!1;return b},isClockwise:function(){var a=this.winding();null==c.util.ZPP_Flags.Winding_CLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_CLOCKWISE=new f.geom.Winding,c.util.ZPP_Flags.internal=!1);return a==c.util.ZPP_Flags.Winding_CLOCKWISE},isConvex:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==
this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return!0;var a=!1,b=!1,d=!0,c=this.zpp_inner.vertices,e=this.zpp_inner.vertices;if(null!=c){do{var g=c,p=g.prev,f=g.next,h=0,w=0,h=f.x-g.x,w=f.y-g.y,ra=f=0,f=g.x-p.x,ra=g.y-p.y,g=ra*h-f*w;0<g?b=!0:0>g&&(a=!0);if(b&&a){d=!1;break}c=c.next}while(c!=e)}return d},isSimple:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";return null==this.zpp_inner.vertices||
null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next?!0:c.geom.ZPP_Simple.isSimple(this.zpp_inner.vertices)},isMonotone:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";return null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next?!0:c.geom.ZPP_Monotone.isMonotone(this.zpp_inner.vertices)},isDegenerate:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
return null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next?!0:this.area()<f.Config.epsilon},simplify:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(0>=a)throw"Error: Epsilon should be > 0 for simplifying a GeomPoly";if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return this.copy();a=c.geom.ZPP_Simplify.simplify(this.zpp_inner.vertices,
a);var b=f.geom.GeomPoly.get();b.zpp_inner.vertices=a;return b},simpleDecomposition:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)throw"Error: Cannot decompose a degenerate polygon";var b=c.geom.ZPP_Simple.decompose(this.zpp_inner.vertices,function(a){null==c.geom.ZPP_PartitionedPoly.sharedGVList&&(c.geom.ZPP_PartitionedPoly.sharedGVList=
new c.util.ZNPList_ZPP_GeomVert);return c.geom.ZPP_PartitionedPoly.sharedGVList}(this));for(a=null==a?new f.geom.GeomPolyList:a;null!=b.head;){var d=b.pop_unsafe(),k=f.geom.GeomPoly.get();k.zpp_inner.vertices=d;a.zpp_inner.reverse_flag?a.push(k):a.unshift(k)}return a},monotoneDecomposition:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)throw"Error: Cannot decompose a degenerate polygon";
var b=c.geom.ZPP_Monotone.decompose(this.zpp_inner.vertices,function(a){null==c.geom.ZPP_Monotone.sharedPPoly&&(c.geom.ZPP_Monotone.sharedPPoly=new c.geom.ZPP_PartitionedPoly);return c.geom.ZPP_Monotone.sharedPPoly}(this)).extract(function(a){null==c.geom.ZPP_PartitionedPoly.sharedGVList&&(c.geom.ZPP_PartitionedPoly.sharedGVList=new c.util.ZNPList_ZPP_GeomVert);return c.geom.ZPP_PartitionedPoly.sharedGVList}(this));for(a=null==a?new f.geom.GeomPolyList:a;null!=b.head;){var d=b.pop_unsafe(),k=f.geom.GeomPoly.get();
k.zpp_inner.vertices=d;a.zpp_inner.reverse_flag?a.push(k):a.unshift(k)}return a},convexDecomposition:function(a,b){null==a&&(a=!1);if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)throw"Error: Cannot decompose a degenerate polygon";var d=c.geom.ZPP_Monotone.decompose(this.zpp_inner.vertices,function(a){null==c.geom.ZPP_Monotone.sharedPPoly&&
(c.geom.ZPP_Monotone.sharedPPoly=new c.geom.ZPP_PartitionedPoly);return c.geom.ZPP_Monotone.sharedPPoly}(this)).extract_partitions(function(a){null==c.geom.ZPP_PartitionedPoly.sharedPPList&&(c.geom.ZPP_PartitionedPoly.sharedPPList=new c.util.ZNPList_ZPP_PartitionedPoly);return c.geom.ZPP_PartitionedPoly.sharedPPList}(this)),k;for(k=null==b?new f.geom.GeomPolyList:b;null!=d.head;){var e=d.pop_unsafe();c.geom.ZPP_Triangular.triangulate(e);a&&c.geom.ZPP_Triangular.optimise(e);c.geom.ZPP_Convex.optimise(e);
var g=e.extract(function(a){null==c.geom.ZPP_PartitionedPoly.sharedGVList&&(c.geom.ZPP_PartitionedPoly.sharedGVList=new c.util.ZNPList_ZPP_GeomVert);return c.geom.ZPP_PartitionedPoly.sharedGVList}(this));e.next=c.geom.ZPP_PartitionedPoly.zpp_pool;for(c.geom.ZPP_PartitionedPoly.zpp_pool=e;null!=g.head;){var e=g.pop_unsafe(),p=f.geom.GeomPoly.get();p.zpp_inner.vertices=e;k.zpp_inner.reverse_flag?k.push(p):k.unshift(p)}}return k},triangularDecomposition:function(a,b){null==a&&(a=!1);if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)throw"Error: Cannot decompose a degenerate polygon";var d=c.geom.ZPP_Monotone.decompose(this.zpp_inner.vertices,function(a){null==c.geom.ZPP_Monotone.sharedPPoly&&(c.geom.ZPP_Monotone.sharedPPoly=new c.geom.ZPP_PartitionedPoly);return c.geom.ZPP_Monotone.sharedPPoly}(this)).extract_partitions(function(a){null==c.geom.ZPP_PartitionedPoly.sharedPPList&&(c.geom.ZPP_PartitionedPoly.sharedPPList=
new c.util.ZNPList_ZPP_PartitionedPoly);return c.geom.ZPP_PartitionedPoly.sharedPPList}(this)),k;for(k=null==b?new f.geom.GeomPolyList:b;null!=d.head;){var e=d.pop_unsafe();c.geom.ZPP_Triangular.triangulate(e);a&&c.geom.ZPP_Triangular.optimise(e);var g=e.extract(function(a){null==c.geom.ZPP_PartitionedPoly.sharedGVList&&(c.geom.ZPP_PartitionedPoly.sharedGVList=new c.util.ZNPList_ZPP_GeomVert);return c.geom.ZPP_PartitionedPoly.sharedGVList}(this));e.next=c.geom.ZPP_PartitionedPoly.zpp_pool;for(c.geom.ZPP_PartitionedPoly.zpp_pool=
e;null!=g.head;){var e=g.pop_unsafe(),p=f.geom.GeomPoly.get();p.zpp_inner.vertices=e;k.zpp_inner.reverse_flag?k.push(p):k.unshift(p)}}return k},inflate:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";var b=f.geom.GeomPoly.get(),d=this.winding();null==c.util.ZPP_Flags.Winding_CLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_CLOCKWISE=new f.geom.Winding,c.util.ZPP_Flags.internal=!1);d==c.util.ZPP_Flags.Winding_CLOCKWISE&&(a=-a);var k=this.zpp_inner.vertices,
d=this.zpp_inner.vertices;if(null!=k){do{var e=k,g=e.prev,p=e.next,x=0,h=0,w=0,ra=0,x=e.x-g.x,h=e.y-g.y,w=p.x-e.x,ra=p.y-e.y,l=p=g=0,Ja=0,g=x,p=h,l=1/Math.sqrt(g*g+p*p),g=g*l,p=p*l,l=g,g=-p,p=l,l=a,g=g*l,p=p*l,l=w,Ja=ra,m=1/Math.sqrt(l*l+Ja*Ja),l=l*m,Ja=Ja*m,m=l,l=-Ja,Ja=m,m=a,l=l*m,Ja=Ja*m,q=m=0,m=l-g,q=Ja-p,l=ra*m-w*q,l=0==l?0:l/(ra*x-w*h),ra=w=0,w=e.x+g,ra=e.y+p,e=l,w=w+x*e,ra=ra+h*e;b.push(f.geom.Vec2.get(w,ra,null));k=k.next}while(k!=d)}return b.skipForward(1)},cut:function(a,b,d,k,e){null==
k&&(k=!1);null==d&&(d=!1);if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null!=this.zpp_inner.vertices&&null!=this.zpp_inner.vertices.next&&this.zpp_inner.vertices.prev!=this.zpp_inner.vertices.next&&!c.geom.ZPP_Simple.isSimple(this.zpp_inner.vertices))throw"Error: Cut requires a truly simple polygon";if(null==a||null==b)throw"Error: Cannot cut with null start/end's";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d=c.geom.ZPP_Cutter.run(this.zpp_inner.vertices,a,b,d,k,e);a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1;return d},transform:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==a)throw"Error: Cannot transform by null matrix";var b=this.zpp_inner.vertices,d=this.zpp_inner.vertices;if(null!=b){do{var c=b,e=a.zpp_inner.a*c.x+a.zpp_inner.b*c.y+a.zpp_inner.tx;
c.y=a.zpp_inner.c*c.x+a.zpp_inner.d*c.y+a.zpp_inner.ty;c.x=e;b=b.next}while(b!=d)}return this},bounds:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: empty GeomPoly has no defineable bounds";var a=1E100,b=1E100,d=-1E100,c=-1E100,e=this.zpp_inner.vertices,g=this.zpp_inner.vertices;if(null!=e){do{var p=e;p.x<a&&(a=p.x);p.y<b&&(b=p.y);p.x>
d&&(d=p.x);p.y>c&&(c=p.y);e=e.next}while(e!=g)}return new f.geom.AABB(a,b,d-a,c-b)},top:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: empty GeomPoly has no defineable topmost vertex";var a=this.zpp_inner.vertices,b=this.zpp_inner.vertices.next,d=this.zpp_inner.vertices;if(null!=b){do{var c=b;c.y<a.y&&(a=c);b=b.next}while(b!=d)}null==
a.wrap&&(a.wrap=f.geom.Vec2.get(a.x,a.y,null),a.wrap.zpp_inner._inuse=!0,a.wrap.zpp_inner._invalidate=u(a,a.modwrap),a.wrap.zpp_inner._validate=u(a,a.getwrap));return a.wrap},bottom:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: empty GeomPoly has no defineable bottommost vertex";var a=this.zpp_inner.vertices,b=this.zpp_inner.vertices.next,
d=this.zpp_inner.vertices;if(null!=b){do{var c=b;c.y>a.y&&(a=c);b=b.next}while(b!=d)}null==a.wrap&&(a.wrap=f.geom.Vec2.get(a.x,a.y,null),a.wrap.zpp_inner._inuse=!0,a.wrap.zpp_inner._invalidate=u(a,a.modwrap),a.wrap.zpp_inner._validate=u(a,a.getwrap));return a.wrap},left:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: empty GeomPoly has no defineable leftmost vertex";
var a=this.zpp_inner.vertices,b=this.zpp_inner.vertices.next,d=this.zpp_inner.vertices;if(null!=b){do{var c=b;c.x<a.x&&(a=c);b=b.next}while(b!=d)}null==a.wrap&&(a.wrap=f.geom.Vec2.get(a.x,a.y,null),a.wrap.zpp_inner._inuse=!0,a.wrap.zpp_inner._invalidate=u(a,a.modwrap),a.wrap.zpp_inner._validate=u(a,a.getwrap));return a.wrap},right:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==
this.zpp_inner.vertices)throw"Error: empty GeomPoly has no defineable rightmmost vertex";var a=this.zpp_inner.vertices,b=this.zpp_inner.vertices.next,d=this.zpp_inner.vertices;if(null!=b){do{var c=b;c.x>a.x&&(a=c);b=b.next}while(b!=d)}null==a.wrap&&(a.wrap=f.geom.Vec2.get(a.x,a.y,null),a.wrap.zpp_inner._inuse=!0,a.wrap.zpp_inner._invalidate=u(a,a.modwrap),a.wrap.zpp_inner._validate=u(a,a.getwrap));return a.wrap},__class__:f.geom.GeomPoly};f.geom.GeomPolyIterator=function(){this.zpp_next=null;this.zpp_critical=
!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_GeomPolyList.internal)throw"Error: Cannot instantiate GeomPolyIterator derp!";};m["nape.geom.GeomPolyIterator"]=f.geom.GeomPolyIterator;f.geom.GeomPolyIterator.__name__=["nape","geom","GeomPolyIterator"];f.geom.GeomPolyIterator.get=function(a){var b;null==f.geom.GeomPolyIterator.zpp_pool?(c.util.ZPP_GeomPolyList.internal=!0,b=new f.geom.GeomPolyIterator,c.util.ZPP_GeomPolyList.internal=!1):(b=f.geom.GeomPolyIterator.zpp_pool,f.geom.GeomPolyIterator.zpp_pool=
b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.geom.GeomPolyIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.geom.GeomPolyIterator.zpp_pool;f.geom.GeomPolyIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.geom.GeomPolyIterator};
f.geom.GeomPolyList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_GeomPolyList;this.zpp_inner.outer=this};m["nape.geom.GeomPolyList"]=f.geom.GeomPolyList;f.geom.GeomPolyList.__name__=["nape","geom","GeomPolyList"];f.geom.GeomPolyList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.geom.GeomPolyList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};f.geom.GeomPolyList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();
this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);
else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: GeomPolyList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?
null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: GeomPolyList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&
(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: GeomPolyList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";
this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: GeomPolyList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: GeomPolyList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: GeomPolyList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},
empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.geom.GeomPolyIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.geom.GeomPolyList,d;this.zpp_inner.valmod();for(d=f.geom.GeomPolyIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: GeomPoly is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();
for(a=f.geom.GeomPolyIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.geom.GeomPolyIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();
for(b=f.geom.GeomPolyIterator.get(this);b.hasNext();)try{var d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.geom.GeomPolyIterator.zpp_pool;f.geom.GeomPolyIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.geom.GeomPolyList,__properties__:{get_length:"get_length"}};
f.geom.GeomVertexIterator=function(){if(!c.geom.ZPP_GeomVertexIterator.internal)throw"Error: Cannot instantiate GeomVertexIterator";};m["nape.geom.GeomVertexIterator"]=f.geom.GeomVertexIterator;f.geom.GeomVertexIterator.__name__=["nape","geom","GeomVertexIterator"];f.geom.GeomVertexIterator.prototype={zpp_inner:null,hasNext:function(){if(null==this.zpp_inner)throw"Error: Iterator has been disposed";var a=this.zpp_inner.ptr!=this.zpp_inner.start||this.zpp_inner.first;this.zpp_inner.first=!1;if(!a){var b=
this.zpp_inner;b.outer.zpp_inner=null;b.ptr=b.start=null;b.next=c.geom.ZPP_GeomVertexIterator.zpp_pool;c.geom.ZPP_GeomVertexIterator.zpp_pool=b}return a},next:function(){if(null==this.zpp_inner)throw"Error: Iterator has been disposed";var a=this.zpp_inner.ptr.wrapper();this.zpp_inner.ptr=this.zpp_inner.forward?this.zpp_inner.ptr.next:this.zpp_inner.ptr.prev;return a},__class__:f.geom.GeomVertexIterator};f.geom.MarchingSquares=function(){};m["nape.geom.MarchingSquares"]=f.geom.MarchingSquares;f.geom.MarchingSquares.__name__=
["nape","geom","MarchingSquares"];f.geom.MarchingSquares.run=function(a,b,d,k,e,g,p){null==g&&(g=!0);null==k&&(k=2);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: MarchingSquares requires an iso function to operate";if(null==b)throw"Error: MarchingSquares requires an AABB to define bounds of surface extraction";if(null==d)throw"Error: MarchingSquares requires a Vec2 to define cell size for surface extraction";
if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();var x;if(!(x=0>=d.zpp_inner.x)){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();x=0>=d.zpp_inner.y}if(x)throw"Error: MarchingSquares cannot operate with non-positive cell dimensions";if(0>k)throw"Error: MarchingSquares cannot use a negative quality value for interpolation";if(x=null!=e){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();if(!(x=0>=e.zpp_inner.x)){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();x=0>=e.zpp_inner.y}}if(x)throw"Error: MarchingSquares cannot with non-positive sub-grid dimensions";p=null!=p?p:new f.geom.GeomPolyList;if(null==e)c.geom.ZPP_MarchingSquares.run(a,function(a){b.zpp_inner.validate();return b.zpp_inner.minx}(this),function(a){b.zpp_inner.validate();return b.zpp_inner.miny}(this),b.zpp_inner.getmax().get_x(),b.zpp_inner.getmax().get_y(),
d,k,g,p);else{var h;b.zpp_inner.validate();x=b.zpp_inner.width();if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();h=x/e.zpp_inner.x;var w;b.zpp_inner.validate();x=b.zpp_inner.height();if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();w=x/e.zpp_inner.y;x=h|0;var l=w|0;x!=h&&x++;l!=w&&l++;for(h=0;h<x;){var t=h++;b.zpp_inner.validate();w=b.zpp_inner.minx;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();w+=e.zpp_inner.x*t;if(t==x-1)t=b.zpp_inner.getmax().get_x();else{t=w;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();t+=e.zpp_inner.x}for(var Ja=0;Ja<l;){var m=Ja++,q;b.zpp_inner.validate();q=b.zpp_inner.miny;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();q+=e.zpp_inner.y*m;if(m==l-1)m=b.zpp_inner.getmax().get_y();else{m=q;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();m+=e.zpp_inner.y}c.geom.ZPP_MarchingSquares.run(a,w,q,t,m,d,k,g,p)}}}d.zpp_inner.weak?(d.dispose(),!0):!1;null!=e&&(e.zpp_inner.weak?(e.dispose(),!0):!1);return p};f.geom.Mat23=function(a,b,d,k,e,g){null==g&&(g=0);null==e&&(e=0);null==k&&(k=1);null==d&&(d=0);null==b&&(b=0);null==a&&(a=1);this.zpp_inner=null;this.zpp_inner=c.geom.ZPP_Mat23.get();this.zpp_inner.outer=this;if(a!=a)throw"Error: Mat23::a cannot be NaN";this.zpp_inner.a=a;this.zpp_inner.invalidate();this.zpp_inner.a;
if(b!=b)throw"Error: Mat23::b cannot be NaN";this.zpp_inner.b=b;this.zpp_inner.invalidate();this.zpp_inner.b;if(e!=e)throw"Error: Mat23::tx cannot be NaN";this.zpp_inner.tx=e;this.zpp_inner.invalidate();this.zpp_inner.tx;if(d!=d)throw"Error: Mat23::c cannot be NaN";this.zpp_inner.c=d;this.zpp_inner.invalidate();this.zpp_inner.c;if(k!=k)throw"Error: Mat23::d cannot be NaN";this.zpp_inner.d=k;this.zpp_inner.invalidate();this.zpp_inner.d;if(g!=g)throw"Error: Mat23::ty cannot be NaN";this.zpp_inner.ty=
g;this.zpp_inner.invalidate();this.zpp_inner.ty};m["nape.geom.Mat23"]=f.geom.Mat23;f.geom.Mat23.__name__=["nape","geom","Mat23"];f.geom.Mat23.fromMatrix=function(a){return new f.geom.Mat23(a.a,a.c,a.b,a.d,a.tx,a.ty)};f.geom.Mat23.rotation=function(a){if(a!=a)throw"Error: Cannot create rotation matrix with NaN angle";var b=Math.cos(a);a=Math.sin(a);return new f.geom.Mat23(b,-a,a,b,0,0)};f.geom.Mat23.translation=function(a,b){return new f.geom.Mat23(1,0,0,1,a,b)};f.geom.Mat23.scale=function(a,b){return new f.geom.Mat23(a,
0,0,b,0,0)};f.geom.Mat23.prototype={zpp_inner:null,get_a:function(){return this.zpp_inner.a},set_a:function(a){if(a!=a)throw"Error: Mat23::a cannot be NaN";this.zpp_inner.a=a;this.zpp_inner.invalidate();return this.zpp_inner.a},get_b:function(){return this.zpp_inner.b},set_b:function(a){if(a!=a)throw"Error: Mat23::b cannot be NaN";this.zpp_inner.b=a;this.zpp_inner.invalidate();return this.zpp_inner.b},get_c:function(){return this.zpp_inner.c},set_c:function(a){if(a!=a)throw"Error: Mat23::c cannot be NaN";
this.zpp_inner.c=a;this.zpp_inner.invalidate();return this.zpp_inner.c},get_d:function(){return this.zpp_inner.d},set_d:function(a){if(a!=a)throw"Error: Mat23::d cannot be NaN";this.zpp_inner.d=a;this.zpp_inner.invalidate();return this.zpp_inner.d},get_tx:function(){return this.zpp_inner.tx},set_tx:function(a){if(a!=a)throw"Error: Mat23::tx cannot be NaN";this.zpp_inner.tx=a;this.zpp_inner.invalidate();return this.zpp_inner.tx},get_ty:function(){return this.zpp_inner.ty},set_ty:function(a){if(a!=
a)throw"Error: Mat23::ty cannot be NaN";this.zpp_inner.ty=a;this.zpp_inner.invalidate();return this.zpp_inner.ty},copy:function(){return new f.geom.Mat23(this.zpp_inner.a,this.zpp_inner.b,this.zpp_inner.c,this.zpp_inner.d,this.zpp_inner.tx,this.zpp_inner.ty)},set:function(a){if(null==a)throw"Error: Cannot set form null matrix";this.zpp_inner.set(a.zpp_inner);this.zpp_inner.invalidate();return this},setAs:function(a,b,d,c,e,g){null==g&&(g=0);null==e&&(e=0);null==c&&(c=1);null==d&&(d=0);null==b&&(b=
0);null==a&&(a=1);this.zpp_inner.setas(a,b,d,c,e,g);this.zpp_inner.invalidate();return this},reset:function(){return this.setAs()},toMatrix:function(a){null==a&&(a=new h.geom.Matrix);a.a=this.zpp_inner.a;a.b=this.zpp_inner.c;a.c=this.zpp_inner.b;a.d=this.zpp_inner.d;a.tx=this.zpp_inner.tx;a.ty=this.zpp_inner.ty;return a},get_determinant:function(){return this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c},singular:function(){var a=this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.b*
this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.c+this.zpp_inner.d*this.zpp_inner.d,b=this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c;0>b&&(b=-b);return a>f.Config.illConditionedThreshold*b},inverse:function(){if(this.singular())throw"Error: Matrix is singular and cannot be inverted";var a=1/(this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c);return new f.geom.Mat23(this.zpp_inner.d*a,-this.zpp_inner.b*a,-this.zpp_inner.c*a,this.zpp_inner.a*a,(this.zpp_inner.b*
this.zpp_inner.ty-this.zpp_inner.d*this.zpp_inner.tx)*a,(this.zpp_inner.c*this.zpp_inner.tx-this.zpp_inner.a*this.zpp_inner.ty)*a)},transpose:function(){return new f.geom.Mat23(this.zpp_inner.a,this.zpp_inner.c,this.zpp_inner.b,this.zpp_inner.d,-this.zpp_inner.a*this.zpp_inner.tx-this.zpp_inner.c*this.zpp_inner.ty,-this.zpp_inner.b*this.zpp_inner.tx-this.zpp_inner.d*this.zpp_inner.ty)},concat:function(a){if(null==a)throw"Error: Cannot concatenate with null Mat23";return new f.geom.Mat23(a.zpp_inner.a*
this.zpp_inner.a+a.zpp_inner.b*this.zpp_inner.c,a.zpp_inner.a*this.zpp_inner.b+a.zpp_inner.b*this.zpp_inner.d,a.zpp_inner.c*this.zpp_inner.a+a.zpp_inner.d*this.zpp_inner.c,a.zpp_inner.c*this.zpp_inner.b+a.zpp_inner.d*this.zpp_inner.d,a.zpp_inner.a*this.zpp_inner.tx+a.zpp_inner.b*this.zpp_inner.ty+a.zpp_inner.tx,a.zpp_inner.c*this.zpp_inner.tx+a.zpp_inner.d*this.zpp_inner.ty+a.zpp_inner.ty)},transform:function(a,b,d){null==d&&(d=!1);null==b&&(b=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Cannot transform null Vec2";b=b?f.geom.Vec2.get(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.a+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.b,function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();
return a.zpp_inner.x}(this)*this.zpp_inner.c+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.d,d):f.geom.Vec2.get(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.a+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*
this.zpp_inner.b+this.zpp_inner.tx,function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.c+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.d+this.zpp_inner.ty,d);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},inverseTransform:function(a,b,d){null==d&&(d=!1);null==b&&(b=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Cannot transform null Vec2";if(this.singular())throw"Error: Matrix is singular and inverse transformation cannot be performed";var c=1/(this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c);if(b)d=f.geom.Vec2.get((function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.d-function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.b)*c,(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.a-function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.c)*c,d);else{if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();
b=a.zpp_inner.x-this.zpp_inner.tx;var e;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();e=a.zpp_inner.y-this.zpp_inner.ty;d=f.geom.Vec2.get((b*this.zpp_inner.d-e*this.zpp_inner.b)*c,(e*this.zpp_inner.a-b*this.zpp_inner.c)*c,d)}a.zpp_inner.weak?(a.dispose(),!0):!1;return d},toString:function(){return"{ a: "+this.zpp_inner.a+" b: "+this.zpp_inner.b+" c: "+this.zpp_inner.c+" d: "+this.zpp_inner.d+" tx: "+this.zpp_inner.tx+" ty: "+this.zpp_inner.ty+
" }"},equiorthogonal:function(){if(this.singular())return!1;var a=this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d;return a*a<f.Config.epsilon?(a=this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.b*this.zpp_inner.b-this.zpp_inner.c*this.zpp_inner.c-this.zpp_inner.d*this.zpp_inner.d,a*a<f.Config.epsilon):!1},orthogonal:function(){var a=this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d;if(a*a<f.Config.epsilon){var a=this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.b*
this.zpp_inner.b-1,b=this.zpp_inner.c*this.zpp_inner.c+this.zpp_inner.d*this.zpp_inner.d-1;return a*a<f.Config.epsilon&&b*b<f.Config.epsilon}return!1},equiorthogonalise:function(){if(!this.equiorthogonal()){var a=Math.sqrt(this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.c*this.zpp_inner.c),b=Math.sqrt(this.zpp_inner.b*this.zpp_inner.b+this.zpp_inner.d*this.zpp_inner.d);if(a*a<f.Config.epsilon||b*b<f.Config.epsilon)throw"Error: Matrix is singular and cannot be equiorthogonalised";var d=(a+b)/2,a=
d/a,b=d/b;this.set_a(this.zpp_inner.a*a);this.set_c(this.zpp_inner.c*a);this.set_b(this.zpp_inner.b*b);this.set_d(this.zpp_inner.d*b);b=.25*Math.PI-.5*Math.acos((this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d)/(d*d));0<this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c&&(b=-b);var a=Math.sin(b),b=Math.cos(b),d=this.zpp_inner.a*b-this.zpp_inner.c*a,c=this.zpp_inner.b*b+this.zpp_inner.d*a;this.set_c(this.zpp_inner.c*b+this.zpp_inner.a*a);if(d!=d)throw"Error: Mat23::a cannot be NaN";
this.zpp_inner.a=d;this.zpp_inner.invalidate();this.zpp_inner.a;this.set_d(this.zpp_inner.d*b-this.zpp_inner.b*a);if(c!=c)throw"Error: Mat23::b cannot be NaN";this.zpp_inner.b=c;this.zpp_inner.invalidate();this.zpp_inner.b;this.zpp_inner.invalidate()}return this},orthogonalise:function(){if(!this.orthogonal()){var a=Math.sqrt(this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.c*this.zpp_inner.c),b=Math.sqrt(this.zpp_inner.b*this.zpp_inner.b+this.zpp_inner.d*this.zpp_inner.d);if(a*a<f.Config.epsilon||
b*b<f.Config.epsilon)throw"Error: Matrix is singular and cannot be orthogonalised";a=1/a;b=1/b;this.set_a(this.zpp_inner.a*a);this.set_c(this.zpp_inner.c*a);this.set_b(this.zpp_inner.b*b);this.set_d(this.zpp_inner.d*b);b=.25*Math.PI-.5*Math.acos((this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d)/1);0<this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c&&(b=-b);var a=Math.sin(b),b=Math.cos(b),d=this.zpp_inner.a*b-this.zpp_inner.c*a,c=this.zpp_inner.b*b+this.zpp_inner.d*
a;this.set_c(this.zpp_inner.c*b+this.zpp_inner.a*a);if(d!=d)throw"Error: Mat23::a cannot be NaN";this.zpp_inner.a=d;this.zpp_inner.invalidate();this.zpp_inner.a;this.set_d(this.zpp_inner.d*b-this.zpp_inner.b*a);if(c!=c)throw"Error: Mat23::b cannot be NaN";this.zpp_inner.b=c;this.zpp_inner.invalidate();this.zpp_inner.b;this.zpp_inner.invalidate()}return this},__class__:f.geom.Mat23,__properties__:{get_determinant:"get_determinant",set_ty:"set_ty",get_ty:"get_ty",set_tx:"set_tx",get_tx:"get_tx",set_d:"set_d",
get_d:"get_d",set_c:"set_c",get_c:"get_c",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"}};f.geom.MatMN=function(a,b){this.zpp_inner=null;if(0>=a||0>=b)throw"Error: MatMN::dimensions cannot be < 1";this.zpp_inner=new c.geom.ZPP_MatMN(a,b);this.zpp_inner.outer=this};m["nape.geom.MatMN"]=f.geom.MatMN;f.geom.MatMN.__name__=["nape","geom","MatMN"];f.geom.MatMN.prototype={zpp_inner:null,get_rows:function(){return this.zpp_inner.m},get_cols:function(){return this.zpp_inner.n},x:function(a,b){if(0>
a||0>b||a>=this.zpp_inner.m||b>=this.zpp_inner.n)throw"Error: MatMN indices out of range";return this.zpp_inner.x[a*this.zpp_inner.n+b]},setx:function(a,b,d){if(0>a||0>b||a>=this.zpp_inner.m||b>=this.zpp_inner.n)throw"Error: MatMN indices out of range";return this.zpp_inner.x[a*this.zpp_inner.n+b]=d},toString:function(){for(var a="{ ",b=!0,d=0,c=this.zpp_inner.m;d<c;){var e=d++;b||(a+="; ");for(var b=!1,g=0,p=this.zpp_inner.n;g<p;){var f=g++,h=void 0;if(0>e||0>f||e>=this.zpp_inner.m||f>=this.zpp_inner.n)throw"Error: MatMN indices out of range";
h=this.zpp_inner.x[e*this.zpp_inner.n+f];a+=h+" "}}return a+"}"},transpose:function(){for(var a=new f.geom.MatMN(this.zpp_inner.n,this.zpp_inner.m),b=0,d=this.zpp_inner.m;b<d;)for(var c=b++,e=0,g=this.zpp_inner.n;e<g;){var p=e++;a.setx(p,c,function(a){if(0>c||0>p||c>=a.zpp_inner.m||p>=a.zpp_inner.n)throw"Error: MatMN indices out of range";return a.zpp_inner.x[c*a.zpp_inner.n+p]}(this))}return a},mul:function(a){if(this.zpp_inner.n!=a.zpp_inner.m)throw"Error: Matrix dimensions aren't compatible";for(var b=
new f.geom.MatMN(this.zpp_inner.m,a.zpp_inner.n),d=0,c=this.zpp_inner.m;d<c;)for(var e=d++,g=0,p=a.zpp_inner.n;g<p;){for(var x=g++,h=0,w=0,l=this.zpp_inner.n;w<l;){var t=w++;if(0>e||0>t||e>=this.zpp_inner.m||t>=this.zpp_inner.n)throw"Error: MatMN indices out of range";var Ja=this.zpp_inner.x[e*this.zpp_inner.n+t];if(0>t||0>x||t>=a.zpp_inner.m||x>=a.zpp_inner.n)throw"Error: MatMN indices out of range";h+=Ja*a.zpp_inner.x[t*a.zpp_inner.n+x]}if(0>e||0>x||e>=b.zpp_inner.m||x>=b.zpp_inner.n)throw"Error: MatMN indices out of range";
b.zpp_inner.x[e*b.zpp_inner.n+x]=h}return b},__class__:f.geom.MatMN,__properties__:{get_cols:"get_cols",get_rows:"get_rows"}};f.geom.Ray=function(a,b){this.zpp_inner=null;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner=new c.geom.ZPP_Ray;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Ray::origin cannot be null";this.zpp_inner.origin.set(a);
this.zpp_inner.origin;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==b)throw"Error: Ray::direction cannot be null";this.zpp_inner.direction.set(b);this.zpp_inner.zip_dir=!0;this.zpp_inner.direction;this.zpp_inner.maxdist=Math.POSITIVE_INFINITY};m["nape.geom.Ray"]=f.geom.Ray;f.geom.Ray.__name__=["nape","geom","Ray"];f.geom.Ray.fromSegment=function(a,b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Ray::fromSegment::start is null";if(null==b)throw"Error: Ray::fromSegment::end is null";var d=b.sub(a,!0),d=new f.geom.Ray(a,d);d.set_maxDistance(Math.sqrt(c.geom.ZPP_VecMath.vec_dsq(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){if(null!=
b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this))));a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1;return d};f.geom.Ray.prototype={zpp_inner:null,get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},
get_origin:function(){return this.zpp_inner.origin},set_origin:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Ray::origin cannot be null";this.zpp_inner.origin.set(a);return this.zpp_inner.origin},get_direction:function(){return this.zpp_inner.direction},set_direction:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Ray::direction cannot be null";this.zpp_inner.direction.set(a);
this.zpp_inner.zip_dir=!0;return this.zpp_inner.direction},get_maxDistance:function(){return this.zpp_inner.maxdist},set_maxDistance:function(a){if(a!=a)throw"Error: maxDistance cannot be NaN";this.zpp_inner.maxdist=a;return this.zpp_inner.maxdist},aabb:function(){return this.zpp_inner.rayAABB().wrapper()},at:function(a,b){null==b&&(b=!1);this.zpp_inner.validate_dir();return f.geom.Vec2.get(this.zpp_inner.origin.get_x()+a*this.zpp_inner.dirx,this.zpp_inner.origin.get_y()+a*this.zpp_inner.diry,b)},
copy:function(){var a=new f.geom.Ray(this.zpp_inner.origin,this.zpp_inner.direction);a.set_maxDistance(this.zpp_inner.maxdist);return a},__class__:f.geom.Ray,__properties__:{set_maxDistance:"set_maxDistance",get_maxDistance:"get_maxDistance",set_direction:"set_direction",get_direction:"get_direction",set_origin:"set_origin",get_origin:"get_origin",get_userData:"get_userData"}};f.geom.RayResult=function(){this.zpp_inner=null;if(!c.geom.ZPP_ConvexRayResult.internal)throw"Error: RayResult cannot be instantiated derp!";
};m["nape.geom.RayResult"]=f.geom.RayResult;f.geom.RayResult.__name__=["nape","geom","RayResult"];f.geom.RayResult.prototype={zpp_inner:null,get_normal:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.normal},get_distance:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.toiDistance},get_inner:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
return this.zpp_inner.inner},get_shape:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.shape},dispose:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";this.zpp_inner.free()},toString:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";var a="{ shape: "+H.string(function(a){if(null!=a.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
return a.zpp_inner.shape}(this))+" distance: ";if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return a+this.zpp_inner.toiDistance+" ?inner: "+H.string(function(a){if(null!=a.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return a.zpp_inner.inner}(this))+" }"},__class__:f.geom.RayResult,__properties__:{get_shape:"get_shape",get_inner:"get_inner",get_distance:"get_distance",get_normal:"get_normal"}};f.geom.RayResultIterator=
function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_RayResultList.internal)throw"Error: Cannot instantiate RayResultIterator derp!";};m["nape.geom.RayResultIterator"]=f.geom.RayResultIterator;f.geom.RayResultIterator.__name__=["nape","geom","RayResultIterator"];f.geom.RayResultIterator.get=function(a){var b;null==f.geom.RayResultIterator.zpp_pool?(c.util.ZPP_RayResultList.internal=!0,b=new f.geom.RayResultIterator,c.util.ZPP_RayResultList.internal=!1):
(b=f.geom.RayResultIterator.zpp_pool,f.geom.RayResultIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.geom.RayResultIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.geom.RayResultIterator.zpp_pool;f.geom.RayResultIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=
!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.geom.RayResultIterator};f.geom.RayResultList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_RayResultList;this.zpp_inner.outer=this};m["nape.geom.RayResultList"]=f.geom.RayResultList;f.geom.RayResultList.__name__=["nape","geom","RayResultList"];f.geom.RayResultList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.geom.RayResultList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};
f.geom.RayResultList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||
null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},push:function(a){if(this.zpp_inner.immutable)throw"Error: RayResultList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a):
(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: RayResultList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?
this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a)):this.zpp_inner.inner.add(a),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: RayResultList is immutable";this.zpp_inner.modify_test();
if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag)a=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);a=null==b?this.zpp_inner.inner.head.elt:
b.next.elt;null!=this.zpp_inner.subber&&this.zpp_inner.subber(a);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a},shift:function(){if(this.zpp_inner.immutable)throw"Error: RayResultList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=
null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);a=null==b?this.zpp_inner.inner.head.elt:b.next.elt;null!=this.zpp_inner.subber&&this.zpp_inner.subber(a);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):
this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: RayResultList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: RayResultList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=
this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.geom.RayResultIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.geom.RayResultList,d;this.zpp_inner.valmod();for(d=f.geom.RayResultIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: RayResult is not a copyable type";
}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=f.geom.RayResultIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.geom.RayResultIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();
b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=f.geom.RayResultIterator.get(this);b.hasNext();)try{var d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.geom.RayResultIterator.zpp_pool;f.geom.RayResultIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=
this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.geom.RayResultList,__properties__:{get_length:"get_length"}};f.geom.Vec2=function(a,b){null==b&&(b=0);null==a&&(a=0);this.zpp_inner=this.zpp_pool=null;if(a!=a||b!=b)throw"Error: Vec2 components cannot be NaN";this.zpp_inner=c.geom.ZPP_Vec2.get(a,b,null);this.zpp_inner.outer=this};m["nape.geom.Vec2"]=f.geom.Vec2;f.geom.Vec2.__name__=["nape","geom","Vec2"];f.geom.Vec2.weak=function(a,b){null==b&&(b=0);null==a&&(a=0);return f.geom.Vec2.get(a,
b,!0)};f.geom.Vec2.get=function(a,b,d){null==d&&(d=!1);null==b&&(b=0);null==a&&(a=0);if(a!=a||b!=b)throw"Error: Vec2 components cannot be NaN";var k;null==c.util.ZPP_PubPool.poolVec2?k=new f.geom.Vec2:(k=c.util.ZPP_PubPool.poolVec2,c.util.ZPP_PubPool.poolVec2=k.zpp_pool,k.zpp_pool=null,k.zpp_disp=!1,k==c.util.ZPP_PubPool.nextVec2&&(c.util.ZPP_PubPool.nextVec2=null));if(null==k.zpp_inner)k.zpp_inner=c.geom.ZPP_Vec2.get(a,b,null),k.zpp_inner.outer=k;else{if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
k.zpp_inner.immutable();if(a!=a||b!=b)throw"Error: Vec2 components cannot be NaN";if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();var e;if(!(e=k.zpp_inner.x!=a)){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();e=k.zpp_inner.y!=b}e&&(k.zpp_inner.x=a,k.zpp_inner.y=b,k.zpp_inner.invalidate());k}k.zpp_inner.weak=d;return k};f.geom.Vec2.fromPoint=function(a,b){null==b&&(b=!1);if(null==a)throw"Error: Cannot create Vec2 from null Point object";
if(a.x!=a.x||a.y!=a.y)throw"Error: Error: Vec2 components cannot be NaN";return f.geom.Vec2.get(a.x,a.y,b)};f.geom.Vec2.fromPolar=function(a,b,d){null==d&&(d=!1);if(a!=a)throw"Error: Vec2::length cannot be NaN";if(b!=b)throw"Error: Vec2::angle cannot be NaN";return f.geom.Vec2.get(a*Math.cos(b),a*Math.sin(b),d)};f.geom.Vec2.dsq=function(a,b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a||null==b)throw"Error: Cannot compute squared distance between null Vec2";var d=c.geom.ZPP_VecMath.vec_dsq(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();
return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this));a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1;return d};f.geom.Vec2.distance=function(a,b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a||null==b)throw"Error: Cannot compute squared distance between null Vec2";
var d=Math.sqrt(c.geom.ZPP_VecMath.vec_dsq(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.y}(this)));a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1;return d};f.geom.Vec2.prototype={zpp_inner:null,zpp_pool:null,zpp_disp:null,dispose:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(this.zpp_inner._inuse)throw"Error: This Vec2 is not disposable";var a=this.zpp_inner;this.zpp_pool=this.zpp_inner=this.zpp_inner.outer=null;null!=c.util.ZPP_PubPool.nextVec2?c.util.ZPP_PubPool.nextVec2.zpp_pool=
this:c.util.ZPP_PubPool.poolVec2=this;c.util.ZPP_PubPool.nextVec2=this;this.zpp_disp=!0;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=a},copy:function(a){null==a&&(a=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return f.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),
function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),a)},toPoint:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";null==a&&(a=new h.geom.Point);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();a.x=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();a.y=this.zpp_inner.y;
return a},get_x:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.x},set_x:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();if(this.zpp_inner.x!=a){if(a!=a)throw"Error: Vec2::x cannot be NaN";this.zpp_inner.x=a;this.zpp_inner.invalidate()}if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();return this.zpp_inner.x},get_y:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.y},set_y:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();if(this.zpp_inner.y!=a){if(a!=a)throw"Error: Vec2::y cannot be NaN";this.zpp_inner.y=a;this.zpp_inner.invalidate()}if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();return this.zpp_inner.y},get_length:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this))},set_length:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(a!=a)throw"Error: Vec2::length cannot be NaN";if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var b=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();b*=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var d=this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();if(0==b+d*this.zpp_inner.y)throw"Error: Cannot set length of a zero vector";a/=Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this));var c=this;c.set_x(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this)*a);var e=this;e.set_y(function(a){if(null!=
e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this)*a);this.zpp_inner.invalidate();if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+
function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this))},lsq:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var a=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();a*=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var b=this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();return a+b*this.zpp_inner.y},set:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(null==
a)throw"Error: Cannot assign null Vec2";var b=this.setxy(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this));a.zpp_inner.weak?(a.dispose(),!0):!1;return b},setxy:function(a,b){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();
if(a!=a||b!=b)throw"Error: Vec2 components cannot be NaN";if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var d;if(!(d=this.zpp_inner.x!=a)){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();d=this.zpp_inner.y!=b}d&&(this.zpp_inner.x=a,this.zpp_inner.y=b,this.zpp_inner.invalidate());return this},get_angle:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();var a=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();if(a=a==this.zpp_inner.y){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();a=0==this.zpp_inner.x}return a?0:Math.atan2(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this))},set_angle:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(a!=a)throw"Error: Vec2::angle cannot be NaN";var b;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b=Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this));this.setxy(b*Math.cos(a),b*Math.sin(a));if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();a=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();if(a=a==this.zpp_inner.y){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();a=0==this.zpp_inner.x}return a?0:Math.atan2(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this))},rotate:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(a!=a)throw"Error: Cannot rotate Vec2 by NaN";if(0!=a%(2*Math.PI)){var b=Math.sin(a);a=Math.cos(a);var d=a*this.zpp_inner.x-b*this.zpp_inner.y;this.zpp_inner.y=this.zpp_inner.x*b+this.zpp_inner.y*a;this.zpp_inner.x=d;this.zpp_inner.invalidate()}return this},reflect:function(a,b){null==b&&(b=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(0==function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(a)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a))}(this))throw"Error: Cannot reflect in zero vector";var d=function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return f.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(a),!0)}(this).normalise(),d=a.sub(d.muleq(2*d.dot(a)),b);a.zpp_inner.weak?(a.dispose(),!0):!1;return d},normalise:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(0==function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a)*
function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a))}(this))throw"Error: Cannot normalise vector of length 0";if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();var a=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();a*=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var b=this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var a=1/Math.sqrt(a+b*this.zpp_inner.y),d=this;d.set_x(function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
d.zpp_inner.validate();return d.zpp_inner.x}(this)*a);var c=this;c.set_y(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this)*a);this.zpp_inner.invalidate();return this},unit:function(a){null==a&&(a=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(0==function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(a)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a))}(this))throw"Error: Cannot normalise vector of length 0";var b=
1/c.util.ZPP_Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this));return f.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*b,function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*b,a)},add:function(a,b){null==b&&(b=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Cannot add null vectors";var d=f.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(b){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),b);a.zpp_inner.weak?(a.dispose(),!0):!1;return d},addMul:function(a,b,d){null==d&&(d=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot add null vectors";b=f.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*b,function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*b,d);a.zpp_inner.weak?(a.dispose(),
!0):!1;return b},sub:function(a,b){null==b&&(b=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot subtract null vectors";var d=f.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)-function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)-function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),b);a.zpp_inner.weak?(a.dispose(),!0):!1;return d},mul:function(a,b){null==b&&(b=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(a!=a)throw"Error: Cannot multiply with NaN";
return f.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*a,function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*a,b)},addeq:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(null==
a)throw"Error: Cannot add null vectors";this.setxy(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this));a.zpp_inner.weak?(a.dispose(),!0):!1;return this},subeq:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(null==a)throw"Error: Cannot subtract null vectors";this.setxy(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)-function(b){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)-function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this));a.zpp_inner.weak?(a.dispose(),!0):!1;return this},muleq:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.immutable();if(a!=a)throw"Error: Cannot multiply with NaN";return this.setxy(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*a,function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*a)},dot:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Cannot take dot product with null vector";var b;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();b=this.zpp_inner.x;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();b*=a.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var d=this.zpp_inner.y;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();b+=d*a.zpp_inner.y;a.zpp_inner.weak?(a.dispose(),!0):!1;return b},cross:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot take cross product with null vector";var b;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();b=a.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();b*=this.zpp_inner.x;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();var d=a.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();b-=d*this.zpp_inner.y;a.zpp_inner.weak?(a.dispose(),!0):!1;return b},perp:function(a){null==a&&(a=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return f.geom.Vec2.get(-function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),a)},toString:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.toString()},__class__:f.geom.Vec2,__properties__:{set_angle:"set_angle",get_angle:"get_angle",set_length:"set_length",get_length:"get_length",set_y:"set_y",get_y:"get_y",
set_x:"set_x",get_x:"get_x"}};f.geom.Vec2Iterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_Vec2List.internal)throw"Error: Cannot instantiate Vec2Iterator derp!";};m["nape.geom.Vec2Iterator"]=f.geom.Vec2Iterator;f.geom.Vec2Iterator.__name__=["nape","geom","Vec2Iterator"];f.geom.Vec2Iterator.get=function(a){var b;null==f.geom.Vec2Iterator.zpp_pool?(c.util.ZPP_Vec2List.internal=!0,b=new f.geom.Vec2Iterator,c.util.ZPP_Vec2List.internal=!1):(b=
f.geom.Vec2Iterator.zpp_pool,f.geom.Vec2Iterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.geom.Vec2Iterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.zpp_gl();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.geom.Vec2Iterator.zpp_pool;f.geom.Vec2Iterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},
__class__:f.geom.Vec2Iterator};f.geom.Vec2List=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_Vec2List;this.zpp_inner.outer=this};m["nape.geom.Vec2List"]=f.geom.Vec2List;f.geom.Vec2List.__name__=["nape","geom","Vec2List"];f.geom.Vec2List.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.geom.Vec2List,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};f.geom.Vec2List.prototype={zpp_inner:null,get_length:function(){return this.zpp_gl()},
zpp_gl:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},zpp_vm:function(){this.zpp_inner.valmod()},has:function(a){this.zpp_vm();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_vm();if(0>a||a>=this.zpp_gl())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=
a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},push:function(a){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&
(this.empty()?this.zpp_inner.push_ite=null:this.zpp_inner.push_ite=this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?
(null==this.zpp_inner.push_ite&&(this.empty()?this.zpp_inner.push_ite=null:this.zpp_inner.push_ite=this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();if(this.empty())throw"Error: Cannot remove from empty list";
this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();if(this.empty())throw"Error: Cannot remove from empty list";this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-
2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";
this.zpp_inner.modify_test();this.zpp_vm();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";if(this.zpp_inner.reverse_flag)for(;!this.empty();)this.pop();else for(;!this.empty();)this.shift()},empty:function(){return 0==
this.zpp_gl()},iterator:function(){this.zpp_vm();return f.geom.Vec2Iterator.get(this)},copy:function(a){null==a&&(a=!1);for(var b=new f.geom.Vec2List,d=this.iterator();d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return f.geom.Vec2.get(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(a),function(a){if(null!=
c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(a),!1)}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";for(a=a.iterator();a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||this.add(b)}},toString:function(){for(var a="[",b=!0,d=this.iterator();d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+
"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";for(var b=this.iterator();b.hasNext();)try{var d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.geom.Vec2Iterator.zpp_pool;f.geom.Vec2Iterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.zpp_gl();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.geom.Vec2List,
__properties__:{get_length:"get_length"}};f.geom.Vec3=function(a,b,d){null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.zpp_inner=this.zpp_pool=null;this.zpp_inner=new c.geom.ZPP_Vec3;this.zpp_inner.outer=this;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.x=a;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.y=b;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.z=d;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();this.zpp_inner.z};m["nape.geom.Vec3"]=f.geom.Vec3;f.geom.Vec3.__name__=
["nape","geom","Vec3"];f.geom.Vec3.get=function(a,b,d){null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);var k;null==c.util.ZPP_PubPool.poolVec3?k=new f.geom.Vec3:(k=c.util.ZPP_PubPool.poolVec3,c.util.ZPP_PubPool.poolVec3=k.zpp_pool,k.zpp_pool=null,k.zpp_disp=!1,k==c.util.ZPP_PubPool.nextVec3&&(c.util.ZPP_PubPool.nextVec3=null));k.setxyz(a,b,d);k.zpp_inner.immutable=!1;k.zpp_inner._validate=null;return k};f.geom.Vec3.prototype={zpp_inner:null,zpp_pool:null,zpp_disp:null,get_x:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
this.zpp_inner.validate();return this.zpp_inner.x},set_x:function(a){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.x=a;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.x},get_y:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.y},set_y:function(a){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.y=a;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.y},get_z:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.z},set_z:function(a){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.z=
a;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.z},dispose:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: This Vec3 is not disposable";this.zpp_pool=null;null!=c.util.ZPP_PubPool.nextVec3?c.util.ZPP_PubPool.nextVec3.zpp_pool=this:c.util.ZPP_PubPool.poolVec3=this;c.util.ZPP_PubPool.nextVec3=this;this.zpp_disp=!0},get_length:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.z}(this)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.z}(this))},set_length:function(a){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(a!=a)throw"Error: Vec3::length cannot be NaN";if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
this.zpp_inner.validate();var b=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();b*=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();var d=this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();b+=d*this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();
d=this.zpp_inner.z;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();if(0==b+d*this.zpp_inner.z)throw"Error: Cannot set length of a zero vector";a/=function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(a)+function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a)+function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.z}(a)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.z}(a))}(this);var c=this;c.set_x(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this)*a);var e=this;e.set_y(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this)*a);var g=this;g.set_z(function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();
return g.zpp_inner.z}(this)*a);if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*
function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.z}(this)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.z}(this))},lsq:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
this.zpp_inner.validate();var a=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();a*=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();var b=this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();a+=b*this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();
b=this.zpp_inner.z;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return a+b*this.zpp_inner.z},set:function(a){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot assign null Vec3";return this.setxyz(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();
return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.z}(this))},setxyz:function(a,b,d){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";
this.zpp_inner.x=a;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.y=b;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";
this.zpp_inner.z=d;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();this.zpp_inner.z;return this},xy:function(a){null==a&&(a=!1);if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";return f.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();
return a.zpp_inner.y}(this),a)},toString:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();var a="{ x: "+this.zpp_inner.x+" y: ";if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();a=a+this.zpp_inner.y+" z: ";if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return a+
this.zpp_inner.z+" }"},__class__:f.geom.Vec3,__properties__:{set_length:"set_length",get_length:"get_length",set_z:"set_z",get_z:"get_z",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"}};f.geom.Winding=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate Winding derp!";};m["nape.geom.Winding"]=f.geom.Winding;f.geom.Winding.__name__=["nape","geom","Winding"];f.geom.Winding.__properties__={get_ANTICLOCKWISE:"get_ANTICLOCKWISE",get_CLOCKWISE:"get_CLOCKWISE",get_UNDEFINED:"get_UNDEFINED"};
f.geom.Winding.get_UNDEFINED=function(){null==c.util.ZPP_Flags.Winding_UNDEFINED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_UNDEFINED=new f.geom.Winding,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Winding_UNDEFINED};f.geom.Winding.get_CLOCKWISE=function(){null==c.util.ZPP_Flags.Winding_CLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_CLOCKWISE=new f.geom.Winding,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Winding_CLOCKWISE};f.geom.Winding.get_ANTICLOCKWISE=
function(){null==c.util.ZPP_Flags.Winding_ANTICLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_ANTICLOCKWISE=new f.geom.Winding,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Winding_ANTICLOCKWISE};f.geom.Winding.prototype={toString:function(){null==c.util.ZPP_Flags.Winding_UNDEFINED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_UNDEFINED=new f.geom.Winding,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.Winding_UNDEFINED?a="UNDEFINED":(null==c.util.ZPP_Flags.Winding_CLOCKWISE&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_CLOCKWISE=new f.geom.Winding,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.Winding_CLOCKWISE?a="CLOCKWISE":(null==c.util.ZPP_Flags.Winding_ANTICLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_ANTICLOCKWISE=new f.geom.Winding,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.Winding_ANTICLOCKWISE?"ANTICLOCKWISE":""));return a},__class__:f.geom.Winding};f.phys={};f.phys.Interactor=function(){this.zpp_inner_i=null;if(!f.phys.Interactor.zpp_internalAlloc)throw"Error: Cannot instantiate an Interactor, only Shape/Body/Compound";
};m["nape.phys.Interactor"]=f.phys.Interactor;f.phys.Interactor.__name__=["nape","phys","Interactor"];f.phys.Interactor.prototype={zpp_inner_i:null,get_id:function(){return this.zpp_inner_i.id},get_userData:function(){null==this.zpp_inner_i.userData&&(this.zpp_inner_i.userData={});return this.zpp_inner_i.userData},isShape:function(){return null!=this.zpp_inner_i.ishape},isBody:function(){return null!=this.zpp_inner_i.ibody},isCompound:function(){return null!=this.zpp_inner_i.icompound},get_castShape:function(){return null!=
this.zpp_inner_i.ishape?this.zpp_inner_i.ishape.outer:null},get_castBody:function(){return null!=this.zpp_inner_i.ibody?this.zpp_inner_i.ibody.outer:null},get_castCompound:function(){return null!=this.zpp_inner_i.icompound?this.zpp_inner_i.icompound.outer:null},get_group:function(){return null==this.zpp_inner_i.group?null:this.zpp_inner_i.group.outer},set_group:function(a){this.zpp_inner_i.immutable_midstep("Interactor::group");this.zpp_inner_i.setGroup(null==a?null:a.zpp_inner);return null==this.zpp_inner_i.group?
null:this.zpp_inner_i.group.outer},get_cbTypes:function(){null==this.zpp_inner_i.wrap_cbTypes&&this.zpp_inner_i.setupcbTypes();return this.zpp_inner_i.wrap_cbTypes},toString:function(){return""},__class__:f.phys.Interactor,__properties__:{get_cbTypes:"get_cbTypes",set_group:"set_group",get_group:"get_group",get_castCompound:"get_castCompound",get_castBody:"get_castBody",get_castShape:"get_castShape",get_userData:"get_userData",get_id:"get_id"}};f.phys.Body=function(a,b){this.debugDraw=!0;this.zpp_inner=
null;f.phys.Interactor.zpp_internalAlloc=!0;f.phys.Interactor.call(this);f.phys.Interactor.zpp_internalAlloc=!1;this.zpp_inner=new c.phys.ZPP_Body;this.zpp_inner.outer=this;this.zpp_inner.outer_i=this;this.zpp_inner_i=this.zpp_inner;if(null!=b){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();this.zpp_inner.posx=b.zpp_inner.x;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();this.zpp_inner.posy=b.zpp_inner.y}else this.zpp_inner.posx=0,this.zpp_inner.posy=0;this.set_type(null==a?function(a){null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.BodyType_DYNAMIC}(this):a);null!=b&&(b.zpp_inner.weak?(b.dispose(),!0):!1);this.zpp_inner_i.insert_cbtype(c.callbacks.ZPP_CbType.ANY_BODY.zpp_inner)};m["nape.phys.Body"]=f.phys.Body;
f.phys.Body.__name__=["nape","phys","Body"];f.phys.Body.__super__=f.phys.Interactor;f.phys.Body.prototype=F(f.phys.Interactor.prototype,{zpp_inner:null,debugDraw:null,get_type:function(){return c.phys.ZPP_Body.types[this.zpp_inner.type]},set_type:function(a){this.zpp_inner.immutable_midstep("Body::type");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(c.phys.ZPP_Body.types[this.zpp_inner.type]!=a){if(null==a)throw"Error: Cannot use null BodyType";null==c.util.ZPP_Flags.BodyType_DYNAMIC&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);a==c.util.ZPP_Flags.BodyType_DYNAMIC?a=c.util.ZPP_Flags.id_BodyType_DYNAMIC:(null==c.util.ZPP_Flags.BodyType_KINEMATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_KINEMATIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1),a=a==c.util.ZPP_Flags.BodyType_KINEMATIC?c.util.ZPP_Flags.id_BodyType_KINEMATIC:c.util.ZPP_Flags.id_BodyType_STATIC);a==c.util.ZPP_Flags.id_BodyType_STATIC&&
null!=this.zpp_inner.space&&(this.zpp_inner.velx=0,this.zpp_inner.vely=0,this.zpp_inner.angvel=0);this.zpp_inner.invalidate_type();null!=this.zpp_inner.space?this.zpp_inner.space.transmitType(this.zpp_inner,a):this.zpp_inner.type=a}return c.phys.ZPP_Body.types[this.zpp_inner.type]},get_isBullet:function(){return this.zpp_inner.bulletEnabled},set_isBullet:function(a){this.zpp_inner.bulletEnabled=a;return this.zpp_inner.bulletEnabled},get_disableCCD:function(){return this.zpp_inner.disableCCD},set_disableCCD:function(a){this.zpp_inner.disableCCD=
a;return this.zpp_inner.disableCCD},integrate:function(a){if(a!=a)throw"Cannot integrate by NaN time";this.zpp_inner.immutable_midstep("Body::space");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(0==a)return this;var b=this.zpp_inner;b.sweepTime=0;b.sweep_angvel=b.angvel;b.sweepIntegrate(a);b.invalidate_pos();b.invalidate_rot();b.sweepTime=0;return this},isStatic:function(){return this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC},isDynamic:function(){return this.zpp_inner.type==
c.util.ZPP_Flags.id_BodyType_DYNAMIC},isKinematic:function(){return this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC},get_shapes:function(){return this.zpp_inner.wrap_shapes},get_compound:function(){return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},set_compound:function(a){(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)!=a&&(null!=(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)&&(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer).zpp_inner.wrap_bodies.remove(this),
null!=a&&a.zpp_inner.wrap_bodies.add(this));return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},get_space:function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},set_space:function(a){if(null!=this.zpp_inner.compound)throw"Error: Cannot set the space of a Body belonging to a Compound, only the root Compound space can be set";this.zpp_inner.immutable_midstep("Body::space");if(this.zpp_inner.world)throw"Error: Space::world is immutable";(null==this.zpp_inner.space?
null:this.zpp_inner.space.outer)!=a&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.component.woken=!1),null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(null==this.zpp_inner.space?null:this.zpp_inner.space.outer).zpp_inner.wrap_bodies.remove(this),null!=a&&a.zpp_inner.wrap_bodies.add(this));return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},get_arbiters:function(){null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=
c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));return this.zpp_inner.wrap_arbiters},get_isSleeping:function(){if(null==this.zpp_inner.space)throw"Error: isSleeping makes no sense if the object is not contained within a Space";return this.zpp_inner.component.sleeping},get_constraints:function(){null==this.zpp_inner.wrap_constraints&&(this.zpp_inner.wrap_constraints=c.util.ZPP_ConstraintList.get(this.zpp_inner.constraints,!0));return this.zpp_inner.wrap_constraints},copy:function(){if(this.zpp_inner.world)throw"Error: Space::world cannot be copied";
return this.zpp_inner.copy()},get_position:function(){null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();return this.zpp_inner.wrap_pos},set_position:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Body::position cannot be null";null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();this.zpp_inner.wrap_pos.set(a);null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();return this.zpp_inner.wrap_pos},get_velocity:function(){null==
this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity();return this.zpp_inner.wrap_vel},set_velocity:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Body::velocity cannot be null";null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity();this.zpp_inner.wrap_vel.set(a);null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity();return this.zpp_inner.wrap_vel},setVelocityFromTarget:function(a,b,d){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Cannot set velocity for null target position";if(0==d)throw"deltaTime cannot be 0 for setVelocityFromTarget";d=1/d;null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity();this.zpp_inner.wrap_vel.set(a.sub(function(a){null==a.zpp_inner.wrap_pos&&a.zpp_inner.setupPosition();return a.zpp_inner.wrap_pos}(this),!0).muleq(d));this.set_angularVel((b-this.zpp_inner.rot)*d);a.zpp_inner.weak?(a.dispose(),!0):!1;return this},get_kinematicVel:function(){null==this.zpp_inner.wrap_kinvel&&
this.zpp_inner.setupkinvel();return this.zpp_inner.wrap_kinvel},set_kinematicVel:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Body::kinematicVel cannot be null";null==this.zpp_inner.wrap_kinvel&&this.zpp_inner.setupkinvel();this.zpp_inner.wrap_kinvel.set(a);null==this.zpp_inner.wrap_kinvel&&this.zpp_inner.setupkinvel();return this.zpp_inner.wrap_kinvel},get_surfaceVel:function(){null==this.zpp_inner.wrap_svel&&this.zpp_inner.setupsvel();
return this.zpp_inner.wrap_svel},set_surfaceVel:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Body::surfaceVel cannot be null";null==this.zpp_inner.wrap_svel&&this.zpp_inner.setupsvel();this.zpp_inner.wrap_svel.set(a);null==this.zpp_inner.wrap_svel&&this.zpp_inner.setupsvel();return this.zpp_inner.wrap_svel},get_force:function(){null==this.zpp_inner.wrap_force&&this.zpp_inner.setupForce();return this.zpp_inner.wrap_force},set_force:function(a){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Body::force cannot be null";null==this.zpp_inner.wrap_force&&this.zpp_inner.setupForce();this.zpp_inner.wrap_force.set(a);null==this.zpp_inner.wrap_force&&this.zpp_inner.setupForce();return this.zpp_inner.wrap_force},get_constraintVelocity:function(){null==this.zpp_inner.wrapcvel&&this.zpp_inner.setup_cvel();return this.zpp_inner.wrapcvel},get_rotation:function(){return this.zpp_inner.rot},set_rotation:function(a){this.zpp_inner.immutable_midstep("Body::rotation");
if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.zpp_inner.space)throw"Error: Static objects cannot be rotated once inside a Space";if(this.zpp_inner.rot!=a){if(a!=a)throw"Error: Body::rotation cannot be NaN";this.zpp_inner.rot=a;this.zpp_inner.invalidate_rot();this.zpp_inner.wake()}return this.zpp_inner.rot},get_angularVel:function(){return this.zpp_inner.angvel},set_angularVel:function(a){if(this.zpp_inner.world)throw"Error: Space::world is immutable";
if(this.zpp_inner.angvel!=a){if(a!=a)throw"Error: Body::angularVel cannot be NaN";if(this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: A static object cannot be given a velocity";this.zpp_inner.angvel=a;this.zpp_inner.wake()}return this.zpp_inner.angvel},get_kinAngVel:function(){return this.zpp_inner.kinangvel},set_kinAngVel:function(a){if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(this.zpp_inner.kinangvel!=a){if(a!=a)throw"Error: Body::kinAngVel cannot be NaN";
this.zpp_inner.kinangvel=a;this.zpp_inner.wake()}return this.zpp_inner.kinangvel},get_torque:function(){return this.zpp_inner.torque},set_torque:function(a){if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(this.zpp_inner.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Non-dynamic body cannot have torque applied.";if(a!=a)throw"Error: Body::torque cannot be NaN";this.zpp_inner.torque!=a&&(this.zpp_inner.torque=a,this.zpp_inner.wake());return this.zpp_inner.torque},get_bounds:function(){if(this.zpp_inner.world)throw"Error: Space::world has no bounds";
return this.zpp_inner.aabb.wrapper()},get_allowMovement:function(){return!this.zpp_inner.nomove},set_allowMovement:function(a){this.zpp_inner.immutable_midstep("Body::"+(null==a?"null":""+a));!this.zpp_inner.nomove!=a&&(this.zpp_inner.nomove=!a,this.zpp_inner.invalidate_mass());return!this.zpp_inner.nomove},get_allowRotation:function(){return!this.zpp_inner.norotate},set_allowRotation:function(a){this.zpp_inner.immutable_midstep("Body::"+(null==a?"null":""+a));!this.zpp_inner.norotate!=a&&(this.zpp_inner.norotate=
!a,this.zpp_inner.invalidate_inertia());return!this.zpp_inner.norotate},get_massMode:function(){null==c.util.ZPP_Flags.MassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_DEFAULT=new f.phys.MassMode,c.util.ZPP_Flags.internal=!1);var a=c.util.ZPP_Flags.MassMode_DEFAULT;null==c.util.ZPP_Flags.MassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_FIXED=new f.phys.MassMode,c.util.ZPP_Flags.internal=!1);return[a,c.util.ZPP_Flags.MassMode_FIXED][this.zpp_inner.massMode]},
set_massMode:function(a){this.zpp_inner.immutable_midstep("Body::massMode");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(null==a)throw"Error: cannot use null massMode";null==c.util.ZPP_Flags.MassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_DEFAULT=new f.phys.MassMode,c.util.ZPP_Flags.internal=!1);a==c.util.ZPP_Flags.MassMode_DEFAULT?this.zpp_inner.massMode=c.util.ZPP_Flags.id_MassMode_DEFAULT:this.zpp_inner.massMode=c.util.ZPP_Flags.id_MassMode_FIXED;
this.zpp_inner.invalidate_mass();null==c.util.ZPP_Flags.MassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_DEFAULT=new f.phys.MassMode,c.util.ZPP_Flags.internal=!1);a=c.util.ZPP_Flags.MassMode_DEFAULT;null==c.util.ZPP_Flags.MassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_FIXED=new f.phys.MassMode,c.util.ZPP_Flags.internal=!1);return[a,c.util.ZPP_Flags.MassMode_FIXED][this.zpp_inner.massMode]},get_constraintMass:function(){this.zpp_inner.world||this.zpp_inner.validate_mass();
return this.zpp_inner.smass},get_mass:function(){if(this.zpp_inner.world)throw"Error: Space::world has no mass";this.zpp_inner.validate_mass();if(this.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==this.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";return this.zpp_inner.cmass},set_mass:function(a){this.zpp_inner.immutable_midstep("Body::mass");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(a!=a)throw"Error: Mass cannot be NaN";
if(0>=a)throw"Error: Mass must be strictly positive";if(a>=Math.POSITIVE_INFINITY)throw"Error: Mass cannot be infinite, use allowMovement = false instead";this.zpp_inner.massMode=c.util.ZPP_Flags.id_MassMode_FIXED;this.zpp_inner.cmass=a;this.zpp_inner.invalidate_mass();if(this.zpp_inner.world)throw"Error: Space::world has no mass";this.zpp_inner.validate_mass();if(this.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==this.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";
return this.zpp_inner.cmass},get_gravMassMode:function(){null==c.util.ZPP_Flags.GravMassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_DEFAULT=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);var a=c.util.ZPP_Flags.GravMassMode_DEFAULT;null==c.util.ZPP_Flags.GravMassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_FIXED=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);var b=c.util.ZPP_Flags.GravMassMode_FIXED;null==c.util.ZPP_Flags.GravMassMode_SCALED&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_SCALED=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);return[a,b,c.util.ZPP_Flags.GravMassMode_SCALED][this.zpp_inner.massMode]},set_gravMassMode:function(a){this.zpp_inner.immutable_midstep("Body::gravMassMode");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(null==a)throw"Error: Cannot use null gravMassMode";null==c.util.ZPP_Flags.GravMassMode_SCALED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_SCALED=
new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);a==c.util.ZPP_Flags.GravMassMode_SCALED?this.zpp_inner.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_SCALED:(null==c.util.ZPP_Flags.GravMassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_DEFAULT=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.GravMassMode_DEFAULT?this.zpp_inner.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_DEFAULT:this.zpp_inner.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_FIXED);
this.zpp_inner.invalidate_gravMass();null==c.util.ZPP_Flags.GravMassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_DEFAULT=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);a=c.util.ZPP_Flags.GravMassMode_DEFAULT;null==c.util.ZPP_Flags.GravMassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_FIXED=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);var b=c.util.ZPP_Flags.GravMassMode_FIXED;null==c.util.ZPP_Flags.GravMassMode_SCALED&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.GravMassMode_SCALED=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);return[a,b,c.util.ZPP_Flags.GravMassMode_SCALED][this.zpp_inner.massMode]},get_gravMass:function(){if(this.zpp_inner.world)throw"Error: Space::world has no gravMass";this.zpp_inner.validate_gravMass();if(null==this.zpp_inner.shapes.head&&this.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&this.zpp_inner.gravMassMode!=c.util.ZPP_Flags.id_GravMassMode_FIXED)throw"Error: Given current mass/gravMass modes; Body::gravMass only makes sense if it contains Shapes";
return this.zpp_inner.gravMass},set_gravMass:function(a){this.zpp_inner.immutable_midstep("Body::gravMass");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(a!=a)throw"Error: gravMass cannot be NaN";this.zpp_inner.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_FIXED;this.zpp_inner.gravMass=a;this.zpp_inner.invalidate_gravMass();if(this.zpp_inner.world)throw"Error: Space::world has no gravMass";this.zpp_inner.validate_gravMass();if(null==this.zpp_inner.shapes.head&&this.zpp_inner.massMode==
c.util.ZPP_Flags.id_MassMode_DEFAULT&&this.zpp_inner.gravMassMode!=c.util.ZPP_Flags.id_GravMassMode_FIXED)throw"Error: Given current mass/gravMass modes; Body::gravMass only makes sense if it contains Shapes";return this.zpp_inner.gravMass},get_gravMassScale:function(){this.zpp_inner.validate_gravMassScale();if(null==this.zpp_inner.shapes.head&&this.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&this.zpp_inner.gravMassMode!=c.util.ZPP_Flags.id_GravMassMode_SCALED)throw"Error: Given current mass/gravMass modes; Body::gravMassScale only makes sense if it contains Shapes";
return this.zpp_inner.gravMassScale},set_gravMassScale:function(a){this.zpp_inner.immutable_midstep("Body::gravMassScale");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(a!=a)throw"Error: gravMassScale cannot be NaN";this.zpp_inner.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_SCALED;this.zpp_inner.gravMassScale=a;this.zpp_inner.invalidate_gravMassScale();this.zpp_inner.validate_gravMassScale();if(null==this.zpp_inner.shapes.head&&this.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&
this.zpp_inner.gravMassMode!=c.util.ZPP_Flags.id_GravMassMode_SCALED)throw"Error: Given current mass/gravMass modes; Body::gravMassScale only makes sense if it contains Shapes";return this.zpp_inner.gravMassScale},get_inertiaMode:function(){null==c.util.ZPP_Flags.InertiaMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_DEFAULT=new f.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);var a=c.util.ZPP_Flags.InertiaMode_DEFAULT;null==c.util.ZPP_Flags.InertiaMode_FIXED&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.InertiaMode_FIXED=new f.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);return[a,c.util.ZPP_Flags.InertiaMode_FIXED][this.zpp_inner.inertiaMode]},set_inertiaMode:function(a){this.zpp_inner.immutable_midstep("Body::inertiaMode");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(null==a)throw"Error: Cannot use null InertiaMode";null==c.util.ZPP_Flags.InertiaMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_FIXED=new f.phys.InertiaMode,c.util.ZPP_Flags.internal=
!1);a==c.util.ZPP_Flags.InertiaMode_FIXED?this.zpp_inner.inertiaMode=c.util.ZPP_Flags.id_InertiaMode_FIXED:this.zpp_inner.inertiaMode=c.util.ZPP_Flags.id_InertiaMode_DEFAULT;this.zpp_inner.invalidate_inertia();null==c.util.ZPP_Flags.InertiaMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_DEFAULT=new f.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);a=c.util.ZPP_Flags.InertiaMode_DEFAULT;null==c.util.ZPP_Flags.InertiaMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_FIXED=
new f.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);return[a,c.util.ZPP_Flags.InertiaMode_FIXED][this.zpp_inner.inertiaMode]},get_constraintInertia:function(){this.zpp_inner.world||this.zpp_inner.validate_inertia();return this.zpp_inner.sinertia},get_inertia:function(){if(this.zpp_inner.world)throw"Error: Space::world has no inertia";this.zpp_inner.validate_inertia();if(this.zpp_inner.inertiaMode==c.util.ZPP_Flags.id_InertiaMode_DEFAULT&&this.zpp_inner.wrap_shapes.empty())throw"Error: Given current inertia mode flag, Body::inertia only makes sense if Body contains Shapes";
return this.zpp_inner.cinertia},set_inertia:function(a){this.zpp_inner.immutable_midstep("Body::inertia");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(a!=a)throw"Error: Inertia cannot be NaN";if(0>=a)throw"Error: Inertia must be strictly positive";if(a>=Math.POSITIVE_INFINITY)throw"Error: Inertia cannot be infinite, use allowRotation = false instead";this.zpp_inner.inertiaMode=c.util.ZPP_Flags.id_InertiaMode_FIXED;this.zpp_inner.cinertia=a;this.zpp_inner.invalidate_inertia();
if(this.zpp_inner.world)throw"Error: Space::world has no inertia";this.zpp_inner.validate_inertia();if(this.zpp_inner.inertiaMode==c.util.ZPP_Flags.id_InertiaMode_DEFAULT&&this.zpp_inner.wrap_shapes.empty())throw"Error: Given current inertia mode flag, Body::inertia only makes sense if Body contains Shapes";return this.zpp_inner.cinertia},connectedBodies:function(a,b){null==a&&(a=-1);return this.zpp_inner.connectedBodies(a,b)},interactingBodies:function(a,b,d){null==b&&(b=-1);null==a?a=c.dynamics.ZPP_Arbiter.COL|
c.dynamics.ZPP_Arbiter.SENSOR|c.dynamics.ZPP_Arbiter.FLUID:(null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.InteractionType_COLLISION?a=c.dynamics.ZPP_Arbiter.COL:(null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a=
a==c.util.ZPP_Flags.InteractionType_SENSOR?c.dynamics.ZPP_Arbiter.SENSOR:c.dynamics.ZPP_Arbiter.FLUID));return this.zpp_inner.interactingBodies(a,b,d)},crushFactor:function(){if(null==(null==this.zpp_inner.space?null:this.zpp_inner.space.outer))throw"Error: Makes no sense to see how much an object not taking part in a simulation is being crushed";var a=0,b=f.geom.Vec2.get(null,null,null);null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,
!0));for(var d=this.zpp_inner.wrap_arbiters.iterator();d.hasNext();){d.zpp_critical=!1;var k=d.zpp_inner.at(d.zpp_i++).totalImpulse(this),e=k.xy();b.addeq(e);if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a+=Math.sqrt(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();
return e.zpp_inner.x}(this)+function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this));e.dispose();k.dispose()}null==this.zpp_inner.wrap_constraints&&(this.zpp_inner.wrap_constraints=c.util.ZPP_ConstraintList.get(this.zpp_inner.constraints,!0));for(d=this.zpp_inner.wrap_constraints.iterator();d.hasNext();){d.zpp_critical=
!1;var k=d.zpp_inner.at(d.zpp_i++).bodyImpulse(this),g=k.xy();b.addeq(g);if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a+=Math.sqrt(function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.x}(this)*function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.x}(this)+function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
g.zpp_inner.validate();return g.zpp_inner.y}(this)*function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.y}(this));g.dispose();k.dispose()}a-=function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(a)*function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.x}(a)+function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(a)*function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(a))}(this);if(this.zpp_inner.world)throw"Error: Space::world has no mass";this.zpp_inner.validate_mass();if(this.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==
this.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";a/=this.zpp_inner.cmass*(null==this.zpp_inner.space?null:this.zpp_inner.space.outer).zpp_inner.pre_dt;b.dispose();return a},localPointToWorld:function(a,b){null==b&&(b=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot transform null Vec2";this.zpp_inner.validate_axis();var d=0,c=0,d=this.zpp_inner.axisy;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();d*=a.zpp_inner.x;c=this.zpp_inner.axisx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d-=c*a.zpp_inner.y;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c=a.zpp_inner.x*this.zpp_inner.axisx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c+=a.zpp_inner.y*this.zpp_inner.axisy;a.zpp_inner.weak?(a.dispose(),!0):!1;
return f.geom.Vec2.get(d+this.zpp_inner.posx,c+this.zpp_inner.posy,b)},worldPointToLocal:function(a,b){null==b&&(b=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot transform null Vec2";this.zpp_inner.validate_axis();var d=0,c=0,e=c=0;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c=a.zpp_inner.x-this.zpp_inner.posx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();e=a.zpp_inner.y-this.zpp_inner.posy;d=c*this.zpp_inner.axisy+e*this.zpp_inner.axisx;c=e*this.zpp_inner.axisy-c*this.zpp_inner.axisx;a.zpp_inner.weak?(a.dispose(),!0):!1;return f.geom.Vec2.get(d,c,b)},localVectorToWorld:function(a,b){null==b&&(b=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot transform null Vec2";this.zpp_inner.validate_axis();var d=0,c=0,d=this.zpp_inner.axisy;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();d*=a.zpp_inner.x;c=this.zpp_inner.axisx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d-=c*a.zpp_inner.y;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c=a.zpp_inner.x*this.zpp_inner.axisx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c+=a.zpp_inner.y*this.zpp_inner.axisy;a.zpp_inner.weak?(a.dispose(),!0):!1;
return f.geom.Vec2.get(d,c,b)},worldVectorToLocal:function(a,b){null==b&&(b=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot transform null Vec2";this.zpp_inner.validate_axis();var d=0,c=0;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d=a.zpp_inner.x*this.zpp_inner.axisy;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d+=
a.zpp_inner.y*this.zpp_inner.axisx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c=a.zpp_inner.y*this.zpp_inner.axisy;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c-=a.zpp_inner.x*this.zpp_inner.axisx;a.zpp_inner.weak?(a.dispose(),!0):!1;return f.geom.Vec2.get(d,c,b)},applyImpulse:function(a,b,d){null==d&&(d=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(null==a)throw"Error: Cannot apply null impulse to Body";var k;if(k=d){if(null==this.zpp_inner.space)throw"Error: isSleeping makes no sense if the object is not contained within a Space";k=this.zpp_inner.component.sleeping}if(k)return a.zpp_inner.weak?(a.dispose(),!0):!1,null!=b&&(b.zpp_inner.weak?(b.dispose(),!0):!1),this;this.zpp_inner.validate_mass();
k=this.zpp_inner.imass;var e=this.zpp_inner,g=this.zpp_inner.velx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();e.velx=g+a.zpp_inner.x*k;e=this.zpp_inner;g=this.zpp_inner.vely;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();e.vely=g+a.zpp_inner.y*k;if(null!=b){var p=0;k=0;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();p=b.zpp_inner.x-
this.zpp_inner.posx;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();k=b.zpp_inner.y-this.zpp_inner.posy;this.zpp_inner.validate_inertia();e=this.zpp_inner;g=this.zpp_inner.angvel;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();p*=a.zpp_inner.y;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();e.angvel=g+(p-a.zpp_inner.x*k)*this.zpp_inner.iinertia;
b.zpp_inner.weak?(b.dispose(),!0):!1}d||this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.zpp_inner.wake();a.zpp_inner.weak?(a.dispose(),!0):!1;return this},applyAngularImpulse:function(a,b){null==b&&(b=!1);if(this.zpp_inner.world)throw"Error: Space::world is immutable";var d;if(d=b){if(null==this.zpp_inner.space)throw"Error: isSleeping makes no sense if the object is not contained within a Space";d=this.zpp_inner.component.sleeping}if(d)return this;this.zpp_inner.validate_inertia();
this.zpp_inner.angvel+=a*this.zpp_inner.iinertia;b||this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.zpp_inner.wake();return this},translateShapes:function(a){this.zpp_inner.immutable_midstep("Body::translateShapes()");if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(null==a)throw"Error: Cannot displace by null Vec2";var b=a.zpp_inner.weak;a.zpp_inner.weak=!1;for(var d=this.zpp_inner.shapes.head;null!=
d;)d.elt.outer.translate(a),d=d.next;a.zpp_inner.weak=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},rotateShapes:function(a){this.zpp_inner.immutable_midstep("Body::rotateShapes()");if(this.zpp_inner.world)throw"Error: Space::world is immutable";for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.rotate(a),b=b.next;return this},scaleShapes:function(a,b){this.zpp_inner.immutable_midstep("Body::scaleShapes()");if(this.zpp_inner.world)throw"Error: Space::world is immutable";for(var d=this.zpp_inner.shapes.head;null!=
d;)d.elt.outer.scale(a,b),d=d.next;return this},transformShapes:function(a){this.zpp_inner.immutable_midstep("Body::transformShapes()");if(this.zpp_inner.world)throw"Error: Space::world is immutable";for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.transform(a),b=b.next;return this},align:function(){this.zpp_inner.immutable_midstep("Body::align()");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(null==this.zpp_inner.shapes.head)throw"Error: Cannot align empty Body";this.zpp_inner.validate_localCOM();
var a=f.geom.Vec2.get(-this.zpp_inner.localCOMx,-this.zpp_inner.localCOMy,null);this.translateShapes(a);var b=this.localVectorToWorld(a);null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();this.zpp_inner.wrap_pos.subeq(b);if(this.zpp_inner.pre_posx<Math.POSITIVE_INFINITY){var d=this.zpp_inner,c=this.zpp_inner.pre_posx;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();d.pre_posx=c-1*b.zpp_inner.x;d=this.zpp_inner;c=this.zpp_inner.pre_posy;
if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();d.pre_posy=c-1*b.zpp_inner.y}a.dispose();b.dispose();return this},rotate:function(a,b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot rotate about a null Vec2";if(b!=b)throw"Error: Cannot rotate by NaN radians";var d=a.zpp_inner.weak;a.zpp_inner.weak=!1;null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();var c=this.zpp_inner.wrap_pos.sub(a);
c.rotate(b);this.set_position(a.add(c,!0));c.dispose();this.set_rotation(this.zpp_inner.rot+b);a.zpp_inner.weak=d;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},setShapeMaterials:function(a){this.zpp_inner.immutable_midstep("Body::setShapeMaterials()");if(this.zpp_inner.world)throw"Error: Space::world is immutable";for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.set_material(a),b=b.next;return this},setShapeFilters:function(a){this.zpp_inner.immutable_midstep("Body::setShapeFilters()");
if(this.zpp_inner.world)throw"Error: Space::world is immutable";for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.set_filter(a),b=b.next;return this},setShapeFluidProperties:function(a){this.zpp_inner.immutable_midstep("Body::setShapeFluidProperties()");if(this.zpp_inner.world)throw"Error: Space::world is immutable";for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.set_fluidProperties(a),b=b.next;return this},get_localCOM:function(){if(this.zpp_inner.world)throw"Error: Space::world has no localCOM";
null==this.zpp_inner.wrap_localCOM&&(this.zpp_inner.wrap_localCOM=f.geom.Vec2.get(this.zpp_inner.localCOMx,this.zpp_inner.localCOMy,null),this.zpp_inner.wrap_localCOM.zpp_inner._inuse=!0,this.zpp_inner.wrap_localCOM.zpp_inner._immutable=!0,this.zpp_inner.wrap_localCOM.zpp_inner._validate=(ga=this.zpp_inner,u(ga,ga.getlocalCOM)));return this.zpp_inner.wrap_localCOM},get_worldCOM:function(){if(this.zpp_inner.world)throw"Error: Space::world has no worldCOM";null==this.zpp_inner.wrap_worldCOM&&(this.zpp_inner.wrap_worldCOM=
f.geom.Vec2.get(this.zpp_inner.worldCOMx,this.zpp_inner.worldCOMy,null),this.zpp_inner.wrap_worldCOM.zpp_inner._inuse=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._immutable=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._validate=(ga=this.zpp_inner,u(ga,ga.getworldCOM)));return this.zpp_inner.wrap_worldCOM},normalImpulse:function(a,b){null==b&&(b=!1);var d=0,k=0,e=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var g=this.zpp_inner.wrap_arbiters.iterator();g.hasNext();){g.zpp_critical=
!1;var p=g.zpp_inner.at(g.zpp_i++).zpp_inner;if(p.type==c.dynamics.ZPP_Arbiter.COL&&(null==a||p.b2==a.zpp_inner||p.b1==a.zpp_inner)){p=p.wrapper().get_collisionArbiter().normalImpulse(this,b);if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();d+=1*p.zpp_inner.x;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();k+=1*p.zpp_inner.y;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
p.zpp_inner.validate();e+=1*p.zpp_inner.z;p.dispose()}}return f.geom.Vec3.get(d,k,e)},tangentImpulse:function(a,b){null==b&&(b=!1);var d=0,k=0,e=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var g=this.zpp_inner.wrap_arbiters.iterator();g.hasNext();){g.zpp_critical=!1;var p=g.zpp_inner.at(g.zpp_i++).zpp_inner;if(p.type==c.dynamics.ZPP_Arbiter.COL&&(null==a||p.b2==a.zpp_inner||p.b1==a.zpp_inner)){p=p.wrapper().get_collisionArbiter().tangentImpulse(this,
b);if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();d+=1*p.zpp_inner.x;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();k+=1*p.zpp_inner.y;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();e+=1*p.zpp_inner.z;p.dispose()}}return f.geom.Vec3.get(d,k,e)},totalContactsImpulse:function(a,b){null==b&&(b=!1);var d=0,k=0,e=0;null==this.zpp_inner.wrap_arbiters&&
(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var g=this.zpp_inner.wrap_arbiters.iterator();g.hasNext();){g.zpp_critical=!1;var p=g.zpp_inner.at(g.zpp_i++).zpp_inner;if(p.type==c.dynamics.ZPP_Arbiter.COL&&(null==a||p.b2==a.zpp_inner||p.b1==a.zpp_inner)){p=p.wrapper().get_collisionArbiter().totalImpulse(this,b);if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();d+=1*p.zpp_inner.x;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
p.zpp_inner.validate();k+=1*p.zpp_inner.y;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();e+=1*p.zpp_inner.z;p.dispose()}}return f.geom.Vec3.get(d,k,e)},rollingImpulse:function(a,b){null==b&&(b=!1);var d=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var k=this.zpp_inner.wrap_arbiters.iterator();k.hasNext();){k.zpp_critical=!1;var e=k.zpp_inner.at(k.zpp_i++).zpp_inner;
e.type!=c.dynamics.ZPP_Arbiter.COL||null!=a&&e.b2!=a.zpp_inner&&e.b1!=a.zpp_inner||(d+=e.wrapper().get_collisionArbiter().rollingImpulse(this,b))}return d},buoyancyImpulse:function(a){var b=0,d=0,k=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var e=this.zpp_inner.wrap_arbiters.iterator();e.hasNext();){e.zpp_critical=!1;var g=e.zpp_inner.at(e.zpp_i++).zpp_inner;if(g.type==c.dynamics.ZPP_Arbiter.FLUID&&(null==a||g.b2==
a.zpp_inner||g.b1==a.zpp_inner)){g=g.wrapper().get_fluidArbiter().buoyancyImpulse(this);if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();b+=1*g.zpp_inner.x;if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();d+=1*g.zpp_inner.y;if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();k+=1*g.zpp_inner.z;g.dispose()}}return f.geom.Vec3.get(b,d,k)},dragImpulse:function(a){var b=
0,d=0,k=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var e=this.zpp_inner.wrap_arbiters.iterator();e.hasNext();){e.zpp_critical=!1;var g=e.zpp_inner.at(e.zpp_i++).zpp_inner;if(g.type==c.dynamics.ZPP_Arbiter.FLUID&&(null==a||g.b2==a.zpp_inner||g.b1==a.zpp_inner)){g=g.wrapper().get_fluidArbiter().dragImpulse(this);if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();b+=
1*g.zpp_inner.x;if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();d+=1*g.zpp_inner.y;if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();k+=1*g.zpp_inner.z;g.dispose()}}return f.geom.Vec3.get(b,d,k)},totalFluidImpulse:function(a){var b=0,d=0,k=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var e=this.zpp_inner.wrap_arbiters.iterator();e.hasNext();){e.zpp_critical=
!1;var g=e.zpp_inner.at(e.zpp_i++).zpp_inner;if(g.type==c.dynamics.ZPP_Arbiter.FLUID&&(null==a||g.b2==a.zpp_inner||g.b1==a.zpp_inner)){g=g.wrapper().get_fluidArbiter().totalImpulse(this);if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();b+=1*g.zpp_inner.x;if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";g.zpp_inner.validate();d+=1*g.zpp_inner.y;if(null!=g&&g.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
g.zpp_inner.validate();k+=1*g.zpp_inner.z;g.dispose()}}return f.geom.Vec3.get(b,d,k)},constraintsImpulse:function(){for(var a=0,b=0,d=0,c=this.zpp_inner.constraints.head;null!=c;){var e=c.elt.outer.bodyImpulse(this);if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";e.zpp_inner.validate();a+=1*e.zpp_inner.x;if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";e.zpp_inner.validate();b+=1*e.zpp_inner.y;if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
e.zpp_inner.validate();d+=1*e.zpp_inner.z;e.dispose();c=c.next}return f.geom.Vec3.get(a,b,d)},totalImpulse:function(a,b){null==b&&(b=!1);var d=0,k=0,e=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var g=this.zpp_inner.wrap_arbiters.iterator();g.hasNext();){g.zpp_critical=!1;var p=g.zpp_inner.at(g.zpp_i++).zpp_inner;if(p.type!=c.dynamics.ZPP_Arbiter.SENSOR&&(null==a||p.b2==a.zpp_inner||p.b1==a.zpp_inner)){p=p.wrapper().totalImpulse(this,
b);if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();d+=1*p.zpp_inner.x;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();k+=1*p.zpp_inner.y;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();e+=1*p.zpp_inner.z;p.dispose()}}for(g=this.zpp_inner.constraints.head;null!=g;){p=g.elt;if(p.active){p=p.outer.bodyImpulse(this);if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
p.zpp_inner.validate();d+=1*p.zpp_inner.x;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();k+=1*p.zpp_inner.y;if(null!=p&&p.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";p.zpp_inner.validate();e+=1*p.zpp_inner.z;p.dispose()}g=g.next}return f.geom.Vec3.get(d,k,e)},contains:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot check containment of null point";
var b=a.zpp_inner.weak;a.zpp_inner.weak=!1;var d;d=!1;for(var c=this.zpp_inner.shapes.head;null!=c;){if(c.elt.outer.contains(a)){d=!0;break}c=c.next}a.zpp_inner.weak=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return d},toString:function(){return(this.zpp_inner.world?"(space::world":"("+(this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC?"dynamic":this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC?"static":"kinematic"))+")#"+this.zpp_inner_i.id},__class__:f.phys.Body,__properties__:F(f.phys.Interactor.prototype.__properties__,
{get_worldCOM:"get_worldCOM",get_localCOM:"get_localCOM",set_inertia:"set_inertia",get_inertia:"get_inertia",get_constraintInertia:"get_constraintInertia",set_inertiaMode:"set_inertiaMode",get_inertiaMode:"get_inertiaMode",set_gravMassScale:"set_gravMassScale",get_gravMassScale:"get_gravMassScale",set_gravMass:"set_gravMass",get_gravMass:"get_gravMass",set_gravMassMode:"set_gravMassMode",get_gravMassMode:"get_gravMassMode",set_mass:"set_mass",get_mass:"get_mass",get_constraintMass:"get_constraintMass",
set_massMode:"set_massMode",get_massMode:"get_massMode",set_allowRotation:"set_allowRotation",get_allowRotation:"get_allowRotation",set_allowMovement:"set_allowMovement",get_allowMovement:"get_allowMovement",get_bounds:"get_bounds",set_torque:"set_torque",get_torque:"get_torque",set_kinAngVel:"set_kinAngVel",get_kinAngVel:"get_kinAngVel",set_angularVel:"set_angularVel",get_angularVel:"get_angularVel",set_rotation:"set_rotation",get_rotation:"get_rotation",get_constraintVelocity:"get_constraintVelocity",
set_force:"set_force",get_force:"get_force",set_surfaceVel:"set_surfaceVel",get_surfaceVel:"get_surfaceVel",set_kinematicVel:"set_kinematicVel",get_kinematicVel:"get_kinematicVel",set_velocity:"set_velocity",get_velocity:"get_velocity",set_position:"set_position",get_position:"get_position",get_constraints:"get_constraints",get_isSleeping:"get_isSleeping",get_arbiters:"get_arbiters",set_space:"set_space",get_space:"get_space",set_compound:"set_compound",get_compound:"get_compound",get_shapes:"get_shapes",
set_disableCCD:"set_disableCCD",get_disableCCD:"get_disableCCD",set_isBullet:"set_isBullet",get_isBullet:"get_isBullet",set_type:"set_type",get_type:"get_type"})});f.phys.BodyIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_BodyList.internal)throw"Error: Cannot instantiate BodyIterator derp!";};m["nape.phys.BodyIterator"]=f.phys.BodyIterator;f.phys.BodyIterator.__name__=["nape","phys","BodyIterator"];f.phys.BodyIterator.get=function(a){var b;
null==f.phys.BodyIterator.zpp_pool?(c.util.ZPP_BodyList.internal=!0,b=new f.phys.BodyIterator,c.util.ZPP_BodyList.internal=!1):(b=f.phys.BodyIterator.zpp_pool,f.phys.BodyIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.phys.BodyIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.phys.BodyIterator.zpp_pool;
f.phys.BodyIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.phys.BodyIterator};f.phys.BodyList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_BodyList;this.zpp_inner.outer=this};m["nape.phys.BodyList"]=f.phys.BodyList;f.phys.BodyList.__name__=["nape","phys","BodyList"];f.phys.BodyList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.phys.BodyList,
d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};f.phys.BodyList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&
(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: BodyList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):
!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: BodyList is immutable";this.zpp_inner.modify_test();
this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: BodyList is immutable";
this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: BodyList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&
null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();
return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: BodyList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: BodyList is immutable";
if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.phys.BodyIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.phys.BodyList,d;this.zpp_inner.valmod();for(d=f.phys.BodyIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Body is not a copyable type";
}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=f.phys.BodyIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.phys.BodyIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+
"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=f.phys.BodyIterator.get(this);b.hasNext();)try{var d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.phys.BodyIterator.zpp_pool;f.phys.BodyIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},
__class__:f.phys.BodyList,__properties__:{get_length:"get_length"}};f.phys.BodyType=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate BodyType derp!";};m["nape.phys.BodyType"]=f.phys.BodyType;f.phys.BodyType.__name__=["nape","phys","BodyType"];f.phys.BodyType.__properties__={get_KINEMATIC:"get_KINEMATIC",get_DYNAMIC:"get_DYNAMIC",get_STATIC:"get_STATIC"};f.phys.BodyType.get_STATIC=function(){null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=
new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.BodyType_STATIC};f.phys.BodyType.get_DYNAMIC=function(){null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.BodyType_DYNAMIC};f.phys.BodyType.get_KINEMATIC=function(){null==c.util.ZPP_Flags.BodyType_KINEMATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_KINEMATIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=
!1);return c.util.ZPP_Flags.BodyType_KINEMATIC};f.phys.BodyType.prototype={toString:function(){null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.BodyType_STATIC?a="STATIC":(null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.BodyType_DYNAMIC?a=
"DYNAMIC":(null==c.util.ZPP_Flags.BodyType_KINEMATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_KINEMATIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.BodyType_KINEMATIC?"KINEMATIC":""));return a},__class__:f.phys.BodyType};f.phys.Compound=function(){this.zpp_inner=null;f.phys.Interactor.zpp_internalAlloc=!0;f.phys.Interactor.call(this);f.phys.Interactor.zpp_internalAlloc=!1;this.zpp_inner=new c.phys.ZPP_Compound;this.zpp_inner.outer=this;this.zpp_inner.outer_i=
this;this.zpp_inner_i=this.zpp_inner;this.zpp_inner.insert_cbtype(c.callbacks.ZPP_CbType.ANY_COMPOUND.zpp_inner)};m["nape.phys.Compound"]=f.phys.Compound;f.phys.Compound.__name__=["nape","phys","Compound"];f.phys.Compound.__super__=f.phys.Interactor;f.phys.Compound.prototype=F(f.phys.Interactor.prototype,{zpp_inner:null,get_bodies:function(){return this.zpp_inner.wrap_bodies},get_constraints:function(){return this.zpp_inner.wrap_constraints},get_compounds:function(){return this.zpp_inner.wrap_compounds},
get_compound:function(){return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},set_compound:function(a){this.zpp_inner.immutable_midstep("Compound::compound");(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)!=a&&(null!=(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)&&(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer).zpp_inner.wrap_compounds.remove(this),null!=a&&a.zpp_inner.wrap_compounds.add(this));return null==this.zpp_inner.compound?
null:this.zpp_inner.compound.outer},get_space:function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},set_space:function(a){if(null!=this.zpp_inner.compound)throw"Error: Cannot set the space of an inner Compound, only the root Compound space can be set";this.zpp_inner.immutable_midstep("Compound::space");(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=a&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(null==this.zpp_inner.space?null:this.zpp_inner.space.outer).zpp_inner.wrap_compounds.remove(this),
null!=a&&a.zpp_inner.wrap_compounds.add(this));return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},toString:function(){return"Compound"+this.zpp_inner_i.id},copy:function(){return this.zpp_inner.copy()},breakApart:function(){this.zpp_inner.breakApart()},visitBodies:function(a){if(null==a)throw"Error: lambda cannot be null for Compound::visitBodies";for(var b=this.zpp_inner.wrap_bodies.iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}for(b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();)b.zpp_critical=
!1,b.zpp_inner.at(b.zpp_i++).visitBodies(a)},visitConstraints:function(a){if(null==a)throw"Error: lambda cannot be null for Compound::visitConstraints";for(var b=this.zpp_inner.wrap_constraints.iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}for(b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();)b.zpp_critical=!1,b.zpp_inner.at(b.zpp_i++).visitConstraints(a)},visitCompounds:function(a){if(null==a)throw"Error: lambda cannot be null for Compound::visitConstraints";
for(var b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d);d.visitCompounds(a)}},COM:function(a){null==a&&(a=!1);var b=f.geom.Vec2.get(0,0,a),d=0;this.visitBodies(function(a){if(!a.zpp_inner.wrap_shapes.empty()){b.addeq(function(b){if(a.zpp_inner.world)throw"Error: Space::world has no worldCOM";null==a.zpp_inner.wrap_worldCOM&&(a.zpp_inner.wrap_worldCOM=f.geom.Vec2.get(a.zpp_inner.worldCOMx,a.zpp_inner.worldCOMy,null),a.zpp_inner.wrap_worldCOM.zpp_inner._inuse=
!0,a.zpp_inner.wrap_worldCOM.zpp_inner._immutable=!0,a.zpp_inner.wrap_worldCOM.zpp_inner._validate=(ga=a.zpp_inner,u(ga,ga.getworldCOM)));return a.zpp_inner.wrap_worldCOM}(this).mul(function(b){if(a.zpp_inner.world)throw"Error: Space::world has no mass";a.zpp_inner.validate_mass();if(a.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==a.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";return a.zpp_inner.cmass}(this),!0));
if(a.zpp_inner.world)throw"Error: Space::world has no mass";a.zpp_inner.validate_mass();if(a.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==a.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";d+=a.zpp_inner.cmass}});if(0==d)throw"Error: COM of an empty Compound is undefined silly";b.muleq(1/d);return b},translate:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot translate by null Vec2";
var b=a.zpp_inner.weak;a.zpp_inner.weak=!1;this.visitBodies(function(b){null==b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition();b.zpp_inner.wrap_pos.addeq(a)});a.zpp_inner.weak=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},rotate:function(a,b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot rotate about a null Vec2";if(b!=b)throw"Error: Cannot rotate by NaN radians";var d=a.zpp_inner.weak;a.zpp_inner.weak=!1;this.visitBodies(function(d){d.rotate(a,
b)});a.zpp_inner.weak=d;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},__class__:f.phys.Compound,__properties__:F(f.phys.Interactor.prototype.__properties__,{set_space:"set_space",get_space:"get_space",set_compound:"set_compound",get_compound:"get_compound",get_compounds:"get_compounds",get_constraints:"get_constraints",get_bodies:"get_bodies"})});f.phys.CompoundIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_CompoundList.internal)throw"Error: Cannot instantiate CompoundIterator derp!";
};m["nape.phys.CompoundIterator"]=f.phys.CompoundIterator;f.phys.CompoundIterator.__name__=["nape","phys","CompoundIterator"];f.phys.CompoundIterator.get=function(a){var b;null==f.phys.CompoundIterator.zpp_pool?(c.util.ZPP_CompoundList.internal=!0,b=new f.phys.CompoundIterator,c.util.ZPP_CompoundList.internal=!1):(b=f.phys.CompoundIterator.zpp_pool,f.phys.CompoundIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.phys.CompoundIterator.prototype={zpp_inner:null,zpp_i:null,
zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.phys.CompoundIterator.zpp_pool;f.phys.CompoundIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.phys.CompoundIterator};f.phys.CompoundList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_CompoundList;this.zpp_inner.outer=
this};m["nape.phys.CompoundList"]=f.phys.CompoundList;f.phys.CompoundList.__name__=["nape","phys","CompoundList"];f.phys.CompoundList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.phys.CompoundList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};f.phys.CompoundList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);
return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=
this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: CompoundList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=
this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: CompoundList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-
1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: CompoundList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,
b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();
return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: CompoundList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,
d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: CompoundList is immutable";this.zpp_inner.modify_test();
this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: CompoundList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},
empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.phys.CompoundIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.phys.CompoundList,d;this.zpp_inner.valmod();for(d=f.phys.CompoundIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Compound is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();
for(a=f.phys.CompoundIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.phys.CompoundIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();
for(b=f.phys.CompoundIterator.get(this);b.hasNext();)try{var d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.phys.CompoundIterator.zpp_pool;f.phys.CompoundIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.phys.CompoundList,__properties__:{get_length:"get_length"}};
f.phys.FluidProperties=function(a,b){null==b&&(b=1);null==a&&(a=1);this.zpp_inner=null;null==c.phys.ZPP_FluidProperties.zpp_pool?this.zpp_inner=new c.phys.ZPP_FluidProperties:(this.zpp_inner=c.phys.ZPP_FluidProperties.zpp_pool,c.phys.ZPP_FluidProperties.zpp_pool=this.zpp_inner.next,this.zpp_inner.next=null);null;this.zpp_inner.outer=this;if(a!=1E3*this.zpp_inner.density){if(a!=a)throw"Error: FluidProperties::density cannot be NaN";this.zpp_inner.density=a/1E3;this.zpp_inner.invalidate()}1E3*this.zpp_inner.density;
if(b!=this.zpp_inner.viscosity){if(b!=b)throw"Error: FluidProperties::viscosity cannot be NaN";if(0>b)throw"Error: FluidProperties::viscosity ("+b+") must be >= 0";this.zpp_inner.viscosity=b/1;this.zpp_inner.invalidate()}this.zpp_inner.viscosity};m["nape.phys.FluidProperties"]=f.phys.FluidProperties;f.phys.FluidProperties.__name__=["nape","phys","FluidProperties"];f.phys.FluidProperties.prototype={zpp_inner:null,get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},
get_shapes:function(){null==this.zpp_inner.wrap_shapes&&(this.zpp_inner.wrap_shapes=c.util.ZPP_ShapeList.get(this.zpp_inner.shapes,!0));return this.zpp_inner.wrap_shapes},copy:function(){var a=new f.phys.FluidProperties(1E3*this.zpp_inner.density,this.zpp_inner.viscosity);null!=this.zpp_inner.userData&&(a.zpp_inner.userData=J.copy(this.zpp_inner.userData));a.set_gravity(this.zpp_inner.wrap_gravity);return a},get_density:function(){return 1E3*this.zpp_inner.density},set_density:function(a){if(a!=1E3*
this.zpp_inner.density){if(a!=a)throw"Error: FluidProperties::density cannot be NaN";this.zpp_inner.density=a/1E3;this.zpp_inner.invalidate()}return 1E3*this.zpp_inner.density},get_viscosity:function(){return this.zpp_inner.viscosity},set_viscosity:function(a){if(a!=this.zpp_inner.viscosity){if(a!=a)throw"Error: FluidProperties::viscosity cannot be NaN";if(0>a)throw"Error: FluidProperties::viscosity ("+a+") must be >= 0";this.zpp_inner.viscosity=a/1;this.zpp_inner.invalidate()}return this.zpp_inner.viscosity},
get_gravity:function(){return this.zpp_inner.wrap_gravity},set_gravity:function(a){if(null==a)null!=this.zpp_inner.wrap_gravity&&(this.zpp_inner.wrap_gravity.zpp_inner._inuse=!1,this.zpp_inner.wrap_gravity.dispose(),this.zpp_inner.wrap_gravity=null);else{if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity();this.zpp_inner.wrap_gravity.set(a)}return this.zpp_inner.wrap_gravity},toString:function(){return"{ density: "+
1E3*this.zpp_inner.density+" viscosity: "+this.zpp_inner.viscosity+" gravity: "+H.string(this.zpp_inner.wrap_gravity)+" }"},__class__:f.phys.FluidProperties,__properties__:{set_gravity:"set_gravity",get_gravity:"get_gravity",set_viscosity:"set_viscosity",get_viscosity:"get_viscosity",set_density:"set_density",get_density:"get_density",get_shapes:"get_shapes",get_userData:"get_userData"}};f.phys.GravMassMode=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate GravMassMode derp!";
};m["nape.phys.GravMassMode"]=f.phys.GravMassMode;f.phys.GravMassMode.__name__=["nape","phys","GravMassMode"];f.phys.GravMassMode.__properties__={get_SCALED:"get_SCALED",get_FIXED:"get_FIXED",get_DEFAULT:"get_DEFAULT"};f.phys.GravMassMode.get_DEFAULT=function(){null==c.util.ZPP_Flags.GravMassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_DEFAULT=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.GravMassMode_DEFAULT};f.phys.GravMassMode.get_FIXED=
function(){null==c.util.ZPP_Flags.GravMassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_FIXED=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.GravMassMode_FIXED};f.phys.GravMassMode.get_SCALED=function(){null==c.util.ZPP_Flags.GravMassMode_SCALED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_SCALED=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.GravMassMode_SCALED};f.phys.GravMassMode.prototype={toString:function(){null==
c.util.ZPP_Flags.GravMassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_DEFAULT=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.GravMassMode_DEFAULT?a="DEFAULT":(null==c.util.ZPP_Flags.GravMassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_FIXED=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.GravMassMode_FIXED?a="FIXED":(null==c.util.ZPP_Flags.GravMassMode_SCALED&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.GravMassMode_SCALED=new f.phys.GravMassMode,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.GravMassMode_SCALED?"SCALED":""));return a},__class__:f.phys.GravMassMode};f.phys.InertiaMode=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate InertiaMode derp!";};m["nape.phys.InertiaMode"]=f.phys.InertiaMode;f.phys.InertiaMode.__name__=["nape","phys","InertiaMode"];f.phys.InertiaMode.__properties__={get_FIXED:"get_FIXED",get_DEFAULT:"get_DEFAULT"};f.phys.InertiaMode.get_DEFAULT=
function(){null==c.util.ZPP_Flags.InertiaMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_DEFAULT=new f.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.InertiaMode_DEFAULT};f.phys.InertiaMode.get_FIXED=function(){null==c.util.ZPP_Flags.InertiaMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_FIXED=new f.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.InertiaMode_FIXED};f.phys.InertiaMode.prototype={toString:function(){null==
c.util.ZPP_Flags.InertiaMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_DEFAULT=new f.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.InertiaMode_DEFAULT?a="DEFAULT":(null==c.util.ZPP_Flags.InertiaMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_FIXED=new f.phys.InertiaMode,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.InertiaMode_FIXED?"FIXED":"");return a},__class__:f.phys.InertiaMode};f.phys.InteractorIterator=
function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_InteractorList.internal)throw"Error: Cannot instantiate InteractorIterator derp!";};m["nape.phys.InteractorIterator"]=f.phys.InteractorIterator;f.phys.InteractorIterator.__name__=["nape","phys","InteractorIterator"];f.phys.InteractorIterator.get=function(a){var b;null==f.phys.InteractorIterator.zpp_pool?(c.util.ZPP_InteractorList.internal=!0,b=new f.phys.InteractorIterator,c.util.ZPP_InteractorList.internal=
!1):(b=f.phys.InteractorIterator.zpp_pool,f.phys.InteractorIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.phys.InteractorIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.phys.InteractorIterator.zpp_pool;f.phys.InteractorIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=
!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.phys.InteractorIterator};f.phys.InteractorList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_InteractorList;this.zpp_inner.outer=this};m["nape.phys.InteractorList"]=f.phys.InteractorList;f.phys.InteractorList.__name__=["nape","phys","InteractorList"];f.phys.InteractorList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.phys.InteractorList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};
f.phys.InteractorList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner_i)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||
null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer_i},push:function(a){if(this.zpp_inner.immutable)throw"Error: InteractorList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner_i):
(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner_i)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: InteractorList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=
this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner_i)):this.zpp_inner.inner.add(a.zpp_inner_i),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: InteractorList is immutable";
this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer_i;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer_i;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer_i},shift:function(){if(this.zpp_inner.immutable)throw"Error: InteractorList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&
null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer_i;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer_i,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();
return a.outer_i},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: InteractorList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner_i){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner_i),this.zpp_inner.invalidate());return b},
clear:function(){if(this.zpp_inner.immutable)throw"Error: InteractorList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.phys.InteractorIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.phys.InteractorList,d;this.zpp_inner.valmod();for(d=f.phys.InteractorIterator.get(this);d.hasNext();){var c;
d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Interactor is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=f.phys.InteractorIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.phys.InteractorIterator.get(this);d.hasNext();){var c;
d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=f.phys.InteractorIterator.get(this);b.hasNext();)try{var d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.phys.InteractorIterator.zpp_pool;f.phys.InteractorIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==
a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.phys.InteractorList,__properties__:{get_length:"get_length"}};f.phys.MassMode=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate MassMode derp!";};m["nape.phys.MassMode"]=f.phys.MassMode;f.phys.MassMode.__name__=["nape","phys","MassMode"];f.phys.MassMode.__properties__={get_FIXED:"get_FIXED",get_DEFAULT:"get_DEFAULT"};
f.phys.MassMode.get_DEFAULT=function(){null==c.util.ZPP_Flags.MassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_DEFAULT=new f.phys.MassMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.MassMode_DEFAULT};f.phys.MassMode.get_FIXED=function(){null==c.util.ZPP_Flags.MassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_FIXED=new f.phys.MassMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.MassMode_FIXED};f.phys.MassMode.prototype={toString:function(){null==
c.util.ZPP_Flags.MassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_DEFAULT=new f.phys.MassMode,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.MassMode_DEFAULT?a="DEFAULT":(null==c.util.ZPP_Flags.MassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_FIXED=new f.phys.MassMode,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.MassMode_FIXED?"FIXED":"");return a},__class__:f.phys.MassMode};f.phys.Material=function(a,b,d,k,e){null==e&&(e=.001);
null==k&&(k=1);null==d&&(d=2);null==b&&(b=1);null==a&&(a=0);this.zpp_inner=null;null==c.phys.ZPP_Material.zpp_pool?this.zpp_inner=new c.phys.ZPP_Material:(this.zpp_inner=c.phys.ZPP_Material.zpp_pool,c.phys.ZPP_Material.zpp_pool=this.zpp_inner.next,this.zpp_inner.next=null);null;this.zpp_inner.outer=this;if(a!=this.zpp_inner.elasticity){if(a!=a)throw"Error: Material::elasticity cannot be NaN";this.zpp_inner.elasticity=a/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ARBITERS)}this.zpp_inner.elasticity;
if(b!=this.zpp_inner.dynamicFriction){if(b!=b)throw"Error: Material::dynamicFriction cannot be NaN";if(0>b)throw"Error: Material::dynamicFriction cannot be negative";this.zpp_inner.dynamicFriction=b/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ANGDRAG|c.phys.ZPP_Material.ARBITERS)}this.zpp_inner.dynamicFriction;if(d!=this.zpp_inner.staticFriction){if(d!=d)throw"Error: Material::staticFriction cannot be NaN";if(0>d)throw"Error: Material::staticFriction cannot be negative";
this.zpp_inner.staticFriction=d/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ARBITERS)}this.zpp_inner.staticFriction;if(k!=1E3*this.zpp_inner.density){if(k!=k)throw"Error: Material::density cannot be NaN";if(0>k)throw"Error: Material::density must be positive";if(0>k)throw"Error: Material::density cannot be negative";this.zpp_inner.density=k/1E3;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.PROPS)}1E3*this.zpp_inner.density;if(e!=this.zpp_inner.rollingFriction){if(e!=
e)throw"Error: Material::rollingFriction cannot be NaN";if(0>e)throw"Error: Material::rollingFriction cannot be negative";this.zpp_inner.rollingFriction=e/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ARBITERS)}this.zpp_inner.rollingFriction};m["nape.phys.Material"]=f.phys.Material;f.phys.Material.__name__=["nape","phys","Material"];f.phys.Material.wood=function(){return new f.phys.Material(.4,.2,.38,.7,.005)};f.phys.Material.steel=function(){return new f.phys.Material(.2,
.57,.74,7.8,.001)};f.phys.Material.ice=function(){return new f.phys.Material(.3,.03,.1,.9,1E-4)};f.phys.Material.rubber=function(){return new f.phys.Material(.8,1,1.4,1.5,.01)};f.phys.Material.glass=function(){return new f.phys.Material(.4,.4,.94,2.6,.002)};f.phys.Material.sand=function(){return new f.phys.Material(-1,.45,.6,1.6,16)};f.phys.Material.prototype={zpp_inner:null,get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_shapes:function(){null==
this.zpp_inner.wrap_shapes&&(this.zpp_inner.wrap_shapes=c.util.ZPP_ShapeList.get(this.zpp_inner.shapes,!0));return this.zpp_inner.wrap_shapes},copy:function(){var a=new f.phys.Material(this.zpp_inner.elasticity,this.zpp_inner.dynamicFriction,this.zpp_inner.staticFriction,1E3*this.zpp_inner.density,this.zpp_inner.rollingFriction);null!=this.zpp_inner.userData&&(a.zpp_inner.userData=J.copy(this.zpp_inner.userData));return a},get_elasticity:function(){return this.zpp_inner.elasticity},set_elasticity:function(a){if(a!=
this.zpp_inner.elasticity){if(a!=a)throw"Error: Material::elasticity cannot be NaN";this.zpp_inner.elasticity=a/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ARBITERS)}return this.zpp_inner.elasticity},get_dynamicFriction:function(){return this.zpp_inner.dynamicFriction},set_dynamicFriction:function(a){if(a!=this.zpp_inner.dynamicFriction){if(a!=a)throw"Error: Material::dynamicFriction cannot be NaN";if(0>a)throw"Error: Material::dynamicFriction cannot be negative";this.zpp_inner.dynamicFriction=
a/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ANGDRAG|c.phys.ZPP_Material.ARBITERS)}return this.zpp_inner.dynamicFriction},get_staticFriction:function(){return this.zpp_inner.staticFriction},set_staticFriction:function(a){if(a!=this.zpp_inner.staticFriction){if(a!=a)throw"Error: Material::staticFriction cannot be NaN";if(0>a)throw"Error: Material::staticFriction cannot be negative";this.zpp_inner.staticFriction=a/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ARBITERS)}return this.zpp_inner.staticFriction},
get_density:function(){return 1E3*this.zpp_inner.density},set_density:function(a){if(a!=1E3*this.zpp_inner.density){if(a!=a)throw"Error: Material::density cannot be NaN";if(0>a)throw"Error: Material::density must be positive";if(0>a)throw"Error: Material::density cannot be negative";this.zpp_inner.density=a/1E3;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.PROPS)}return 1E3*this.zpp_inner.density},get_rollingFriction:function(){return this.zpp_inner.rollingFriction},set_rollingFriction:function(a){if(a!=
this.zpp_inner.rollingFriction){if(a!=a)throw"Error: Material::rollingFriction cannot be NaN";if(0>a)throw"Error: Material::rollingFriction cannot be negative";this.zpp_inner.rollingFriction=a/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ARBITERS)}return this.zpp_inner.rollingFriction},toString:function(){return"{ elasticity: "+this.zpp_inner.elasticity+" dynamicFriction: "+this.zpp_inner.dynamicFriction+" staticFriction: "+this.zpp_inner.staticFriction+" density: "+1E3*
this.zpp_inner.density+" rollingFriction: "+this.zpp_inner.rollingFriction+" }"},__class__:f.phys.Material,__properties__:{set_rollingFriction:"set_rollingFriction",get_rollingFriction:"get_rollingFriction",set_density:"set_density",get_density:"get_density",set_staticFriction:"set_staticFriction",get_staticFriction:"get_staticFriction",set_dynamicFriction:"set_dynamicFriction",get_dynamicFriction:"get_dynamicFriction",set_elasticity:"set_elasticity",get_elasticity:"get_elasticity",get_shapes:"get_shapes",
get_userData:"get_userData"}};f.shape={};f.shape.Shape=function(){this.zpp_inner=null;f.phys.Interactor.zpp_internalAlloc=!0;f.phys.Interactor.call(this);f.phys.Interactor.zpp_internalAlloc=!1;if(!f.shape.Shape.zpp_internalAlloc)throw"Error: Shape cannot be instantiated derp!";};m["nape.shape.Shape"]=f.shape.Shape;f.shape.Shape.__name__=["nape","shape","Shape"];f.shape.Shape.__super__=f.phys.Interactor;f.shape.Shape.prototype=F(f.phys.Interactor.prototype,{zpp_inner:null,get_type:function(){return c.shape.ZPP_Shape.types[this.zpp_inner.type]},
isCircle:function(){return this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE},isPolygon:function(){return this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_POLYGON},get_body:function(){return null!=this.zpp_inner.body?this.zpp_inner.body.outer:null},set_body:function(a){this.zpp_inner.immutable_midstep("Shape::body");(null!=this.zpp_inner.body?this.zpp_inner.body.outer:null)!=a&&(null!=this.zpp_inner.body&&(null!=this.zpp_inner.body?this.zpp_inner.body.outer:null).zpp_inner.wrap_shapes.remove(this),
null!=a&&a.zpp_inner.wrap_shapes.add(this));return null!=this.zpp_inner.body?this.zpp_inner.body.outer:null},get_castCircle:function(){return this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.outer_zn:null},get_castPolygon:function(){return this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_POLYGON?this.zpp_inner.polygon.outer_zn:null},get_worldCOM:function(){null==this.zpp_inner.wrap_worldCOM&&(this.zpp_inner.wrap_worldCOM=f.geom.Vec2.get(this.zpp_inner.worldCOMx,this.zpp_inner.worldCOMy,
null),this.zpp_inner.wrap_worldCOM.zpp_inner._inuse=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._immutable=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._validate=(ga=this.zpp_inner,u(ga,ga.getworldCOM)));return this.zpp_inner.wrap_worldCOM},get_localCOM:function(){null==this.zpp_inner.wrap_localCOM&&(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.setupLocalCOM():this.zpp_inner.polygon.setupLocalCOM());return this.zpp_inner.wrap_localCOM},set_localCOM:function(a){this.zpp_inner.immutable_midstep("Body::localCOM");
if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=this.zpp_inner.body&&null!=this.zpp_inner.body.space&&this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: Cannot modify Shape belonging to a static Object once inside a Space";if(null==a)throw"Error: Shape::localCOM cannot be null";null==this.zpp_inner.wrap_localCOM&&(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.setupLocalCOM():this.zpp_inner.polygon.setupLocalCOM());
this.zpp_inner.wrap_localCOM.set(a);null==this.zpp_inner.wrap_localCOM&&(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.setupLocalCOM():this.zpp_inner.polygon.setupLocalCOM());return this.zpp_inner.wrap_localCOM},get_area:function(){this.zpp_inner.validate_area_inertia();return this.zpp_inner.area},get_inertia:function(){this.zpp_inner.validate_area_inertia();return this.zpp_inner.inertia},get_angDrag:function(){this.zpp_inner.validate_angDrag();return this.zpp_inner.angDrag},
get_material:function(){return this.zpp_inner.material.wrapper()},set_material:function(a){this.zpp_inner.immutable_midstep("Shape::material");if(null==a)throw"Error: Cannot assign null as Shape material";this.zpp_inner.setMaterial(a.zpp_inner);return this.zpp_inner.material.wrapper()},get_filter:function(){return this.zpp_inner.filter.wrapper()},set_filter:function(a){this.zpp_inner.immutable_midstep("Shape::filter");if(null==a)throw"Error: Cannot assign null as Shape filter";this.zpp_inner.setFilter(a.zpp_inner);
return this.zpp_inner.filter.wrapper()},get_fluidProperties:function(){this.zpp_inner.immutable_midstep("Shape::fluidProperties");null==this.zpp_inner.fluidProperties&&this.zpp_inner.setFluid((new f.phys.FluidProperties).zpp_inner);return this.zpp_inner.fluidProperties.wrapper()},set_fluidProperties:function(a){if(null==a)throw"Error: Cannot assign null as Shape fluidProperties, disable fluids by setting fluidEnabled to false";this.zpp_inner.setFluid(a.zpp_inner);this.zpp_inner.immutable_midstep("Shape::fluidProperties");
null==this.zpp_inner.fluidProperties&&this.zpp_inner.setFluid((new f.phys.FluidProperties).zpp_inner);return this.zpp_inner.fluidProperties.wrapper()},get_fluidEnabled:function(){return this.zpp_inner.fluidEnabled},set_fluidEnabled:function(a){this.zpp_inner.immutable_midstep("Shape::fluidEnabled");(this.zpp_inner.fluidEnabled=a)&&null==this.zpp_inner.fluidProperties&&this.set_fluidProperties(new f.phys.FluidProperties);this.zpp_inner.wake();return this.zpp_inner.fluidEnabled},get_sensorEnabled:function(){return this.zpp_inner.sensorEnabled},
set_sensorEnabled:function(a){this.zpp_inner.immutable_midstep("Shape::sensorEnabled");this.zpp_inner.sensorEnabled=a;this.zpp_inner.wake();return this.zpp_inner.sensorEnabled},get_bounds:function(){return this.zpp_inner.aabb.wrapper()},translate:function(a){this.zpp_inner.immutable_midstep("Shape::translate()");if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=this.zpp_inner.body&&null!=this.zpp_inner.body.space&&this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: Cannot modify Shape belonging to a static Object once inside a Space";
if(null==a)throw"Error: Cannot displace Shape by null Vec2";0<a.lsq()&&(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.__translate(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)):this.zpp_inner.polygon.__translate(function(b){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)));a.zpp_inner.weak?(a.dispose(),!0):!1;return this},scale:function(a,b){this.zpp_inner.immutable_midstep("Shape::scale()");if(null!=this.zpp_inner.body&&null!=this.zpp_inner.body.space&&this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: Cannot modify Shape belonging to a static Object once inside a Space";
if(a!=a||b!=b)throw"Error: Cannot scale Shape by NaN";if(0==a||0==b)throw"Error: Cannot Scale shape by a factor of 0";if(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){var d=a*a-b*b;if(d*d<f.Config.epsilon*f.Config.epsilon)this.zpp_inner.circle.__scale(a,b);else throw"Error: Cannot perform a non equal scaling on a Circle";}else this.zpp_inner.polygon.__scale(a,b);return this},rotate:function(a){this.zpp_inner.immutable_midstep("Shape::rotate()");if(null!=this.zpp_inner.body&&null!=this.zpp_inner.body.space&&
this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: Cannot modify Shape belonging to a static Object once inside a Space";if(a!=a)throw"Error: Cannot rotate Shape by NaN";if(0!=a%(2*Math.PI)){var b=Math.cos(a);a=Math.sin(a);this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.__rotate(a,b):this.zpp_inner.polygon.__rotate(a,b)}return this},transform:function(a){this.zpp_inner.immutable_midstep("Shape::transform()");if(null!=this.zpp_inner.body&&null!=
this.zpp_inner.body.space&&this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: Cannot modify Shape belonging to a static Object once inside a Space";if(null==a)throw"Error: Cannot transform Shape by null matrix";if(a.singular())throw"Error: Cannot transform Shape by a singular matrix";if(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE)if(a.equiorthogonal())this.zpp_inner.circle.__transform(a);else throw"Error: Cannot transform Circle by a non equiorthogonal matrix";
else this.zpp_inner.polygon.__transform(a);return this},contains:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Cannot check null point for containment";if(null==(null!=this.zpp_inner.body?this.zpp_inner.body.outer:null))throw"Error: Shape is not well defined without a Body";c.geom.ZPP_Geom.validateShape(this.zpp_inner);a.zpp_inner.validate();var b=c.geom.ZPP_Collide.shapeContains(this.zpp_inner,a.zpp_inner);a.zpp_inner.weak?(a.dispose(),
!0):!1;return b},copy:function(){return this.zpp_inner.copy()},toString:function(){return(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?"Circle":"Polygon")+"#"+this.zpp_inner_i.id},__class__:f.shape.Shape,__properties__:F(f.phys.Interactor.prototype.__properties__,{get_bounds:"get_bounds",set_sensorEnabled:"set_sensorEnabled",get_sensorEnabled:"get_sensorEnabled",set_fluidEnabled:"set_fluidEnabled",get_fluidEnabled:"get_fluidEnabled",set_fluidProperties:"set_fluidProperties",get_fluidProperties:"get_fluidProperties",
set_filter:"set_filter",get_filter:"get_filter",set_material:"set_material",get_material:"get_material",get_angDrag:"get_angDrag",get_inertia:"get_inertia",get_area:"get_area",set_localCOM:"set_localCOM",get_localCOM:"get_localCOM",get_worldCOM:"get_worldCOM",get_castPolygon:"get_castPolygon",get_castCircle:"get_castCircle",set_body:"set_body",get_body:"get_body",get_type:"get_type"})});f.shape.Circle=function(a,b,d,k){this.zpp_inner_zn=null;f.shape.Shape.zpp_internalAlloc=!0;f.shape.Shape.call(this);
f.shape.Shape.zpp_internalAlloc=!1;this.zpp_inner_zn=new c.shape.ZPP_Circle;this.zpp_inner_zn.outer=this;this.zpp_inner_zn.outer_zn=this;this.zpp_inner_i=this.zpp_inner=this.zpp_inner_zn;this.zpp_inner_i.outer_i=this;this.zpp_inner.immutable_midstep("Circle::radius");if(null!=this.zpp_inner.body&&this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.zpp_inner.body.space)throw"Error: Cannot modifiy radius of Circle contained in static object once added to space";if(a!=this.zpp_inner_zn.radius){if(a!=
a)throw"Error: Circle::radius cannot be NaN";if(a<f.Config.epsilon)throw"Error: Circle::radius ("+a+") must be > Config.epsilon";if(1E100<a)throw"Error: Circle::radius ("+a+") must be < PR(Const).FMAX";this.zpp_inner_zn.radius=a;this.zpp_inner_zn.invalidate_radius()}this.zpp_inner_zn.radius;if(null==b)this.zpp_inner.localCOMx=0,this.zpp_inner.localCOMy=0;else{if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();this.zpp_inner.localCOMx=b.zpp_inner.x;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();this.zpp_inner.localCOMy=b.zpp_inner.y;b.zpp_inner.weak?(b.dispose(),!0):!1}if(null==d)null==c.phys.ZPP_Material.zpp_pool?this.zpp_inner.material=new c.phys.ZPP_Material:(this.zpp_inner.material=c.phys.ZPP_Material.zpp_pool,c.phys.ZPP_Material.zpp_pool=this.zpp_inner.material.next,this.zpp_inner.material.next=null),null;else{this.zpp_inner.immutable_midstep("Shape::material");
if(null==d)throw"Error: Cannot assign null as Shape material";this.zpp_inner.setMaterial(d.zpp_inner);this.zpp_inner.material.wrapper()}if(null==k)null==c.dynamics.ZPP_InteractionFilter.zpp_pool?this.zpp_inner.filter=new c.dynamics.ZPP_InteractionFilter:(this.zpp_inner.filter=c.dynamics.ZPP_InteractionFilter.zpp_pool,c.dynamics.ZPP_InteractionFilter.zpp_pool=this.zpp_inner.filter.next,this.zpp_inner.filter.next=null),null;else{this.zpp_inner.immutable_midstep("Shape::filter");if(null==k)throw"Error: Cannot assign null as Shape filter";
this.zpp_inner.setFilter(k.zpp_inner);this.zpp_inner.filter.wrapper()}this.zpp_inner_i.insert_cbtype(c.callbacks.ZPP_CbType.ANY_SHAPE.zpp_inner)};m["nape.shape.Circle"]=f.shape.Circle;f.shape.Circle.__name__=["nape","shape","Circle"];f.shape.Circle.__super__=f.shape.Shape;f.shape.Circle.prototype=F(f.shape.Shape.prototype,{zpp_inner_zn:null,get_radius:function(){return this.zpp_inner_zn.radius},set_radius:function(a){this.zpp_inner.immutable_midstep("Circle::radius");if(null!=this.zpp_inner.body&&
this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.zpp_inner.body.space)throw"Error: Cannot modifiy radius of Circle contained in static object once added to space";if(a!=this.zpp_inner_zn.radius){if(a!=a)throw"Error: Circle::radius cannot be NaN";if(a<f.Config.epsilon)throw"Error: Circle::radius ("+a+") must be > Config.epsilon";if(1E100<a)throw"Error: Circle::radius ("+a+") must be < PR(Const).FMAX";this.zpp_inner_zn.radius=a;this.zpp_inner_zn.invalidate_radius()}return this.zpp_inner_zn.radius},
__class__:f.shape.Circle,__properties__:F(f.shape.Shape.prototype.__properties__,{set_radius:"set_radius",get_radius:"get_radius"})});f.shape.Edge=function(){this.zpp_inner=null;if(!c.shape.ZPP_Edge.internal)throw"Error: Cannot instantiate an Edge derp!";};m["nape.shape.Edge"]=f.shape.Edge;f.shape.Edge.__name__=["nape","shape","Edge"];f.shape.Edge.prototype={zpp_inner:null,get_polygon:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";return this.zpp_inner.polygon.outer_zn},
get_localNormal:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";null==this.zpp_inner.wrap_lnorm&&this.zpp_inner.getlnorm();return this.zpp_inner.wrap_lnorm},get_worldNormal:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";null==this.zpp_inner.wrap_gnorm&&this.zpp_inner.getgnorm();return this.zpp_inner.wrap_gnorm},get_length:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";this.zpp_inner.polygon.validate_laxi();
return this.zpp_inner.length},get_localProjection:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";this.zpp_inner.polygon.validate_laxi();return this.zpp_inner.lprojection},get_worldProjection:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";if(null==this.zpp_inner.polygon.body)throw"Error: Edge world projection only makes sense for Polygons contained within a rigid body";this.zpp_inner.polygon.validate_gaxi();return this.zpp_inner.gprojection},
get_localVertex1:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";this.zpp_inner.polygon.validate_laxi();return this.zpp_inner.lp0.wrapper()},get_localVertex2:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";this.zpp_inner.polygon.validate_laxi();return this.zpp_inner.lp1.wrapper()},get_worldVertex1:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";this.zpp_inner.polygon.validate_gaxi();return this.zpp_inner.gp0.wrapper()},
get_worldVertex2:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";this.zpp_inner.polygon.validate_gaxi();return this.zpp_inner.gp1.wrapper()},toString:function(){if(null==this.zpp_inner.polygon)return"Edge(object-pooled)";if(null==this.zpp_inner.polygon.body)return this.zpp_inner.polygon.validate_laxi(),"{ localNormal : "+("{ x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+" }")+" }";this.zpp_inner.polygon.validate_gaxi();return"{ localNormal : "+("{ x: "+this.zpp_inner.lnormx+
" y: "+this.zpp_inner.lnormy+" }")+" worldNormal : "+("{ x: "+this.zpp_inner.gnormx+" y: "+this.zpp_inner.gnormy+" }")+" }"},__class__:f.shape.Edge,__properties__:{get_worldVertex2:"get_worldVertex2",get_worldVertex1:"get_worldVertex1",get_localVertex2:"get_localVertex2",get_localVertex1:"get_localVertex1",get_worldProjection:"get_worldProjection",get_localProjection:"get_localProjection",get_length:"get_length",get_worldNormal:"get_worldNormal",get_localNormal:"get_localNormal",get_polygon:"get_polygon"}};
f.shape.EdgeIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_EdgeList.internal)throw"Error: Cannot instantiate EdgeIterator derp!";};m["nape.shape.EdgeIterator"]=f.shape.EdgeIterator;f.shape.EdgeIterator.__name__=["nape","shape","EdgeIterator"];f.shape.EdgeIterator.get=function(a){var b;null==f.shape.EdgeIterator.zpp_pool?(c.util.ZPP_EdgeList.internal=!0,b=new f.shape.EdgeIterator,c.util.ZPP_EdgeList.internal=!1):(b=f.shape.EdgeIterator.zpp_pool,
f.shape.EdgeIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.shape.EdgeIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.shape.EdgeIterator.zpp_pool;f.shape.EdgeIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},
__class__:f.shape.EdgeIterator};f.shape.EdgeList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_EdgeList;this.zpp_inner.outer=this};m["nape.shape.EdgeList"]=f.shape.EdgeList;f.shape.EdgeList.__name__=["nape","shape","EdgeList"];f.shape.EdgeList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.shape.EdgeList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};f.shape.EdgeList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();
this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&a!=this.get_length()-1&&(a=this.get_length()-2-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=
this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},push:function(a){if(this.zpp_inner.immutable)throw"Error: EdgeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=
null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: EdgeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?
(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: EdgeList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";
this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.wrapper();null!=this.zpp_inner.subber&&
this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){if(this.zpp_inner.immutable)throw"Error: EdgeList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?
null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):
this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: EdgeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: EdgeList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=
this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.shape.EdgeIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.shape.EdgeList,d;this.zpp_inner.valmod();for(d=f.shape.EdgeIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Edge is not a copyable type";}(this):c)}return b},
merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=f.shape.EdgeIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.shape.EdgeIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==
a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=f.shape.EdgeIterator.get(this);b.hasNext();)try{var d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.shape.EdgeIterator.zpp_pool;f.shape.EdgeIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},
__class__:f.shape.EdgeList,__properties__:{get_length:"get_length"}};f.shape.Polygon=function(a,b,d){this.zpp_inner_zn=null;f.shape.Shape.zpp_internalAlloc=!0;f.shape.Shape.call(this);f.shape.Shape.zpp_internalAlloc=!1;if(null==a)throw"Error: localVerts cannot be null";this.zpp_inner_zn=new c.shape.ZPP_Polygon;this.zpp_inner_zn.outer=this;this.zpp_inner_zn.outer_zn=this;this.zpp_inner_i=this.zpp_inner=this.zpp_inner_zn;this.zpp_inner_i.outer_i=this;if(a instanceof Array&&null==a.__enum__)for(var k=
0;k<a.length;){var e=a[k];++k;if(null==e)throw"Error: Array<Vec2> contains null objects";if(!E.Boot.__instanceof(e,f.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";var g=e;if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts();this.zpp_inner_zn.wrap_lverts.push(function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return f.geom.Vec2.get(function(a){if(null!=
g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.x}(a),function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.y}(a),!1)}(this))}else if(E.Boot.__instanceof(a,f.geom.Vec2List))for(k=a.iterator();k.hasNext();){var p;k.zpp_critical=!1;p=k.zpp_inner.at(k.zpp_i++);if(null==p)throw"Error: Vec2List contains null objects";if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts();this.zpp_inner_zn.wrap_lverts.push(function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return f.geom.Vec2.get(function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.x}(a),function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.y}(a),!1)}(this))}else if(E.Boot.__instanceof(a,
f.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";k=a.zpp_inner.vertices;if(null!=k){e=k;do{var x=f.geom.Vec2.get(e.x,e.y,null),e=e.next;null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts();this.zpp_inner_zn.wrap_lverts.push(function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return f.geom.Vec2.get(function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();
return x.zpp_inner.x}(a),function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.y}(a),!1)}(this));x.dispose()}while(e!=k)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";if(a instanceof Array&&null==a.__enum__)for(k=0;k<a.length;){var e=a[k],h;if(h=e.zpp_inner.weak)e.dispose(),h=!0;h?a.splice(k,1):k++}else if(E.Boot.__instanceof(a,f.geom.Vec2List))for(null!=
a.zpp_inner._validate&&a.zpp_inner._validate(),a=a.zpp_inner.inner,k=null,e=a.head;null!=e;)h=e.elt,h.outer.zpp_inner.weak?(e=a.erase(k),h.outer.zpp_inner.weak?(h.outer.dispose(),!0):!1):(k=e,e=e.next);if(null==b)null==c.phys.ZPP_Material.zpp_pool?this.zpp_inner.material=new c.phys.ZPP_Material:(this.zpp_inner.material=c.phys.ZPP_Material.zpp_pool,c.phys.ZPP_Material.zpp_pool=this.zpp_inner.material.next,this.zpp_inner.material.next=null),null;else{this.zpp_inner.immutable_midstep("Shape::material");
if(null==b)throw"Error: Cannot assign null as Shape material";this.zpp_inner.setMaterial(b.zpp_inner);this.zpp_inner.material.wrapper()}if(null==d)null==c.dynamics.ZPP_InteractionFilter.zpp_pool?this.zpp_inner.filter=new c.dynamics.ZPP_InteractionFilter:(this.zpp_inner.filter=c.dynamics.ZPP_InteractionFilter.zpp_pool,c.dynamics.ZPP_InteractionFilter.zpp_pool=this.zpp_inner.filter.next,this.zpp_inner.filter.next=null),null;else{this.zpp_inner.immutable_midstep("Shape::filter");if(null==d)throw"Error: Cannot assign null as Shape filter";
this.zpp_inner.setFilter(d.zpp_inner);this.zpp_inner.filter.wrapper()}this.zpp_inner_i.insert_cbtype(c.callbacks.ZPP_CbType.ANY_SHAPE.zpp_inner)};m["nape.shape.Polygon"]=f.shape.Polygon;f.shape.Polygon.__name__=["nape","shape","Polygon"];f.shape.Polygon.rect=function(a,b,d,c,e){null==e&&(e=!1);if(a!=a||b!=b||d!=d||c!=c)throw"Error: Polygon.rect cannot accept NaN arguments";return[f.geom.Vec2.get(a,b,e),f.geom.Vec2.get(a+d,b,e),f.geom.Vec2.get(a+d,b+c,e),f.geom.Vec2.get(a,b+c,e)]};f.shape.Polygon.box=
function(a,b,d){null==d&&(d=!1);if(a!=a||b!=b)throw"Error: Polygon.box cannot accept NaN arguments";return f.shape.Polygon.rect(-a/2,-b/2,a,b,d)};f.shape.Polygon.regular=function(a,b,d,c,e){null==e&&(e=!1);null==c&&(c=0);if(a!=a||b!=b||c!=c)throw"Error: Polygon.regular cannot accept NaN arguments";for(var g=[],p=2*Math.PI/d,x=0;x<d;){var h=x++*p+c,h=f.geom.Vec2.get(Math.cos(h)*a,Math.sin(h)*b,e);g.push(h)}return g};f.shape.Polygon.__super__=f.shape.Shape;f.shape.Polygon.prototype=F(f.shape.Shape.prototype,
{zpp_inner_zn:null,get_localVerts:function(){null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts();return this.zpp_inner_zn.wrap_lverts},get_worldVerts:function(){null==this.zpp_inner_zn.wrap_gverts&&this.zpp_inner_zn.getgverts();return this.zpp_inner_zn.wrap_gverts},get_edges:function(){null==this.zpp_inner_zn.wrap_edges&&this.zpp_inner_zn.getedges();return this.zpp_inner_zn.wrap_edges},validity:function(){return this.zpp_inner_zn.valid()},__class__:f.shape.Polygon,__properties__:F(f.shape.Shape.prototype.__properties__,
{get_edges:"get_edges",get_worldVerts:"get_worldVerts",get_localVerts:"get_localVerts"})});f.shape.ShapeIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_ShapeList.internal)throw"Error: Cannot instantiate ShapeIterator derp!";};m["nape.shape.ShapeIterator"]=f.shape.ShapeIterator;f.shape.ShapeIterator.__name__=["nape","shape","ShapeIterator"];f.shape.ShapeIterator.get=function(a){var b;null==f.shape.ShapeIterator.zpp_pool?(c.util.ZPP_ShapeList.internal=
!0,b=new f.shape.ShapeIterator,c.util.ZPP_ShapeList.internal=!1):(b=f.shape.ShapeIterator.zpp_pool,f.shape.ShapeIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.shape.ShapeIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.shape.ShapeIterator.zpp_pool;f.shape.ShapeIterator.zpp_pool=this;this.zpp_inner=
null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.shape.ShapeIterator};f.shape.ShapeList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_ShapeList;this.zpp_inner.outer=this};m["nape.shape.ShapeList"]=f.shape.ShapeList;f.shape.ShapeList.__name__=["nape","shape","ShapeList"];f.shape.ShapeList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new f.shape.ShapeList,d=0;d<a.length;){var c=a[d];
++d;b.push(c)}return b};f.shape.ShapeList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-
a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: ShapeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?
this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: ShapeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();
var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: ShapeList is immutable";
this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: ShapeList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&
null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();
return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: ShapeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: ShapeList is immutable";
if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.shape.ShapeIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.shape.ShapeList,d;this.zpp_inner.valmod();for(d=f.shape.ShapeIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Shape is not a copyable type";
}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=f.shape.ShapeIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=f.shape.ShapeIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=
!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=f.shape.ShapeIterator.get(this);b.hasNext();)try{var d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}catch(c){b.zpp_next=f.shape.ShapeIterator.zpp_pool;f.shape.ShapeIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);
try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:f.shape.ShapeList,__properties__:{get_length:"get_length"}};f.shape.ShapeType=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate ShapeType derp!";};m["nape.shape.ShapeType"]=f.shape.ShapeType;f.shape.ShapeType.__name__=["nape","shape","ShapeType"];f.shape.ShapeType.__properties__={get_POLYGON:"get_POLYGON",get_CIRCLE:"get_CIRCLE"};f.shape.ShapeType.get_CIRCLE=function(){null==c.util.ZPP_Flags.ShapeType_CIRCLE&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ShapeType_CIRCLE=new f.shape.ShapeType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ShapeType_CIRCLE};f.shape.ShapeType.get_POLYGON=function(){null==c.util.ZPP_Flags.ShapeType_POLYGON&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ShapeType_POLYGON=new f.shape.ShapeType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ShapeType_POLYGON};f.shape.ShapeType.prototype={toString:function(){null==c.util.ZPP_Flags.ShapeType_CIRCLE&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.ShapeType_CIRCLE=new f.shape.ShapeType,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.ShapeType_CIRCLE?a="CIRCLE":(null==c.util.ZPP_Flags.ShapeType_POLYGON&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ShapeType_POLYGON=new f.shape.ShapeType,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.ShapeType_POLYGON?"POLYGON":"");return a},__class__:f.shape.ShapeType};f.shape.ValidationResult=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate ValidationResult derp!";
};m["nape.shape.ValidationResult"]=f.shape.ValidationResult;f.shape.ValidationResult.__name__=["nape","shape","ValidationResult"];f.shape.ValidationResult.__properties__={get_SELF_INTERSECTING:"get_SELF_INTERSECTING",get_CONCAVE:"get_CONCAVE",get_DEGENERATE:"get_DEGENERATE",get_VALID:"get_VALID"};f.shape.ValidationResult.get_VALID=function(){null==c.util.ZPP_Flags.ValidationResult_VALID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=
!1);return c.util.ZPP_Flags.ValidationResult_VALID};f.shape.ValidationResult.get_DEGENERATE=function(){null==c.util.ZPP_Flags.ValidationResult_DEGENERATE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_DEGENERATE=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ValidationResult_DEGENERATE};f.shape.ValidationResult.get_CONCAVE=function(){null==c.util.ZPP_Flags.ValidationResult_CONCAVE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_CONCAVE=
new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ValidationResult_CONCAVE};f.shape.ValidationResult.get_SELF_INTERSECTING=function(){null==c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING};f.shape.ValidationResult.prototype={toString:function(){null==c.util.ZPP_Flags.ValidationResult_VALID&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.ValidationResult_VALID?a="VALID":(null==c.util.ZPP_Flags.ValidationResult_DEGENERATE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_DEGENERATE=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.ValidationResult_DEGENERATE?a="DEGENERATE":(null==c.util.ZPP_Flags.ValidationResult_CONCAVE&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.ValidationResult_CONCAVE=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.ValidationResult_CONCAVE?a="CONCAVE":(null==c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING?"SELF_INTERSECTING":"")));return a},__class__:f.shape.ValidationResult};f.space=
{};f.space.Broadphase=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate Broadphase derp!";};m["nape.space.Broadphase"]=f.space.Broadphase;f.space.Broadphase.__name__=["nape","space","Broadphase"];f.space.Broadphase.__properties__={get_SWEEP_AND_PRUNE:"get_SWEEP_AND_PRUNE",get_DYNAMIC_AABB_TREE:"get_DYNAMIC_AABB_TREE"};f.space.Broadphase.get_DYNAMIC_AABB_TREE=function(){null==c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=
new f.space.Broadphase,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE};f.space.Broadphase.get_SWEEP_AND_PRUNE=function(){null==c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=new f.space.Broadphase,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE};f.space.Broadphase.prototype={toString:function(){null==c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=new f.space.Broadphase,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE?a="DYNAMIC_AABB_TREE":(null==c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=new f.space.Broadphase,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE?"SWEEP_AND_PRUNE":"");return a},__class__:f.space.Broadphase};f.space.Space=function(a,b){this.zpp_inner=
null;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner=new c.space.ZPP_Space(null==a?null:a.zpp_inner,b);this.zpp_inner.outer=this;null!=a&&(a.zpp_inner.weak?(a.dispose(),!0):!1)};m["nape.space.Space"]=f.space.Space;f.space.Space.__name__=["nape","space","Space"];f.space.Space.prototype={zpp_inner:null,get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_gravity:function(){null==this.zpp_inner.wrap_gravity&&
this.zpp_inner.getgravity();return this.zpp_inner.wrap_gravity},set_gravity:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Space::gravity cannot be null";null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity();this.zpp_inner.wrap_gravity.set(a);null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity();return this.zpp_inner.wrap_gravity},get_broadphase:function(){if(this.zpp_inner.bphase.is_sweep)return null==c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=new f.space.Broadphase,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE;null==c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=new f.space.Broadphase,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE},get_sortContacts:function(){return this.zpp_inner.sortcontacts},set_sortContacts:function(a){this.zpp_inner.sortcontacts=
a;return this.zpp_inner.sortcontacts},get_worldAngularDrag:function(){return this.zpp_inner.global_ang_drag},set_worldAngularDrag:function(a){if(a!=a)throw"Error: Space::worldAngularDrag cannot be NaN";this.zpp_inner.global_ang_drag=a;return this.zpp_inner.global_ang_drag},get_worldLinearDrag:function(){return this.zpp_inner.global_lin_drag},set_worldLinearDrag:function(a){if(a!=a)throw"Error: Space::worldLinearDrag cannot be NaN";this.zpp_inner.global_lin_drag=a;return this.zpp_inner.global_lin_drag},
get_compounds:function(){return this.zpp_inner.wrap_compounds},get_bodies:function(){return this.zpp_inner.wrap_bodies},get_liveBodies:function(){return this.zpp_inner.wrap_live},get_constraints:function(){return this.zpp_inner.wrap_constraints},get_liveConstraints:function(){return this.zpp_inner.wrap_livecon},visitBodies:function(a){if(null==a)throw"Error: lambda cannot be null for Space::visitBodies";for(var b=this.zpp_inner.wrap_bodies.iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);
a(d)}for(b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();)b.zpp_critical=!1,b.zpp_inner.at(b.zpp_i++).visitBodies(a)},visitConstraints:function(a){if(null==a)throw"Error: lambda cannot be null for Space::visitConstraints";for(var b=this.zpp_inner.wrap_constraints.iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}for(b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();)b.zpp_critical=!1,b.zpp_inner.at(b.zpp_i++).visitConstraints(a)},visitCompounds:function(a){if(null==
a)throw"Error: lambda cannot be null for Space::visitCompounds";for(var b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d);d.visitCompounds(a)}},get_world:function(){return this.zpp_inner.__static},get_arbiters:function(){if(null==this.zpp_inner.wrap_arbiters){var a=new c.dynamics.ZPP_SpaceArbiterList;a.space=this.zpp_inner;this.zpp_inner.wrap_arbiters=a}return this.zpp_inner.wrap_arbiters},get_listeners:function(){return this.zpp_inner.wrap_listeners},
clear:function(){if(this.zpp_inner.midstep)throw"Error: Space::clear() cannot be called during space step()";this.zpp_inner.clear()},step:function(a,b,d){null==d&&(d=10);null==b&&(b=10);if(a!=a)throw"Error: deltaTime cannot be NaN";if(0>=a)throw"Error: deltaTime must be strictly positive";if(0>=b)throw"Error: must use atleast one velocity iteration";if(0>=d)throw"Error: must use atleast one position iteration";this.zpp_inner.step(a,b,d)},get_timeStamp:function(){return this.zpp_inner.stamp},get_elapsedTime:function(){return this.zpp_inner.time},
interactionType:function(a,b){if(null==a||null==b)throw"Error: Cannot evaluate interaction type for null shapes";if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null)||null==(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null))throw"Error: Cannot evaluate interaction type for shapes not part of a Body";if((null!=a.zpp_inner.body?a.zpp_inner.body.outer:null).zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC&&(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null).zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC||
(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null)==(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null))return null;var d=a.zpp_inner,k=b.zpp_inner;switch(this.zpp_inner.interactionType(d,k,d.body,k.body)){case 0:return null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_FLUID;case 1:return null==c.util.ZPP_Flags.InteractionType_COLLISION&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_COLLISION;case 2:return null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_SENSOR;default:return null}},shapesUnderPoint:function(a,b,d){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Cannot evaluate shapes under a null point :)";b=this.zpp_inner.shapesUnderPoint(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),null==b?null:b.zpp_inner,d);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},bodiesUnderPoint:function(a,b,d){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot evaluate objects under a null point :)";b=this.zpp_inner.bodiesUnderPoint(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),null==b?null:b.zpp_inner,d);a.zpp_inner.weak?
(a.dispose(),!0):!1;return b},shapesInAABB:function(a,b,d,c,e){null==d&&(d=!0);null==b&&(b=!1);if(null==a)throw"Error: Cannot evaluate shapes in a null AABB :)";a.zpp_inner.validate();var g;(g=0==a.zpp_inner.width())||(a.zpp_inner.validate(),g=0==a.zpp_inner.height());if(g)throw"Error: Cannot evaluate shapes in degenerate AABB :/";return this.zpp_inner.shapesInAABB(a,d,b,null==c?null:c.zpp_inner,e)},bodiesInAABB:function(a,b,d,c,e){null==d&&(d=!0);null==b&&(b=!1);if(null==a)throw"Error: Cannot evaluate objects in a null AABB :)";
a.zpp_inner.validate();var g;(g=0==a.zpp_inner.width())||(a.zpp_inner.validate(),g=0==a.zpp_inner.height());if(g)throw"Error: Cannot evaluate objects in degenerate AABB :/";return this.zpp_inner.bodiesInAABB(a,d,b,null==c?null:c.zpp_inner,e)},shapesInCircle:function(a,b,d,c,e){null==d&&(d=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot evaluate shapes at null circle :)";if(b!=b)throw"Error: Circle radius cannot be NaN";if(0>=b)throw"Error: Circle radius must be strictly positive";
b=this.zpp_inner.shapesInCircle(a,b,d,null==c?null:c.zpp_inner,e);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},bodiesInCircle:function(a,b,d,c,e){null==d&&(d=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot evaluate objects at null circle :)";if(b!=b)throw"Error: Circle radius cannot be NaN";if(0>=b)throw"Error: Circle radius must be strictly positive";b=this.zpp_inner.bodiesInCircle(a,b,d,null==c?null:c.zpp_inner,e);a.zpp_inner.weak?
(a.dispose(),!0):!1;return b},shapesInShape:function(a,b,d,k){null==b&&(b=!1);if(null==a)throw"Error: Cannot evaluate shapes in a null shapes :)";if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null))throw"Error: Query shape needs to be inside a Body to be well defined :)";if(a.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){var e=a.zpp_inner.polygon.valid();null==c.util.ZPP_Flags.ValidationResult_VALID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new f.shape.ValidationResult,
c.util.ZPP_Flags.internal=!1);if(e!=c.util.ZPP_Flags.ValidationResult_VALID)throw"Error: Polygon query shape is invalid : "+e.toString();}return this.zpp_inner.shapesInShape(a.zpp_inner,b,null==d?null:d.zpp_inner,k)},bodiesInShape:function(a,b,d,k){null==b&&(b=!1);if(null==a)throw"Error: Cannot evaluate bodies in a null shapes :)";if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null))throw"Error: Query shape needs to be inside a Body to be well defined :)";if(a.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){var e=
a.zpp_inner.polygon.valid();null==c.util.ZPP_Flags.ValidationResult_VALID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);if(e!=c.util.ZPP_Flags.ValidationResult_VALID)throw"Error: Polygon query shape is invalid : "+e.toString();}return this.zpp_inner.bodiesInShape(a.zpp_inner,b,null==d?null:d.zpp_inner,k)},shapesInBody:function(a,b,d){if(null==a)throw"Error: Cannot evaluate shapes in null body";d=null==d?new f.shape.ShapeList:
d;for(a=a.zpp_inner.wrap_shapes.iterator();a.hasNext();){var c;a.zpp_critical=!1;c=a.zpp_inner.at(a.zpp_i++);this.shapesInShape(c,!1,b,d)}return d},bodiesInBody:function(a,b,d){if(null==a)throw"Error: Cannot evaluate shapes in null body";d=null==d?new f.phys.BodyList:d;for(a=a.zpp_inner.wrap_shapes.iterator();a.hasNext();){var c;a.zpp_critical=!1;c=a.zpp_inner.at(a.zpp_i++);this.bodiesInShape(c,!1,b,d)}return d},convexCast:function(a,b,d,c){null==d&&(d=!1);if(null==a)throw"Error: Cannot cast null shape :)";
if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null))throw"Error: Shape must belong to a body to be cast.";if(0>b||b!=b)throw"Error: deltaTime must be positive";return this.zpp_inner.convexCast(a.zpp_inner,b,c,d)},convexMultiCast:function(a,b,d,c,e){null==d&&(d=!1);if(null==a)throw"Error: Cannot cast null shape :)";if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null))throw"Error: Shape must belong to a body to be cast.";if(0>b||b!=b)throw"Error: deltaTime must be positive";return this.zpp_inner.convexMultiCast(a.zpp_inner,
b,c,d,e)},rayCast:function(a,b,d){null==b&&(b=!1);if(null==a)throw"Error: Cannot cast null ray :)";return this.zpp_inner.rayCast(a,b,d)},rayMultiCast:function(a,b,d,c){null==b&&(b=!1);if(null==a)throw"Error: Cannot cast null ray :)";return this.zpp_inner.rayMultiCast(a,b,d,c)},__class__:f.space.Space,__properties__:{get_elapsedTime:"get_elapsedTime",get_timeStamp:"get_timeStamp",get_listeners:"get_listeners",get_arbiters:"get_arbiters",get_world:"get_world",get_liveConstraints:"get_liveConstraints",
get_constraints:"get_constraints",get_liveBodies:"get_liveBodies",get_bodies:"get_bodies",get_compounds:"get_compounds",set_worldLinearDrag:"set_worldLinearDrag",get_worldLinearDrag:"get_worldLinearDrag",set_worldAngularDrag:"set_worldAngularDrag",get_worldAngularDrag:"get_worldAngularDrag",set_sortContacts:"set_sortContacts",get_sortContacts:"get_sortContacts",get_broadphase:"get_broadphase",set_gravity:"set_gravity",get_gravity:"get_gravity",get_userData:"get_userData"}};f.util={};f.util.Debug=
function(){this.cullingEnabled=!1;this.colour=null;this.drawCollisionArbiters=this.drawFluidArbiters=this.drawSensorArbiters=this.drawBodies=this.drawBodyDetail=this.drawShapeDetail=this.drawShapeAngleIndicators=this.drawConstraints=!1;this.zpp_inner=null;if(!c.util.ZPP_Debug.internal)throw"Error: Cannot instantiate Debug derp! Use ShapeDebug, or BitmapDebug on flash10+";this.drawSensorArbiters=this.drawFluidArbiters=this.drawCollisionArbiters=!1;this.drawShapeAngleIndicators=this.drawBodies=!0;this.cullingEnabled=
this.drawConstraints=this.drawShapeDetail=this.drawBodyDetail=!1;this.colour=null};m["nape.util.Debug"]=f.util.Debug;f.util.Debug.__name__=["nape","util","Debug"];f.util.Debug.version=function(){return"Nape 2.0.19"};f.util.Debug.clearObjectPools=function(){for(;null!=f.constraint.ConstraintIterator.zpp_pool;){var a=f.constraint.ConstraintIterator.zpp_pool.zpp_next;f.constraint.ConstraintIterator.zpp_pool.zpp_next=null;f.constraint.ConstraintIterator.zpp_pool=a}for(;null!=f.phys.InteractorIterator.zpp_pool;)a=
f.phys.InteractorIterator.zpp_pool.zpp_next,f.phys.InteractorIterator.zpp_pool.zpp_next=null,f.phys.InteractorIterator.zpp_pool=a;for(;null!=f.phys.BodyIterator.zpp_pool;)a=f.phys.BodyIterator.zpp_pool.zpp_next,f.phys.BodyIterator.zpp_pool.zpp_next=null,f.phys.BodyIterator.zpp_pool=a;for(;null!=f.phys.CompoundIterator.zpp_pool;)a=f.phys.CompoundIterator.zpp_pool.zpp_next,f.phys.CompoundIterator.zpp_pool.zpp_next=null,f.phys.CompoundIterator.zpp_pool=a;for(;null!=f.callbacks.ListenerIterator.zpp_pool;)a=
f.callbacks.ListenerIterator.zpp_pool.zpp_next,f.callbacks.ListenerIterator.zpp_pool.zpp_next=null,f.callbacks.ListenerIterator.zpp_pool=a;for(;null!=f.callbacks.CbTypeIterator.zpp_pool;)a=f.callbacks.CbTypeIterator.zpp_pool.zpp_next,f.callbacks.CbTypeIterator.zpp_pool.zpp_next=null,f.callbacks.CbTypeIterator.zpp_pool=a;for(;null!=f.geom.ConvexResultIterator.zpp_pool;)a=f.geom.ConvexResultIterator.zpp_pool.zpp_next,f.geom.ConvexResultIterator.zpp_pool.zpp_next=null,f.geom.ConvexResultIterator.zpp_pool=
a;for(;null!=f.geom.GeomPolyIterator.zpp_pool;)a=f.geom.GeomPolyIterator.zpp_pool.zpp_next,f.geom.GeomPolyIterator.zpp_pool.zpp_next=null,f.geom.GeomPolyIterator.zpp_pool=a;for(;null!=f.geom.Vec2Iterator.zpp_pool;)a=f.geom.Vec2Iterator.zpp_pool.zpp_next,f.geom.Vec2Iterator.zpp_pool.zpp_next=null,f.geom.Vec2Iterator.zpp_pool=a;for(;null!=f.geom.RayResultIterator.zpp_pool;)a=f.geom.RayResultIterator.zpp_pool.zpp_next,f.geom.RayResultIterator.zpp_pool.zpp_next=null,f.geom.RayResultIterator.zpp_pool=
a;for(;null!=f.shape.ShapeIterator.zpp_pool;)a=f.shape.ShapeIterator.zpp_pool.zpp_next,f.shape.ShapeIterator.zpp_pool.zpp_next=null,f.shape.ShapeIterator.zpp_pool=a;for(;null!=f.shape.EdgeIterator.zpp_pool;)a=f.shape.EdgeIterator.zpp_pool.zpp_next,f.shape.EdgeIterator.zpp_pool.zpp_next=null,f.shape.EdgeIterator.zpp_pool=a;for(;null!=f.dynamics.ContactIterator.zpp_pool;)a=f.dynamics.ContactIterator.zpp_pool.zpp_next,f.dynamics.ContactIterator.zpp_pool.zpp_next=null,f.dynamics.ContactIterator.zpp_pool=
a;for(;null!=f.dynamics.ArbiterIterator.zpp_pool;)a=f.dynamics.ArbiterIterator.zpp_pool.zpp_next,f.dynamics.ArbiterIterator.zpp_pool.zpp_next=null,f.dynamics.ArbiterIterator.zpp_pool=a;for(;null!=f.dynamics.InteractionGroupIterator.zpp_pool;)a=f.dynamics.InteractionGroupIterator.zpp_pool.zpp_next,f.dynamics.InteractionGroupIterator.zpp_pool.zpp_next=null,f.dynamics.InteractionGroupIterator.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_CbType.zpp_pool;)a=c.util.ZNPNode_ZPP_CbType.zpp_pool.next,c.util.ZNPNode_ZPP_CbType.zpp_pool.next=
null,c.util.ZNPNode_ZPP_CbType.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_CallbackSet.zpp_pool;)a=c.util.ZNPNode_ZPP_CallbackSet.zpp_pool.next,c.util.ZNPNode_ZPP_CallbackSet.zpp_pool.next=null,c.util.ZNPNode_ZPP_CallbackSet.zpp_pool=a;for(;null!=c.phys.ZPP_Material.zpp_pool;)a=c.phys.ZPP_Material.zpp_pool.next,c.phys.ZPP_Material.zpp_pool.next=null,c.phys.ZPP_Material.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Shape.zpp_pool;)a=c.util.ZNPNode_ZPP_Shape.zpp_pool.next,c.util.ZNPNode_ZPP_Shape.zpp_pool.next=
null,c.util.ZNPNode_ZPP_Shape.zpp_pool=a;for(;null!=c.phys.ZPP_FluidProperties.zpp_pool;)a=c.phys.ZPP_FluidProperties.zpp_pool.next,c.phys.ZPP_FluidProperties.zpp_pool.next=null,c.phys.ZPP_FluidProperties.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Body.zpp_pool;)a=c.util.ZNPNode_ZPP_Body.zpp_pool.next,c.util.ZNPNode_ZPP_Body.zpp_pool.next=null,c.util.ZNPNode_ZPP_Body.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Constraint.zpp_pool;)a=c.util.ZNPNode_ZPP_Constraint.zpp_pool.next,c.util.ZNPNode_ZPP_Constraint.zpp_pool.next=
null,c.util.ZNPNode_ZPP_Constraint.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Compound.zpp_pool;)a=c.util.ZNPNode_ZPP_Compound.zpp_pool.next,c.util.ZNPNode_ZPP_Compound.zpp_pool.next=null,c.util.ZNPNode_ZPP_Compound.zpp_pool=a;for(;null!=c.callbacks.ZPP_CbSetPair.zpp_pool;)a=c.callbacks.ZPP_CbSetPair.zpp_pool.next,c.callbacks.ZPP_CbSetPair.zpp_pool.next=null,c.callbacks.ZPP_CbSetPair.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_InteractionListener.zpp_pool;)a=c.util.ZNPNode_ZPP_InteractionListener.zpp_pool.next,
c.util.ZNPNode_ZPP_InteractionListener.zpp_pool.next=null,c.util.ZNPNode_ZPP_InteractionListener.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_CbSet.zpp_pool;)a=c.util.ZNPNode_ZPP_CbSet.zpp_pool.next,c.util.ZNPNode_ZPP_CbSet.zpp_pool.next=null,c.util.ZNPNode_ZPP_CbSet.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Interactor.zpp_pool;)a=c.util.ZNPNode_ZPP_Interactor.zpp_pool.next,c.util.ZNPNode_ZPP_Interactor.zpp_pool.next=null,c.util.ZNPNode_ZPP_Interactor.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_BodyListener.zpp_pool;)a=
c.util.ZNPNode_ZPP_BodyListener.zpp_pool.next,c.util.ZNPNode_ZPP_BodyListener.zpp_pool.next=null,c.util.ZNPNode_ZPP_BodyListener.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Arbiter.zpp_pool;)a=c.util.ZNPNode_ZPP_Arbiter.zpp_pool.next,c.util.ZNPNode_ZPP_Arbiter.zpp_pool.next=null,c.util.ZNPNode_ZPP_Arbiter.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool;)a=c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool.next,c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool.next=null,c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=
a;for(;null!=c.util.ZPP_Set_ZPP_Body.zpp_pool;)a=c.util.ZPP_Set_ZPP_Body.zpp_pool.next,c.util.ZPP_Set_ZPP_Body.zpp_pool.next=null,c.util.ZPP_Set_ZPP_Body.zpp_pool=a;for(;null!=c.callbacks.ZPP_CbSet.zpp_pool;)a=c.callbacks.ZPP_CbSet.zpp_pool.next,c.callbacks.ZPP_CbSet.zpp_pool.next=null,c.callbacks.ZPP_CbSet.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_CbSetPair.zpp_pool;)a=c.util.ZNPNode_ZPP_CbSetPair.zpp_pool.next,c.util.ZNPNode_ZPP_CbSetPair.zpp_pool.next=null,c.util.ZNPNode_ZPP_CbSetPair.zpp_pool=
a;for(;null!=c.callbacks.ZPP_Callback.zpp_pool;)a=c.callbacks.ZPP_Callback.zpp_pool.next,c.callbacks.ZPP_Callback.zpp_pool.next=null,c.callbacks.ZPP_Callback.zpp_pool=a;for(;null!=c.geom.ZPP_GeomVert.zpp_pool;)a=c.geom.ZPP_GeomVert.zpp_pool.next,c.geom.ZPP_GeomVert.zpp_pool.next=null,c.geom.ZPP_GeomVert.zpp_pool=a;for(;null!=c.geom.ZPP_GeomVertexIterator.zpp_pool;)a=c.geom.ZPP_GeomVertexIterator.zpp_pool.next,c.geom.ZPP_GeomVertexIterator.zpp_pool.next=null,c.geom.ZPP_GeomVertexIterator.zpp_pool=
a;for(;null!=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool;)a=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool.next,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool.next=null,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=a;for(;null!=c.geom.ZPP_Mat23.zpp_pool;)a=c.geom.ZPP_Mat23.zpp_pool.next,c.geom.ZPP_Mat23.zpp_pool.next=null,c.geom.ZPP_Mat23.zpp_pool=a;for(;null!=c.geom.ZPP_CutVert.zpp_pool;)a=c.geom.ZPP_CutVert.zpp_pool.next,c.geom.ZPP_CutVert.zpp_pool.next=null,c.geom.ZPP_CutVert.zpp_pool=a;for(;null!=c.geom.ZPP_CutInt.zpp_pool;)a=
c.geom.ZPP_CutInt.zpp_pool.next,c.geom.ZPP_CutInt.zpp_pool.next=null,c.geom.ZPP_CutInt.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_CutInt.zpp_pool;)a=c.util.ZNPNode_ZPP_CutInt.zpp_pool.next,c.util.ZNPNode_ZPP_CutInt.zpp_pool.next=null,c.util.ZNPNode_ZPP_CutInt.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_CutVert.zpp_pool;)a=c.util.ZNPNode_ZPP_CutVert.zpp_pool.next,c.util.ZNPNode_ZPP_CutVert.zpp_pool.next=null,c.util.ZNPNode_ZPP_CutVert.zpp_pool=a;for(;null!=c.geom.ZPP_Vec2.zpp_pool;)a=c.geom.ZPP_Vec2.zpp_pool.next,
c.geom.ZPP_Vec2.zpp_pool.next=null,c.geom.ZPP_Vec2.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool;)a=c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool.next,c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool.next=null,c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=a;for(;null!=c.geom.ZPP_PartitionVertex.zpp_pool;)a=c.geom.ZPP_PartitionVertex.zpp_pool.next,c.geom.ZPP_PartitionVertex.zpp_pool.next=null,c.geom.ZPP_PartitionVertex.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool;)a=
c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool.next,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool.next=null,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=a;for(;null!=c.geom.ZPP_PartitionedPoly.zpp_pool;)a=c.geom.ZPP_PartitionedPoly.zpp_pool.next,c.geom.ZPP_PartitionedPoly.zpp_pool.next=null,c.geom.ZPP_PartitionedPoly.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool;)a=c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool.next,c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool.next=null,c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=
a;for(;null!=c.geom.ZPP_PartitionPair.zpp_pool;)a=c.geom.ZPP_PartitionPair.zpp_pool.next,c.geom.ZPP_PartitionPair.zpp_pool.next=null,c.geom.ZPP_PartitionPair.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool;)a=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool.next,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool.next=null,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_GeomVert.zpp_pool;)a=c.util.ZNPNode_ZPP_GeomVert.zpp_pool.next,c.util.ZNPNode_ZPP_GeomVert.zpp_pool.next=
null,c.util.ZNPNode_ZPP_GeomVert.zpp_pool=a;for(;null!=c.geom.ZPP_SimplifyV.zpp_pool;)a=c.geom.ZPP_SimplifyV.zpp_pool.next,c.geom.ZPP_SimplifyV.zpp_pool.next=null,c.geom.ZPP_SimplifyV.zpp_pool=a;for(;null!=c.geom.ZPP_SimplifyP.zpp_pool;)a=c.geom.ZPP_SimplifyP.zpp_pool.next,c.geom.ZPP_SimplifyP.zpp_pool.next=null,c.geom.ZPP_SimplifyP.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_SimplifyP.zpp_pool;)a=c.util.ZNPNode_ZPP_SimplifyP.zpp_pool.next,c.util.ZNPNode_ZPP_SimplifyP.zpp_pool.next=null,c.util.ZNPNode_ZPP_SimplifyP.zpp_pool=
a;for(;null!=c.geom.ZPP_AABB.zpp_pool;)a=c.geom.ZPP_AABB.zpp_pool.next,c.geom.ZPP_AABB.zpp_pool.next=null,c.geom.ZPP_AABB.zpp_pool=a;for(;null!=c.geom.ZPP_ToiEvent.zpp_pool;)a=c.geom.ZPP_ToiEvent.zpp_pool.next,c.geom.ZPP_ToiEvent.zpp_pool.next=null,c.geom.ZPP_ToiEvent.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool;)a=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool.next,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool.next=null,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=a;for(;null!=c.geom.ZPP_SimpleVert.zpp_pool;)a=
c.geom.ZPP_SimpleVert.zpp_pool.next,c.geom.ZPP_SimpleVert.zpp_pool.next=null,c.geom.ZPP_SimpleVert.zpp_pool=a;for(;null!=c.geom.ZPP_SimpleSeg.zpp_pool;)a=c.geom.ZPP_SimpleSeg.zpp_pool.next,c.geom.ZPP_SimpleSeg.zpp_pool.next=null,c.geom.ZPP_SimpleSeg.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool;)a=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool.next,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool.next=null,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=a;for(;null!=c.geom.ZPP_MarchSpan.zpp_pool;)a=c.geom.ZPP_MarchSpan.zpp_pool.next,
c.geom.ZPP_MarchSpan.zpp_pool.next=null,c.geom.ZPP_MarchSpan.zpp_pool=a;for(;null!=c.geom.ZPP_MarchPair.zpp_pool;)a=c.geom.ZPP_MarchPair.zpp_pool.next,c.geom.ZPP_MarchPair.zpp_pool.next=null,c.geom.ZPP_MarchPair.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool;)a=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool.next,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool.next=null,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=a;for(;null!=c.geom.ZPP_SimpleEvent.zpp_pool;)a=c.geom.ZPP_SimpleEvent.zpp_pool.next,c.geom.ZPP_SimpleEvent.zpp_pool.next=
null,c.geom.ZPP_SimpleEvent.zpp_pool=a;for(;null!=c.util.Hashable2_Boolfalse.zpp_pool;)a=c.util.Hashable2_Boolfalse.zpp_pool.next,c.util.Hashable2_Boolfalse.zpp_pool.next=null,c.util.Hashable2_Boolfalse.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_SimpleVert.zpp_pool;)a=c.util.ZNPNode_ZPP_SimpleVert.zpp_pool.next,c.util.ZNPNode_ZPP_SimpleVert.zpp_pool.next=null,c.util.ZNPNode_ZPP_SimpleVert.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool;)a=c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool.next,c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool.next=
null,c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_AABBPair.zpp_pool;)a=c.util.ZNPNode_ZPP_AABBPair.zpp_pool.next,c.util.ZNPNode_ZPP_AABBPair.zpp_pool.next=null,c.util.ZNPNode_ZPP_AABBPair.zpp_pool=a;for(;null!=c.shape.ZPP_Edge.zpp_pool;)a=c.shape.ZPP_Edge.zpp_pool.next,c.shape.ZPP_Edge.zpp_pool.next=null,c.shape.ZPP_Edge.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Edge.zpp_pool;)a=c.util.ZNPNode_ZPP_Edge.zpp_pool.next,c.util.ZNPNode_ZPP_Edge.zpp_pool.next=null,c.util.ZNPNode_ZPP_Edge.zpp_pool=
a;for(;null!=c.util.ZNPNode_ZPP_Vec2.zpp_pool;)a=c.util.ZNPNode_ZPP_Vec2.zpp_pool.next,c.util.ZNPNode_ZPP_Vec2.zpp_pool.next=null,c.util.ZNPNode_ZPP_Vec2.zpp_pool=a;for(;null!=c.space.ZPP_SweepData.zpp_pool;)a=c.space.ZPP_SweepData.zpp_pool.next,c.space.ZPP_SweepData.zpp_pool.next=null,c.space.ZPP_SweepData.zpp_pool=a;for(;null!=c.space.ZPP_AABBNode.zpp_pool;)a=c.space.ZPP_AABBNode.zpp_pool.next,c.space.ZPP_AABBNode.zpp_pool.next=null,c.space.ZPP_AABBNode.zpp_pool=a;for(;null!=c.space.ZPP_AABBPair.zpp_pool;)a=
c.space.ZPP_AABBPair.zpp_pool.next,c.space.ZPP_AABBPair.zpp_pool.next=null,c.space.ZPP_AABBPair.zpp_pool=a;for(;null!=c.dynamics.ZPP_Contact.zpp_pool;)a=c.dynamics.ZPP_Contact.zpp_pool.next,c.dynamics.ZPP_Contact.zpp_pool.next=null,c.dynamics.ZPP_Contact.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Component.zpp_pool;)a=c.util.ZNPNode_ZPP_Component.zpp_pool.next,c.util.ZNPNode_ZPP_Component.zpp_pool.next=null,c.util.ZNPNode_ZPP_Component.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_AABBNode.zpp_pool;)a=c.util.ZNPNode_ZPP_AABBNode.zpp_pool.next,
c.util.ZNPNode_ZPP_AABBNode.zpp_pool.next=null,c.util.ZNPNode_ZPP_AABBNode.zpp_pool=a;for(;null!=c.space.ZPP_Island.zpp_pool;)a=c.space.ZPP_Island.zpp_pool.next,c.space.ZPP_Island.zpp_pool.next=null,c.space.ZPP_Island.zpp_pool=a;for(;null!=c.space.ZPP_Component.zpp_pool;)a=c.space.ZPP_Component.zpp_pool.next,c.space.ZPP_Component.zpp_pool.next=null,c.space.ZPP_Component.zpp_pool=a;for(;null!=c.space.ZPP_CallbackSet.zpp_pool;)a=c.space.ZPP_CallbackSet.zpp_pool.next,c.space.ZPP_CallbackSet.zpp_pool.next=
null,c.space.ZPP_CallbackSet.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_CbSet.zpp_pool;)a=c.util.ZPP_Set_ZPP_CbSet.zpp_pool.next,c.util.ZPP_Set_ZPP_CbSet.zpp_pool.next=null,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool;)a=c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool.next,c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool.next=null,c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool;)a=c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool.next,
c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool.next=null,c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=a;for(;null!=c.dynamics.ZPP_InteractionFilter.zpp_pool;)a=c.dynamics.ZPP_InteractionFilter.zpp_pool.next,c.dynamics.ZPP_InteractionFilter.zpp_pool.next=null,c.dynamics.ZPP_InteractionFilter.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool;)a=c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool.next,c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool.next=null,c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=a;for(;null!=
c.util.ZNPNode_ZPP_ColArbiter.zpp_pool;)a=c.util.ZNPNode_ZPP_ColArbiter.zpp_pool.next,c.util.ZNPNode_ZPP_ColArbiter.zpp_pool.next=null,c.util.ZNPNode_ZPP_ColArbiter.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Listener.zpp_pool;)a=c.util.ZNPNode_ZPP_Listener.zpp_pool.next,c.util.ZNPNode_ZPP_Listener.zpp_pool.next=null,c.util.ZNPNode_ZPP_Listener.zpp_pool=a;for(;null!=c.dynamics.ZPP_SensorArbiter.zpp_pool;)a=c.dynamics.ZPP_SensorArbiter.zpp_pool.next,c.dynamics.ZPP_SensorArbiter.zpp_pool.next=null,c.dynamics.ZPP_SensorArbiter.zpp_pool=
a;for(;null!=c.dynamics.ZPP_FluidArbiter.zpp_pool;)a=c.dynamics.ZPP_FluidArbiter.zpp_pool.next,c.dynamics.ZPP_FluidArbiter.zpp_pool.next=null,c.dynamics.ZPP_FluidArbiter.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_ToiEvent.zpp_pool;)a=c.util.ZNPNode_ZPP_ToiEvent.zpp_pool.next,c.util.ZNPNode_ZPP_ToiEvent.zpp_pool.next=null,c.util.ZNPNode_ZPP_ToiEvent.zpp_pool=a;for(;null!=c.dynamics.ZPP_ColArbiter.zpp_pool;)a=c.dynamics.ZPP_ColArbiter.zpp_pool.next,c.dynamics.ZPP_ColArbiter.zpp_pool.next=null,c.dynamics.ZPP_ColArbiter.zpp_pool=
a;for(;null!=c.util.ZNPNode_ConvexResult.zpp_pool;)a=c.util.ZNPNode_ConvexResult.zpp_pool.next,c.util.ZNPNode_ConvexResult.zpp_pool.next=null,c.util.ZNPNode_ConvexResult.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_GeomPoly.zpp_pool;)a=c.util.ZNPNode_ZPP_GeomPoly.zpp_pool.next,c.util.ZNPNode_ZPP_GeomPoly.zpp_pool.next=null,c.util.ZNPNode_ZPP_GeomPoly.zpp_pool=a;for(;null!=c.util.ZNPNode_RayResult.zpp_pool;)a=c.util.ZNPNode_RayResult.zpp_pool.next,c.util.ZNPNode_RayResult.zpp_pool.next=null,c.util.ZNPNode_RayResult.zpp_pool=
a;for(;null!=c.util.ZPP_PubPool.poolGeomPoly;)a=c.util.ZPP_PubPool.poolGeomPoly.zpp_pool,c.util.ZPP_PubPool.poolGeomPoly.zpp_pool=null,c.util.ZPP_PubPool.poolGeomPoly=a;for(;null!=c.util.ZPP_PubPool.poolVec2;)a=c.util.ZPP_PubPool.poolVec2.zpp_pool,c.util.ZPP_PubPool.poolVec2.zpp_pool=null,c.util.ZPP_PubPool.poolVec2=a;for(;null!=c.util.ZPP_PubPool.poolVec3;)a=c.util.ZPP_PubPool.poolVec3.zpp_pool,c.util.ZPP_PubPool.poolVec3.zpp_pool=null,c.util.ZPP_PubPool.poolVec3=a};f.util.Debug.createGraphic=function(a){if(null==
a)throw"Error: Cannot create debug graphic for null Body";var b=new h.display.Shape,d=b.graphics,k=H["int"](16777215*Math.exp(-a.zpp_inner_i.id/1500));d.lineStyle(.1,(.7*((k&16711680)>>16)|0)<<16|(.7*((k&65280)>>8)|0)<<8|.7*(k&255)|0,1);for(a=a.zpp_inner.wrap_shapes.iterator();a.hasNext();){var e;a.zpp_critical=!1;e=a.zpp_inner.at(a.zpp_i++);if(e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){var g;g=e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?e.zpp_inner.circle.outer_zn:null;d.drawCircle(function(a){null==
g.zpp_inner.wrap_localCOM&&(g.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?g.zpp_inner.circle.setupLocalCOM():g.zpp_inner.polygon.setupLocalCOM());return g.zpp_inner.wrap_localCOM}(this).get_x(),function(a){null==g.zpp_inner.wrap_localCOM&&(g.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?g.zpp_inner.circle.setupLocalCOM():g.zpp_inner.polygon.setupLocalCOM());return g.zpp_inner.wrap_localCOM}(this).get_y(),g.zpp_inner_zn.radius)}else{k=e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_POLYGON?
e.zpp_inner.polygon.outer_zn:null;d.moveTo(function(a){null==e.zpp_inner.wrap_localCOM&&(e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?e.zpp_inner.circle.setupLocalCOM():e.zpp_inner.polygon.setupLocalCOM());return e.zpp_inner.wrap_localCOM}(this).get_x(),function(a){null==e.zpp_inner.wrap_localCOM&&(e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?e.zpp_inner.circle.setupLocalCOM():e.zpp_inner.polygon.setupLocalCOM());return e.zpp_inner.wrap_localCOM}(this).get_y());var p=0;null==k.zpp_inner_zn.wrap_gverts&&
k.zpp_inner_zn.getgverts();for(var f=k.zpp_inner_zn.wrap_gverts.get_length();p<f;){var B=p++;null==k.zpp_inner_zn.wrap_lverts&&k.zpp_inner_zn.getlverts();var w=k.zpp_inner_zn.wrap_lverts.at(B);d.lineTo(function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";w.zpp_inner.validate();return w.zpp_inner.x}(this),function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";w.zpp_inner.validate();return w.zpp_inner.y}(this))}null==k.zpp_inner_zn.wrap_lverts&&
k.zpp_inner_zn.getlverts();var l=k.zpp_inner_zn.wrap_lverts.at(0);d.lineTo(function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.x}(this),function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.y}(this))}if(e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){var t;t=e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?e.zpp_inner.circle.outer_zn:
null;d.moveTo(function(a){null==t.zpp_inner.wrap_localCOM&&(t.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?t.zpp_inner.circle.setupLocalCOM():t.zpp_inner.polygon.setupLocalCOM());return t.zpp_inner.wrap_localCOM}(this).get_x()+.3*t.zpp_inner_zn.radius,function(a){null==t.zpp_inner.wrap_localCOM&&(t.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?t.zpp_inner.circle.setupLocalCOM():t.zpp_inner.polygon.setupLocalCOM());return t.zpp_inner.wrap_localCOM}(this).get_y());d.lineTo(function(a){null==
t.zpp_inner.wrap_localCOM&&(t.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?t.zpp_inner.circle.setupLocalCOM():t.zpp_inner.polygon.setupLocalCOM());return t.zpp_inner.wrap_localCOM}(this).get_x()+t.zpp_inner_zn.radius,function(a){null==t.zpp_inner.wrap_localCOM&&(t.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?t.zpp_inner.circle.setupLocalCOM():t.zpp_inner.polygon.setupLocalCOM());return t.zpp_inner.wrap_localCOM}(this).get_y())}}return b};f.util.Debug.prototype={zpp_inner:null,drawCollisionArbiters:null,
drawFluidArbiters:null,drawSensorArbiters:null,drawBodies:null,drawBodyDetail:null,drawShapeDetail:null,drawShapeAngleIndicators:null,drawConstraints:null,get_bgColour:function(){return this.zpp_inner.bg_col},set_bgColour:function(a){this.zpp_inner.d_shape.setbg(a);return this.zpp_inner.bg_col},colour:null,get_display:function(){return this.zpp_inner.d_shape.shape},cullingEnabled:null,get_transform:function(){null==this.zpp_inner.xform&&this.zpp_inner.setform();return this.zpp_inner.xform.outer},
set_transform:function(a){if(null==a)throw"Error: Cannot set Debug::transform to null";null==this.zpp_inner.xform&&this.zpp_inner.setform();this.zpp_inner.xform.outer.set(a);null==this.zpp_inner.xform&&this.zpp_inner.setform();return this.zpp_inner.xform.outer},clear:function(){},flush:function(){},draw:function(a){},drawLine:function(a,b,d){},drawCurve:function(a,b,d,c){},drawCircle:function(a,b,d){},drawAABB:function(a,b){},drawFilledTriangle:function(a,b,d,c){},drawFilledCircle:function(a,b,d){},
drawPolygon:function(a,b){},drawFilledPolygon:function(a,b){},drawSpring:function(a,b,d,c,e){},__class__:f.util.Debug,__properties__:{set_transform:"set_transform",get_transform:"get_transform",get_display:"get_display",set_bgColour:"set_bgColour",get_bgColour:"get_bgColour"}};f.util.ShapeDebug=function(a,b,d){null==d&&(d=3355443);this.thickness=0;this.zpp_inner_zn=null;if(0>=a)throw"Error: Debug width must be > 0";if(0>=b)throw"Error: Debug height must be > 0";c.util.ZPP_Debug.internal=!0;f.util.Debug.call(this);
c.util.ZPP_Debug.internal=!1;this.zpp_inner_zn=new c.util.ZPP_ShapeDebug(a,b);this.zpp_inner_zn.outer_zn=this;this.zpp_inner=this.zpp_inner_zn;this.zpp_inner.outer=this;this.zpp_inner.d_shape.setbg(d);this.zpp_inner.bg_col;this.thickness=.1};m["nape.util.ShapeDebug"]=f.util.ShapeDebug;f.util.ShapeDebug.__name__=["nape","util","ShapeDebug"];f.util.ShapeDebug.__super__=f.util.Debug;f.util.ShapeDebug.prototype=F(f.util.Debug.prototype,{zpp_inner_zn:null,thickness:null,clear:function(){this.zpp_inner_zn.graphics.clear()},
drawLine:function(a,b,d){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: drawLine::start cannot be null";if(null==b)throw"Error: drawLine::end cannot be null";var c=this.zpp_inner_zn.graphics;c.lineStyle(this.thickness,
d&16777215,1);if(this.zpp_inner.xnull)c.moveTo(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)),c.lineTo(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=
b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)),a.zpp_inner.weak?(a.dispose(),!0):!1,b.zpp_inner.weak?(b.dispose(),!0):!1;else{var e=this.zpp_inner.xform.outer.transform(a);c.moveTo(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();
return e.zpp_inner.y}(this));e.dispose();e=this.zpp_inner.xform.outer.transform(b);c.lineTo(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this));e.dispose()}},drawCurve:function(a,b,d,c){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";
if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: drawCurve::start cannot be null";if(null==b)throw"Error: drawCurve::control cannot be null";if(null==d)throw"Error: drawCurve::end cannot be null";var e=this.zpp_inner_zn.graphics;e.lineStyle(this.thickness,c&16777215,1);if(this.zpp_inner.xnull)e.moveTo(function(b){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)),e.curveTo(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.y}(this),function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.x}(this),function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.y}(this)),a.zpp_inner.weak?(a.dispose(),!0):!1,b.zpp_inner.weak?(b.dispose(),!0):!1,d.zpp_inner.weak?(d.dispose(),!0):!1;else{var g=this.zpp_inner.xform.outer.transform(a),p=
this.zpp_inner.xform.outer.transform(b),f=this.zpp_inner.xform.outer.transform(d);e.moveTo(function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.x}(this),function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.y}(this));e.curveTo(function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();
return p.zpp_inner.x}(this),function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.y}(this),function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.x}(this),function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.y}(this));g.dispose();p.dispose();f.dispose()}},drawCircle:function(a,
b,d){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: drawCircle::position cannot be null";if(b!=b||0>b)throw"Error: drawCircle::radius must be >=0";var c=this.zpp_inner_zn.graphics;c.lineStyle(this.thickness,d&16777215,1);if(this.zpp_inner.xnull)c.drawCircle(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),b),a.zpp_inner.weak?(a.dispose(),!0):!1;else{var e=this.zpp_inner.xform.outer.transform(a);c.drawCircle(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.y}(this),b*this.zpp_inner.xdet);e.dispose()}},drawAABB:function(a,b){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(null==a)throw"Error: drawAABB::aabb cannot be null";var d=this.zpp_inner_zn.graphics;d.lineStyle(this.thickness,b&16777215,1);if(this.zpp_inner.xnull)d.drawRect(function(b){a.zpp_inner.validate();return a.zpp_inner.minx}(this),function(b){a.zpp_inner.validate();
return a.zpp_inner.miny}(this),function(b){a.zpp_inner.validate();return a.zpp_inner.width()}(this),function(b){a.zpp_inner.validate();return a.zpp_inner.height()}(this));else{var c=this.zpp_inner.xform.outer.transform(a.zpp_inner.getmin()),e=f.geom.Vec2.get(function(b){a.zpp_inner.validate();return a.zpp_inner.width()}(this),0,null),g=this.zpp_inner.xform.outer.transform(e,!0),p=f.geom.Vec2.get(0,function(b){a.zpp_inner.validate();return a.zpp_inner.height()}(this),null),x=this.zpp_inner.xform.outer.transform(p,
!0);d.moveTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this));d.lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this)+function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
g.zpp_inner.validate();return g.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this)+function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.y}(this));d.lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this)+function(a){if(null!=
g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.x}(this)+function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this)+function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();
return g.zpp_inner.y}(this)+function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.y}(this));d.lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this)+function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
c.zpp_inner.validate();return c.zpp_inner.y}(this)+function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.y}(this));d.lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this));c.dispose();
e.dispose();g.dispose();p.dispose();x.dispose()}},drawFilledTriangle:function(a,b,d,c){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a||null==b||null==
d)throw"Error: drawFilledTriangle can't use null points";var e=this.zpp_inner_zn.graphics;e.lineStyle(0,0,0);e.beginFill(c&16777215,1);if(this.zpp_inner.xnull)e.moveTo(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)),e.lineTo(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)),e.lineTo(function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.x}(this),function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.y}(this)),a.zpp_inner.weak?
(a.dispose(),!0):!1,b.zpp_inner.weak?(b.dispose(),!0):!1,d.zpp_inner.weak?(d.dispose(),!0):!1;else{var g=this.zpp_inner.xform.outer.transform(a);e.moveTo(function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.x}(this),function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.y}(this));g.dispose();g=this.zpp_inner.xform.outer.transform(b);e.lineTo(function(a){if(null!=
g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.x}(this),function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.y}(this));g.dispose();g=this.zpp_inner.xform.outer.transform(d);e.lineTo(function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.x}(this),function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
g.zpp_inner.validate();return g.zpp_inner.y}(this));g.dispose()}e.endFill()},drawFilledCircle:function(a,b,d){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: drawFilledCircle::position cannot be null";if(b!=b||0>b)throw"Error: drawFilledCircle::radius must be >=0";var c=this.zpp_inner_zn.graphics;
c.lineStyle(0,0,0);c.beginFill(d&16777215,1);if(this.zpp_inner.xnull)c.drawCircle(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),b),a.zpp_inner.weak?(a.dispose(),!0):!1;else{var e=this.zpp_inner.xform.outer.transform(a);c.drawCircle(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.x}(this),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this),b*this.zpp_inner.xdet);e.dispose()}c.endFill()},drawPolygon:function(a,b){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(null==a)throw"Error: Cannot draw null polygon";var d=this.zpp_inner_zn.graphics;
d.lineStyle(this.thickness,b&16777215,1);var c=null,e=!0;if(this.zpp_inner.xnull)if(a instanceof Array&&null==a.__enum__)for(var g=0;g<a.length;){var p=a[g];++g;if(null==p)throw"Error: Array<Vec2> contains null objects";if(!E.Boot.__instanceof(p,f.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";var x=p;if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(e){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c=f.geom.Vec2.get(function(a){if(null!=
x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.x}(this),function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.y}(this),!1);d.moveTo(function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.x}(this),function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
x.zpp_inner.validate();return x.zpp_inner.y}(this))}else d.lineTo(function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.x}(this),function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.y}(this));e=!1}else if(E.Boot.__instanceof(a,f.geom.Vec2List))for(g=a.iterator();g.hasNext();){var h;g.zpp_critical=!1;h=g.zpp_inner.at(g.zpp_i++);if(null==h)throw"Error: Vec2List contains null objects";
if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(e){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c=f.geom.Vec2.get(function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.x}(this),function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.y}(this),!1);d.moveTo(function(a){if(null!=
h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.x}(this),function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.y}(this))}else d.lineTo(function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.x}(this),function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
h.zpp_inner.validate();return h.zpp_inner.y}(this));e=!1}else if(E.Boot.__instanceof(a,f.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";g=a.zpp_inner.vertices;if(null!=g){p=g;do{var w=f.geom.Vec2.get(p.x,p.y,null),p=p.next;if(e){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c=f.geom.Vec2.get(function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";w.zpp_inner.validate();return w.zpp_inner.x}(this),
function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";w.zpp_inner.validate();return w.zpp_inner.y}(this),!1);d.moveTo(function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";w.zpp_inner.validate();return w.zpp_inner.x}(this),function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";w.zpp_inner.validate();return w.zpp_inner.y}(this))}else d.lineTo(function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
w.zpp_inner.validate();return w.zpp_inner.x}(this),function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";w.zpp_inner.validate();return w.zpp_inner.y}(this));e=!1;w.dispose()}while(p!=g)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";else if(a instanceof Array&&null==a.__enum__)for(g=0;g<a.length;){p=a[g];++g;if(null==p)throw"Error: Array<Vec2> contains null objects";if(!E.Boot.__instanceof(p,
f.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";var l=this.zpp_inner.xform.outer.transform(p);e?(c=l,d.moveTo(function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.x}(this),function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.y}(this))):d.lineTo(function(a){if(null!=
l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.x}(this),function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.y}(this));e||l.dispose();e=!1}else if(E.Boot.__instanceof(a,f.geom.Vec2List))for(g=a.iterator();g.hasNext();){g.zpp_critical=!1;p=g.zpp_inner.at(g.zpp_i++);if(null==p)throw"Error: Vec2List contains null objects";if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
var t=this.zpp_inner.xform.outer.transform(p);e?(c=t,d.moveTo(function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.x}(this),function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.y}(this))):d.lineTo(function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.x}(this),
function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.y}(this));e||t.dispose();e=!1}else if(E.Boot.__instanceof(a,f.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";g=a.zpp_inner.vertices;if(null!=g){p=g;do{var Ja=f.geom.Vec2.get(p.x,p.y,null),p=p.next,m=this.zpp_inner.xform.outer.transform(Ja);e?(c=m,d.moveTo(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
m.zpp_inner.validate();return m.zpp_inner.x}(this),function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.y}(this))):d.lineTo(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.x}(this),function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.y}(this));e||m.dispose();
e=!1;Ja.dispose()}while(p!=g)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";d.lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this));c.dispose();if(a instanceof Array&&null==a.__enum__)for(d=
0;d<a.length;){e=a[d];if(g=e.zpp_inner.weak)e.dispose(),g=!0;g?a.splice(d,1):d++}else if(E.Boot.__instanceof(a,f.geom.Vec2List))for(null!=a.zpp_inner._validate&&a.zpp_inner._validate(),d=a.zpp_inner.inner,e=null,g=d.head;null!=g;)p=g.elt,p.outer.zpp_inner.weak?(g=d.erase(e),p.outer.zpp_inner.weak?(p.outer.dispose(),!0):!1):(e=g,g=g.next)},drawFilledPolygon:function(a,b){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";
if(null==a)throw"Error: Cannot draw null polygon!";var d=this.zpp_inner_zn.graphics;d.beginFill(b&16777215,1);d.lineStyle(0,0,0);var c=null,e=!0;if(this.zpp_inner.xnull)if(a instanceof Array&&null==a.__enum__)for(var g=0;g<a.length;){var p=a[g];++g;if(null==p)throw"Error: Array<Vec2> contains null objects";if(!E.Boot.__instanceof(p,f.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";var x=p;if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(e){if(null!=
x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c=f.geom.Vec2.get(function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.x}(this),function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.y}(this),!1);d.moveTo(function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();
return x.zpp_inner.x}(this),function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.y}(this))}else d.lineTo(function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.x}(this),function(a){if(null!=x&&x.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x.zpp_inner.validate();return x.zpp_inner.y}(this));e=!1}else if(E.Boot.__instanceof(a,
f.geom.Vec2List))for(g=a.iterator();g.hasNext();){var h;g.zpp_critical=!1;h=g.zpp_inner.at(g.zpp_i++);if(null==h)throw"Error: Vec2List contains null objects";if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(e){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c=f.geom.Vec2.get(function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.x}(this),function(a){if(null!=
h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.y}(this),!1);d.moveTo(function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.x}(this),function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.y}(this))}else d.lineTo(function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
h.zpp_inner.validate();return h.zpp_inner.x}(this),function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.y}(this));e=!1}else if(E.Boot.__instanceof(a,f.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";g=a.zpp_inner.vertices;if(null!=g){p=g;do{var w=f.geom.Vec2.get(p.x,p.y,null),p=p.next;if(e){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
c=f.geom.Vec2.get(function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";w.zpp_inner.validate();return w.zpp_inner.x}(this),function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";w.zpp_inner.validate();return w.zpp_inner.y}(this),!1);d.moveTo(function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";w.zpp_inner.validate();return w.zpp_inner.x}(this),function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
w.zpp_inner.validate();return w.zpp_inner.y}(this))}else d.lineTo(function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";w.zpp_inner.validate();return w.zpp_inner.x}(this),function(a){if(null!=w&&w.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";w.zpp_inner.validate();return w.zpp_inner.y}(this));e=!1;w.dispose()}while(p!=g)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";
else if(a instanceof Array&&null==a.__enum__)for(g=0;g<a.length;){p=a[g];++g;if(null==p)throw"Error: Array<Vec2> contains null objects";if(!E.Boot.__instanceof(p,f.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";var l=this.zpp_inner.xform.outer.transform(p);e?(c=l,d.moveTo(function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.x}(this),
function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.y}(this))):d.lineTo(function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.x}(this),function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.y}(this));e||l.dispose();e=!1}else if(E.Boot.__instanceof(a,f.geom.Vec2List))for(g=
a.iterator();g.hasNext();){g.zpp_critical=!1;p=g.zpp_inner.at(g.zpp_i++);if(null==p)throw"Error: Vec2List contains null objects";if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";var t=this.zpp_inner.xform.outer.transform(p);e?(c=t,d.moveTo(function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.x}(this),function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
t.zpp_inner.validate();return t.zpp_inner.y}(this))):d.lineTo(function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.x}(this),function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.y}(this));e||t.dispose();e=!1}else if(E.Boot.__instanceof(a,f.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
g=a.zpp_inner.vertices;if(null!=g){p=g;do{var m=f.geom.Vec2.get(p.x,p.y,null),p=p.next,A=this.zpp_inner.xform.outer.transform(m);e?(c=A,d.moveTo(function(a){if(null!=A&&A.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";A.zpp_inner.validate();return A.zpp_inner.x}(this),function(a){if(null!=A&&A.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";A.zpp_inner.validate();return A.zpp_inner.y}(this))):d.lineTo(function(a){if(null!=A&&A.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
A.zpp_inner.validate();return A.zpp_inner.x}(this),function(a){if(null!=A&&A.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";A.zpp_inner.validate();return A.zpp_inner.y}(this));e||A.dispose();e=!1;m.dispose()}while(p!=g)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";d.lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this),
function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this));c.dispose();d.endFill();if(a instanceof Array&&null==a.__enum__)for(d=0;d<a.length;){e=a[d];if(g=e.zpp_inner.weak)e.dispose(),g=!0;g?a.splice(d,1):d++}else if(E.Boot.__instanceof(a,f.geom.Vec2List))for(null!=a.zpp_inner._validate&&a.zpp_inner._validate(),d=a.zpp_inner.inner,e=null,g=d.head;null!=g;)p=g.elt,p.outer.zpp_inner.weak?(g=d.erase(e),p.outer.zpp_inner.weak?
(p.outer.dispose(),!0):!1):(e=g,g=g.next)},draw:function(a){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(this.zpp_inner.xnull)if(E.Boot.__instanceof(a,f.space.Space))this.zpp_inner_zn.draw_space(E.Boot.__cast(a,f.space.Space).zpp_inner,null,1,!0);else if(E.Boot.__instanceof(a,f.phys.Compound))this.zpp_inner_zn.draw_compound(E.Boot.__cast(a,f.phys.Compound).zpp_inner,null,1,!0);else if(E.Boot.__instanceof(a,
f.phys.Body))this.zpp_inner_zn.draw_body(E.Boot.__cast(a,f.phys.Body).zpp_inner,null,1,!0);else if(E.Boot.__instanceof(a,f.shape.Shape))this.zpp_inner_zn.draw_shape(E.Boot.__cast(a,f.shape.Shape).zpp_inner,null,1,!0);else if(E.Boot.__instanceof(a,f.constraint.Constraint))E.Boot.__cast(a,f.constraint.Constraint).zpp_inner.draw(this);else throw"Error: Unhandled object type for Debug draw";else if(E.Boot.__instanceof(a,f.space.Space))this.zpp_inner_zn.draw_space(E.Boot.__cast(a,f.space.Space).zpp_inner,
this.zpp_inner.xform,this.zpp_inner.xdet,!1);else if(E.Boot.__instanceof(a,f.phys.Body))this.zpp_inner_zn.draw_body(E.Boot.__cast(a,f.phys.Body).zpp_inner,this.zpp_inner.xform,this.zpp_inner.xdet,!1);else if(E.Boot.__instanceof(a,f.shape.Shape))this.zpp_inner_zn.draw_shape(E.Boot.__cast(a,f.shape.Shape).zpp_inner,this.zpp_inner.xform,this.zpp_inner.xdet,!1);else if(E.Boot.__instanceof(a,f.constraint.Constraint))E.Boot.__cast(a,f.constraint.Constraint).zpp_inner.draw(this);else throw"Error: Unhandled object type for Debug draw";
},drawSpring:function(a,b,d,c,e){null==e&&(e=3);null==c&&(c=3);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: drawCurve::start cannot be null";if(null==b)throw"Error: drawCurve::end cannot be null";if(0>c)throw"Error: drawCurve::coils must be >= 0";if(0==c)this.drawLine(a,b,d);else{var g;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();g=b.zpp_inner.x;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();g-=a.zpp_inner.x;var p;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();p=b.zpp_inner.y;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();p-=a.zpp_inner.y;var x=1/(4*c);g*=x;p*=x;var h=x=0,x=g,h=p;if(.1>x*x+h*h)return;var w=1/Math.sqrt(x*x+h*h),l=x*w,x=
-(h*w);e*=2;var x=x*e,h=l*e,t;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t=f.geom.Vec2.get(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),!1);e=f.geom.Vec2.get(null,null,null);for(var m=f.geom.Vec2.get(null,null,null),l=0;l<c;)l++,
e.set_x(function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.x}(this)+g+x),e.set_y(function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.y}(this)+p+h),m.set_x(function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.x}(this)+2*g),m.set_y(function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
t.zpp_inner.validate();return t.zpp_inner.y}(this)+2*p),this.drawCurve(t,e,m,d),t.set_x(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.x}(this)),t.set_y(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.y}(this)),e.set_x(function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();
return t.zpp_inner.x}(this)+g-x),e.set_y(function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.y}(this)+p-h),m.set_x(function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.x}(this)+2*g),m.set_y(function(a){if(null!=t&&t.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";t.zpp_inner.validate();return t.zpp_inner.y}(this)+2*p),
this.drawCurve(t,e,m,d),t.set_x(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.x}(this)),t.set_y(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.y}(this));t.dispose();e.dispose();m.dispose()}a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1},__class__:f.util.ShapeDebug});h.AssetCache=function(){this.__enabled=
!0;this.bitmapData=new v.ds.StringMap;this.font=new v.ds.StringMap;this.sound=new v.ds.StringMap};m["openfl.AssetCache"]=h.AssetCache;h.AssetCache.__name__=["openfl","AssetCache"];h.AssetCache.prototype={bitmapData:null,font:null,sound:null,get_enabled:function(){return this.__enabled},set_enabled:function(a){return this.__enabled=a},__enabled:null,clear:function(a){if(null==a)this.bitmapData=new v.ds.StringMap,this.font=new v.ds.StringMap,this.sound=new v.ds.StringMap;else{for(var b=this.bitmapData.keys();b.hasNext();){var d=
b.next();O.startsWith(d,a)&&this.bitmapData.remove(d)}for(b=this.font.keys();b.hasNext();)d=b.next(),O.startsWith(d,a)&&this.font.remove(d);for(b=this.sound.keys();b.hasNext();)d=b.next(),O.startsWith(d,a)&&this.sound.remove(d)}},getBitmapData:function(a){return this.bitmapData.get(a)},getFont:function(a){return this.font.get(a)},getSound:function(a){return this.sound.get(a)},hasBitmapData:function(a){return this.bitmapData.exists(a)},hasFont:function(a){return this.font.exists(a)},hasSound:function(a){return this.sound.exists(a)},
removeBitmapData:function(a){return this.bitmapData.remove(a)},removeFont:function(a){return this.font.remove(a)},removeSound:function(a){return this.sound.remove(a)},setBitmapData:function(a,b){this.bitmapData.set(a,b)},setFont:function(a,b){this.font.set(a,b)},setSound:function(a,b){this.sound.set(a,b)},__class__:h.AssetCache,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};h.Assets=function(){};m["openfl.Assets"]=h.Assets;h.Assets.__name__=["openfl","Assets"];h.Assets.exists=
function(a,b){h.Assets.initialize();var d=!1;null==b&&(b=h.AssetType.BINARY);var c=a.indexOf(":"),e=a.substring(0,c),c=a.substring(c+1),e=h.Assets.getLibrary(e);null!=e?d=null!=e&&e.exists(c,b):null;return d};h.Assets.getBitmapData=function(a,b){null==b&&(b=!0);h.Assets.initialize();var d=null,c,e;if(b&&(c=h.Assets.cache).get_enabled()&&c.bitmapData.exists(a)&&h.Assets.isValidBitmapData(e=h.Assets.cache.bitmapData.get(a)))return e;var g=a.indexOf(":");e=a.substring(0,g);g=a.substring(g+1);e=h.Assets.getLibrary(e);
null!=e?e.exists(g,h.AssetType.IMAGE)?(d=e.getBitmapData(g),b?c.get_enabled()&&c.bitmapData.set(a,d):d=d.clone()):null:null;return d};h.Assets.getBytes=function(a){h.Assets.initialize();var b=null,d=a.indexOf(":"),c=a.substring(0,d);a=a.substring(d+1);c=h.Assets.getLibrary(c);null!=c?c.exists(a,h.AssetType.BINARY)?c.isLocal(a,h.AssetType.BINARY)?b=c.getBytes(a):null:null:null;return b};h.Assets.getFont=function(a,b){null==b&&(b=!0);h.Assets.initialize();var d=null;if(b&&h.Assets.cache.get_enabled()&&
h.Assets.cache.font.exists(a))return h.Assets.cache.font.get(a);var c=a.indexOf(":"),e=a.substring(0,c),c=a.substring(c+1),e=h.Assets.getLibrary(e);null!=e?e.exists(c,h.AssetType.FONT)?e.isLocal(c,h.AssetType.FONT)?(d=e.getFont(c),b&&h.Assets.cache.get_enabled()&&h.Assets.cache.font.set(a,d)):null:null:null;return d};h.Assets.getLibrary=function(a){return h.Assets.libraries.get(null==a||""==a?"default":a)};h.Assets.getMovieClip=function(a){h.Assets.initialize();var b=null,d=a.indexOf(":"),c=a.substring(0,
d);a=a.substring(d+1);c=h.Assets.getLibrary(c);null!=c?c.exists(a,h.AssetType.MOVIE_CLIP)?c.isLocal(a,h.AssetType.MOVIE_CLIP)?b=c.getMovieClip(a):null:null:null;return b};h.Assets.getMusic=function(a,b){null==b&&(b=!0);h.Assets.initialize();var d=null;if(b&&h.Assets.cache.get_enabled()&&h.Assets.cache.sound.exists(a))return h.Assets.cache.sound.get(a);var c=a.indexOf(":"),e=a.substring(0,c),c=a.substring(c+1),e=h.Assets.getLibrary(e);null!=e?e.exists(c,h.AssetType.MUSIC)?e.isLocal(c,h.AssetType.MUSIC)?
(d=e.getMusic(c),b&&h.Assets.cache.get_enabled()&&h.Assets.cache.sound.set(a,d)):null:null:null;return d};h.Assets.getPath=function(a){h.Assets.initialize();var b=null,d=a.indexOf(":"),c=a.substring(0,d);a=a.substring(d+1);c=h.Assets.getLibrary(c);null!=c?c.exists(a,null)?b=c.getPath(a):null:null;return b};h.Assets.getSound=function(a,b){null==b&&(b=!0);h.Assets.initialize();var d=null;if(b&&h.Assets.cache.get_enabled()&&h.Assets.cache.sound.exists(a))return h.Assets.cache.sound.get(a);var c=a.indexOf(":"),
e=a.substring(0,c),c=a.substring(c+1),e=h.Assets.getLibrary(e);null!=e?e.exists(c,h.AssetType.SOUND)?e.isLocal(c,h.AssetType.SOUND)?(d=e.getMusic(c),b&&h.Assets.cache.get_enabled()&&h.Assets.cache.sound.set(a,d)):null:null:null;return d};h.Assets.getText=function(a){h.Assets.initialize();var b=null,d=a.indexOf(":"),c=a.substring(0,d);a=a.substring(d+1);c=h.Assets.getLibrary(c);null!=c?c.exists(a,h.AssetType.TEXT)?c.isLocal(a,h.AssetType.TEXT)?b=c.getText(a):null:null:null;return b};h.Assets.initialize=
function(){h.Assets.initialized||(h.Assets.registerLibrary("default",new Sb),h.Assets.initialized=!0)};h.Assets.isLocal=function(a,b,d){null==d&&(d=!0);h.Assets.initialize();var c=!1;if(d&&h.Assets.cache.get_enabled()&&((b==h.AssetType.IMAGE||null==b)&&h.Assets.cache.bitmapData.exists(a)||(b==h.AssetType.FONT||null==b)&&h.Assets.cache.font.exists(a)||(b==h.AssetType.SOUND||b==h.AssetType.MUSIC||null==b)&&h.Assets.cache.sound.exists(a)))return!0;var e=a.indexOf(":");d=a.substring(0,e);a=a.substring(e+
1);d=h.Assets.getLibrary(d);null!=d?c=d.isLocal(a,b):null;return c};h.Assets.isValidBitmapData=function(a){return!0};h.Assets.isValidSound=function(a){return!0};h.Assets.list=function(a){h.Assets.initialize();for(var b=[],d=h.Assets.libraries.iterator();d.hasNext();){var c=d.next().list(a);null!=c&&(b=b.concat(c))}return b};h.Assets.loadBitmapData=function(a,b,d){null==d&&(d=!0);h.Assets.initialize();if(d&&h.Assets.cache.get_enabled()&&h.Assets.cache.bitmapData.exists(a))d=h.Assets.cache.bitmapData.get(a),
b(d);else{var c=null,e=null,g=null,p=a.indexOf(":"),f=a.substring(0,p),p=a.substring(p+1),f=h.Assets.getLibrary(f);if(null!=f){if(c=f.exists(p,h.AssetType.IMAGE))e=p,g=f}else null;if(null!=c){if(c){d&&h.Assets.cache.get_enabled()?g.loadBitmapData(e,function(d){h.Assets.cache.bitmapData.set(a,d);b(d)}):g.loadBitmapData(e,b);return}null}b(null)}};h.Assets.loadBytes=function(a,b){h.Assets.initialize();var d=!1,c=a.indexOf(":"),e=a.substring(0,c),c=a.substring(c+1),e=h.Assets.getLibrary(e);null!=e?(d=
e.exists(c,h.AssetType.BINARY))?e.loadBytes(c,b):null:null;d||b(null)};h.Assets.loadFont=function(a,b,d){null==d&&(d=!0);h.Assets.initialize();if(d&&h.Assets.cache.get_enabled()&&h.Assets.cache.font.exists(a))b(h.Assets.cache.font.get(a));else{var c=null,e=null,g=null,p=a.indexOf(":"),f=a.substring(0,p),p=a.substring(p+1),f=h.Assets.getLibrary(f);if(null!=f){if(g=f.exists(p,h.AssetType.FONT))c=f,e=p}else null;if(null!=g){if(g){d&&h.Assets.cache.get_enabled()?c.loadFont(e,function(d){h.Assets.cache.font.set(a,
d);b(d)}):c.loadFont(e,b);return}null}b(null)}};h.Assets.loadLibrary=function(a,b){h.Assets.initialize();var d=h.Assets.getText("libraries/"+a+".dat");null!=d&&""!=d?(d=new v.Unserializer(d),d.setResolver({resolveEnum:h.Assets.resolveEnum,resolveClass:h.Assets.resolveClass}),d=d.unserialize(),h.Assets.libraries.set(a,d),d.load(b)):null};h.Assets.loadMusic=function(a,b,d){null==d&&(d=!0);h.Assets.initialize();if(d&&h.Assets.cache.get_enabled()&&h.Assets.cache.sound.exists(a))d=h.Assets.cache.sound.get(a),
b(d);else{var c=null,e=null,g=null,p=a.indexOf(":"),f=a.substring(0,p),p=a.substring(p+1),f=h.Assets.getLibrary(f);if(null!=f){if(g=f.exists(p,h.AssetType.MUSIC))c=f,e=p}else null;if(null!=g){if(g){d&&h.Assets.cache.get_enabled()?c.loadMusic(e,function(d){h.Assets.cache.sound.set(a,d);b(d)}):c.loadMusic(e,b);return}null}b(null)}};h.Assets.loadMovieClip=function(a,b){h.Assets.initialize();var d=!1,c=a.indexOf(":"),e=a.substring(0,c),c=a.substring(c+1),e=h.Assets.getLibrary(e);null!=e?(d=e.exists(c,
h.AssetType.MOVIE_CLIP))?e.loadMovieClip(c,b):null:null;d||b(null)};h.Assets.loadSound=function(a,b,d){null==d&&(d=!0);h.Assets.initialize();if(d&&h.Assets.cache.get_enabled()&&h.Assets.cache.sound.exists(a))d=h.Assets.cache.sound.get(a),b(d);else{var c=null,e=null,g=null,p=a.indexOf(":"),f=a.substring(0,p),p=a.substring(p+1),f=h.Assets.getLibrary(f);if(null!=f){if(g=f.exists(p,h.AssetType.SOUND))c=f,e=p}else null;if(null!=g){if(g){d&&h.Assets.cache.get_enabled()?c.loadSound(e,function(d){h.Assets.cache.sound.set(a,
d);b(d)}):c.loadSound(e,b);return}null}b(null)}};h.Assets.loadText=function(a,b){h.Assets.initialize();var d=!1,c=a.indexOf(":"),e=a.substring(0,c),c=a.substring(c+1),e=h.Assets.getLibrary(e);null!=e?(d=e.exists(c,h.AssetType.TEXT))?e.loadText(c,b):null:null;d||b(null)};h.Assets.registerLibrary=function(a,b){h.Assets.libraries.exists(a)&&h.Assets.unloadLibrary(a);h.Assets.libraries.set(a,b)};h.Assets.resolveClass=function(a){return S.resolveClass(a)};h.Assets.resolveEnum=function(a){return S.resolveEnum(a)};
h.Assets.unloadLibrary=function(a){h.Assets.initialize();for(var b=h.Assets.cache.bitmapData.keys();b.hasNext();){var d=b.next();d.substring(0,d.indexOf(":"))==a&&h.Assets.cache.bitmapData.remove(d)}h.Assets.libraries.remove(a)};h.AssetData=function(){};m["openfl.AssetData"]=h.AssetData;h.AssetData.__name__=["openfl","AssetData"];h.AssetData.prototype={id:null,path:null,type:null,__class__:h.AssetData};h.AssetType=m["openfl.AssetType"]={__ename__:["openfl","AssetType"],__constructs__:"BINARY FONT IMAGE MOVIE_CLIP MUSIC SOUND TEMPLATE TEXT".split(" ")};
h.AssetType.BINARY=["BINARY",0];h.AssetType.BINARY.__enum__=h.AssetType;h.AssetType.FONT=["FONT",1];h.AssetType.FONT.__enum__=h.AssetType;h.AssetType.IMAGE=["IMAGE",2];h.AssetType.IMAGE.__enum__=h.AssetType;h.AssetType.MOVIE_CLIP=["MOVIE_CLIP",3];h.AssetType.MOVIE_CLIP.__enum__=h.AssetType;h.AssetType.MUSIC=["MUSIC",4];h.AssetType.MUSIC.__enum__=h.AssetType;h.AssetType.SOUND=["SOUND",5];h.AssetType.SOUND.__enum__=h.AssetType;h.AssetType.TEMPLATE=["TEMPLATE",6];h.AssetType.TEMPLATE.__enum__=h.AssetType;
h.AssetType.TEXT=["TEXT",7];h.AssetType.TEXT.__enum__=h.AssetType;h.bitfive={};h.bitfive.NodeTools=function(){};m["openfl.bitfive.NodeTools"]=h.bitfive.NodeTools;h.bitfive.NodeTools.__name__=["openfl","bitfive","NodeTools"];h.bitfive.NodeTools.createElement=function(a){a=window.document.createElement(a);a.style.position="absolute";return a};h.bitfive.NodeTools.createInputElement=function(){var a;a=window.document.createElement("input");var b=a.style;b.position="absolute";b.outline="none";return a};
h.bitfive.NodeTools.createCanvasElement=function(){var a;a=window.document.createElement("canvas");var b=a.style;b.position="absolute";b.setProperty("-webkit-touch-callout","none",null);h.bitfive.StyleTools.setProperties(b,"user-select","none",63);return a};h.bitfive.StyleTools=function(){};m["openfl.bitfive.StyleTools"]=h.bitfive.StyleTools;h.bitfive.StyleTools.__name__=["openfl","bitfive","StyleTools"];h.bitfive.StyleTools.setPropertyNp=function(a,b,d){a.setProperty(b,d,null)};h.bitfive.StyleTools.setProperties=
function(a,b,d,c){null==c&&(c=31);c&1&&a.setProperty(""+b,d,null);c&2&&a.setProperty("-webkit-"+b,d,null);c&4&&a.setProperty("-moz-"+b,d,null);c&8&&a.setProperty("-ms-"+b,d,null);c&16&&a.setProperty("-o-"+b,d,null);c&32&&a.setProperty("-khtml-"+b,d,null)};h.display.Bitmap=function(a,b,d){this.smoothing=this.pixelSnapping=!1;h.display.DisplayObject.call(this);this.set_bitmapData(a)};m["openfl.display.Bitmap"]=h.display.Bitmap;h.display.Bitmap.__name__=["openfl","display","Bitmap"];h.display.Bitmap.__interfaces__=
[h.display.IBitmapDrawable];h.display.Bitmap.__super__=h.display.DisplayObject;h.display.Bitmap.prototype=F(h.display.DisplayObject.prototype,{bitmapData:null,smoothing:null,pixelSnapping:null,set_bitmapData:function(a){null!=this.bitmapData&&this.component.removeChild(this.bitmapData.component);null!=a&&this.component.appendChild(a.handle());return this.bitmapData=a},get_width:function(){return null!=this.__width?this.__width:null!=this.bitmapData?this.bitmapData.component.width:0},get_height:function(){return null!=
this.__height?this.__height:null!=this.bitmapData?this.bitmapData.component.height:0},drawToSurface:function(a,b,d,c,e,g,p){this.bitmapData.drawToSurface(a,b,d,c,e,g,p)},hitTestLocal:function(a,b,d,c){return(!c||this.visible)&&null!=this.bitmapData&&0<=a&&0<=b&&a<this.bitmapData.component.width&&b<this.bitmapData.component.height},__class__:h.display.Bitmap,__properties__:F(h.display.DisplayObject.prototype.__properties__,{set_bitmapData:"set_bitmapData"})});h.display.BitmapData=function(a,b,d,c){null==
d&&(d=!0);this.__sync=1;this.__transparent=d;this.__revision=0;this.__rect=new h.geom.Rectangle(0,0,a,b);this.component=h.bitfive.NodeTools.createCanvasElement();this.component.width=a;this.component.height=b;this.context=this.component.getContext("2d");h.display.BitmapData.setSmoothing(this.context,!0);this.__pixelData=this.context.createImageData(1,1);null==c&&(c=-1);d||(c|=-16777216);0!=(c&-16777216)&&this.fillRect(this.__rect,c)};m["openfl.display.BitmapData"]=h.display.BitmapData;h.display.BitmapData.__name__=
["openfl","display","BitmapData"];h.display.BitmapData.__interfaces__=[h.display.IBitmapDrawable];h.display.BitmapData.setSmoothing=function(a,b){a.imageSmoothingEnabled=a.oImageSmoothingEnabled=a.msImageSmoothingEnabled=a.webkitImageSmoothingEnabled=a.mozImageSmoothingEnabled=b};h.display.BitmapData.makeColor=function(a){return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+((a>>24&255)/255).toFixed(4)+")"};h.display.BitmapData.loadFromBytes=function(a,b,d){var c=new h.display.BitmapData(0,0);
c.__loadFromBytes(a,b,d);return c};h.display.BitmapData.__isPNG=function(a){if(8>a.length)return!1;a.position=0;return 137==a.data.getUint8(a.position++)&&80==a.data.getUint8(a.position++)&&78==a.data.getUint8(a.position++)&&71==a.data.getUint8(a.position++)&&13==a.data.getUint8(a.position++)&&10==a.data.getUint8(a.position++)&&26==a.data.getUint8(a.position++)&&10==a.data.getUint8(a.position++)};h.display.BitmapData.__isJPG=function(a){if(2>a.length)return!1;a.position=0;return 255==a.data.getUint8(a.position++)&&
216==a.data.getUint8(a.position++)};h.display.BitmapData.prototype={component:null,context:null,width:null,height:null,transparent:null,rect:null,get_rect:function(){return this.__rect.clone()},__rect:null,__imageData:null,__pixelData:null,__sync:null,__transparent:null,__revision:null,fillRect:function(a,b){null==a||0>=a.width||0>=a.height||(a.equals(this.__rect)&&this.__transparent&&0==(b&-16777216)?this.component.width=this.component.width:(this.__transparent?-16777216!=(b&-16777216)&&this.context.clearRect(a.x,
a.y,a.width,a.height):b|=-16777216,0!=(b&-16777216)&&(this.context.fillStyle=h.display.BitmapData.makeColor(b),this.context.fillRect(a.x,a.y,a.width,a.height)),this.__sync|=5))},clone:function(){this.syncCanvas();var a=new h.display.BitmapData(this.component.width,this.component.height,this.__transparent,0);a.context.drawImage(this.component,0,0);a.__sync|=5;return a},dispose:function(){this.component.width=this.component.height=1;this.__imageData=null;this.__sync=5},handle:function(){this.syncCanvas();
0!=(this.__sync&4)&&(this.__revision++,this.__sync&=-5);return this.component},drawToSurface:function(a,b,d,c,e,g,p){b.save();null!=p&&b.imageSmoothingEnabled!=p&&h.display.BitmapData.setSmoothing(b,p);null!=d&&(1==d.a&&0==d.b&&0==d.c&&1==d.d?b.translate(d.tx,d.ty):b.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty));b.drawImage(this.handle(),0,0);b.restore()},copyPixels:function(a,b,d,c,e,g){null==g&&(g=!1);this.syncCanvas();if(null!=c)throw"alphaBitmapData is not supported yet.";a=a.handle();var p,f;c=this.component.width;
e=this.component.height;if(!(null==a||0>=(p=a.width)||0>=(f=a.height))){var h=~~d.x;d=~~d.y;var w,l,t;null!=b?(w=b.x,l=b.y,t=b.width,b=b.height,0>w&&(t+=w,w=0),0>l&&(b+=l,l=0),w+t>p&&(t=p-w),l+b>f&&(b=f-l)):(w=l=0,t=p,b=f);0>h&&(t+=h,w-=h,h=0);0>d&&(b+=d,l-=d,d=0);h+t>c&&(t=c-h);d+b>e&&(b=e-d);0>=t||0>=b||(this.__transparent&&!g&&this.context.clearRect(h,d,t,b),this.context.drawImage(a,w,l,t,b,h,d,t,b),this.__sync|=5)}},draw:function(a,b,d,c,e,g){this.syncCanvas();var p=0;this.context.save();null!=
d&&(p=d.alphaMultiplier,d.alphaMultiplier=1,this.context.globalAlpha*=p);null!=e&&(this.context.beginPath(),this.context.rect(e.x,e.y,e.width,e.height),this.context.clip(),this.context.beginPath());null!=g&&h.display.BitmapData.setSmoothing(this.context,g);a.drawToSurface(this.handle(),this.context,b,d,c,e,null);this.context.restore();null!=d&&(d.alphaMultiplier=p);this.__sync|=5},lock:function(){this.syncData()},unlock:function(){this.syncCanvas()},hitTestLocal:function(a,b){if(0<=a&&0<=b&&a<this.component.width&&
b<this.component.height)try{return 0!=this.context.getImageData(a,b,1,1).data[3]}catch(d){return!0}return!1},getPixel:function(a,b){if(0>a||0>b||a>=this.component.width||b>=this.component.height)return 0;if(1==(this.__sync&3)){var d=this.context.getImageData(a,b,1,1).data;return d[0]<<16|d[1]<<8|d[2]}d=b*this.component.width+a<<2;return this.__imageData.data[d]<<16|this.__imageData.data[d+1]<<8|this.__imageData.data[d+2]},getPixel32:function(a,b){if(0>a||0>b||a>=this.component.width||b>=this.component.height)return 0;
if(1==(this.__sync&3)){var d=this.context.getImageData(a,b,1,1).data;return(this.__transparent?d[3]<<24:-16777216)|d[0]<<16|d[1]<<8|d[2]}d=b*this.component.width+a<<2;return(this.__transparent?this.__imageData.data[d+3]<<24:-16777216)|this.__imageData.data[d]<<16|this.__imageData.data[d+1]<<8|this.__imageData.data[d+2]},setPixel:function(a,b,d){0>a||0>b||a>=this.component.width||b>=this.component.height||(1==(this.__sync&3)?(this.__pixelData.data[0]=d>>>16&255,this.__pixelData.data[1]=d>>>8&255,this.__pixelData.data[2]=
d&255,this.__pixelData.data[3]=255,this.context.putImageData(this.__pixelData,a,b),this.__sync|=5):(a=b*this.component.width+a<<2,this.__imageData.data[a]=d>>>16&255,this.__imageData.data[a+1]=d>>>8&255,this.__imageData.data[a+2]=d&255,this.__imageData.data[a+3]=255,this.__sync|=6))},setPixel32:function(a,b,d){0>a||0>b||a>=this.component.width||b>=this.component.height||(1==(this.__sync&3)?(this.__pixelData.data[0]=d>>>16&255,this.__pixelData.data[1]=d>>>8&255,this.__pixelData.data[2]=d&255,this.__pixelData.data[3]=
d>>>24&255,this.context.putImageData(this.__pixelData,a,b),this.__sync|=5):(a=b*this.component.width+a<<2,this.__imageData.data[a]=d>>>16&255,this.__imageData.data[a+1]=d>>>8&255,this.__imageData.data[a+2]=d&255,this.__imageData.data[a+3]=d>>>24&255,this.__sync|=6))},getPixels:function(a){var b,d=new h.utils.ByteArray,c;b=a.x|0;var e=a.y|0,g=a.width|0,p=a.height|0;a=0;var f;f=g*p*4;d.set_length(f);if(1==(this.__sync&3))for(b=this.context.getImageData(b,e,g,p),c=b.data;a<f;)d.writeUnsignedInt(c[a++]<<
16|c[a++]<<8|c[a++]|c[a++]<<24);else if(c=this.__imageData.data,0==b&&0==e&&g==this.component.width&&p==this.component.height)for(;a<f;)d.writeUnsignedInt(c[a++]<<16|c[a++]<<8|c[a++]|c[a++]<<24);else for(;0<p--;)for(a=4*(b+e++*(f=g));0<f--;)d.writeUnsignedInt(c[a++]<<16|c[a++]<<8|c[a++]|c[a++]<<24);return d},setPixels:function(a,b){var d=a.x|0,c=a.y|0,e=a.width|0,g=a.height|0,p=0,f;f=e*g*4;var h,w=this.component.width,l;if(2!=(this.__sync&3)){e=this.context.createImageData(e,g);for(l=e.data;p<f;)h=
b.readUnsignedInt(),l[p]=h>>16&255,l[p+1]=h>>8&255,l[p+2]=h&255,l[p+3]=h>>>24&255,p+=4;this.context.putImageData(e,d,c)}else for(l=this.__imageData.data;0<g--;)for(p=4*(d+c++*w),f=e;0<f--;)h=b.readUnsignedInt(),l[p]=h>>16&255,l[p+1]=h>>8&255,l[p+2]=h&255,l[p+3]=h>>>24&255,p+=4},getColorBoundsRect:function(a,b,d){null==d&&(d=!0);this.syncData();a=this.__imageData.data;var c=this.component.width,e=this.component.height,g=0,p=0,f=a.length,B,w,l;for(B=0;B<f;)w=(this.__transparent?a[B+3]<<24:-16777216)|
(a[B]&255)<<16|(a[B+1]&255)<<8|a[B+2]&255,w==b==d&&(w=Math.floor((B>>2)%this.component.width),l=Math.floor((B>>2)/this.component.width),w<c&&(c=w),w>g&&(g=w),l<e&&(e=l),l>p&&(p=l)),B+=4;return c<=g&&e<=p?new h.geom.Rectangle(c,e,g-c+1,p-e+1):d?new h.geom.Rectangle(0,0,0,0):new h.geom.Rectangle(0,0,this.component.width,this.component.height)},floodFill:function(a,b,d){var c=1==(this.__sync&3);this.lock();var e=[a|b<<16],g=1,p=this.__imageData.data,f,h,w,l,t,m,A,q,n=[],u=this.component.width,v=this.component.height;
q=b*this.component.width+a<<4;a=p[q];b=p[q+1];f=p[q+2];h=p[q+3];t=d>>>24;w=d>>16&255;l=d>>8&255;d&=255;for(A=-1;++A<v;)for(n.push(q=[]),m=0;m<u;)q.push(0),m+=32;for(;0<g;)q=e[--g],m=q&65535,A=q>>>16,0>m||0>A||m>=u||A>=v||0!=(n[A][m>>5]>>(m&31)&1)||(n[A][m>>5]|=1<<(m&31),q=A*this.component.width+m<<2,p[q]==a&&p[q+1]==b&&p[q+2]==f&&p[q+3]==h&&(p[q]=w,p[q+1]=l,p[q+2]=d,p[q+3]=t,(q=m+1)<u&&0==(n[A][q>>5]>>(q&31)&1)&&(e[g++]=A<<16|q),0<m&&0==(n[A][(q=m-1)>>5]>>(q&31)&1)&&(e[g++]=A<<16|q),(q=A+1)<v&&0==
(n[q][m>>5]>>(m&31)&1)&&(e[g++]=q<<16|m),0<A&&0==(n[q=A-1][m>>5]>>(m&31)&1)&&(e[g++]=q<<16|m)));this.__sync|=6;c&&this.unlock()},colorTransform:function(a,b){var d=~~a.x,c=~~a.y,e=~~a.width,g=~~a.height,p=this.component.width,f=this.component.height,h=this.context.globalCompositeOperation,w=this.context.globalAlpha;0>d&&(e+=d,d=0);0>c&&(g+=c,c=0);d+e>p&&(e=p-d);c+g>f&&(g=f-c);if(!(0>=e||0>=g)){if(b.isAlphaMultiplier())this.syncCanvas(),this.context.globalCompositeOperation="copy",this.context.globalAlpha*=
b.alphaMultiplier,this.context.drawImage(this.component,d,c,e,g,d,c,e,g),this.__sync|=5;else if(b.isColorSetter())p=this.context.fillStyle,0!=b.alphaMultiplier?(this.context.globalCompositeOperation="source-in",this.context.fillStyle="rgb("+~~b.redOffset+","+~~b.greenOffset+","+~~b.blueOffset+")",this.context.fillRect(d,c,e,g),this.context.globalCompositeOperation="copy",this.context.globalAlpha=b.alphaMultiplier,this.context.drawImage(this.component,d,c,e,g,d,c,e,g)):(this.context.globalCompositeOperation=
"copy",this.context.fillStyle="rgba("+~~b.redOffset+","+~~b.greenOffset+","+~~b.blueOffset+","+~~b.alphaOffset+")",this.context.fillRect(d,c,e,g)),this.context.fillStyle=p;else{var l=2!=(this.__sync&3);this.lock();var t=this.__imageData.data,m=p*f*4,A,q=b.redMultiplier,n=b.greenMultiplier,u=b.blueMultiplier,v=b.alphaMultiplier,z=b.redOffset,y=b.greenOffset,D=b.blueOffset,r=b.alphaOffset;if(0==d&&0==c&&e==p&&g==f)for(;0<=(m-=4);)0<(A=t[m+3])&&(0>(A=A*v+r)?t[m+3]=0:t[m+3]=255<A?255:~~A),0>(A=t[m+2]*
u+D)?t[m+2]=0:t[m+2]=255<A?255:~~A,0>(A=t[m+1]*n+y)?t[m+1]=0:t[m+1]=255<A?255:~~A,0>(A=t[m]*q+z)?t[m]=0:t[m]=255<A?255:~~A;else for(f=c-1,c+=g;++f<c;)for(m=p*f+d-1<<2,g=m+4*e;(m+=4)<g;)0<(A=t[m+3])&&(0>(A=A*v+r)?t[m+3]=0:t[m+3]=255<A?255:~~A),0>(A=t[m+2]*u+D)?t[m+2]=0:t[m+2]=255<A?255:~~A,0>(A=t[m+1]*n+y)?t[m+1]=0:t[m+1]=255<A?255:~~A,0>(A=t[m]*q+z)?t[m]=0:t[m]=255<A?255:~~A;this.__sync|=6;l&&this.unlock()}this.context.globalCompositeOperation=h;this.context.globalAlpha=w}},copyChannel:function(a,
b,d,c,e){var g=~~a.x,p=~~d.x,f=~~a.y,h=~~d.y;d=~~b.width;var w=~~b.height;b=a.component.width;var l=a.component.height,t=this.component.width,m=this.component.height,A,q,n=e;0>p&&(d+=p,p=0);0>h&&(w+=h,h=0);0>g&&(d+=g,g=0);0>f&&(w+=f,f=0);g+d>b&&(d=b-g);f+w>l&&(w=l-f);p+d>t&&(d=t-p);h+w>m&&(w=m-h);if(!(0>=d||0>=w))if(8==c&&8==n){b=this.context.globalCompositeOperation;t=this.context.fillStyle;this.context.globalCompositeOperation="darker";for(e=0;8>e++;)this.context.drawImage(this.component,p,h,d,
w,p,h,d,w);this.context.globalCompositeOperation="destination-over";this.context.fillStyle="black";this.context.fillRect(g,f,d,w);this.context.globalCompositeOperation="destination-atop";this.context.drawImage(a.handle(),g,f,d,w,p,h,d,w);this.context.globalCompositeOperation=b;this.context.fillStyle=t}else if(l=2!=(this.__sync&3),this.lock(),m=this.__imageData.data,a.lock(),a=a.__imageData.data,c=8==c?3:4==c?2:2==c?1:1==c?0:-1,n=8==n?3:4==n?2:2==n?1:1==n?0:-1,!(0>c||0>n)){h+=w;for(A=f+w;--A>=f;)for(--h,
q=d,e=4*(p+t*h)+c,w=4*(g+b*A)+n;0<q--;)m[w]=a[e],e+=4,w+=4;this.__sync|=6;l&&this.unlock()}},noise:function(a,b,d,c,e){null==e&&(e=!1);null==c&&(c=7);null==d&&(d=255);null==b&&(b=0);var g=2!=(this.__sync&3),p=0,f;d=d-b+1;var h=0<(c&1),w=0<(c&2),l=0<(c&4),t=0<(c&8);this.lock();f=this.__imageData.data;for(c=f.length;p<c;)e?(f[p]=f[p+1]=f[p+2]=b+(a=16807*a%2147483647)%d,p+=3):(h?f[p++]=b+(a=16807*a%2147483647)%d:f[p++]=0,w?f[p++]=b+(a=16807*a%2147483647)%d:f[p++]=0,l?f[p++]=b+(a=16807*a%2147483647)%
d:f[p++]=0),t?f[p++]=b+(a=16807*a%2147483647)%d:f[p++]=255;this.__sync|=6;g&&this.unlock()},applyFilter:function(a,b,d,c){},jeashOnLoad:function(a,b){var d=a.texture,c=a.image.width,e=a.image.height;d.width=c;d.height=e;d.getContext("2d").drawImage(a.image,0,0,c,e);a.bitmapData.width=c;a.bitmapData.height=e;a.bitmapData.__rect=new h.geom.Rectangle(0,0,c,e);null!=a.inLoader&&(d=new h.events.Event("complete"),d.set_target(a.inLoader),a.inLoader.dispatchEvent(d))},nmeLoadFromFile:function(a,b){var d=
this,c=window.document.createElement("img");if(null!=b){var e={image:c,texture:this.component,inLoader:b,bitmapData:this};c.addEventListener("load",function(a,b){return function(d){return a(b,d)}}(u(this,this.jeashOnLoad),e),!1);c.addEventListener("error",function(a){c.complete||d.jeashOnLoad(e,a)},!1)}c.src=a},syncCanvas:function(){2==(this.__sync&3)&&(this.context.putImageData(this.__imageData,0,0),this.__sync&=-4)},syncData:function(){1==(this.__sync&3)&&(this.__imageData=this.context.getImageData(0,
0,this.component.width,this.component.height),this.__sync&=-4)},__loadFromBytes:function(a,b,d){var c=this,e=null,g=document.createElement("img"),p=this.component,f,B=null,w,l,t;if(h.display.BitmapData.__isPNG(a))e="png";else if(h.display.BitmapData.__isJPG(a))e="jpeg";else throw new h.errors.IOError("BitmapData can only load from ByteArrays with PNG/JPEG data.");B=function(a){g.removeEventListener("load",B);c.__rect.width=p.width=g.width;c.__rect.height=p.height=g.height;f=c.context=p.getContext("2d");
f.drawImage(g,0,0);if(null!=b){w=-1;l=b.length;for(t=f.getImageData(0,0,g.width,g.height);++w<l;)t.data[(w<<2)+3]=b.data.getUint8(b.position++);f.putImageData(t,0,0)}null!=d&&d(c)};g.addEventListener("load",B);g.src="data:image/"+e+";base64,"+a.toBase64()},__class__:h.display.BitmapData,__properties__:{get_rect:"get_rect"}};h.display.BitmapDataChannel=function(){};m["openfl.display.BitmapDataChannel"]=h.display.BitmapDataChannel;h.display.BitmapDataChannel.__name__=["openfl","display","BitmapDataChannel"];
h.display.IGraphics=function(){};m["openfl.display.IGraphics"]=h.display.IGraphics;h.display.IGraphics.__name__=["openfl","display","IGraphics"];h.display.IGraphics.__interfaces__=[h.display.IBitmapDrawable];h.display.IGraphics.prototype={component:null,context:null,invalidate:null,hitTestLocal:null,beginBitmapFill:null,beginFill:null,beginGradientFill:null,clear:null,curveTo:null,drawCircle:null,drawEllipse:null,drawRect:null,drawRoundRect:null,endFill:null,lineStyle:null,lineTo:null,moveTo:null,
__class__:h.display.IGraphics};h.display.Graphics=function(){this.rgPending=!1;this.synced=!0;this.component=h.Lib.jsNode("canvas");this.context=this.component.getContext("2d");this.context.save();this.bounds=new h.geom.Rectangle;this.resetBounds();this.irec=[];this.frec=[];this.arec=[];this.lineWidth=this.ilen=this.flen=this.alen=0};m["openfl.display.Graphics"]=h.display.Graphics;h.display.Graphics.__name__=["openfl","display","Graphics"];h.display.Graphics.__interfaces__=[h.display.IGraphics,h.display.IBitmapDrawable];
h.display.Graphics.prototype={component:null,context:null,displayObject:null,bounds:null,lineWidth:null,irec:null,ilen:null,frec:null,flen:null,arec:null,alen:null,synced:null,rgPending:null,offsetX:null,offsetY:null,_drawMatrix:null,regenerate:function(){var a=this.component,b=this.component.style,d=this.context,c=this.bounds,e=~~(c.x-2),g=~~(c.y-2),p=Math.ceil(c.width+4),f=Math.ceil(c.height+4);this.synced=!0;this.rgPending=!1;if(0>=c.width||0>=c.height)a.width=a.height=1,b.top=b.left="0";else{if(this.offsetX!=
e||this.offsetY!=g)b.left=(this.offsetX=e)+"px",b.top=(this.offsetY=g)+"px";p!=a.width||f!=a.height?(a.width=p,a.height=f):d.clearRect(0,0,p,f);d.save();d.translate(-e,-g);this.render(a,d);d.restore()}},regenerateTask:function(){this.rgPending&&this.regenerate()},requestRegeneration:function(){h.Lib.schedule(u(this,this.regenerateTask));this.rgPending=!0},set_displayObject:function(a){this.displayObject!=a&&(this.displayObject=a,this.synced||this.requestRegeneration());return a},resetBounds:function(){this.bounds.setVoid();
this.invalidate()},grab:function(a,b,d,c){var e;a<(e=this.bounds.x)&&(e-=a,this.bounds.x-=e,this.bounds.width+=e);b<(e=this.bounds.y)&&(e-=b,this.bounds.y-=e,this.bounds.height+=e);d>(e=this.bounds.get_right())&&(this.bounds.width+=d-e);c>(e=this.bounds.get_bottom())&&(this.bounds.height+=c-e);this.invalidate()},invalidate:function(){this.synced&&(this.synced=!1,this.rgPending||null==this.displayObject||null==this.displayObject.get_stage()||this.requestRegeneration())},clear:function(){for(var a=
0;a<this.alen;)this.arec[a++]=null;this.lineWidth=this.ilen=this.flen=this.alen=0;this.resetBounds();this.invalidate()},lineStyle:function(a,b,d,c,e,g,p,f){this.irec[this.ilen++]=1;c=0<a?this.lineWidth=a:this.lineWidth=0;this.frec[this.flen++]=c;0<a&&(a=h.Lib.rgbf(null!=b?b:0,null!=d?d:1),this.arec[this.alen++]=a,"none"==g?this.irec[this.ilen++]=2:"square"==g?this.irec[this.ilen++]=1:this.irec[this.ilen++]=0,"bevel"==p?this.irec[this.ilen++]=2:"miter"==p?this.irec[this.ilen++]=1:this.irec[this.ilen++]=
0)},beginFill:function(a,b){this.irec[this.ilen++]=2;var d=h.Lib.rgbf(null!=a?a:0,null!=b?b:1);this.arec[this.alen++]=d},beginBitmapFill:function(a,b,d,c){this.irec[this.ilen++]=3;this.arec[this.alen++]=a;0!=d?this.irec[this.ilen++]=1:this.irec[this.ilen++]=0;a=null!=b?1:0;if(this.irec[this.ilen++]=a)a=this.frec,d=this.flen,a[d++]=b.a,a[d++]=b.b,a[d++]=b.c,a[d++]=b.d,a[d++]=b.tx,a[d++]=b.ty,this.flen=d},beginGradientFill:function(a,b,d,c,e,g,p,f){null==f&&(f=0);g=-1;p=b.length;this.irec[this.ilen++]=
4;"LINEAR"==a?a=this.context.createLinearGradient(-819.2*e.a+e.tx,-819.2*e.b+e.ty,819.2*e.a+e.tx,819.2*e.b+e.ty):(f*=819.2,a=this.context.createRadialGradient(f*e.a+e.tx,f*e.b+e.ty,0,819.2*e.c+e.tx,f*e.b+e.ty,819.2*e.d+e.ty));for(;++g<p;)a.addColorStop(c[g]/255,h.Lib.rgbf(b[g],d[g]));this.arec[this.alen++]=a},endFill:function(){this.irec[this.ilen++]=9;this.invalidate()},moveTo:function(a,b){this.irec[this.ilen++]=10;this.frec[this.flen++]=a;this.frec[this.flen++]=b;var d=this.lineWidth/2;this.grab(a-
d,b-d,a+d,b+d)},lineTo:function(a,b){this.irec[this.ilen++]=11;this.frec[this.flen++]=a;this.frec[this.flen++]=b;var d=this.lineWidth/2;this.grab(a-d,b-d,a+d,b+d)},curveTo:function(a,b,d,c){this.irec[this.ilen++]=12;var e=this.frec,g=this.flen;e[g++]=a;e[g++]=b;e[g++]=d;e[g++]=c;this.flen=g;a=this.lineWidth/2;this.grab(d-a,c-a,d+a,c+a)},drawRect:function(a,b,d,c){this.irec[this.ilen++]=13;var e=this.frec,g=this.flen;e[g++]=a;e[g++]=b;e[g++]=d;e[g++]=c;this.flen=g;e=this.lineWidth/2;this.grab(a-e,
b-e,a+d+e,b+c+e)},drawRoundRect:function(a,b,d,c,e,g){this.irec[this.ilen++]=15;var p=this.frec,f=this.flen;p[f++]=a;p[f++]=b;p[f++]=d;p[f++]=c;p[f++]=e;p[f++]=g;this.flen=f;e=this.lineWidth/2;this.grab(a-e,b-e,a+d+e,b+c+e)},drawCircle:function(a,b,d){this.irec[this.ilen++]=14;var c=this.frec,e=this.flen;c[e++]=a;c[e++]=b;c[e++]=d;this.flen=e;d+=this.lineWidth/2;this.grab(a-d,b-d,a+d,b+d)},drawEllipse:function(a,b,d,c){this.irec[this.ilen++]=17;var e=this.frec,g=this.flen;e[g++]=a;e[g++]=b;e[g++]=
d;e[g++]=c;this.flen=g;this.grab(a,b,a+d,b+c)},drawToSurface:function(a,b,d,c,e,g,p){b.save();null!=d&&b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty);this.render(a,b);b.restore()},hitTestLocal:function(a,b,d){if(this.bounds.contains(a,b)){if(d){this.synced||this.regenerate();try{return 0!=this.context.getImageData(a-this.offsetX,b-this.offsetY,1,1).data[3]}catch(c){}}return!0}return!1},_closePath:function(a,b,d,c,e){d&1&&(b.closePath(),d&4?(b.save(),b.transform(c.a,c.b,c.c,c.d,c.tx,c.ty),b.fillStyle=b.createPattern(e,
d&8?"repeat":"no-repeat"),b.fill(),b.restore()):b.fill());d&2&&b.stroke();b.beginPath();return d},render:function(a,b){var d=0,c=this._drawMatrix,e,g,p,f=0,B=null,w=this.irec,l=-1,t=w.length-1,m=this.arec,A=-1,q=this.frec,n=-1;null==c&&(this._drawMatrix=c=new h.geom.Matrix);for(b.save();l<t;)switch(g=w[++l]){case 1:0<f&&(d=this._closePath(a,b,d,c,B));b.lineWidth=p=q[++n];0<p?(d|=2,b.strokeStyle=m[++A],2==(g=w[++l])?b.lineCap="butt":b.lineCap=1==g?"square":"round",2==(g=w[++l])?b.lineJoin="bevel":
b.lineJoin=1==g?"miter":"round"):(d&=-3,b.strokeStyle=null);break;case 2:case 3:case 4:0<f&&(d=this._closePath(a,b,d,c,B));d|=1;3==g?(B=m[++A].handle(),g=w[++l],0!=w[++l]?(d=0!=g?d|8:d&-9,c.a=q[++n],c.b=q[++n],c.c=q[++n],c.d=q[++n],c.tx=q[++n],c.ty=q[++n],d|=4):(b.fillStyle=b.createPattern(B,0!=g?"repeat":"no-repeat"),d&=-5)):(b.fillStyle=m[++A],d&=-5);f=0;break;case 9:0<f&&(d=this._closePath(a,b,d,c,B),f=0);d&=-2;break;case 10:b.moveTo(q[++n],q[++n]);f++;break;case 11:b.lineTo(q[++n],q[++n]);f++;
break;case 12:b.quadraticCurveTo(q[++n],q[++n],q[++n],q[++n]);f++;break;case 13:b.rect(q[++n],q[++n],q[++n],q[++n]);f++;break;case 14:g=q[++n];p=q[++n];var u=q[++n];0>u&&(u=-u);b.moveTo(g+u,p);0!=u&&b.arc(g,p,u,0,2*Math.PI,!0);f++;break;case 17:g=q[++n];p=q[++n];var v=q[++n],z=q[++n],u=g+v/2,y=p+z/2,D=g+v,r=p+z,v=.275892*v,z=.275892*z;b.moveTo(u,p);b.bezierCurveTo(u+v,p,D,y-z,D,y);b.bezierCurveTo(D,y+z,u+v,r,u,r);b.bezierCurveTo(u-v,r,g,y+z,g,y);b.bezierCurveTo(g,y-z,u-v,p,u,p);f++;break;case 15:g=
q[++n];p=q[++n];u=q[++n];y=q[++n];D=q[++n];r=q[++n];null==r?(b.moveTo(g+D,p+y),b.arcTo(g+u-D,p+y-D,g+u,p+y-D,D),b.arcTo(g+u,p+D,g+u-D,p,D),b.arcTo(g+D,p,g,p+D,D),b.arcTo(g+D,p+y-D,g+D,p+y,D)):(b.moveTo(g+D,p+y),b.lineTo(g+u-D,p+y),b.quadraticCurveTo(g+u,p+y,g+u,p+y-r),b.lineTo(g+u,p+r),b.quadraticCurveTo(g+u,p,g+u-D,p),b.lineTo(g+D,p),b.quadraticCurveTo(g,p,g,p+r),b.lineTo(g,p+y-r),b.quadraticCurveTo(g,p+y,g+D,p+y));f++;break;case 16:g=m[++A].handle();z=w[++l];p=0!=(z&1);var u=0!=(z&2),y=0!=(z&8),
D=0!=(z&16),r=w[++l],C,E,F,G,H,J;b.save();for(b.globalCompositeOperation=0!=(z&65536)?"lighter":"source-over";0<=--r;)z=q[++n],v=q[++n],C=q[++n],E=q[++n],F=q[++n],G=q[++n],H=q[++n],J=q[++n],b.save(),D?b.transform(q[++n],q[++n],q[++n],q[++n],z,v):(b.translate(z,v),p&&b.scale(e=q[++n],e),u&&b.rotate(q[++n])),y&&(b.globalAlpha=q[++n]),b.drawImage(g,F,G,H,J,-C,-E,H,J),b.restore();b.restore();break;default:throw 4E3+g;}0<f&&this._closePath(a,b,d,c,B);b.restore()},__class__:h.display.Graphics,__properties__:{set_displayObject:"set_displayObject"}};
h.display.ILoader=function(){};m["openfl.display.ILoader"]=h.display.ILoader;h.display.ILoader.__name__=["openfl","display","ILoader"];h.display.ILoader.prototype={content:null,contentLoaderInfo:null,load:null,loadBytes:null,__class__:h.display.ILoader};h.display._JointStyle={};h.display._JointStyle.JointStyle_Impl_=function(){};m["openfl.display._JointStyle.JointStyle_Impl_"]=h.display._JointStyle.JointStyle_Impl_;h.display._JointStyle.JointStyle_Impl_.__name__=["openfl","display","_JointStyle",
"JointStyle_Impl_"];h.display._JointStyle.JointStyle_Impl_._new=function(a){return a};h.display._JointStyle.JointStyle_Impl_.toString=function(a){return a};h.display._JointStyle.JointStyle_Impl_.fromString=function(a){return a};h.display.LineScaleMode=m["openfl.display.LineScaleMode"]={__ename__:["openfl","display","LineScaleMode"],__constructs__:["HORIZONTAL","NONE","NORMAL","VERTICAL"]};h.display.LineScaleMode.HORIZONTAL=["HORIZONTAL",0];h.display.LineScaleMode.HORIZONTAL.__enum__=h.display.LineScaleMode;
h.display.LineScaleMode.NONE=["NONE",1];h.display.LineScaleMode.NONE.__enum__=h.display.LineScaleMode;h.display.LineScaleMode.NORMAL=["NORMAL",2];h.display.LineScaleMode.NORMAL.__enum__=h.display.LineScaleMode;h.display.LineScaleMode.VERTICAL=["VERTICAL",3];h.display.LineScaleMode.VERTICAL.__enum__=h.display.LineScaleMode;h.display.Loader=function(){h.display.Sprite.call(this);this.contentLoaderInfo=h.display.LoaderInfo.create(this)};m["openfl.display.Loader"]=h.display.Loader;h.display.Loader.__name__=
["openfl","display","Loader"];h.display.Loader.__interfaces__=[h.display.ILoader];h.display.Loader.__super__=h.display.Sprite;h.display.Loader.prototype=F(h.display.Sprite.prototype,{content:null,contentLoaderInfo:null,mImage:null,mShape:null,load:function(a,b){var d=a.url.split(".");0<d.length&&d[d.length-1].toLowerCase();var d=a.url,c=d.lastIndexOf(".");if(0>c)throw'Extension must be specified, got "'+d+'"';var e=!0,c=d.substring(c+1);switch(c){case "swf":c="application/x-shockwave-flash";break;
case "png":c="image/png";break;case "gif":c="image/gif";break;case "jpg":case "jpeg":e=!1;c="image/jpeg";break;default:throw'Unrecognized extension "'+c+'" in "'+d+'"';}this.contentLoaderInfo.url=d;this.contentLoaderInfo.contentType=c;this.mImage=new h.display.BitmapData(0,0,e);try{this.contentLoaderInfo.addEventListener("complete",u(this,this.handleLoad),!1),this.mImage.nmeLoadFromFile(a.url,this.contentLoaderInfo),this.content=new h.display.Bitmap(this.mImage),this.contentLoaderInfo.content=this.content,
this.addChild(this.content)}catch(g){v.Log.trace("Error "+H.string(g),{fileName:"Loader.hx",lineNumber:62,className:"openfl.display.Loader",methodName:"load"});d=new h.events.IOErrorEvent("ioError");d.set_currentTarget(this);this.contentLoaderInfo.dispatchEvent(d);return}null==this.mShape&&(this.mShape=new h.display.Shape,this.addChild(this.mShape))},loadBytes:function(a){var b=this;try{this.contentLoaderInfo.addEventListener("complete",u(this,this.handleLoad),!1),h.display.BitmapData.loadFromBytes(a,
null,function(a){b.content=new h.display.Bitmap(a);b.contentLoaderInfo.content=b.content;b.addChild(b.content);a=new h.events.Event("complete");a.set_currentTarget(b);b.contentLoaderInfo.dispatchEvent(a)})}catch(d){v.Log.trace("Error "+H.string(d),{fileName:"Loader.hx",lineNumber:98,className:"openfl.display.Loader",methodName:"loadBytes"}),a=new h.events.IOErrorEvent("ioError"),a.set_currentTarget(this),this.contentLoaderInfo.dispatchEvent(a)}},handleLoad:function(a){a.set_currentTarget(this);this.contentLoaderInfo.removeEventListener("complete",
u(this,this.handleLoad))},__class__:h.display.Loader});h.display.LoaderInfo=function(){h.events.EventDispatcher.call(this);this.bytesLoaded=this.bytesTotal=0;this.childAllowsParent=!0;this.parameters={}};m["openfl.display.LoaderInfo"]=h.display.LoaderInfo;h.display.LoaderInfo.__name__=["openfl","display","LoaderInfo"];h.display.LoaderInfo.create=function(a){var b=new h.display.LoaderInfo;null!=a?b.loader=a:b.url="";return b};h.display.LoaderInfo.__super__=h.events.EventDispatcher;h.display.LoaderInfo.prototype=
F(h.events.EventDispatcher.prototype,{bytes:null,bytesLoaded:null,bytesTotal:null,childAllowsParent:null,content:null,contentType:null,frameRate:null,height:null,loader:null,loaderURL:null,parameters:null,parentAllowsChild:null,sameDomain:null,sharedEvents:null,url:null,width:null,__class__:h.display.LoaderInfo});h.display.MovieClip=function(){h.display.Sprite.call(this);this.enabled=!0;this.qIndex=this.qTotal=0;this.loaderInfo=h.display.LoaderInfo.create()};m["openfl.display.MovieClip"]=h.display.MovieClip;
h.display.MovieClip.__name__=["openfl","display","MovieClip"];h.display.MovieClip.__super__=h.display.Sprite;h.display.MovieClip.prototype=F(h.display.Sprite.prototype,{enabled:null,currentFrame:null,framesLoaded:null,totalFrames:null,qIndex:null,qTotal:null,gotoAndPlay:function(a,b){},gotoAndStop:function(a,b){},nextFrame:function(){},play:function(){},prevFrame:function(){},stop:function(){},get_currentFrame:function(){return this.qIndex},get_framesLoaded:function(){return this.qTotal},get_totalFrames:function(){return this.qTotal},
__class__:h.display.MovieClip,__properties__:F(h.display.Sprite.prototype.__properties__,{get_totalFrames:"get_totalFrames",get_framesLoaded:"get_framesLoaded",get_currentFrame:"get_currentFrame"})});h.display.Shape=function(){(this.graphics=new h.display.Graphics).set_displayObject(this);this.component=this.graphics.component;h.display.DisplayObject.call(this)};m["openfl.display.Shape"]=h.display.Shape;h.display.Shape.__name__=["openfl","display","Shape"];h.display.Shape.__interfaces__=[h.display.IBitmapDrawable];
h.display.Shape.__super__=h.display.DisplayObject;h.display.Shape.prototype=F(h.display.DisplayObject.prototype,{graphics:null,drawToSurface:function(a,b,d,c,e,g,f){this.graphics.drawToSurface(a,b,d,c,e,g,f)},set_stage:function(a){var b=null==this.get_stage()&&null!=a;a=h.display.DisplayObject.prototype.set_stage.call(this,a);b&&this.graphics.invalidate();return a},hitTestLocal:function(a,b,d,c){return(!c||this.visible)&&this.graphics.hitTestLocal(a,b,d)},__class__:h.display.Shape});h.display.SimpleButton=
function(a,b,d,c){h.display.DisplayObjectContainer.call(this);this.enabled=!0;this.trackAsMenu=!1;this.useHandCursor=!0;this.mouseChildren=!1;this.set_upState(null!=a?a:this.__generateDefaultState());this.set_overState(b);this.set_downState(d);this.set_hitTestState(null!=c?c:this.__generateDefaultState());this.set___currentState(this.upState)};m["openfl.display.SimpleButton"]=h.display.SimpleButton;h.display.SimpleButton.__name__=["openfl","display","SimpleButton"];h.display.SimpleButton.__super__=
h.display.DisplayObjectContainer;h.display.SimpleButton.prototype=F(h.display.DisplayObjectContainer.prototype,{downState:null,enabled:null,hitTestState:null,overState:null,trackAsMenu:null,upState:null,useHandCursor:null,__currentState:null,__soundTransform:null,switchState:function(a){null!=this.__currentState&&this.__currentState.parent==this&&this.removeChild(this.__currentState);null!=a&&this.addChild(a)},__generateDefaultState:function(){return new h.display.DisplayObject},__getCursor:function(){return this.useHandCursor?
R.POINTER:null},set_downState:function(a){null!=this.downState&&this.__currentState==this.downState&&this.set___currentState(a);return this.downState=a},set_hitTestState:function(a){a!=this.hitTestState&&(null!=this.hitTestState&&this.hitTestState.parent==this&&this.removeChild(this.hitTestState),this.removeEventListener("mouseDown",u(this,this.__this_onMouseDown)),this.removeEventListener("mouseOut",u(this,this.__this_onMouseOut)),this.removeEventListener("mouseOver",u(this,this.__this_onMouseOver)),
this.removeEventListener("mouseUp",u(this,this.__this_onMouseUp)),null!=a&&(this.addEventListener("mouseDown",u(this,this.__this_onMouseDown)),this.addEventListener("mouseOut",u(this,this.__this_onMouseOut)),this.addEventListener("mouseOver",u(this,this.__this_onMouseOver)),this.addEventListener("mouseUp",u(this,this.__this_onMouseUp)),a.set_alpha(0),this.addChild(a)));return this.hitTestState=a},set_overState:function(a){null!=this.overState&&this.__currentState==this.overState&&this.set___currentState(a);
return this.overState=a},get_soundTransform:function(){null==this.__soundTransform&&(this.__soundTransform=new h.media.SoundTransform);return new h.media.SoundTransform(this.__soundTransform.volume,this.__soundTransform.pan)},set_soundTransform:function(a){this.__soundTransform=new h.media.SoundTransform(a.volume,a.pan);return a},set_upState:function(a){null!=this.upState&&this.__currentState==this.upState&&this.set___currentState(a);return this.upState=a},set___currentState:function(a){if(this.__currentState==
a)return a;this.switchState(a);return this.__currentState=a},__this_onMouseDown:function(a){null!=this.downState&&this.set___currentState(this.downState)},__this_onMouseOut:function(a){this.upState!=this.__currentState&&this.set___currentState(this.upState)},__this_onMouseOver:function(a){this.overState!=this.__currentState&&null!=this.overState&&this.set___currentState(this.overState)},__this_onMouseUp:function(a){null!=this.overState?this.set___currentState(this.overState):this.set___currentState(this.upState)},
__class__:h.display.SimpleButton,__properties__:F(h.display.DisplayObjectContainer.prototype.__properties__,{set___currentState:"set___currentState",set_upState:"set_upState",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_overState:"set_overState",set_hitTestState:"set_hitTestState",set_downState:"set_downState"})});h.errors={};h.errors.Error=function(a,b){null==b&&(b=0);null==a&&(a="");this.message=a;this.errorID=b};m["openfl.errors.Error"]=h.errors.Error;h.errors.Error.__name__=
["openfl","errors","Error"];h.errors.Error.prototype={errorID:null,message:null,name:null,getStackTrace:function(){return v.CallStack.toString(v.CallStack.exceptionStack())},toString:function(){return null!=this.message?this.message:"Error"},__class__:h.errors.Error};h.errors.IOError=function(a){null==a&&(a="");h.errors.Error.call(this,a)};m["openfl.errors.IOError"]=h.errors.IOError;h.errors.IOError.__name__=["openfl","errors","IOError"];h.errors.IOError.__super__=h.errors.Error;h.errors.IOError.prototype=
F(h.errors.Error.prototype,{__class__:h.errors.IOError});h.events.Event=function(a,b,d){null==d&&(d=!1);null==b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=d};m["openfl.events.Event"]=h.events.Event;h.events.Event.__name__=["openfl","events","Event"];h.events.Event.prototype={_target:null,_current:null,__jsEvent:null,get_target:function(){return this._target||this.target},set_target:function(a){return this._target=a},get_currentTarget:function(){return this._current||this.currentTarget},set_currentTarget:function(a){return this._current=
a},type:null,timeStamp:null,bubbles:null,cancelBubble:null,cancelable:null,defaultPrevented:null,preventDefault:function(){null!=this.__jsEvent&&this.__jsEvent.preventDefault();this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented},clone:function(){return new h.events.Event(this.type,this.bubbles,this.cancelable)},__class__:h.events.Event,__properties__:{set_currentTarget:"set_currentTarget",get_currentTarget:"get_currentTarget",set_target:"set_target",get_target:"get_target"}};
h.events.TextEvent=function(a,b,d,c){null==c&&(c="");null==d&&(d=!1);null==b&&(b=!1);h.events.Event.call(this,a,b,d);this.text=c};m["openfl.events.TextEvent"]=h.events.TextEvent;h.events.TextEvent.__name__=["openfl","events","TextEvent"];h.events.TextEvent.__super__=h.events.Event;h.events.TextEvent.prototype=F(h.events.Event.prototype,{text:null,__class__:h.events.TextEvent});h.events.ErrorEvent=function(a,b,d,c){h.events.TextEvent.call(this,a,b,d);this.text=c};m["openfl.events.ErrorEvent"]=h.events.ErrorEvent;
h.events.ErrorEvent.__name__=["openfl","events","ErrorEvent"];h.events.ErrorEvent.__super__=h.events.TextEvent;h.events.ErrorEvent.prototype=F(h.events.TextEvent.prototype,{__class__:h.events.ErrorEvent});h.events.FocusEvent=function(a,b,d,c,e,g){null==g&&(g=0);null==e&&(e=!1);null==d&&(d=!1);null==b&&(b=!1);h.events.Event.call(this,a,b,d);this.keyCode=g;this.shiftKey=1==e;this.set_target(c)};m["openfl.events.FocusEvent"]=h.events.FocusEvent;h.events.FocusEvent.__name__=["openfl","events","FocusEvent"];
h.events.FocusEvent.__super__=h.events.Event;h.events.FocusEvent.prototype=F(h.events.Event.prototype,{keyCode:null,relatedObject:null,shiftKey:null,__class__:h.events.FocusEvent});h.events.HTTPStatusEvent=function(a,b,d,c){null==c&&(c=0);null==d&&(d=!1);null==b&&(b=!1);this.status=c;h.events.Event.call(this,a,b,d)};m["openfl.events.HTTPStatusEvent"]=h.events.HTTPStatusEvent;h.events.HTTPStatusEvent.__name__=["openfl","events","HTTPStatusEvent"];h.events.HTTPStatusEvent.__super__=h.events.Event;h.events.HTTPStatusEvent.prototype=
F(h.events.Event.prototype,{responseHeaders:null,responseURL:null,status:null,__class__:h.events.HTTPStatusEvent});h.events.IOErrorEvent=function(a,b,d,c){null==c&&(c="");null==d&&(d=!1);null==b&&(b=!1);h.events.Event.call(this,a,b,d);this.text=c};m["openfl.events.IOErrorEvent"]=h.events.IOErrorEvent;h.events.IOErrorEvent.__name__=["openfl","events","IOErrorEvent"];h.events.IOErrorEvent.__super__=h.events.Event;h.events.IOErrorEvent.prototype=F(h.events.Event.prototype,{text:null,__class__:h.events.IOErrorEvent});
h.events.UIEvent=function(a,b,d){h.events.Event.call(this,a,b,d)};m["openfl.events.UIEvent"]=h.events.UIEvent;h.events.UIEvent.__name__=["openfl","events","UIEvent"];h.events.UIEvent.__super__=h.events.Event;h.events.UIEvent.prototype=F(h.events.Event.prototype,{altKey:null,ctrlKey:null,shiftKey:null,localX:null,localY:null,stageX:null,stageY:null,relatedObject:null,__class__:h.events.UIEvent});h.events.MouseEvent=function(a,b,d,c,e,g,f,x,B,w,l){h.events.UIEvent.call(this,a,null!=b?b:!0,null!=d?d:
!1);this.ctrlKey=null!=f?f:!1;this.altKey=null!=x?x:!1;this.shiftKey=null!=B?B:!1;this.relatedObject=g;this.buttonDown=null!=w?w:!1;this.delta=null!=l?l:0};m["openfl.events.MouseEvent"]=h.events.MouseEvent;h.events.MouseEvent.__name__=["openfl","events","MouseEvent"];h.events.MouseEvent.__super__=h.events.UIEvent;h.events.MouseEvent.prototype=F(h.events.UIEvent.prototype,{buttonDown:null,delta:null,updateAfterEvent:function(){},__class__:h.events.MouseEvent});h.events.ProgressEvent=function(a,b,d,
c,e){null==e&&(e=0);null==c&&(c=0);null==d&&(d=!1);null==b&&(b=!1);h.events.Event.call(this,a,b,d);this.bytesLoaded=c;this.bytesTotal=e};m["openfl.events.ProgressEvent"]=h.events.ProgressEvent;h.events.ProgressEvent.__name__=["openfl","events","ProgressEvent"];h.events.ProgressEvent.__super__=h.events.Event;h.events.ProgressEvent.prototype=F(h.events.Event.prototype,{bytesLoaded:null,bytesTotal:null,__class__:h.events.ProgressEvent});h.events.SecurityErrorEvent=function(a,b,d,c){null==c&&(c="");null==
d&&(d=!1);null==b&&(b=!1);h.events.ErrorEvent.call(this,a,b,d);this.text=c};m["openfl.events.SecurityErrorEvent"]=h.events.SecurityErrorEvent;h.events.SecurityErrorEvent.__name__=["openfl","events","SecurityErrorEvent"];h.events.SecurityErrorEvent.__super__=h.events.ErrorEvent;h.events.SecurityErrorEvent.prototype=F(h.events.ErrorEvent.prototype,{__class__:h.events.SecurityErrorEvent});h.events.TimerEvent=function(a,b,d){null==d&&(d=!1);null==b&&(b=!1);h.events.Event.call(this,a,b,d)};m["openfl.events.TimerEvent"]=
h.events.TimerEvent;h.events.TimerEvent.__name__=["openfl","events","TimerEvent"];h.events.TimerEvent.__super__=h.events.Event;h.events.TimerEvent.prototype=F(h.events.Event.prototype,{__class__:h.events.TimerEvent});h.events.TouchEvent=function(a,b,d,c,e,g,f,x,B,w,l,t,m,n){h.events.UIEvent.call(this,a,b,d);this.altKey=m;this.shiftKey=n;this.ctrlKey=t;this.touchPointID=c;this.sizeX=x;this.sizeY=B;this.pressure=w};m["openfl.events.TouchEvent"]=h.events.TouchEvent;h.events.TouchEvent.__name__=["openfl",
"events","TouchEvent"];h.events.TouchEvent.__super__=h.events.UIEvent;h.events.TouchEvent.prototype=F(h.events.UIEvent.prototype,{sizeX:null,sizeY:null,pressure:null,touchPointID:null,__class__:h.events.TouchEvent});h.filters={};h.filters.BitmapFilter=function(){};m["openfl.filters.BitmapFilter"]=h.filters.BitmapFilter;h.filters.BitmapFilter.__name__=["openfl","filters","BitmapFilter"];h.filters.BitmapFilter.prototype={clone:function(){return new h.filters.BitmapFilter},__class__:h.filters.BitmapFilter};
h.filters.BlurFilter=function(a,b,d){null==d&&(d=1);null==b&&(b=4);null==a&&(a=4);h.filters.BitmapFilter.call(this);this.blurX=a;this.blurY=b;this.quality=d};m["openfl.filters.BlurFilter"]=h.filters.BlurFilter;h.filters.BlurFilter.__name__=["openfl","filters","BlurFilter"];h.filters.BlurFilter.__super__=h.filters.BitmapFilter;h.filters.BlurFilter.prototype=F(h.filters.BitmapFilter.prototype,{blurX:null,blurY:null,quality:null,clone:function(){return new h.filters.BlurFilter(this.blurX,this.blurY,
this.quality)},__class__:h.filters.BlurFilter});h.filters.GlowFilter=function(a,b,d,c,e,g,f,x){h.filters.BitmapFilter.call(this);this.color=null!=a?a:0;this.alpha=null!=b?b:1;this.blurX=null!=d?d:6;this.blurY=null!=c?c:6;this.strength=null!=e?e:2;this.quality=null!=g?g:1;this.inner=null!=f?f:!1;this.knockout=null!=x?x:!1};m["openfl.filters.GlowFilter"]=h.filters.GlowFilter;h.filters.GlowFilter.__name__=["openfl","filters","GlowFilter"];h.filters.GlowFilter.__super__=h.filters.BitmapFilter;h.filters.GlowFilter.prototype=
F(h.filters.BitmapFilter.prototype,{color:null,alpha:null,blurX:null,blurY:null,strength:null,quality:null,inner:null,knockout:null,clone:function(){return new h.filters.GlowFilter(this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout)},__class__:h.filters.GlowFilter});h.geom.Rectangle=function(a,b,d,c){null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=d;this.height=c};m["openfl.geom.Rectangle"]=h.geom.Rectangle;h.geom.Rectangle.__name__=
["openfl","geom","Rectangle"];h.geom.Rectangle.prototype={x:null,y:null,width:null,height:null,clone:function(){return new h.geom.Rectangle(this.x,this.y,this.width,this.height)},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},isEmpty:function(){return 0>=this.width||0>=this.height},setEmpty:function(){this.x=this.y=this.width=this.height=0},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},setTo:function(a,b,d,c){this.x=
a;this.y=b;this.width=d;this.height=c},setVoid:function(){this.width-=2147483647-this.x;this.x=2147483647;this.width=-2147483648-this.x;-2147483648;this.height-=2147483647-this.y;this.y=2147483647;this.height=-2147483648-this.y;-2147483648},get_left:function(){return this.x},set_left:function(a){this.width-=a-this.x;return this.x=a},get_top:function(){return this.y},set_top:function(a){this.height-=a-this.y;return this.y=a},get_right:function(){return this.x+this.width},set_right:function(a){this.width=
a-this.x;return a},get_bottom:function(){return this.y+this.height},set_bottom:function(a){this.height=a-this.y;return a},get_size:function(){return new h.geom.Point(this.width,this.height)},set_size:function(a){this.width=a.x;this.height=a.y;return a.clone()},get_topLeft:function(){return new h.geom.Point(this.x,this.y)},set_topLeft:function(a){this.width=a.x;this.height=a.y;return a.clone()},get_bottomRight:function(){return new h.geom.Point(this.x+this.width,this.y+this.height)},set_bottomRight:function(a){this.width=
a.x-this.x;this.height=a.y-this.y;return a.clone()},contains:function(a,b){return 0<=(a-=this.x)&&0<=(b-=this.y)&&a<this.width&&b<this.height},containsPoint:function(a){return this.contains(a.x,a.y)},containsRect:function(a){return 0>=a.width||0>=a.height?a.x>this.x&&a.y>this.y&&a.x+a.width<this.x+this.width&&a.y+a.height<this.y+this.height:a.x>=this.x&&a.y>=this.y&&a.x+a.width<=this.x+this.width&&a.y+a.height<=this.y+this.height},intersection:function(a){var b,d,c,e,g,f;return((g=this.x)<(f=a.x)?
b=f:b=g)<=((g+=this.width)>(f+=a.width)?d=f:d=g)&&((g=this.y)<(f=a.y)?c=f:c=g)<=((g+=this.height)>(f+=a.height)?e=f:e=g)?new h.geom.Rectangle(b,c,d-b,e-c):new h.geom.Rectangle},intersects:function(a){var b,d,c,e;return(this.x<(b=a.x)?b:this.x)<=(this.x+this.width>(d=a.x+a.width)?d:this.x+this.width)?!1:(this.y<(c=a.y)?c:this.y)<=(this.y+this.height>(e=a.y+a.height)?e:this.y)},join:function(a){var b;0>(b=a.x-this.x)&&(this.x+=b,this.width-=b);0>(b=a.y-this.y)&&(this.y+=b,this.height-=b);0<(b=a.x+a.width-
(this.x+this.width))&&(this.width+=b);0<(b=a.y+a.height-(this.y+this.height))&&(this.height+=b)},union:function(a){var b,d,c,e;return new h.geom.Rectangle((b=this.x)<(c=a.x)?b:c,(d=this.y)<(e=a.y)?d:e,(b+=this.width)>(c+=a.width)?b:c,(d+=this.height)>(e+=a.height)?d:e)},inflate:function(a,b){this.x-=a;this.y-=b;this.width+=2*a;this.height+=2*b},inflatePoint:function(a){this.inflate(a.x,a.y)},offset:function(a,b){this.x+=a;this.y+=b},offsetPoint:function(a){this.x+=a.x;this.y+=a.y},transform:function(a){var b,
d,c,e,g;e=d=a.a*this.x+a.c*this.y;g=c=a.b*this.x+a.d*this.y;b=a.a*(this.x+this.width)+a.c*this.y;b<d&&(d=b);b>e&&(e=b);b=a.b*(this.x+this.width)+a.d*this.y;b<c&&(c=b);b>g&&(g=b);b=a.a*this.x+a.c*(this.y+this.height);b<d&&(d=b);b>e&&(e=b);b=a.b*this.x+a.d*(this.y+this.height);b<c&&(c=b);b>g&&(g=b);b=a.a*(this.x+this.width)+a.c*(this.y+this.height);b<d&&(d=b);b>e&&(e=b);b=a.b*(this.x+this.width)+a.d*(this.y+this.height);b<c&&(c=b);b>g&&(g=b);this.x=d+a.tx;this.width=e-d;this.y=c+a.ty;this.height=g-
c},toString:function(){return"Rectangle("+this.x+", "+this.y+", "+this.width+", "+this.height+")"},__class__:h.geom.Rectangle,__properties__:{set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_size:"set_size",get_size:"get_size",set_bottom:"set_bottom",get_bottom:"get_bottom",set_top:"set_top",get_top:"get_top",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left"}};h.geom.Vector3D=function(a,b,
d,c){null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.w=c;this.x=a;this.y=b;this.z=d};m["openfl.geom.Vector3D"]=h.geom.Vector3D;h.geom.Vector3D.__name__=["openfl","geom","Vector3D"];h.geom.Vector3D.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"};h.geom.Vector3D.angleBetween=function(a,b){var d=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z),c=Math.sqrt(b.x*b.x+b.y*b.y+b.z*b.z),e=a.x*b.x+a.y*b.y+a.z*b.z;0!=d&&(e/=d);0!=c&&(e/=c);return Math.acos(e)};h.geom.Vector3D.distance=
function(a,b){var d=b.x-a.x,c=b.y-a.y,e=b.z-a.z;return Math.sqrt(d*d+c*c+e*e)};h.geom.Vector3D.get_X_AXIS=function(){return new h.geom.Vector3D(1,0,0)};h.geom.Vector3D.get_Y_AXIS=function(){return new h.geom.Vector3D(0,1,0)};h.geom.Vector3D.get_Z_AXIS=function(){return new h.geom.Vector3D(0,0,1)};h.geom.Vector3D.prototype={length:null,lengthSquared:null,w:null,x:null,y:null,z:null,add:function(a){return new h.geom.Vector3D(this.x+a.x,this.y+a.y,this.z+a.z)},clone:function(){return new h.geom.Vector3D(this.x,
this.y,this.z,this.w)},copyFrom:function(a){this.x=a.x;this.y=a.y;this.z=a.z},crossProduct:function(a){return new h.geom.Vector3D(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x,1)},decrementBy:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z},dotProduct:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},equals:function(a,b){null==b&&(b=!1);return this.x==a.x&&this.y==a.y&&this.z==a.z&&(!b||this.w==a.w)},incrementBy:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z},nearEquals:function(a,
b,d){null==d&&(d=!1);return Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b&&Math.abs(this.z-a.z)<b&&(!d||Math.abs(this.w-a.w)<b)},negate:function(){this.x*=-1;this.y*=-1;this.z*=-1},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);0!=a&&(this.x/=a,this.y/=a,this.z/=a);return a},project:function(){this.x/=this.w;this.y/=this.w;this.z/=this.w},scaleBy:function(a){this.x*=a;this.y*=a;this.z*=a},setTo:function(a,b,d){this.x=a;this.y=b;this.z=d},subtract:function(a){return new h.geom.Vector3D(this.x-
a.x,this.y-a.y,this.z-a.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:h.geom.Vector3D,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};h.media={};h.media.Sound=function(a,b){h.events.EventDispatcher.call(this);null!=a&&this.load(a,b)};m["openfl.media.Sound"]=h.media.Sound;
h.media.Sound.__name__=["openfl","media","Sound"];h.media.Sound.canPlayType=function(a){var b;a=a.toLowerCase();if(null!=h.media.Sound.canPlayMap){if(h.media.Sound.canPlayMap.exists(a))return h.media.Sound.canPlayMap.get(a)}else h.media.Sound.canPlayMap=new v.ds.StringMap;b=h.media.Sound.getFormatType(a);b="no"!=(new Audio).canPlayType(b);h.media.Sound.canPlayMap.set(a,b);return b};h.media.Sound.getFormatType=function(a){return"mp3"==a?"audio/mpeg;":"ogg"==a?'audio/ogg; codecs="vorbis"':null};h.media.Sound.__super__=
h.events.EventDispatcher;h.media.Sound.prototype=F(h.events.EventDispatcher.prototype,{id3:null,component:null,qCache:null,length:null,close:function(){if(null!=this.component)this.component=null;else throw new h.errors.IOError("Attempt to close unexisting stream.");},load:function(a,b){var d=a.url,c=h.media.Sound.library;null!=c&&c.exists(d)?(this.component=c.get(d),c=this.component.cloneNode(!0),h.media.Sound.library.set(d,c)):this.component=new Audio(d);this.qCache=[]},play:function(a,b,d){null==
b&&(b=0);null==a&&(a=0);var c;if(0==this.qCache.length)(c=new h.media.SoundChannel).init(this,this.component,b),this.component=this.component.cloneNode(!0);else{c=this.qCache[0];for(var e=0,g=this.qCache;e<g.length;){var f=g[e];++e;if(1E3*f.component.currentTime==a){c=f;break}}Q.remove(this.qCache,c)}c.set_soundTransform(d);try{c._loops=b,c.play(a)}catch(x){null}return c},get_length:function(){return null!=this.component?1E3*this.component.duration:0},__class__:h.media.Sound,__properties__:{get_length:"get_length"}});
h.media.SoundChannel=function(){this._loops=1;this.active=!1;this.leftPeak=this.rightPeak=1;h.events.EventDispatcher.call(this)};m["openfl.media.SoundChannel"]=h.media.SoundChannel;h.media.SoundChannel.__name__=["openfl","media","SoundChannel"];h.media.SoundChannel.__super__=h.events.EventDispatcher;h.media.SoundChannel.prototype=F(h.events.EventDispatcher.prototype,{leftPeak:null,rightPeak:null,soundTransform:null,component:null,qSound:null,active:null,_position:null,_loops:null,init:function(a,
b,d){null==d&&(d=1);this.qSound=a;this.component=b;this._loops=d;this.component.addEventListener("ended",u(this,this.onEnded))},play:function(a){var b=this.component,d;this.active||(d=this.get_duration(),0==a||a/1E3<=d?(this._position=this.set_position(a),b.load(),b.play(),this.active=!0):(this.set_position(0),b.load(),b.play(),b.pause(),this.qSound.qCache.push(this)))},stop:function(){this.active&&(this.active=!1,this.component.pause(),this.qSound.qCache.push(this))},set_soundTransform:function(a){this.soundTransform=
a;this.component.volume=null!=a?a.volume:1;return a},get_duration:function(){var a=this.component,b;try{b=null!=a.buffered?a.buffered.end(0):a.duration}catch(d){b=a.duration,Math.isNaN(b)&&(b=0)}return b},get_position:function(){return 1E3*this.component.currentTime},set_position:function(a){if(this.component.currentTime!=a/1E3){var b=!this.component.paused;b&&this.component.pause();this.component.currentTime=a/1E3;b&&this.component.play()}return a},onEnded:function(a){this.active&&(0<--this._loops?
(this.set_position(this._position),this.component.paused&&this.component.play()):(this.stop(),this.component.currentTime=0,this.dispatchEvent(new h.events.Event("soundComplete"))))},__class__:h.media.SoundChannel,__properties__:{set_position:"set_position",get_position:"get_position",set_soundTransform:"set_soundTransform"}});h.media.SoundLoaderContext=function(a,b){null==b&&(b=!1);null==a&&(a=0);this.bufferTime=a;this.checkPolicyFile=b};m["openfl.media.SoundLoaderContext"]=h.media.SoundLoaderContext;
h.media.SoundLoaderContext.__name__=["openfl","media","SoundLoaderContext"];h.media.SoundLoaderContext.prototype={bufferTime:null,checkPolicyFile:null,__class__:h.media.SoundLoaderContext};h.media.SoundTransform=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b};m["openfl.media.SoundTransform"]=h.media.SoundTransform;h.media.SoundTransform.__name__=["openfl","media","SoundTransform"];h.media.SoundTransform.prototype={leftToLeft:null,leftToRight:null,pan:null,rightToLeft:null,rightToRight:null,
volume:null,__class__:h.media.SoundTransform};h.net={};h.net.IURLLoader=function(){};m["openfl.net.IURLLoader"]=h.net.IURLLoader;h.net.IURLLoader.__name__=["openfl","net","IURLLoader"];h.net.IURLLoader.__interfaces__=[h.events.IEventDispatcher];h.net.IURLLoader.prototype={bytesLoaded:null,bytesTotal:null,data:null,dataFormat:null,close:null,load:null,__class__:h.net.IURLLoader};h.net.SharedObject=function(){h.events.EventDispatcher.call(this)};m["openfl.net.SharedObject"]=h.net.SharedObject;h.net.SharedObject.__name__=
["openfl","net","SharedObject"];h.net.SharedObject.getLocal=function(a,b,d){null==b&&(b=window.location.href);d=new h.net.SharedObject;d.nmeKey=b+":"+a;a=null;try{a=h.net.SharedObject.nmeGetLocalStorage().getItem(d.nmeKey)}catch(c){}d.data={};null!=a&&""!=a&&(a=new v.Unserializer(a),a.setResolver({resolveEnum:S.resolveEnum,resolveClass:h.net.SharedObject.resolveClass}),d.data=a.unserialize());null==d.data&&(d.data={});return d};h.net.SharedObject.nmeGetLocalStorage=function(){var a=E.Browser.getLocalStorage();
if(null==a)throw new h.errors.Error("SharedObject not supported");return a};h.net.SharedObject.resolveClass=function(a){return null!=a?S.resolveClass(O.replace(O.replace(a,"jeash.","openfl."),"browser.","openfl.")):null};h.net.SharedObject.__super__=h.events.EventDispatcher;h.net.SharedObject.prototype=F(h.events.EventDispatcher.prototype,{data:null,nmeKey:null,clear:function(){this.data={};try{h.net.SharedObject.nmeGetLocalStorage().removeItem(this.nmeKey)}catch(a){}this.flush()},flush:function(){var a=
v.Serializer.run(this.data);try{h.net.SharedObject.nmeGetLocalStorage().removeItem(this.nmeKey),h.net.SharedObject.nmeGetLocalStorage().setItem(this.nmeKey,a)}catch(b){return h.net.SharedObjectFlushStatus.PENDING}return h.net.SharedObjectFlushStatus.FLUSHED},setProperty:function(a,b){null!=this.data&&(this.data[a]=b)},get_size:function(){return v.io.Bytes.ofString(v.Serializer.run(this.data)).length},__class__:h.net.SharedObject,__properties__:{get_size:"get_size"}});h.net.SharedObjectFlushStatus=
m["openfl.net.SharedObjectFlushStatus"]={__ename__:["openfl","net","SharedObjectFlushStatus"],__constructs__:["FLUSHED","PENDING"]};h.net.SharedObjectFlushStatus.FLUSHED=["FLUSHED",0];h.net.SharedObjectFlushStatus.FLUSHED.__enum__=h.net.SharedObjectFlushStatus;h.net.SharedObjectFlushStatus.PENDING=["PENDING",1];h.net.SharedObjectFlushStatus.PENDING.__enum__=h.net.SharedObjectFlushStatus;h.net.URLLoader=function(a){h.events.EventDispatcher.call(this);this.bytesLoaded=this.bytesTotal=0;this.set_dataFormat(1);
null!=a&&this.load(a)};m["openfl.net.URLLoader"]=h.net.URLLoader;h.net.URLLoader.__name__=["openfl","net","URLLoader"];h.net.URLLoader.__interfaces__=[h.net.IURLLoader];h.net.URLLoader.__super__=h.events.EventDispatcher;h.net.URLLoader.prototype=F(h.events.EventDispatcher.prototype,{bytesLoaded:null,bytesTotal:null,data:null,dataFormat:null,set_dataFormat:function(a){return this.dataFormat=0==a&&null==window.ArrayBuffer?1:a},close:function(){},getData:function(){return null},load:function(a){this.requestUrl(a.url,
a.method,a.data,a.formatRequestHeaders())},registerEvents:function(a){var b=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&a.addEventListener("progress",u(this,this.onProgress),!1);a.onreadystatechange=function(){if(4==a.readyState){var d;try{d=a.status}catch(c){d=null}if(null!=d)b.onStatus(d);if(null==d)b.onError("Failed to connect or resolve host");else if(200<=d&&400>d)b.onData(a.response);else if(12029==d)b.onError("Failed to connect to host");else if(12007==d)b.onError("Unknown host");
else if(0==d)b.onError("Unable to make request (may be blocked due to cross-domain permissions)"),b.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)");else b.onError("Http Error #"+a.status)}}},requestUrl:function(a,b,d,c){var e=new XMLHttpRequest;this.getData=function(){return null!=e.response?e.response:e.responseText};this.registerEvents(e);var g="";if(E.Boot.__instanceof(d,h.utils.ByteArray))g=0==this.dataFormat?d.data.buffer:d.readUTFBytes(d.length);else if(E.Boot.__instanceof(d,
h.net.URLVariables))for(var f=0,x=J.fields(d);f<x.length;){var B=x[f];++f;0!=g.length&&(g+="&");g+=encodeURIComponent(B)+"="+O.urlEncode(J.field(d,B))}else null!=d&&(g=d.toString());try{if("GET"==b&&null!=g&&""!=g){var w=1>=a.split("?").length;e.open(b,a+(w?"?":"&")+H.string(g),!0);g=""}else e.open(b,a,!0)}catch(l){this.onError(l.toString());return}0==this.dataFormat&&(e.responseType="arraybuffer");for(a=0;a<c.length;)b=c[a],++a,e.setRequestHeader(b.name,b.value);e.send(g);this.onOpen()},onData:function(a){a=
a?a:this.getData();this.data=0==this.dataFormat?h.utils.ByteArray.nmeOfBuffer(a):H.string(a);a=new h.events.Event("complete");a.set_currentTarget(this);this.dispatchEvent(a)},onError:function(a){var b=new h.events.IOErrorEvent("ioError");b.text=a;b.set_currentTarget(this);this.dispatchEvent(b)},onOpen:function(){var a=new h.events.Event("open");a.set_currentTarget(this);this.dispatchEvent(a)},onProgress:function(a){var b=new h.events.ProgressEvent("progress");b.set_currentTarget(this);b.bytesLoaded=
a.loaded;b.bytesTotal=a.total;this.dispatchEvent(b)},onSecurityError:function(a){var b=new h.events.SecurityErrorEvent("securityError");b.text=a;b.set_currentTarget(this);this.dispatchEvent(b)},onStatus:function(a){a=new h.events.HTTPStatusEvent("httpStatus",!1,!1,a);a.set_currentTarget(this);this.dispatchEvent(a)},__class__:h.net.URLLoader,__properties__:{set_dataFormat:"set_dataFormat"}});h.net.URLRequest=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method="GET";this.contentType=
null};m["openfl.net.URLRequest"]=h.net.URLRequest;h.net.URLRequest.__name__=["openfl","net","URLRequest"];h.net.URLRequest.prototype={contentType:null,data:null,method:null,requestHeaders:null,url:null,formatRequestHeaders:function(){var a=this.requestHeaders;null==a&&(a=[]);if("GET"==this.method||null==this.data)return a;("string"==typeof this.data||E.Boot.__instanceof(this.data,h.utils.ByteArray))&&(a=a.slice()).push(new h.net.URLRequestHeader("Content-Type",null!=this.contentType?this.contentType:
"application/x-www-form-urlencoded"));return a},__class__:h.net.URLRequest};h.net.URLRequestHeader=function(a,b){null==b&&(b="");null==a&&(a="");this.name=a;this.value=b};m["openfl.net.URLRequestHeader"]=h.net.URLRequestHeader;h.net.URLRequestHeader.__name__=["openfl","net","URLRequestHeader"];h.net.URLRequestHeader.prototype={name:null,value:null,__class__:h.net.URLRequestHeader};h.net.URLVariables=function(a){null!=a&&this.decode(a)};m["openfl.net.URLVariables"]=h.net.URLVariables;h.net.URLVariables.__name__=
["openfl","net","URLVariables"];h.net.URLVariables.prototype={decode:function(a){for(var b=0,d=-1,c=a.length,e=0,g;b<c;){d=a.indexOf("&",b);0>d&&(d=c);e=a.indexOf("=",b);if(-1==e||e>d)throw 2101;b=a.substring(b,e);e=a.substring(e+1,d);Object.prototype.hasOwnProperty.call(this,b)?(g=J.field(this,b),g instanceof Array&&null==g.__enum__?g.push(e):g=[g,e]):g=e;this[b]=g;b=d+1}},toString:function(){for(var a="",b=J.fields(this),d=-1,c=b.length,e,g;++d<c;)0<d&&(a+="&"),a+=O.urlEncode(e=b[d])+"=",a=(g=J.field(this,
e)instanceof Array)&&null==(g=J.field(this,e)).__enum__?a+g.join("&"+e+"="):a+H.string(g);return a},__class__:h.net.URLVariables};h.text={};h.text.AntiAliasType=m["openfl.text.AntiAliasType"]={__ename__:["openfl","text","AntiAliasType"],__constructs__:["ADVANCED","NORMAL"]};h.text.AntiAliasType.ADVANCED=["ADVANCED",0];h.text.AntiAliasType.ADVANCED.__enum__=h.text.AntiAliasType;h.text.AntiAliasType.NORMAL=["NORMAL",1];h.text.AntiAliasType.NORMAL.__enum__=h.text.AntiAliasType;h.text.Font=function(){};
m["openfl.text.Font"]=h.text.Font;h.text.Font.__name__=["openfl","text","Font"];h.text.Font.enumerateFonts=function(a){return[]};h.text.Font.registerFont=function(a){};h.text.Font.prototype={fontName:null,fontStyle:null,fontType:null,hasGlyphs:function(a){return!1},__class__:h.text.Font};h.text.FontStyle=m["openfl.text.FontStyle"]={__ename__:["openfl","text","FontStyle"],__constructs__:["REGULAR","ITALIC","BOLD_ITALIC","BOLD"]};h.text.FontStyle.REGULAR=["REGULAR",0];h.text.FontStyle.REGULAR.__enum__=
h.text.FontStyle;h.text.FontStyle.ITALIC=["ITALIC",1];h.text.FontStyle.ITALIC.__enum__=h.text.FontStyle;h.text.FontStyle.BOLD_ITALIC=["BOLD_ITALIC",2];h.text.FontStyle.BOLD_ITALIC.__enum__=h.text.FontStyle;h.text.FontStyle.BOLD=["BOLD",3];h.text.FontStyle.BOLD.__enum__=h.text.FontStyle;h.text.FontType=m["openfl.text.FontType"]={__ename__:["openfl","text","FontType"],__constructs__:["EMBEDDED","DEVICE"]};h.text.FontType.EMBEDDED=["EMBEDDED",0];h.text.FontType.EMBEDDED.__enum__=h.text.FontType;h.text.FontType.DEVICE=
["DEVICE",1];h.text.FontType.DEVICE.__enum__=h.text.FontType;h.text.TextField=function(){this.__editable=!1;this.__text="";this.__autoSize=-1;this.wordWrap=!1;this.type="DYNAMIC";this.selectable=!0;this.multiline=!1;this.borderColor=this.maxChars=0;this.border=!1;this.backgroundColor=16777215;h.display.InteractiveObject.call(this);var a=this.component.style;a.whiteSpace="nowrap";a.overflow="hidden";a.padding="1.5px";this.__textFormat=new h.text.TextFormat("Times New Roman",12,0,!1,!1,!1,"","","LEFT",
0,0,0,0);this.__height=this.__width=100;this.__applySize(3);this.__applyTextFormat()};m["openfl.text.TextField"]=h.text.TextField;h.text.TextField.__name__=["openfl","text","TextField"];h.text.TextField.__interfaces__=[h.display.IBitmapDrawable];h.text.TextField.__super__=h.display.InteractiveObject;h.text.TextField.prototype=F(h.display.InteractiveObject.prototype,{autoSize:null,antiAliasType:null,background:null,backgroundColor:null,border:null,borderColor:null,caretIndex:null,displayAsPassword:null,
embedFonts:null,htmlText:null,length:null,maxChars:null,multiline:null,scrollH:null,scrollV:null,maxScrollH:null,maxScrollV:null,numLines:null,selectable:null,selectedText:null,textHeight:null,textWidth:null,type:null,wordWrap:null,__autoSize:null,__text:null,__textFormat:null,__textFormatSync:null,__fontStyle:null,__editable:null,__field:null,set_background:function(a){if(this.background!=a){var b=this.component.style;(this.background=a)?b.background=h.Lib.rgbf(this.backgroundColor,1):b.background=
""}return a},set_backgroundColor:function(a){this.backgroundColor!=a&&(this.backgroundColor=a,this.background&&(this.component.style.background=h.Lib.rgbf(a,1)));return a},set_border:function(a){if(this.border!=a){var b=this.component.style;(this.border=a)?b.border="1px solid "+h.Lib.rgbf(this.borderColor,1):b.border="0";this.__applySize(3)}return a},set_borderColor:function(a){this.borderColor!=a&&(this.borderColor=a,this.border&&(this.component.style.border="1px solid "+h.Lib.rgbf(a,1)));return a},
get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(a){this.__textFormat.merge(a);this.__textFormatSync=!1;return a},get_textColor:function(){return this.__textFormat.color},set_textColor:function(a){this.__textFormat.color=a;this.__applyTextFormat();return a},setTextFormat:function(a,b,d){},__applyType:function(a){var b=this.component,d=this.get_text();(this.__editable=a)?(a=h.Lib.jsNode(this.multiline?"textarea":"input"),a.value=d,a.maxLength=0<this.maxChars?
this.maxChars:2147483647,d=a.style,d.border="0",d.padding="0",d.background="transparent",b.appendChild(this.__field=a)):(b.removeChild(this.__field),this.__field=null)},__applyTextFormat:function(){this.__textFormatSync=!0;var a=this.__textFormat,b=(this.__editable?this.__field:this.component).style;this.__fontStyle=b.font=a.get_fontStyle();b.lineHeight="1.25";b.textAlign=a.align;b.fontWeight=a.bold?"bold":"";b.fontStyle=a.italic?"italic":"";b.textDecoration=a.underline?"underline":"";b.color=h.Lib.rgbf(a.color,
1)},__applyText:function(a){this.__text=a;this.__editable?this.__field.value=a:null==this.component.innerText?this.component.innerHTML=O.replace(O.htmlEscape(a),"\n","<br>"):this.component.innerText=a;this.__applyAutoSize()},__applySize:function(a){var b=this.component.style,d=this.__editable,c;c=d?this.__field.style:null;for(var e=1;4>e;){if(0!=(a&e)){var g;g=1==e?this.__width:this.__height;1==e&&0<=this.__autoSize&&!this.wordWrap&&(g=null);null!=g?(this.border&&--g,g-=3,g+="px"):g="";1==e?(b.width=
g,d&&(c.width=g)):(b.height=g,d&&(c.height=g))}e<<=1}},get_length:function(){return this.get_text().length},get_text:function(){return this.__editable?this.__field.value:this.__text},set_text:function(a){this.get_text()!=a&&this.__applyText(a);this.__textFormatSync||this.__applyTextFormat();return a},appendText:function(a){this.set_text(this.get_text()+a)},setSelection:function(a,b){this.__editable&&this.__field.setSelectionRange(a,b)},drawToSurface:function(a,b,d,c,e,g,f){b.save();b.fillStyle=this.component.style.color;
b.font=this.__fontStyle;b.textBaseline="top";b.textAlign=this.__textFormat.align;b.fillText(this.get_text(),0,0);b.restore()},get_width:function(){return 0>this.__autoSize?this.__width:this.get_textWidth()},get_height:function(){return 0>this.__autoSize?this.__height:this.get_textHeight()},set_width:function(a){this.__width!=a&&(this.__width=a,this.__applySize(1));return a},set_height:function(a){this.__height!=a&&(this.__height=a,this.__applySize(2));return a},__measurePre:function(){var a=h.Lib.jsHelper();
a.setAttribute("style",this.component.getAttribute("style"));var b=a.style;this.wordWrap||(b.width="");b.height="";b.paddingTop="";b.paddingBottom="";b.borderTop="";b.borderBottom="";a.innerHTML=this.component.innerHTML;return a},__measurePost:function(a){a.setAttribute("style","");a.innerHTML=""},get_textWidth:function(){if(null==this.get_stage()){var a=this.__measurePre(),b=a.clientWidth;this.__measurePost(a);return b}return this.component.clientWidth},get_textHeight:function(){if(null==this.get_stage()){var a=
this.__measurePre(),b=a.clientHeight;this.__measurePost(a);return b}return this.component.clientHeight},get_numLines:function(){var a=Math.round(this.get_textHeight()/(1.25*this.get_defaultTextFormat().size));return 1>a?1:a},__applyAutoSize:function(){var a=this.__autoSize,b=this.component.style;0<=a&&!this.__editable?(b.left=0<a?(this.__width-this.get_textWidth())*a/2+"px":"",this.wordWrap||(b.width=""),b.height=""):(b.left="",this.__applySize(3))},set_autoSize:function(a){if(this.autoSize!=a){var b;
switch(this.autoSize=a){case "LEFT":b=0;break;case "CENTER":b=1;break;case "RIGHT":b=2;break;default:b=-1}this.__autoSize=b;this.__applyAutoSize()}return a},set_type:function(a){var b="INPUT"==a;b!=this.__editable&&this.__applyType(b);return a},set_multiline:function(a){this.multiline!=a&&(this.multiline=a,this.__editable&&this.__applyType(!0));return a},set_maxChars:function(a){this.maxChars!=a&&(this.maxChars=a,this.__editable&&(this.__field.maxLength=0<a?a:2147483647));return a},set_selectable:function(a){if(this.selectable!=
a){var b=this.component.style,d;d=(this.selectable=a)?null:"none";b.setProperty("-webkit-touch-callout",d,null);b.setProperty("cursor",a?"":"default",null);h.Lib.setCSSProperties(b,"user-select",d,47)}return a},set_wordWrap:function(a){if(this.wordWrap!=a){var b;b=(this.wordWrap=a)?"normal":"nowrap";this.component.style.whiteSpace=b;this.__editable&&(this.__field.style.whiteSpace=b)}return a},giveFocus:function(){(this.__editable?this.__field:this.component).focus()},get_selectionBeginIndex:function(){return this.__editable?
this.__field.selectionStart:0},get_selectionEndIndex:function(){return this.__editable?this.__field.selectionEnd:0},set_selectionBeginIndex:function(a){this.__editable&&this.__field.selectionStart!=a&&(this.__field.selectionStart=a);return a},set_selectionEndIndex:function(a){this.__editable&&this.__field.selectionEnd!=a&&(this.__field.selectionEnd=a);return a},get_selectedText:function(){if(this.__editable){var a=this.__field.selectionStart,b=this.__field.selectionEnd,d;b<a&&(d=a,a=b,b=d);return this.__field.value.substring(a,
b)}return null},hitTestLocal:function(a,b,d,c){return(!c||this.visible)&&0<=a&&0<=b&&a<this.get_width()&&b<this.get_height()},addEventListener:function(a,b,d,c,e){null==e&&(e=!1);null==c&&(c=0);null==d&&(d=!1);var g=this.component;this.__editable&&(this.component=this.__field);h.display.InteractiveObject.prototype.addEventListener.call(this,a,b,d,c,e);this.__editable&&(this.component=g)},removeEventListener:function(a,b,d){null==d&&(d=!1);var c=this.component;this.__editable&&(this.component=this.__field);
h.display.InteractiveObject.prototype.removeEventListener.call(this,a,b,d);this.__editable&&(this.component=c)},__class__:h.text.TextField,__properties__:F(h.display.InteractiveObject.prototype.__properties__,{set_wordWrap:"set_wordWrap",set_type:"set_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_textColor:"set_textColor",get_textColor:"get_textColor",set_text:"set_text",get_text:"get_text",set_selectionEndIndex:"set_selectionEndIndex",get_selectionEndIndex:"get_selectionEndIndex",
set_selectionBeginIndex:"set_selectionBeginIndex",get_selectionBeginIndex:"get_selectionBeginIndex",get_selectedText:"get_selectedText",set_selectable:"set_selectable",get_numLines:"get_numLines",set_multiline:"set_multiline",set_maxChars:"set_maxChars",get_length:"get_length",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",set_borderColor:"set_borderColor",set_border:"set_border",set_backgroundColor:"set_backgroundColor",set_background:"set_background",
set_autoSize:"set_autoSize"})});h.text.TextFormat=function(a,b,d,c,e,g,f,x,h,w,l,t,m){this.font=a;this.size=b;this.color=d;this.bold=c;this.italic=e;this.underline=g;this.url=f;this.target=x;this.align=h;this.leftMargin=w;this.rightMargin=l;this.indent=t;this.leading=m;this.tabStops=[]};m["openfl.text.TextFormat"]=h.text.TextFormat;h.text.TextFormat.__name__=["openfl","text","TextFormat"];h.text.TextFormat.translateFont=function(a){switch(a){case "_sans":return"sans-serif";case "_serif":return"serif";
case "_typewriter":return"monospace";default:return null==a?"sans-serif":a}};h.text.TextFormat.prototype={align:null,blockIndent:null,bold:null,bullet:null,color:null,font:null,indent:null,italic:null,kerning:null,leading:null,leftMargin:null,letterSpacing:null,rightMargin:null,size:null,tabStops:null,target:null,underline:null,url:null,merge:function(a){null!=a.font&&(this.font=a.font);null!=a.size&&(this.size=a.size);null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&
(this.italic=a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=a.target);null!=a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.rightMargin=a.rightMargin);null!=a.indent&&(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);null!=a.blockIndent&&(this.blockIndent=a.blockIndent);null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=
a.letterSpacing&&(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops)},clone:function(){var a=new h.text.TextFormat(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target,this.align,this.leftMargin,this.rightMargin,this.indent,this.leading);a.blockIndent=this.blockIndent;a.bullet=this.bullet;a.indent=this.indent;a.kerning=this.kerning;a.letterSpacing=this.letterSpacing;a.tabStops=this.tabStops.slice(0);return a},get_fontStyle:function(){return(this.bold?
"bold ":"")+(this.italic?"italic ":"")+this.size+"px "+h.text.TextFormat.translateFont(this.font)},__class__:h.text.TextFormat};h.ui={};h.ui.Mouse=function(){};m["openfl.ui.Mouse"]=h.ui.Mouse;h.ui.Mouse.__name__=["openfl","ui","Mouse"];h.ui.Mouse.hide=function(){h.Lib.get_stage().component.style.cursor="none"};h.ui.Mouse.show=function(){h.Lib.get_stage().component.style.cursor=null};h.utils={};h.utils.ByteArray=function(){this.littleEndian=!1;this.length=0;this._nmeResizeBuffer(this.allocated=this.position=
0)};m["openfl.utils.ByteArray"]=h.utils.ByteArray;h.utils.ByteArray.__name__=["openfl","utils","ByteArray"];h.utils.ByteArray.fromBytes=function(a){var b=new h.utils.ByteArray;b.byteView=new Uint8Array(a.b);b.set_length(b.byteView.length);b.allocated=b.length;return b};h.utils.ByteArray.nmeOfBuffer=function(a){var b=new h.utils.ByteArray;b.set_length(b.allocated=a.byteLength);b.data=new DataView(a);b.byteView=new Uint8Array(a);return b};h.utils.ByteArray.prototype={bytesAvailable:null,length:null,
objectEncoding:null,position:null,allocated:null,byteView:null,data:null,littleEndian:null,__get:function(a){return this.data.getUint8(a)},__set:function(a,b){this.data.setUint8(a,b)},_getUTFBytesCount:function(a){for(var b=0,d=-1,c=a.length,e;++d<c;)e=a.charCodeAt(d),b=127>=e?b+1:2047>=e?b+2:65535>=e?b+3:b+4;return b},_nmeResizeBuffer:function(a){var b=this.byteView,d=new Uint8Array(a);null!=b&&(b.length<=a?d.set(b):d.set(b.subarray(0,a)));this.byteView=d;this.data=new DataView(d.buffer)},clear:function(){this.set_length(this.position=
0)},nmeFromBytes:function(a){this.byteView=new Uint8Array(a.b);this.set_length(this.byteView.length);this.allocated=this.length},nmeGet:function(a){return this.data.getUint8(a)},nmeGetBuffer:function(){return this.data.buffer},nmeSet:function(a,b){this.data.setUint8(a,b)},readBoolean:function(){return 0!=this.data.getUint8(this.position++)},readByte:function(){return this.data.getUint8(this.position++)},readBytes:function(a,b,d){null==b&&(b=0);null==d&&(d=this.length);if(0>b||0>d)throw new h.errors.IOError("Read error - Out of bounds");
var c=b+d;a.length<c&&a.set_length(c);a.byteView.set(this.byteView.subarray(this.position,this.position+d),b);a.position=b;this.position+=d;a.position+d>a.length&&a.set_length(a.position+d)},readDouble:function(){var a=this.data.getFloat64(this.position,this.littleEndian);this.position+=8;return a},readFloat:function(){var a=this.data.getFloat32(this.position,this.littleEndian);this.position+=4;return a},readFullBytes:function(a,b,d){this.length<d&&this.set_length(d);var c=b;for(b+=d;c<b;)d=c++,this.data.setInt8(this.position++,
a.b[d])},readInt:function(){var a=this.data.getInt32(this.position,this.littleEndian);this.position+=4;return a},readShort:function(){var a=this.data.getInt16(this.position,this.littleEndian);this.position+=2;return a},readUnsignedByte:function(){return this.data.getUint8(this.position++)},readUnsignedInt:function(){var a=this.data.getUint32(this.position,this.littleEndian);this.position+=4;return a},readUnsignedShort:function(){var a=this.data.getUint16(this.position,this.littleEndian);this.position+=
2;return a},readUTF:function(){return this.readUTFBytes(this.readUnsignedShort())},readUTFBytes:function(a){var b="";for(a=this.position+a;this.position<a;){var d=this.data.getUint8(this.position++);if(128>d){if(0==d)break;b+=String.fromCharCode(d)}else if(224>d)b+=String.fromCharCode((d&63)<<6|this.data.getUint8(this.position++)&127);else if(240>d)var c=this.data.getUint8(this.position++),b=b+String.fromCharCode((d&31)<<12|(c&127)<<6|this.data.getUint8(this.position++)&127);else var c=this.data.getUint8(this.position++),
e=this.data.getUint8(this.position++),b=b+String.fromCharCode((d&15)<<18|(c&127)<<12|e<<6&127|this.data.getUint8(this.position++)&127)}return b},toString:function(){var a=this.position,b;this.position=0;b=this.readUTFBytes(this.length);this.position=a;return b},toBase64:function(){for(var a=this.length,b=-1,d=this.data,c="",e,g,f;++b<a;)e=d.getUint8(b),g=++b<a?d.getUint8(b):0,f=++b<a?d.getUint8(b):0,c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((e&
3)<<4|g>>4)+(b-1<a?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((g&15)<<2|f>>6):"=")+(b<a?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f&63):"=");return c},writeBoolean:function(a){this.writeByte(a?1:0)},writeByte:function(a){var b=this.position+1;this.length<b&&this.set_length(b);this.data.setInt8(this.position,a);this.position+=1},writeBytes:function(a,b,d){if(0>b||0>d)throw new h.errors.IOError("Write error - Out of bounds");var c=this.position+
d;this.length<c&&this.set_length(c);this.byteView.set(a.byteView.subarray(b,b+d),this.position);this.position+=d},writeDouble:function(a){var b=this.position+8;this.length<b&&this.set_length(b);this.data.setFloat64(this.position,a,this.littleEndian);this.position+=8},writeFloat:function(a){var b=this.position+4;this.length<b&&this.set_length(b);this.data.setFloat32(this.position,a,this.littleEndian);this.position+=4},writeInt:function(a){var b=this.position+4;this.length<b&&this.set_length(b);this.data.setInt32(this.position,
a,this.littleEndian);this.position+=4},writeShort:function(a){var b=this.position+2;this.length<b&&this.set_length(b);this.data.setInt16(this.position,a,this.littleEndian);this.position+=2},writeUnsignedInt:function(a){var b=this.position+4;this.length<b&&this.set_length(b);this.data.setUint32(this.position,a,this.littleEndian);this.position+=4},writeUnsignedShort:function(a){var b=this.position+2;this.length<b&&this.set_length(b);this.data.setUint16(this.position,a,this.littleEndian);this.position+=
2},writeUTF:function(a){this.writeUnsignedShort(this._getUTFBytesCount(a));this.writeUTFBytes(a)},writeUTFBytes:function(a){for(var b=-1,d=a.length,c;++b<d;)c=a.charCodeAt(b),127>=c?this.writeByte(c):(2047>=c?this.writeByte(192|c>>6):(65535>=c?this.writeByte(224|c>>12):(this.writeByte(240|c>>18),this.writeByte(128|c>>12&63)),this.writeByte(128|c>>6&63)),this.writeByte(128|c&63))},get_bytesAvailable:function(){return this.length-this.position},get_endian:function(){return this.littleEndian?"littleEndian":
"bigEndian"},set_endian:function(a){this.littleEndian="littleEndian"==a;return a},set_length:function(a){this.allocated<a?this._nmeResizeBuffer(this.allocated=H["int"](Math.max(a,2*this.allocated))):this.allocated>a&&this._nmeResizeBuffer(this.allocated=a);return this.length=a},__class__:h.utils.ByteArray,__properties__:{set_length:"set_length",set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}};h.utils.Endian=function(){};m["openfl.utils.Endian"]=h.utils.Endian;
h.utils.Endian.__name__=["openfl","utils","Endian"];h.utils.Timer=function(a,b){null==b&&(b=0);h.events.EventDispatcher.call(this);this.running=!1;this.set_delay(a);this.set_repeatCount(b);this.currentCount=0};m["openfl.utils.Timer"]=h.utils.Timer;h.utils.Timer.__name__=["openfl","utils","Timer"];h.utils.Timer.__super__=h.events.EventDispatcher;h.utils.Timer.prototype=F(h.events.EventDispatcher.prototype,{currentCount:null,delay:null,repeatCount:null,running:null,timerId:null,reset:function(){this.stop();
this.currentCount=0},start:function(){this.running||(this.running=!0,this.timerId=window.setInterval(u(this,this.onInterval),this.delay|0))},stop:function(){null!=this.timerId&&(window.clearInterval(this.timerId),this.timerId=null);this.running=!1},onInterval:function(){var a=null,b;0!=this.repeatCount&&++this.currentCount>=this.repeatCount&&(this.stop(),a=new h.events.TimerEvent("timerComplete"),a.set_target(this));b=new h.events.TimerEvent("timer");b.set_target(this);this.dispatchEvent(b);null!=
a&&this.dispatchEvent(a)},set_delay:function(a){if(a!=this.delay){var b=this.running;b&&this.stop();this.delay=a;b&&this.start()}return a},set_repeatCount:function(a){this.running&&0!=a&&a<=this.currentCount&&this.stop();return this.repeatCount=a},__class__:h.utils.Timer,__properties__:{set_repeatCount:"set_repeatCount",set_delay:"set_delay"}});var C={AnimatedSprite:function(a,b){null==b&&(b=!1);h.display.Sprite.call(this);this.smoothing=b;this.spritesheet=a;this.behaviorQueue=[];this.bitmap=new h.display.Bitmap;
this.addChild(this.bitmap)}};m["spritesheet.AnimatedSprite"]=C.AnimatedSprite;C.AnimatedSprite.__name__=["spritesheet","AnimatedSprite"];C.AnimatedSprite.__super__=h.display.Sprite;C.AnimatedSprite.prototype=F(h.display.Sprite.prototype,{bitmap:null,currentBehavior:null,currentFrameIndex:null,smoothing:null,spritesheet:null,behaviorComplete:null,behaviorQueue:null,behavior:null,loopTime:null,timeElapsed:null,getFrameData:function(a){return null!=this.currentBehavior&&this.currentBehavior.frameData.length>
a?this.currentBehavior.frameData[a]:null},queueBehavior:function(a){a=this.resolveBehavior(a);null==this.currentBehavior?this.updateBehavior(a):this.behaviorQueue.push(a)},resolveBehavior:function(a){return E.Boot.__instanceof(a,C.data.BehaviorData)?a:"string"==typeof a&&null!=this.spritesheet?this.spritesheet.behaviors.get(a):null},showBehavior:function(a,b){null==b&&(b=!0);this.behaviorQueue=[];this.updateBehavior(this.resolveBehavior(a),b)},showBehaviors:function(a){this.behaviorQueue=[];for(var b=
0;b<a.length;){var d=a[b];++b;this.behaviorQueue.push(this.resolveBehavior(d))}0<this.behaviorQueue.length&&this.updateBehavior(this.behaviorQueue.shift())},update:function(a){this.behaviorComplete||(this.timeElapsed+=a,a=this.timeElapsed/this.loopTime,1<=a&&(this.currentBehavior.loop?a-=Math.floor(a):(this.behaviorComplete=!0,a=1)),this.currentFrameIndex=Math.round(a*(this.currentBehavior.frames.length-1)),a=this.spritesheet.getFrame(this.currentBehavior.frames[this.currentFrameIndex]),this.bitmap.set_bitmapData(a.bitmapData),
this.bitmap.smoothing=this.smoothing,this.bitmap.set_x(a.offsetX-this.currentBehavior.originX),this.bitmap.set_y(a.offsetY-this.currentBehavior.originY),this.behaviorComplete&&(0<this.behaviorQueue.length?this.updateBehavior(this.behaviorQueue.shift()):this.hasEventListener("complete")&&this.dispatchEvent(new h.events.Event("complete"))))},updateBehavior:function(a,b){null==b&&(b=!0);if(null!=a){if(b||a!=this.currentBehavior)this.currentBehavior=a,this.timeElapsed=0,this.behaviorComplete=!1,this.loopTime=
a.frames.length/a.frameRate*1E3|0,null==this.bitmap.bitmapData&&this.update(0)}else this.bitmap.set_bitmapData(null),this.currentBehavior=null,this.currentFrameIndex=-1,this.behaviorComplete=!0},__class__:C.AnimatedSprite});C.Spritesheet=function(a,b,d,c){this.sourceImage=a;this.sourceImageAlpha=c;null==b?(this.frames=[],this.totalFrames=0):(this.frames=b,this.totalFrames=b.length);this.behaviors=null==d?new v.ds.StringMap:d};m["spritesheet.Spritesheet"]=C.Spritesheet;C.Spritesheet.__name__=["spritesheet",
"Spritesheet"];C.Spritesheet.prototype={behaviors:null,name:null,totalFrames:null,frames:null,sourceImage:null,sourceImageAlpha:null,addBehavior:function(a){this.behaviors.set(a.name,a)},addFrame:function(a){this.frames.push(a);this.totalFrames++},generateBitmaps:function(){for(var a=0,b=this.totalFrames;a<b;){var d=a++;this.generateBitmap(d)}},generateBitmap:function(a){a=this.frames[a];var b=new h.display.BitmapData(a.width,a.height,!0),d=new h.geom.Rectangle(a.x,a.y,a.width,a.height),c=new h.geom.Point;
b.copyPixels(this.sourceImage,d,c);null!=this.sourceImageAlpha&&b.copyChannel(this.sourceImageAlpha,d,c,2,8);a.bitmapData=b},getFrame:function(a,b){null==b&&(b=!0);var d=this.frames[a];null!=d&&null==d.bitmapData&&b&&this.generateBitmap(a);return d},getFrameIDs:function(){for(var a=[],b=0,d=this.totalFrames;b<d;){var c=b++;a.push(c)}return a},getFrames:function(){return this.frames.slice()},merge:function(a){for(var b=this.totalFrames,d=0,c=a.frames.length;d<c;){var e=d++;null!=a.frames[e].bitmapData||
a.sourceImage==this.sourceImage&&a.sourceImageAlpha==this.sourceImageAlpha||a.generateBitmap(e);this.addFrame(a.frames[e])}for(a=a.behaviors.iterator();a.hasNext();)if(d=a.next(),!this.behaviors.exists(d.name)){d.clone().name=d.name;c=0;for(e=d.frames.length;c<e;){var g=c++;d.frames[g]+=b}this.addBehavior(d)}a=[];for(d=this.totalFrames;b<d;)c=b++,a.push(c);return a},updateImage:function(a,b){this.sourceImage=a;this.sourceImageAlpha=b;for(var d=0,c=this.frames;d<c.length;){var e=c[d];++d;null!=e.bitmapData&&
(e.bitmapData=null)}},__class__:C.Spritesheet};C.data={};C.data.BehaviorData=function(a,b,d,c,e,g){null==g&&(g=0);null==e&&(e=0);null==c&&(c=30);null==d&&(d=!1);null==a&&(a="");""==a&&(a="behavior"+C.data.BehaviorData.uniqueID++);null==b&&(b=[]);this.name=a;this.frames=b;this.loop=d;this.frameRate=c;this.originX=e;this.originY=g;this.frameData=[];a=0;for(b=this.frames.length;a<b;)a++,this.frameData.push(null)};m["spritesheet.data.BehaviorData"]=C.data.BehaviorData;C.data.BehaviorData.__name__=["spritesheet",
"data","BehaviorData"];C.data.BehaviorData.prototype={frameData:null,frameRate:null,frames:null,loop:null,name:null,originX:null,originY:null,clone:function(){return new C.data.BehaviorData("behavior"+C.data.BehaviorData.uniqueID++,this.frames.slice(),this.loop,this.frameRate,this.originX,this.originY)},__class__:C.data.BehaviorData};C.data.SpritesheetFrame=function(a,b,d,c,e,g){null==g&&(g=0);null==e&&(e=0);null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=
d;this.height=c;this.offsetX=e;this.offsetY=g};m["spritesheet.data.SpritesheetFrame"]=C.data.SpritesheetFrame;C.data.SpritesheetFrame.__name__=["spritesheet","data","SpritesheetFrame"];C.data.SpritesheetFrame.prototype={bitmapData:null,height:null,offsetX:null,offsetY:null,width:null,x:null,y:null,__class__:C.data.SpritesheetFrame};C.importers={};C.importers.BitmapImporter=function(){};m["spritesheet.importers.BitmapImporter"]=C.importers.BitmapImporter;C.importers.BitmapImporter.__name__=["spritesheet",
"importers","BitmapImporter"];C.importers.BitmapImporter.create=function(a,b,d,c,e,g,f){null==f&&(f=1);null==g&&(g=0);var x=[];g=d*b+g;for(var B=0;B<d;)for(var w=B++,l=0;l<b;){var t=l++;if(x.length<g){var m=c*t,n=e*w,t=new C.data.SpritesheetFrame(m,n,c,e,0,0);if(1!=f){var q=new h.display.BitmapData(c,e,!0,0);q.copyPixels(a,new h.geom.Rectangle(m,n,c,e),new h.geom.Point);m=new h.display.Bitmap(q);m.smoothing=!0;n=new h.geom.Matrix;n.scale(f,f);q=new h.display.BitmapData(Math.round(c*f),Math.round(e*
f),!0,0);q.draw(m,n);t.bitmapData=q}x.push(t)}}for(;x.length<g;)x.push(new C.data.SpritesheetFrame);return new C.Spritesheet(a,x)};var G={TJSON:function(){}};m["tjson.TJSON"]=G.TJSON;G.TJSON.__name__=["tjson","TJSON"];G.TJSON.parse=function(a,b,d){null==b&&(b="JSON Data");return(new G.TJSONParser(a,b,d)).doParse()};G.TJSON.encode=function(a,b,d){null==d&&(d=!0);return(new G.TJSONEncoder(d)).doEncode(a,b)};G.TJSONParser=function(a,b,d){null==b&&(b="JSON Data");this.json=a;this.fileName=b;this.currentLine=
1;this.lastSymbolQuoted=!1;this.pos=0;this.floatRegex=new ca("^-?[0-9]*\\.[0-9]+$","");this.intRegex=new ca("^-?[0-9]+$","");this.strProcessor=null==d?u(this,this.defaultStringProcessor):d;this.cache=[]};m["tjson.TJSONParser"]=G.TJSONParser;G.TJSONParser.__name__=["tjson","TJSONParser"];G.TJSONParser.prototype={pos:null,json:null,lastSymbolQuoted:null,fileName:null,currentLine:null,cache:null,floatRegex:null,intRegex:null,strProcessor:null,doParse:function(){try{var a=this.getNextSymbol();switch(a){case "{":return this.doObject();
case "[":return this.doArray();default:return this.convertSymbolToProperType(a)}}catch(b){if(E.Boot.__instanceof(b,String))throw this.fileName+" on line "+this.currentLine+": "+b;throw b;}},doObject:function(){var a={},b="",d,c=!1;for(this.cache.push(a);this.pos<this.json.length;)if(d=this.getNextSymbol(),","!=d||this.lastSymbolQuoted){if("}"==d&&!this.lastSymbolQuoted)return c&&null!=a.TJ_unserialize&&a.TJ_unserialize(),a;b=this.getNextSymbol();if(":"!=b)throw"Expected ':' but got '"+b+"' instead.";
b=this.getNextSymbol();if("_hxcls"==d){a=S.resolveClass(b);if(null==a)throw"Invalid class name - "+b;a=S.createEmptyInstance(a);this.cache.pop();this.cache.push(a);c=!0}else b="{"!=b||this.lastSymbolQuoted?"["!=b||this.lastSymbolQuoted?this.convertSymbolToProperType(b):this.doArray():this.doObject(),a[d]=b}throw"Unexpected end of file. Expected '}'";},doArray:function(){for(var a=[],b;this.pos<this.json.length;)if(b=this.getNextSymbol(),","!=b||this.lastSymbolQuoted){if("]"!=b||this.lastSymbolQuoted)b=
"{"!=b||this.lastSymbolQuoted?"["!=b||this.lastSymbolQuoted?this.convertSymbolToProperType(b):this.doArray():this.doObject();else return a;a.push(b)}throw"Unexpected end of file. Expected ']'";},convertSymbolToProperType:function(a){return this.lastSymbolQuoted?O.startsWith(a,G.TJSON.OBJECT_REFERENCE_PREFIX)?(a=H.parseInt(Q.substr(a,G.TJSON.OBJECT_REFERENCE_PREFIX.length,null)),this.cache[a]):a:this.looksLikeFloat(a)?H.parseFloat(a):this.looksLikeInt(a)?H.parseInt(a):"true"==a.toLowerCase()?!0:"false"==
a.toLowerCase()?!1:"null"==a.toLowerCase()?null:a},looksLikeFloat:function(a){var b;if(!(b=this.floatRegex.match(a))){if(a=this.intRegex.match(a))a=this.intRegex.matched(0),a=45==Q.cca(a,0)?"-2147483648"<a:"2147483647"<a;b=a}return b},looksLikeInt:function(a){return this.intRegex.match(a)},getNextSymbol:function(){this.lastSymbolQuoted=!1;for(var a="",b=!1,d="",c="",e=!1,g=!1,f=!1,x=!1;this.pos<this.json.length;)if(a=this.json.charAt(this.pos++),"\n"!=a||g||this.currentLine++,f){if("\n"==a||"\r"==
a)f=!1,this.pos++}else if(x)"*"==a&&"/"==this.json.charAt(this.pos)&&(x=!1,this.pos++);else if(b){if(e){e=!1;if("'"==a||'"'==a){c+=a;continue}if("t"==a){c+="\t";continue}if("n"==a){c+="\n";continue}if("\\"==a){c+="\\";continue}if("r"==a){c+="\r";continue}if("/"==a){c+="/";continue}if("u"==a){for(var h=a=0;4>h;){h++;if(this.pos>=this.json.length)throw"Unfinished UTF8 character";var w;w=this.pos++;w=Q.cca(this.json,w);a<<=4;if(48<=w&&57>=w)a+=w-48;else if(65<=w&&70>=w)a+=10+w-65;else if(97<=w&&102>=
w)a+=10+w-95;else throw"Not a hex digit";}h=new v.Utf8;h.__b+=String.fromCharCode(a);c+=h.__b;continue}throw"Invalid escape sequence '\\"+a+"'";}if("\\"==a)e=!0;else{if(a==d)return c;c+=a}}else{if("/"==a)if(h=this.json.charAt(this.pos),"/"==h){f=!0;this.pos++;continue}else if("*"==h){x=!0;this.pos++;continue}if(g){if(" "==a||"\n"==a||"\r"==a||"\t"==a||","==a||":"==a||"}"==a||"]"==a)return this.pos--,c;c+=a}else if(" "!=a&&"\t"!=a&&"\n"!=a&&"\r"!=a){if("{"==a||"}"==a||"["==a||"]"==a||","==a||":"==
a)return a;"'"==a||'"'==a?(b=!0,d=a,this.lastSymbolQuoted=!0):(g=!0,c=a)}}if(b)throw"Unexpected end of data. Expected ( "+d+" )";return c},defaultStringProcessor:function(a){return a},__class__:G.TJSONParser};G.TJSONEncoder=function(a){null==a&&(a=!0);if(this.uCache=a)this.cache=[]};m["tjson.TJSONEncoder"]=G.TJSONEncoder;G.TJSONEncoder.__name__=["tjson","TJSONEncoder"];G.TJSONEncoder.prototype={cache:null,uCache:null,doEncode:function(a,b){if(!J.isObject(a))throw"Provided object is not an object.";
var d;d=E.Boot.__instanceof(b,G.EncodeStyle)?b:"fancy"==b?new G.FancyStyle:new G.SimpleStyle;var c=new wa;a instanceof Array&&null==a.__enum__||E.Boot.__instanceof(a,Oa)?c.add(this.encodeIterable(a,d,0)):E.Boot.__instanceof(a,v.ds.StringMap)?c.add(this.encodeMap(a,d,0)):(this.cacheEncode(a),c.add(this.encodeObject(a,d,0)));return c.b},encodeObject:function(a,b,d){var c=new wa;c.add(b.beginObject(d));var e=0,g,f=null;g=S.getClass(a);g=null!=g?S.getInstanceFields(g):J.fields(a);var x=S["typeof"](a);
switch(x[1]){case 6:x=x[2],0<e++?c.add(b.entrySeperator(d)):c.add(b.firstEntry(d)),c.add('"_hxcls"'+b.keyValueSeperator(d)),c.add(this.encodeValue(S.getClassName(x),b,d)),null!=a.TJ_noEncode&&(f=a.TJ_noEncode())}for(x=0;x<g.length;){var h=g[x];++x;if(!(null!=f&&0<=Q.indexOf(f,h,0))){var w=J.field(a,h),w=this.encodeValue(w,b,d);null!=w&&(0<e++?c.add(b.entrySeperator(d)):c.add(b.firstEntry(d)),c.add('"'+h+'"'+b.keyValueSeperator(d)+w))}}c.add(b.endObject(d));return c.b},encodeMap:function(a,b,d){var c=
new wa;c.add(b.beginObject(d));for(var e=0,g=a.keys();g.hasNext();){var f=g.next();0<e++?c.add(b.entrySeperator(d)):c.add(b.firstEntry(d));var x=a.get(f);c.add('"'+f+'"'+b.keyValueSeperator(d));c.add(this.encodeValue(x,b,d))}c.add(b.endObject(d));return c.b},encodeIterable:function(a,b,d){var c=new wa;c.add(b.beginArray(d));var e=0;for(a=gd(a)();a.hasNext();){var g=a.next();0<e++?c.add(b.entrySeperator(d)):c.add(b.firstEntry(d));c.add(this.encodeValue(g,b,d))}c.add(b.endArray(d));return c.b},cacheEncode:function(a){if(!this.uCache)return null;
for(var b=0,d=this.cache.length;b<d;){var c=b++;if(this.cache[c]==a)return'"'+G.TJSON.OBJECT_REFERENCE_PREFIX+c+'"'}this.cache.push(a);return null},encodeValue:function(a,b,d){if((a|0)===a||"number"==typeof a)return a;if(a instanceof Array&&null==a.__enum__||E.Boot.__instanceof(a,Oa)||E.Boot.__instanceof(a,Oa))return this.encodeIterable(a,b,d+1);if(E.Boot.__instanceof(a,v.ds.StringMap))return this.encodeMap(a,b,d+1);if("string"==typeof a)return'"'+O.replace(O.replace(O.replace(O.replace(H.string(a),
"\\","\\\\"),"\n","\\n"),"\r","\\r"),'"','\\"')+'"';if("boolean"==typeof a)return a;if(J.isObject(a)){var c=this.cacheEncode(a);return null!=c?c:this.encodeObject(a,b,d+1)}return null==a?"null":null},__class__:G.TJSONEncoder};G.EncodeStyle=function(){};m["tjson.EncodeStyle"]=G.EncodeStyle;G.EncodeStyle.__name__=["tjson","EncodeStyle"];G.EncodeStyle.prototype={beginObject:null,endObject:null,beginArray:null,endArray:null,firstEntry:null,entrySeperator:null,keyValueSeperator:null,__class__:G.EncodeStyle};
G.SimpleStyle=function(){};m["tjson.SimpleStyle"]=G.SimpleStyle;G.SimpleStyle.__name__=["tjson","SimpleStyle"];G.SimpleStyle.__interfaces__=[G.EncodeStyle];G.SimpleStyle.prototype={beginObject:function(a){return"{"},endObject:function(a){return"}"},beginArray:function(a){return"["},endArray:function(a){return"]"},firstEntry:function(a){return""},entrySeperator:function(a){return","},keyValueSeperator:function(a){return":"},__class__:G.SimpleStyle};G.FancyStyle=function(a){null==a&&(a="    ");this.tab=
a;this.charTimesNCache=[""]};m["tjson.FancyStyle"]=G.FancyStyle;G.FancyStyle.__name__=["tjson","FancyStyle"];G.FancyStyle.__interfaces__=[G.EncodeStyle];G.FancyStyle.prototype={tab:null,beginObject:function(a){return"{\n"},endObject:function(a){return"\n"+this.charTimesN(a)+"}"},beginArray:function(a){return"[\n"},endArray:function(a){return"\n"+this.charTimesN(a)+"]"},firstEntry:function(a){return this.charTimesN(a+1)+" "},entrySeperator:function(a){return"\n"+this.charTimesN(a+1)+","},keyValueSeperator:function(a){return" : "},
charTimesNCache:null,charTimesN:function(a){return a<this.charTimesNCache.length?this.charTimesNCache[a]:this.charTimesNCache[a]=this.charTimesN(a-1)+this.tab},__class__:G.FancyStyle};c.ZPP_Const=function(){};m["zpp_nape.ZPP_Const"]=c.ZPP_Const;c.ZPP_Const.__name__=["zpp_nape","ZPP_Const"];c.ZPP_Const.POSINF=function(){return Math.POSITIVE_INFINITY};c.ZPP_Const.NEGINF=function(){return Math.NEGATIVE_INFINITY};c.ZPP_ID=function(){};m["zpp_nape.ZPP_ID"]=c.ZPP_ID;c.ZPP_ID.__name__=["zpp_nape","ZPP_ID"];
c.ZPP_ID.Constraint=function(){return c.ZPP_ID._Constraint++};c.ZPP_ID.Interactor=function(){return c.ZPP_ID._Interactor++};c.ZPP_ID.CbType=function(){return c.ZPP_ID._CbType++};c.ZPP_ID.CbSet=function(){return c.ZPP_ID._CbSet++};c.ZPP_ID.Listener=function(){return c.ZPP_ID._Listener++};c.ZPP_ID.ZPP_SimpleVert=function(){return c.ZPP_ID._ZPP_SimpleVert++};c.ZPP_ID.ZPP_SimpleSeg=function(){return c.ZPP_ID._ZPP_SimpleSeg++};c.ZPP_ID.Space=function(){return c.ZPP_ID._Space++};c.ZPP_ID.InteractionGroup=
function(){return c.ZPP_ID._InteractionGroup++};c.callbacks={};c.callbacks.ZPP_Callback=function(){this.body=this.constraint=null;this.pre_swapped=!1;this.int1=this.int2=this.set=this.wrap_arbiters=this.pre_arbiter=null;this.length=0;this.next=this.prev=null;this.index=0;this.listener=this.space=null;this.event=0;this.outer_body=this.outer_con=this.outer_int=null;this.length=0};m["zpp_nape.callbacks.ZPP_Callback"]=c.callbacks.ZPP_Callback;c.callbacks.ZPP_Callback.__name__=["zpp_nape","callbacks",
"ZPP_Callback"];c.callbacks.ZPP_Callback.prototype={outer_body:null,outer_con:null,outer_int:null,wrapper_body:function(){null==this.outer_body&&(c.callbacks.ZPP_Callback.internal=!0,this.outer_body=new f.callbacks.BodyCallback,c.callbacks.ZPP_Callback.internal=!1,this.outer_body.zpp_inner=this);return this.outer_body},wrapper_con:function(){null==this.outer_con&&(c.callbacks.ZPP_Callback.internal=!0,this.outer_con=new f.callbacks.ConstraintCallback,c.callbacks.ZPP_Callback.internal=!1,this.outer_con.zpp_inner=
this);return this.outer_con},wrapper_int:function(){null==this.outer_int&&(c.callbacks.ZPP_Callback.internal=!0,this.outer_int=new f.callbacks.InteractionCallback,c.callbacks.ZPP_Callback.internal=!1,this.outer_int.zpp_inner=this);null==this.wrap_arbiters?this.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.set.arbiters,!0):this.wrap_arbiters.zpp_inner.inner=this.set.arbiters;this.wrap_arbiters.zpp_inner.zip_length=!0;this.wrap_arbiters.zpp_inner.at_ite=null;return this.outer_int},event:null,listener:null,
space:null,index:null,next:null,prev:null,length:null,push:function(a){null!=this.prev?this.prev.next=a:this.next=a;a.prev=this.prev;a.next=null;this.prev=a;this.length++},push_rev:function(a){null!=this.next?this.next.prev=a:this.prev=a;a.next=this.next;a.prev=null;this.next=a;this.length++},pop:function(){var a=this.next;this.next=a.next;null==this.next?this.prev=null:this.next.prev=null;this.length--;return a},pop_rev:function(){var a=this.prev;this.prev=a.prev;null==this.prev?this.next=null:this.prev.next=
null;this.length--;return a},empty:function(){return null==this.next},clear:function(){for(;!this.empty();)this.pop()},splice:function(a){var b=a.next;null==a.prev?(this.next=a.next,null!=this.next?this.next.prev=null:this.prev=null):(a.prev.next=a.next,null!=a.next?a.next.prev=a.prev:this.prev=a.prev);this.length--;return b},rotateL:function(){this.push(this.pop())},rotateR:function(){this.push_rev(this.pop_rev())},cycleNext:function(a){return null==a.next?this.next:a.next},cyclePrev:function(a){return null==
a.prev?this.prev:a.prev},at:function(a){for(var b=this.next;0!=a--;)b=b.next;return b},rev_at:function(a){for(var b=this.prev;0!=a--;)b=b.prev;return b},free:function(){this.listener=this.constraint=this.body=this.int1=this.int2=null;null!=this.wrap_arbiters&&(this.wrap_arbiters.zpp_inner.inner=null);this.set=null},alloc:function(){},int1:null,int2:null,set:null,wrap_arbiters:null,pre_arbiter:null,pre_swapped:null,genarbs:function(){null==this.wrap_arbiters?this.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.set.arbiters,
!0):this.wrap_arbiters.zpp_inner.inner=this.set.arbiters;this.wrap_arbiters.zpp_inner.zip_length=!0;this.wrap_arbiters.zpp_inner.at_ite=null},body:null,constraint:null,__class__:c.callbacks.ZPP_Callback};c.callbacks.ZPP_CbSet=function(){this.interactors=this.wrap_interactors=this.constraints=this.wrap_constraints=null;this.zip_conlisteners=!1;this.conlisteners=null;this.zip_bodylisteners=!1;this.bodylisteners=null;this.zip_listeners=!1;this.manager=this.cbpairs=this.listeners=null;this.id=0;this.next=
null;this.count=0;this.cbTypes=null;this.cbTypes=new c.util.ZNPList_ZPP_CbType;this.listeners=new c.util.ZNPList_ZPP_InteractionListener;this.zip_listeners=!0;this.bodylisteners=new c.util.ZNPList_ZPP_BodyListener;this.zip_bodylisteners=!0;this.conlisteners=new c.util.ZNPList_ZPP_ConstraintListener;this.zip_conlisteners=!0;this.constraints=new c.util.ZNPList_ZPP_Constraint;this.interactors=new c.util.ZNPList_ZPP_Interactor;this.id=c.ZPP_ID.CbSet();this.cbpairs=new c.util.ZNPList_ZPP_CbSetPair};m["zpp_nape.callbacks.ZPP_CbSet"]=
c.callbacks.ZPP_CbSet;c.callbacks.ZPP_CbSet.__name__=["zpp_nape","callbacks","ZPP_CbSet"];c.callbacks.ZPP_CbSet.setlt=function(a,b){for(var d=a.cbTypes.head,c=b.cbTypes.head;null!=d&&null!=c;){var e=d.elt,g=c.elt;if(e.id<g.id)return!0;if(g.id<e.id)return!1;d=d.next;c=c.next}return null!=c&&null==d};c.callbacks.ZPP_CbSet.get=function(a){var b;null==c.callbacks.ZPP_CbSet.zpp_pool?b=new c.callbacks.ZPP_CbSet:(b=c.callbacks.ZPP_CbSet.zpp_pool,c.callbacks.ZPP_CbSet.zpp_pool=b.next,b.next=null);null;var d=
null;for(a=a.head;null!=a;){var k=a.elt,d=b.cbTypes.insert(d,k);k.cbsets.add(b);a=a.next}return b};c.callbacks.ZPP_CbSet.compatible=function(a,b,d){return a.options1.compatible(b.cbTypes)&&a.options2.compatible(d.cbTypes)||a.options2.compatible(b.cbTypes)&&a.options1.compatible(d.cbTypes)};c.callbacks.ZPP_CbSet.empty_intersection=function(a,b){return a.manager.pair(a,b).empty_intersection()};c.callbacks.ZPP_CbSet.single_intersection=function(a,b,d){return a.manager.pair(a,b).single_intersection(d)};
c.callbacks.ZPP_CbSet.find_all=function(a,b,d,c){a.manager.pair(a,b).forall(d,c)};c.callbacks.ZPP_CbSet.prototype={cbTypes:null,count:null,next:null,id:null,manager:null,cbpairs:null,increment:function(){this.count++},decrement:function(){return 0==--this.count},invalidate_pairs:function(){for(var a=this.cbpairs.head;null!=a;)a.elt.zip_listeners=!0,a=a.next},listeners:null,zip_listeners:null,invalidate_listeners:function(){this.zip_listeners=!0;this.invalidate_pairs()},validate_listeners:function(){this.zip_listeners&&
(this.zip_listeners=!1,this.realvalidate_listeners())},realvalidate_listeners:function(){this.listeners.clear();for(var a=this.cbTypes.head;null!=a;){for(var b=null,d=this.listeners.head,k=a.elt.listeners.head;null!=k;){var e=k.elt;null!=d&&d.elt==e?(k=k.next,b=d,d=d.next):null==d||c.callbacks.ZPP_Listener.setlt(e,d.elt)?(e.space==this.manager.space&&(b=this.listeners.inlined_insert(b,e)),k=k.next):(b=d,d=d.next)}a=a.next}},bodylisteners:null,zip_bodylisteners:null,invalidate_bodylisteners:function(){this.zip_bodylisteners=
!0},validate_bodylisteners:function(){this.zip_bodylisteners&&(this.zip_bodylisteners=!1,this.realvalidate_bodylisteners())},realvalidate_bodylisteners:function(){this.bodylisteners.clear();for(var a=this.cbTypes.head;null!=a;){for(var b=null,d=this.bodylisteners.head,k=a.elt.bodylisteners.head;null!=k;){var e=k.elt;null!=d&&d.elt==e?(k=k.next,b=d,d=d.next):null==d||c.callbacks.ZPP_Listener.setlt(e,d.elt)?(e.options.excluded(this.cbTypes)||e.space!=this.manager.space||(b=this.bodylisteners.inlined_insert(b,
e)),k=k.next):(b=d,d=d.next)}a=a.next}},conlisteners:null,zip_conlisteners:null,invalidate_conlisteners:function(){this.zip_conlisteners=!0},validate_conlisteners:function(){this.zip_conlisteners&&(this.zip_conlisteners=!1,this.realvalidate_conlisteners())},realvalidate_conlisteners:function(){this.conlisteners.clear();for(var a=this.cbTypes.head;null!=a;){for(var b=null,d=this.conlisteners.head,k=a.elt.conlisteners.head;null!=k;){var e=k.elt;null!=d&&d.elt==e?(k=k.next,b=d,d=d.next):null==d||c.callbacks.ZPP_Listener.setlt(e,
d.elt)?(e.options.excluded(this.cbTypes)||e.space!=this.manager.space||(b=this.conlisteners.inlined_insert(b,e)),k=k.next):(b=d,d=d.next)}a=a.next}},validate:function(){this.zip_listeners&&(this.zip_listeners=!1,this.realvalidate_listeners());this.zip_bodylisteners&&(this.zip_bodylisteners=!1,this.realvalidate_bodylisteners());this.zip_conlisteners&&(this.zip_conlisteners=!1,this.realvalidate_conlisteners())},interactors:null,wrap_interactors:null,constraints:null,wrap_constraints:null,addConstraint:function(a){this.constraints.add(a)},
addInteractor:function(a){this.interactors.add(a)},remConstraint:function(a){this.constraints.remove(a)},remInteractor:function(a){this.interactors.remove(a)},free:function(){this.listeners.clear();this.zip_listeners=!0;this.bodylisteners.clear();this.zip_bodylisteners=!0;this.conlisteners.clear();for(this.zip_conlisteners=!0;null!=this.cbTypes.head;)this.cbTypes.pop_unsafe().cbsets.remove(this)},alloc:function(){},__class__:c.callbacks.ZPP_CbSet};c.callbacks.ZPP_CbSetPair=function(){this.listeners=
null;this.zip_listeners=!1;this.a=this.b=this.next=null;this.listeners=new c.util.ZNPList_ZPP_InteractionListener};m["zpp_nape.callbacks.ZPP_CbSetPair"]=c.callbacks.ZPP_CbSetPair;c.callbacks.ZPP_CbSetPair.__name__=["zpp_nape","callbacks","ZPP_CbSetPair"];c.callbacks.ZPP_CbSetPair.get=function(a,b){var d;null==c.callbacks.ZPP_CbSetPair.zpp_pool?d=new c.callbacks.ZPP_CbSetPair:(d=c.callbacks.ZPP_CbSetPair.zpp_pool,c.callbacks.ZPP_CbSetPair.zpp_pool=d.next,d.next=null);d.zip_listeners=!0;c.callbacks.ZPP_CbSet.setlt(a,
b)?(d.a=a,d.b=b):(d.a=b,d.b=a);return d};c.callbacks.ZPP_CbSetPair.setlt=function(a,b){return c.callbacks.ZPP_CbSet.setlt(a.a,b.a)||a.a==b.a&&c.callbacks.ZPP_CbSet.setlt(a.b,b.b)};c.callbacks.ZPP_CbSetPair.prototype={a:null,b:null,next:null,free:function(){this.a=this.b=null;this.listeners.clear()},alloc:function(){this.zip_listeners=!0},compatible:function(a){return a.options1.compatible(this.a.cbTypes)&&a.options2.compatible(this.b.cbTypes)||a.options2.compatible(this.a.cbTypes)&&a.options1.compatible(this.b.cbTypes)},
zip_listeners:null,listeners:null,invalidate:function(){this.zip_listeners=!0},validate:function(){this.zip_listeners&&(this.zip_listeners=!1,this.__validate())},__validate:function(){this.listeners.clear();for(var a=this.a.listeners.head,b=this.b.listeners.head;null!=a&&null!=b;){var d=a.elt,c=b.elt;d==c?((d.options1.compatible(this.a.cbTypes)&&d.options2.compatible(this.b.cbTypes)||d.options2.compatible(this.a.cbTypes)&&d.options1.compatible(this.b.cbTypes))&&this.listeners.add(d),a=a.next,b=b.next):
d.precedence>c.precedence||d.precedence==c.precedence&&d.id>c.id?a=a.next:b=b.next}},empty_intersection:function(){return null==this.listeners.head},single_intersection:function(a){var b=this.listeners.head;return null!=b&&b.elt==a&&null==b.next},forall:function(a,b){for(var d=this.listeners.head;null!=d;){var c=d.elt;c.event==a&&b(c);d=d.next}},__class__:c.callbacks.ZPP_CbSetPair};c.util.ZNPList_ZPP_InteractionListener=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_InteractionListener"]=
c.util.ZNPList_ZPP_InteractionListener;c.util.ZNPList_ZPP_InteractionListener.__name__=["zpp_nape","util","ZNPList_ZPP_InteractionListener"];c.util.ZNPList_ZPP_InteractionListener.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_InteractionListener.zpp_pool?b=new c.util.ZNPNode_ZPP_InteractionListener:
(b=c.util.ZNPNode_ZPP_InteractionListener.zpp_pool,c.util.ZNPNode_ZPP_InteractionListener.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_InteractionListener.zpp_pool?d=new c.util.ZNPNode_ZPP_InteractionListener:(d=c.util.ZNPNode_ZPP_InteractionListener.zpp_pool,
c.util.ZNPNode_ZPP_InteractionListener.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_InteractionListener.zpp_pool;c.util.ZNPNode_ZPP_InteractionListener.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_InteractionListener.zpp_pool;c.util.ZNPNode_ZPP_InteractionListener.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_InteractionListener};c.util.ZNPList_ZPP_BodyListener=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_BodyListener"]=c.util.ZNPList_ZPP_BodyListener;c.util.ZNPList_ZPP_BodyListener.__name__=["zpp_nape","util","ZNPList_ZPP_BodyListener"];c.util.ZNPList_ZPP_BodyListener.prototype={head:null,begin:function(){return this.head},
modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_BodyListener.zpp_pool?b=new c.util.ZNPNode_ZPP_BodyListener:(b=c.util.ZNPNode_ZPP_BodyListener.zpp_pool,c.util.ZNPNode_ZPP_BodyListener.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),
a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_BodyListener.zpp_pool?d=new c.util.ZNPNode_ZPP_BodyListener:(d=c.util.ZNPNode_ZPP_BodyListener.zpp_pool,c.util.ZNPNode_ZPP_BodyListener.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=
a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_BodyListener.zpp_pool;c.util.ZNPNode_ZPP_BodyListener.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_BodyListener.zpp_pool;c.util.ZNPNode_ZPP_BodyListener.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=
!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;
b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_BodyListener};c.util.ZNPList_ZPP_ConstraintListener=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_ConstraintListener"]=
c.util.ZNPList_ZPP_ConstraintListener;c.util.ZNPList_ZPP_ConstraintListener.__name__=["zpp_nape","util","ZNPList_ZPP_ConstraintListener"];c.util.ZNPList_ZPP_ConstraintListener.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool?b=new c.util.ZNPNode_ZPP_ConstraintListener:
(b=c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool,c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool?d=new c.util.ZNPNode_ZPP_ConstraintListener:(d=c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool,
c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool;c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool;c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_ConstraintListener};c.util.ZNPList_ZPP_Constraint=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_Constraint"]=c.util.ZNPList_ZPP_Constraint;c.util.ZNPList_ZPP_Constraint.__name__=["zpp_nape","util","ZNPList_ZPP_Constraint"];c.util.ZNPList_ZPP_Constraint.prototype={head:null,begin:function(){return this.head},
modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Constraint.zpp_pool?b=new c.util.ZNPNode_ZPP_Constraint:(b=c.util.ZNPNode_ZPP_Constraint.zpp_pool,c.util.ZNPNode_ZPP_Constraint.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=
a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Constraint.zpp_pool?d=new c.util.ZNPNode_ZPP_Constraint:(d=c.util.ZNPNode_ZPP_Constraint.zpp_pool,c.util.ZNPNode_ZPP_Constraint.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;
a.elt=null;a.next=c.util.ZNPNode_ZPP_Constraint.zpp_pool;c.util.ZNPNode_ZPP_Constraint.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Constraint.zpp_pool;c.util.ZNPNode_ZPP_Constraint.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=
!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;
b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Constraint};c.util.ZNPList_ZPP_Interactor=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_Interactor"]=
c.util.ZNPList_ZPP_Interactor;c.util.ZNPList_ZPP_Interactor.__name__=["zpp_nape","util","ZNPList_ZPP_Interactor"];c.util.ZNPList_ZPP_Interactor.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Interactor.zpp_pool?b=new c.util.ZNPNode_ZPP_Interactor:(b=c.util.ZNPNode_ZPP_Interactor.zpp_pool,c.util.ZNPNode_ZPP_Interactor.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Interactor.zpp_pool?d=new c.util.ZNPNode_ZPP_Interactor:(d=c.util.ZNPNode_ZPP_Interactor.zpp_pool,c.util.ZNPNode_ZPP_Interactor.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=
a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Interactor.zpp_pool;c.util.ZNPNode_ZPP_Interactor.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},
try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=
d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Interactor.zpp_pool;c.util.ZNPNode_ZPP_Interactor.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;
b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);
return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Interactor};c.util.ZNPList_ZPP_CbSet=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_CbSet"]=c.util.ZNPList_ZPP_CbSet;c.util.ZNPList_ZPP_CbSet.__name__=["zpp_nape","util","ZNPList_ZPP_CbSet"];c.util.ZNPList_ZPP_CbSet.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},
inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_CbSet.zpp_pool?b=new c.util.ZNPNode_ZPP_CbSet:(b=c.util.ZNPNode_ZPP_CbSet.zpp_pool,c.util.ZNPNode_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_CbSet.zpp_pool?d=new c.util.ZNPNode_ZPP_CbSet:
(d=c.util.ZNPNode_ZPP_CbSet.zpp_pool,c.util.ZNPNode_ZPP_CbSet.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_CbSet.zpp_pool;c.util.ZNPNode_ZPP_CbSet.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_CbSet.zpp_pool;c.util.ZNPNode_ZPP_CbSet.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=
!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_CbSet};c.callbacks.ZPP_CbType=function(){this.cbsets=this.listeners=this.bodylisteners=this.conlisteners=null;this.id=0;this.outer=this.userData=null;this.id=c.ZPP_ID.CbType();this.listeners=new c.util.ZNPList_ZPP_InteractionListener;this.bodylisteners=new c.util.ZNPList_ZPP_BodyListener;this.conlisteners=new c.util.ZNPList_ZPP_ConstraintListener;this.constraints=
new c.util.ZNPList_ZPP_Constraint;this.interactors=new c.util.ZNPList_ZPP_Interactor;this.cbsets=new c.util.ZNPList_ZPP_CbSet};m["zpp_nape.callbacks.ZPP_CbType"]=c.callbacks.ZPP_CbType;c.callbacks.ZPP_CbType.__name__=["zpp_nape","callbacks","ZPP_CbType"];c.callbacks.ZPP_CbType.setlt=function(a,b){return a.id<b.id};c.callbacks.ZPP_CbType.prototype={outer:null,userData:null,id:null,cbsets:null,interactors:null,wrap_interactors:null,constraints:null,wrap_constraints:null,addConstraint:function(a){this.constraints.add(a)},
addInteractor:function(a){this.interactors.add(a)},remConstraint:function(a){this.constraints.remove(a)},remInteractor:function(a){this.interactors.remove(a)},listeners:null,addint:function(a){for(var b=null,d=this.listeners.head;null!=d;){var c=d.elt;if(a.precedence>c.precedence||a.precedence==c.precedence&&a.id>c.id)break;b=d;d=d.next}this.listeners.inlined_insert(b,a);this.invalidateint()},removeint:function(a){this.listeners.remove(a);this.invalidateint()},invalidateint:function(){for(var a=this.cbsets.head;null!=
a;){var b=a.elt;b.zip_listeners=!0;b.invalidate_pairs();a=a.next}},bodylisteners:null,addbody:function(a){for(var b=null,d=this.bodylisteners.head;null!=d;){var c=d.elt;if(a.precedence>c.precedence||a.precedence==c.precedence&&a.id>c.id)break;b=d;d=d.next}this.bodylisteners.inlined_insert(b,a);this.invalidatebody()},removebody:function(a){this.bodylisteners.remove(a);this.invalidatebody()},invalidatebody:function(){for(var a=this.cbsets.head;null!=a;)a.elt.zip_bodylisteners=!0,a=a.next},conlisteners:null,
addconstraint:function(a){for(var b=null,d=this.conlisteners.head;null!=d;){var c=d.elt;if(a.precedence>c.precedence||a.precedence==c.precedence&&a.id>c.id)break;b=d;d=d.next}this.conlisteners.inlined_insert(b,a);this.invalidateconstraint()},removeconstraint:function(a){this.conlisteners.remove(a);this.invalidateconstraint()},invalidateconstraint:function(){for(var a=this.cbsets.head;null!=a;)a.elt.zip_conlisteners=!0,a=a.next},__class__:c.callbacks.ZPP_CbType};c.util.ZPP_Flags=function(){};m["zpp_nape.util.ZPP_Flags"]=
c.util.ZPP_Flags;c.util.ZPP_Flags.__name__=["zpp_nape","util","ZPP_Flags"];c.callbacks.ZPP_Listener=function(){this.body=this.constraint=this.interaction=this.space=null;this.id=this.type=this.event=this.precedence=0;this.outer=null;this.id=c.ZPP_ID.Listener()};m["zpp_nape.callbacks.ZPP_Listener"]=c.callbacks.ZPP_Listener;c.callbacks.ZPP_Listener.__name__=["zpp_nape","callbacks","ZPP_Listener"];c.callbacks.ZPP_Listener.setlt=function(a,b){return a.precedence>b.precedence||a.precedence==b.precedence&&
a.id>b.id};c.callbacks.ZPP_Listener.prototype={outer:null,id:null,type:null,event:null,precedence:null,body:null,constraint:null,interaction:null,space:null,swapEvent:function(a){},invalidate_precedence:function(){},addedToSpace:function(){},removedFromSpace:function(){},__class__:c.callbacks.ZPP_Listener};c.callbacks.ZPP_BodyListener=function(a,b,d){this.outer_zn=this.options=this.handler=null;c.callbacks.ZPP_Listener.call(this);this.event=b;this.handler=d;this.body=this;this.type=c.util.ZPP_Flags.id_ListenerType_BODY;
this.options=a.zpp_inner};m["zpp_nape.callbacks.ZPP_BodyListener"]=c.callbacks.ZPP_BodyListener;c.callbacks.ZPP_BodyListener.__name__=["zpp_nape","callbacks","ZPP_BodyListener"];c.callbacks.ZPP_BodyListener.__super__=c.callbacks.ZPP_Listener;c.callbacks.ZPP_BodyListener.prototype=F(c.callbacks.ZPP_Listener.prototype,{outer_zn:null,options:null,handler:null,immutable_options:function(){if(null!=this.space&&this.space.midstep)throw"Error: Cannot change listener type options during space.step()";},addedToSpace:function(){this.options.handler=
u(this,this.cbtype_change);for(var a=this.options.includes.head;null!=a;)a.elt.addbody(this),a=a.next},removedFromSpace:function(){for(var a=this.options.includes.head;null!=a;){var b=a.elt;b.bodylisteners.remove(this);b.invalidatebody();a=a.next}this.options.handler=null},cbtype_change:function(a,b,d){this.removedFromSpace();this.options.effect_change(a,b,d);this.addedToSpace()},invalidate_precedence:function(){null!=this.space&&(this.removedFromSpace(),this.addedToSpace())},swapEvent:function(a){if(a!=
c.util.ZPP_Flags.id_CbEvent_WAKE&&a!=c.util.ZPP_Flags.id_CbEvent_SLEEP)throw"Error: BodyListener event must be either WAKE or SLEEP only";this.removedFromSpace();this.event=a;this.addedToSpace()},__class__:c.callbacks.ZPP_BodyListener});c.callbacks.ZPP_ConstraintListener=function(a,b,d){this.outer_zn=this.options=this.handler=null;c.callbacks.ZPP_Listener.call(this);this.event=b;this.handler=d;this.constraint=this;this.type=c.util.ZPP_Flags.id_ListenerType_CONSTRAINT;this.options=a.zpp_inner};m["zpp_nape.callbacks.ZPP_ConstraintListener"]=
c.callbacks.ZPP_ConstraintListener;c.callbacks.ZPP_ConstraintListener.__name__=["zpp_nape","callbacks","ZPP_ConstraintListener"];c.callbacks.ZPP_ConstraintListener.__super__=c.callbacks.ZPP_Listener;c.callbacks.ZPP_ConstraintListener.prototype=F(c.callbacks.ZPP_Listener.prototype,{outer_zn:null,options:null,handler:null,immutable_options:function(){if(null!=this.space&&this.space.midstep)throw"Error: Cannot change listener type options during space.step()";},addedToSpace:function(){this.options.handler=
u(this,this.cbtype_change);for(var a=this.options.includes.head;null!=a;)a.elt.addconstraint(this),a=a.next},removedFromSpace:function(){for(var a=this.options.includes.head;null!=a;){var b=a.elt;b.conlisteners.remove(this);b.invalidateconstraint();a=a.next}this.options.handler=null},cbtype_change:function(a,b,d){this.removedFromSpace();this.options.effect_change(a,b,d);this.addedToSpace()},invalidate_precedence:function(){null!=this.space&&(this.removedFromSpace(),this.addedToSpace())},swapEvent:function(a){if(a!=
c.util.ZPP_Flags.id_CbEvent_WAKE&&a!=c.util.ZPP_Flags.id_CbEvent_SLEEP&&a!=c.util.ZPP_Flags.id_CbEvent_BREAK)throw"Error: ConstraintListener event must be either WAKE or SLEEP only";this.removedFromSpace();this.event=a;this.addedToSpace()},__class__:c.callbacks.ZPP_ConstraintListener});c.util.ZNPList_ZPP_CbType=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_CbType"]=c.util.ZNPList_ZPP_CbType;c.util.ZNPList_ZPP_CbType.__name__=["zpp_nape","util",
"ZNPList_ZPP_CbType"];c.util.ZNPList_ZPP_CbType.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_CbType.zpp_pool?b=new c.util.ZNPNode_ZPP_CbType:(b=c.util.ZNPNode_ZPP_CbType.zpp_pool,c.util.ZNPNode_ZPP_CbType.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=
!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_CbType.zpp_pool?d=new c.util.ZNPNode_ZPP_CbType:(d=c.util.ZNPNode_ZPP_CbType.zpp_pool,c.util.ZNPNode_ZPP_CbType.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},
inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_CbType.zpp_pool;c.util.ZNPNode_ZPP_CbType.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},
inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_CbType.zpp_pool;c.util.ZNPNode_ZPP_CbType.zpp_pool=
a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_CbType};c.callbacks.ZPP_InteractionListener=function(a,b,d,k){this.handlerp=null;this.allowSleepingCallbacks=
this.pure=!1;this.options1=this.options2=this.handleri=null;this.itype=0;this.outer_zni=this.outer_znp=null;c.callbacks.ZPP_Listener.call(this);this.type=k;this.interaction=this;this.event=d;this.options1=a.zpp_inner;this.options2=b.zpp_inner;this.allowSleepingCallbacks=!1};m["zpp_nape.callbacks.ZPP_InteractionListener"]=c.callbacks.ZPP_InteractionListener;c.callbacks.ZPP_InteractionListener.__name__=["zpp_nape","callbacks","ZPP_InteractionListener"];c.callbacks.ZPP_InteractionListener.__super__=
c.callbacks.ZPP_Listener;c.callbacks.ZPP_InteractionListener.prototype=F(c.callbacks.ZPP_Listener.prototype,{outer_zni:null,outer_znp:null,itype:null,options1:null,options2:null,handleri:null,allowSleepingCallbacks:null,pure:null,handlerp:null,setInteractionType:function(a){this.itype=a},wake:function(){this.with_union(function(a){for(a=a.interactors.head;null!=a;)a.elt.wake(),a=a.next})},CbSetset:function(a,b,d){var k=c.callbacks.ZPP_InteractionListener.UCbSet,e=c.callbacks.ZPP_InteractionListener.VCbSet,
g=c.callbacks.ZPP_InteractionListener.WCbSet;a=a.head;for(var f=b.head;null!=a&&null!=f;){var x=a.elt,h=f.elt;x==h?(g.inlined_add(x),a=a.next,f=f.next):c.callbacks.ZPP_CbSet.setlt(x,h)?(k.inlined_add(x),a=a.next):(e.inlined_add(h),f=f.next)}for(;null!=a;)k.inlined_add(a.elt),a=a.next;for(;null!=f;)e.inlined_add(f.elt),f=f.next;for(;null!=k.head;)for(a=k.pop_unsafe(),f=b.head;null!=f;)d(a,f.elt),f=f.next;for(;null!=e.head;)for(b=e.pop_unsafe(),k=g.head;null!=k;)d(b,k.elt),k=k.next;for(;null!=g.head;)for(e=
g.pop_unsafe(),d(e,e),b=g.head;null!=b;)d(e,b.elt),b=b.next},CbTypeset:function(a,b,d){var k=c.callbacks.ZPP_InteractionListener.UCbType,e=c.callbacks.ZPP_InteractionListener.VCbType,g=c.callbacks.ZPP_InteractionListener.WCbType;a=a.head;for(var f=b.head;null!=a&&null!=f;){var x=a.elt,h=f.elt;x==h?(g.inlined_add(x),a=a.next,f=f.next):x.id<h.id?(k.inlined_add(x),a=a.next):(e.inlined_add(h),f=f.next)}for(;null!=a;)k.inlined_add(a.elt),a=a.next;for(;null!=f;)e.inlined_add(f.elt),f=f.next;for(;null!=
k.head;)for(a=k.pop_unsafe(),f=b.head;null!=f;)d(a,f.elt),f=f.next;for(;null!=e.head;)for(b=e.pop_unsafe(),k=g.head;null!=k;)d(b,k.elt),k=k.next;for(;null!=g.head;)for(e=g.pop_unsafe(),d(e,e),b=g.head;null!=b;)d(e,b.elt),b=b.next},with_uniquesets:function(a){var b=this,d;null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?d=new c.util.ZPP_Set_ZPP_CbSetPair:(d=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=d.next,d.next=null);null;d.lt=c.callbacks.ZPP_CbSetPair.setlt;this.CbTypeset(this.options1.includes,
this.options2.includes,function(a,k){b.CbSetset(a.cbsets,k.cbsets,function(a,e){a.validate();e.validate();c.callbacks.ZPP_CbSet.single_intersection(a,e,b)&&d.try_insert(c.callbacks.ZPP_CbSetPair.get(a,e))})});d.clear_with(function(d){a?b.space.freshListenerType(d.a,d.b):b.space.nullListenerType(d.a,d.b);d.a=d.b=null;d.listeners.clear();d.next=c.callbacks.ZPP_CbSetPair.zpp_pool;c.callbacks.ZPP_CbSetPair.zpp_pool=d});var k=d;k.data=null;k.lt=null;k.swapped=null;k.next=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool;
c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=k},with_union:function(a){for(var b=this.options1.includes.head,d=this.options2.includes.head;null!=b&&null!=d;){var c=b.elt,e=d.elt;c==e?(a(c),b=b.next,d=d.next):c.id<e.id?(a(c),b=b.next):(a(e),d=d.next)}for(;null!=b;)a(b.elt),b=b.next;for(;null!=d;)a(d.elt),d=d.next},addedToSpace:function(){var a=this,b=this.type==c.util.ZPP_Flags.id_ListenerType_PRE;this.with_union(function(d){d.addint(a);if(b)for(d=d.interactors.head;null!=d;)d.elt.wake(),d=d.next});this.options1.handler=
u(this,this.cbtype_change1);this.options2.handler=u(this,this.cbtype_change2);this.with_uniquesets(!0)},removedFromSpace:function(){var a=this;this.with_uniquesets(!1);var b=this.type==c.util.ZPP_Flags.id_ListenerType_PRE;this.with_union(function(d){d.listeners.remove(a);d.invalidateint();if(b)for(d=d.interactors.head;null!=d;)d.elt.wake(),d=d.next});this.options1.handler=null;this.options2.handler=null},invalidate_precedence:function(){var a=this;if(null!=this.space){var b=this.type==c.util.ZPP_Flags.id_ListenerType_PRE;
this.with_union(function(d){d.listeners.remove(a);d.invalidateint();d.addint(a);if(b)for(d=d.interactors.head;null!=d;)d.elt.wake(),d=d.next})}},cbtype_change1:function(a,b,d){this.cbtype_change(this.options1,a,b,d)},cbtype_change2:function(a,b,d){this.cbtype_change(this.options2,a,b,d)},cbtype_change:function(a,b,d,c){this.removedFromSpace();a.effect_change(b,d,c);this.addedToSpace();null},swapEvent:function(a){if(this.type==c.util.ZPP_Flags.id_ListenerType_PRE)throw"Error: PreListener event can only be PRE";
if(a!=c.util.ZPP_Flags.id_CbEvent_BEGIN&&a!=c.util.ZPP_Flags.id_CbEvent_END&&a!=c.util.ZPP_Flags.id_CbEvent_ONGOING)throw"Error: InteractionListener event must be either BEGIN, END, ONGOING";this.removedFromSpace();this.event=a;this.addedToSpace()},__class__:c.callbacks.ZPP_InteractionListener});c.callbacks.ZPP_OptionType=function(){this.outer=this.handler=this.includes=this.excludes=this.wrap_includes=this.wrap_excludes=null;this.includes=new c.util.ZNPList_ZPP_CbType;this.excludes=new c.util.ZNPList_ZPP_CbType};
m["zpp_nape.callbacks.ZPP_OptionType"]=c.callbacks.ZPP_OptionType;c.callbacks.ZPP_OptionType.__name__=["zpp_nape","callbacks","ZPP_OptionType"];c.callbacks.ZPP_OptionType.argument=function(a){return null==a?new f.callbacks.OptionType:E.Boot.__instanceof(a,f.callbacks.OptionType)?a:(new f.callbacks.OptionType).including(a)};c.callbacks.ZPP_OptionType.prototype={outer:null,handler:null,includes:null,excludes:null,wrap_includes:null,wrap_excludes:null,setup_includes:function(){this.wrap_includes=c.util.ZPP_CbTypeList.get(this.includes,
!0)},setup_excludes:function(){this.wrap_excludes=c.util.ZPP_CbTypeList.get(this.excludes,!0)},excluded:function(a){return this.nonemptyintersection(a,this.excludes)},included:function(a){return this.nonemptyintersection(a,this.includes)},compatible:function(a){return this.nonemptyintersection(a,this.includes)&&!this.nonemptyintersection(a,this.excludes)},nonemptyintersection:function(a,b){for(var d=!1,c=a.head,e=b.head;null!=e&&null!=c;){var g=e.elt,f=c.elt;if(g==f){d=!0;break}else g.id<f.id?e=e.next:
c=c.next}return d},effect_change:function(a,b,d){if(b)if(d){b=null;for(d=this.includes.head;null!=d&&!(a.id<d.elt.id);)b=d,d=d.next;this.includes.inlined_insert(b,a)}else this.includes.remove(a);else if(d){b=null;for(d=this.excludes.head;null!=d&&!(a.id<d.elt.id);)b=d,d=d.next;this.excludes.inlined_insert(b,a)}else this.excludes.remove(a)},append_type:function(a,b){a==this.includes?this.includes.has(b)||(this.excludes.has(b)?null!=this.handler?this.handler(b,!1,!1):this.effect_change(b,!1,!1):null!=
this.handler?this.handler(b,!0,!0):this.effect_change(b,!0,!0)):this.excludes.has(b)||(this.includes.has(b)?null!=this.handler?this.handler(b,!0,!1):this.effect_change(b,!0,!1):null!=this.handler?this.handler(b,!1,!0):this.effect_change(b,!1,!0))},set:function(a){if(a!=this){for(;null!=this.includes.head;)this.append_type(this.excludes,this.includes.head.elt);for(;null!=this.excludes.head;)this.append_type(this.includes,this.excludes.head.elt);for(var b=a.excludes.head;null!=b;)this.append_type(this.excludes,
b.elt),b=b.next;for(a=a.includes.head;null!=a;)this.append_type(this.includes,a.elt),a=a.next}return this},append:function(a,b){if(null==b)throw"Error: Cannot append null, only CbType and CbType list values";if(E.Boot.__instanceof(b,f.callbacks.CbType))this.append_type(a,b.zpp_inner);else if(E.Boot.__instanceof(b,f.callbacks.CbTypeList)){var d;b.zpp_inner.valmod();for(d=f.callbacks.CbTypeIterator.get(b);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);this.append_type(a,c.zpp_inner)}}else if(b instanceof
Array&&null==b.__enum__)for(d=0;d<b.length;){c=b[d];++d;if(!E.Boot.__instanceof(c,f.callbacks.CbType))throw"Error: Cannot append non-CbType or CbType list value";this.append_type(a,c.zpp_inner)}else throw"Error: Cannot append non-CbType or CbType list value";},__class__:c.callbacks.ZPP_OptionType};c.constraint={};c.constraint.ZPP_Constraint=function(){this.pre_dt=0;this.cbTypes=this.cbSet=this.wrap_cbTypes=null;this.ignore=this.__velocity=!1;this.component=null;this.breakUnderForce=this.breakUnderError=
this.removeOnBreak=!1;this.frequency=this.damping=this.maxForce=this.maxError=0;this.active=this.stiff=!1;this.userData=this.compound=this.space=null;this.id=0;this.outer=null;this.__velocity=!1;this.id=c.ZPP_ID.Constraint();this.active=this.stiff=!0;this.ignore=!1;this.frequency=10;this.damping=1;this.maxError=this.maxForce=Math.POSITIVE_INFINITY;this.breakUnderForce=!1;this.removeOnBreak=!0;this.pre_dt=-1;this.cbTypes=new c.util.ZNPList_ZPP_CbType};m["zpp_nape.constraint.ZPP_Constraint"]=c.constraint.ZPP_Constraint;
c.constraint.ZPP_Constraint.__name__=["zpp_nape","constraint","ZPP_Constraint"];c.constraint.ZPP_Constraint.prototype={outer:null,clear:function(){},id:null,userData:null,compound:null,space:null,active:null,stiff:null,frequency:null,damping:null,maxForce:null,maxError:null,breakUnderForce:null,breakUnderError:null,removeOnBreak:null,component:null,ignore:null,__velocity:null,immutable_midstep:function(a){if(null!=this.space&&this.space.midstep)throw"Error: Constraint::"+a+" cannot be set during space step()";
},cbTypes:null,cbSet:null,wrap_cbTypes:null,setupcbTypes:function(){this.wrap_cbTypes=c.util.ZPP_CbTypeList.get(this.cbTypes);this.wrap_cbTypes.zpp_inner.adder=u(this,this.wrap_cbTypes_adder);this.wrap_cbTypes.zpp_inner.subber=u(this,this.wrap_cbTypes_subber);this.wrap_cbTypes.zpp_inner.dontremove=!0;this.wrap_cbTypes.zpp_inner._modifiable=u(this,this.immutable_cbTypes)},immutable_cbTypes:function(){this.immutable_midstep("Constraint::cbTypes")},wrap_cbTypes_subber:function(a){a=a.zpp_inner;this.cbTypes.has(a)&&
(null!=this.space&&(this.dealloc_cbSet(),a.constraints.remove(this)),this.cbTypes.remove(a),null!=this.space&&(this.alloc_cbSet(),this.wake()))},wrap_cbTypes_adder:function(a){this.insert_cbtype(a.zpp_inner);return!1},insert_cbtype:function(a){if(!this.cbTypes.has(a)){null!=this.space&&(this.dealloc_cbSet(),a.constraints.add(this));for(var b=null,d=this.cbTypes.head;null!=d&&!(a.id<d.elt.id);)b=d,d=d.next;this.cbTypes.inlined_insert(b,a);null!=this.space&&(this.alloc_cbSet(),this.wake())}},alloc_cbSet:function(){null!=
(this.cbSet=this.space.cbsets.get(this.cbTypes))&&(this.cbSet.count++,this.cbSet.constraints.add(this))},dealloc_cbSet:function(){if(null!=this.cbSet){this.cbSet.constraints.remove(this);if(0==--this.cbSet.count){this.space.cbsets.remove(this.cbSet);var a=this.cbSet;a.free();a.next=c.callbacks.ZPP_CbSet.zpp_pool;c.callbacks.ZPP_CbSet.zpp_pool=a}this.cbSet=null}},activate:function(){null!=this.space&&this.activeInSpace()},deactivate:function(){null!=this.space&&this.inactiveOrOutSpace()},addedToSpace:function(){this.active&&
this.activeInSpace();this.activeBodies();for(var a=this.cbTypes.head;null!=a;)a.elt.constraints.add(this),a=a.next},removedFromSpace:function(){this.active&&this.inactiveOrOutSpace();this.inactiveBodies();for(var a=this.cbTypes.head;null!=a;)a.elt.constraints.remove(this),a=a.next},activeInSpace:function(){this.alloc_cbSet();null==c.space.ZPP_Component.zpp_pool?this.component=new c.space.ZPP_Component:(this.component=c.space.ZPP_Component.zpp_pool,c.space.ZPP_Component.zpp_pool=this.component.next,
this.component.next=null);null;this.component.isBody=!1;this.component.constraint=this},inactiveOrOutSpace:function(){this.dealloc_cbSet();var a=this.component;a.body=null;a.constraint=null;null;a.next=c.space.ZPP_Component.zpp_pool;c.space.ZPP_Component.zpp_pool=a;this.component=null},activeBodies:function(){},inactiveBodies:function(){},clearcache:function(){},validate:function(){},wake_connected:function(){},forest:function(){},pair_exists:function(a,b){return!1},broken:function(){},warmStart:function(){},
pre_dt:null,preStep:function(a){return!1},applyImpulseVel:function(){return!1},applyImpulsePos:function(){return!1},wake:function(){null!=this.space&&this.space.wake_constraint(this)},draw:function(a){},copy:function(a,b){return null},copyto:function(a){var b=this.outer;null==b.zpp_inner.wrap_cbTypes&&b.zpp_inner.setupcbTypes();for(var d=b.zpp_inner.wrap_cbTypes.iterator();d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);null==a.zpp_inner.wrap_cbTypes&&a.zpp_inner.setupcbTypes();
a.zpp_inner.wrap_cbTypes.add(c)}a.zpp_inner.removeOnBreak=b.zpp_inner.removeOnBreak;a.zpp_inner.removeOnBreak;a.set_breakUnderError(b.zpp_inner.breakUnderError);a.set_breakUnderForce(b.zpp_inner.breakUnderForce);a.set_maxError(b.zpp_inner.maxError);a.set_maxForce(b.zpp_inner.maxForce);a.set_damping(b.zpp_inner.damping);a.set_frequency(b.zpp_inner.frequency);a.set_stiff(b.zpp_inner.stiff);a.set_ignore(b.zpp_inner.ignore);a.set_active(b.zpp_inner.active)},__class__:c.constraint.ZPP_Constraint};c.constraint.ZPP_AngleJoint=
function(){this.stepped=!1;this.kMass=this.jAcc=this.jMax=this.gamma=this.bias=0;this.b1=this.b2=null;this.scale=0;this.slack=this.equal=!1;this.ratio=this.jointMin=this.jointMax=0;this.outer_zn=null;c.constraint.ZPP_Constraint.call(this);this.ratio=1;this.jAcc=0;this.slack=!1;this.jMax=Math.POSITIVE_INFINITY;this.stepped=!1};m["zpp_nape.constraint.ZPP_AngleJoint"]=c.constraint.ZPP_AngleJoint;c.constraint.ZPP_AngleJoint.__name__=["zpp_nape","constraint","ZPP_AngleJoint"];c.constraint.ZPP_AngleJoint.__super__=
c.constraint.ZPP_Constraint;c.constraint.ZPP_AngleJoint.prototype=F(c.constraint.ZPP_Constraint.prototype,{outer_zn:null,ratio:null,jointMin:null,jointMax:null,slack:null,equal:null,scale:null,is_slack:function(){var a,b=this.ratio*this.b2.rot-this.b1.rot;this.equal?(b-=this.jointMax,a=!1,this.scale=1):b<this.jointMin?(b=this.jointMin-b,this.scale=-1,a=!1):b>this.jointMax?(b-=this.jointMax,this.scale=1,a=!1):(b=this.scale=0,a=!0);b;return a},bodyImpulse:function(a){return this.stepped?a==this.b1?
f.geom.Vec3.get(0,0,-this.scale*this.jAcc):f.geom.Vec3.get(0,0,this.ratio*this.scale*this.jAcc):f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},b1:null,b2:null,kMass:null,jAcc:null,jMax:null,gamma:null,bias:null,stepped:null,copy:function(a,b){var d=new f.constraint.AngleJoint(null,
null,this.jointMin,this.jointMax,this.ratio);this.copyto(d);if(null!=a&&null!=this.b1){for(var k=null,e=0;e<a.length;){var g=a[e];++e;if(g.id==this.b1.id){k=g.bc;break}}null!=k?d.zpp_inner_zn.b1=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){k=null;for(e=0;e<a.length;)if(g=a[e],++e,g.id==this.b2.id){k=g.bc;break}null!=k?d.zpp_inner_zn.b2=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=
a.zpp_inner}))}return d},validate:function(){if(null==this.b1||null==this.b2)throw"Error: AngleJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: AngleJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.jointMin>this.jointMax)throw"Error: AngleJoint must have jointMin <= jointMax";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&
this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=
a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var k=b.parent;b.parent=d;d=b;b=k}for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,
a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)k=b.parent,b.parent=d,d=b,b=k;for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAcc=0;this.pre_dt=-1;this.slack=!1},preStep:function(a){-1==this.pre_dt&&
(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.equal=this.jointMin==this.jointMax;var d;d=this.ratio*this.b2.rot-this.b1.rot;this.equal?(d-=this.jointMax,this.slack=!1,this.scale=1):d<this.jointMin?(d=this.jointMin-d,this.scale=-1,this.slack=!1):d>this.jointMax?(d-=this.jointMax,this.scale=1,this.slack=!1):(d=this.scale=0,this.slack=!0);if(!this.slack){this.kMass=this.b1.sinertia+this.ratio*this.ratio*this.b2.sinertia;0!=this.kMass?this.kMass=1/this.kMass:this.jAcc=0;if(this.stiff)this.gamma=
this.bias=0;else{if(this.breakUnderError&&d*d>this.maxError*this.maxError)return!0;var c;c=2*Math.PI*this.frequency;this.gamma=1/(a*c*(2*this.damping+c*a));var e=1/(1+this.gamma);c=a*c*c*this.gamma;this.gamma*=e;this.kMass*=e;this.bias=-d*c;this.bias<-this.maxError?this.bias=-this.maxError:this.bias>this.maxError&&(this.bias=this.maxError)}this.jAcc*=b;this.jMax=this.maxForce*a}return!1},warmStart:function(){this.slack||(this.b1.angvel-=this.scale*this.b1.iinertia*this.jAcc,this.b2.angvel+=this.ratio*
this.scale*this.b2.iinertia*this.jAcc)},applyImpulseVel:function(){if(this.slack)return!1;var a=this.kMass*(this.bias-this.scale*(this.ratio*(this.b2.angvel+this.b2.kinangvel)-this.b1.angvel-this.b1.kinangvel))-this.jAcc*this.gamma,b=this.jAcc;this.jAcc+=a;!this.equal&&0<this.jAcc&&(this.jAcc=0);if(this.breakUnderForce&&(this.jAcc>this.jMax||this.jAcc<-this.jMax))return!0;this.stiff||(this.jAcc>this.jMax?this.jAcc=this.jMax:this.jAcc<-this.jMax&&(this.jAcc=-this.jMax));a=this.jAcc-b;this.b1.angvel-=
this.scale*this.b1.iinertia*a;this.b2.angvel+=this.ratio*this.scale*this.b2.iinertia*a;return!1},applyImpulsePos:function(){var a,b;a=this.ratio*this.b2.rot-this.b1.rot;this.equal?(a-=this.jointMax,b=!1,this.scale=1):a<this.jointMin?(a=this.jointMin-a,this.scale=-1,b=!1):a>this.jointMax?(a-=this.jointMax,this.scale=1,b=!1):(a=this.scale=0,b=!0);if(!b){if(this.breakUnderError&&a*a>this.maxError*this.maxError)return!0;b=-(.5*a)*this.kMass;if(this.equal||0>b)this.b1.delta_rot(-this.scale*b*this.b1.iinertia),
this.b2.delta_rot(this.ratio*this.scale*b*this.b2.iinertia)}return!1},draw:function(a){var b=this.outer_zn,d=5/Math.PI/2;if((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer)!=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_space().get_world()){var k=b.zpp_inner_zn.ratio*(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-this.jointMin,e=b.zpp_inner_zn.ratio*(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-this.jointMax;if(k>e)var g=k,k=e,e=g;if((null==
b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot>k){var g=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,f=e,g=g<f?g:f;c.constraint.ZPP_AngleDraw.drawSpiral(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),k,g,10+(k-k)*d,10+(g-k)*d,16776960)}else!this.stiff&&(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot<k&&c.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),
(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,k,10+((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot-k)*d,10+(k-k)*d,16776960);(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot<e?(g=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,f=k,g=g>f?g:f,c.constraint.ZPP_AngleDraw.drawSpiral(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),g,e,10+(g-k)*d,10+(e-k)*d,65535)):!this.stiff&&(null==b.zpp_inner_zn.b1?
null:b.zpp_inner_zn.b1.outer).zpp_inner.rot>e&&c.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,e,10+((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot-k)*d,10+(e-k)*d,65535);c.constraint.ZPP_AngleDraw.indicator(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,
10+((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot-k)*d,255)}(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer)!=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_space().get_world()&&(k=(this.jointMin+(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot)/b.zpp_inner_zn.ratio,e=(this.jointMax+(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot)/b.zpp_inner_zn.ratio,k>e&&(g=k,k=e,e=g),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot>
k?(g=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,f=e,g=g<f?g:f,c.constraint.ZPP_AngleDraw.drawSpiral(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),k,g,10+(k-k)*d,10+(g-k)*d,16776960)):!this.stiff&&(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot<k&&c.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,
k,10+((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-k)*d,10+(k-k)*d,16776960),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot<e?(g=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,f=k,g=g>f?g:f,c.constraint.ZPP_AngleDraw.drawSpiral(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),g,e,10+(g-k)*d,10+(e-k)*d,65535)):!this.stiff&&(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot>e&&c.constraint.ZPP_AngleDraw.drawSpiralSpring(a,
(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,e,10+((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-k)*d,10+(e-k)*d,65535),c.constraint.ZPP_AngleDraw.indicator(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,10+((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-k)*d,16711680))},
__class__:c.constraint.ZPP_AngleJoint});c.constraint.ZPP_AngleDraw=function(){};m["zpp_nape.constraint.ZPP_AngleDraw"]=c.constraint.ZPP_AngleDraw;c.constraint.ZPP_AngleDraw.__name__=["zpp_nape","constraint","ZPP_AngleDraw"];c.constraint.ZPP_AngleDraw.indicator=function(a,b,d,c,e){d=f.geom.Vec2.get(Math.cos(d),Math.sin(d),null);a.drawFilledCircle(b.add(d.mul(c,!0),!0),2,e);d.dispose()};c.constraint.ZPP_AngleDraw.drawSpiralSpring=function(a,b,d,k,e,g,p,x){null==x&&(x=4);if(d>k){var h=d;d=k;k=h;h=e;
e=g;g=h}if(d!=k){g-=e;k-=d;var h=2*Math.PI*g/k,h=0>h?-h:h,w;w=Math.ceil(k/c.constraint.ZPP_AngleDraw.maxarc*3);var l=4*x;w=w>l?w:l;var l=k/w,t=1/w,m=Math.cos(d),n=Math.sin(d),q;q=e+0*g+.75*h*Math.sin(2*x*Math.PI*0);var u=f.geom.Vec2.get(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)+q*m,function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)+
q*n,null),v=g+1.5*x*h*Math.PI*Math.cos(2*x*Math.PI*0),y=v*m-q*k*n,m=v*n+q*k*m;q=f.geom.Vec2.get(null,null,null);for(var v=f.geom.Vec2.get(null,null,null),z=0;z<w;){var C=z++;d+=l;var D=Math.cos(d),n=Math.sin(d),r;r=e+g*(C+1)*t+.75*h*Math.sin(2*x*Math.PI*(C+1)*t);q.setxy(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)+r*D,function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.y}(this)+r*n);var E=g+1.5*x*h*Math.PI*Math.cos(2*x*Math.PI*(C+1)*t),C=E*D-r*k*n;r=E*n+r*k*D;E=y*r-m*C;if(E*E<f.Config.epsilon||0>=y*C+m*r||.999<y*C+m*r)a.drawLine(u,q,p);else{if(null!=q&&q.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";q.zpp_inner.validate();var F=q.zpp_inner.x;if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();F=(F-u.zpp_inner.x)*r;if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
u.zpp_inner.validate();var G=u.zpp_inner.y;if(null!=q&&q.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";q.zpp_inner.validate();E=(F+(G-q.zpp_inner.y)*C)/E;0>=E?a.drawLine(u,q,p):(v.set_x(function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.x}(this)+y*E),v.set_y(function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.y}(this)+
m*E),a.drawCurve(u,v,q,p))}m=D;y=C;m=r;u.set(q)}u.dispose();q.dispose();v.dispose()}};c.constraint.ZPP_AngleDraw.drawSpiral=function(a,b,d,k,e,g,p){if(d>k){var x=d;d=k;k=x;x=e;e=g;g=x}if(d!=k){g-=e;k-=d;for(var x=Math.ceil(k/c.constraint.ZPP_AngleDraw.maxarc),h=g/x,w=k/x,l=Math.cos(d),t=Math.sin(d),m=f.geom.Vec2.get(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)+e*l,function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.y}(this)+e*t,null),n=g*l-e*k*t,l=g*t+e*k*l,q=f.geom.Vec2.get(null,null,null),u=f.geom.Vec2.get(null,null,null),v=0;v<x;){v++;e+=h;d+=w;var y=Math.cos(d),t=Math.sin(d);q.setxy(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)+e*y,function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)+
e*t);var z=g*y-e*k*t,C=g*t+e*k*y,D=n*C-l*z;if(D*D<f.Config.epsilon)a.drawLine(m,q,p);else{if(null!=q&&q.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";q.zpp_inner.validate();var r=q.zpp_inner.x;if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();r=(r-m.zpp_inner.x)*C;if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();var E=m.zpp_inner.y;if(null!=q&&q.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
q.zpp_inner.validate();D=(r+(E-q.zpp_inner.y)*z)/D;0>=D?a.drawLine(m,q,p):(u.set_x(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.x}(this)+n*D),u.set_y(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.y}(this)+l*D),a.drawCurve(m,u,q,p))}l=y;n=z;l=C;m.set(q)}m.dispose();q.dispose();u.dispose()}};c.constraint.ZPP_CopyHelper=function(){this.bc=
this.cb=null;this.id=0};m["zpp_nape.constraint.ZPP_CopyHelper"]=c.constraint.ZPP_CopyHelper;c.constraint.ZPP_CopyHelper.__name__=["zpp_nape","constraint","ZPP_CopyHelper"];c.constraint.ZPP_CopyHelper.dict=function(a,b){var d=new c.constraint.ZPP_CopyHelper;d.id=a;d.bc=b;return d};c.constraint.ZPP_CopyHelper.todo=function(a,b){var d=new c.constraint.ZPP_CopyHelper;d.id=a;d.cb=b;return d};c.constraint.ZPP_CopyHelper.prototype={id:null,bc:null,cb:null,__class__:c.constraint.ZPP_CopyHelper};c.constraint.ZPP_DistanceJoint=
function(){this.stepped=!1;this.kMass=this.jAcc=this.jMax=this.gamma=this.bias=0;this.wrap_a2=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=this.b2=null;this.a1localx=this.a1localy=this.a1relx=this.a1rely=0;this.b1=null;this.nx=this.ny=this.cx1=this.cx2=0;this.slack=this.equal=!1;this.jointMin=this.jointMax=0;this.outer_zn=null;c.constraint.ZPP_Constraint.call(this);this.jAcc=this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=
0;this.jMax=Math.POSITIVE_INFINITY;this.stepped=!1;this.cx1=this.cx2=0};m["zpp_nape.constraint.ZPP_DistanceJoint"]=c.constraint.ZPP_DistanceJoint;c.constraint.ZPP_DistanceJoint.__name__=["zpp_nape","constraint","ZPP_DistanceJoint"];c.constraint.ZPP_DistanceJoint.__super__=c.constraint.ZPP_Constraint;c.constraint.ZPP_DistanceJoint.prototype=F(c.constraint.ZPP_Constraint.prototype,{outer_zn:null,jointMin:null,jointMax:null,slack:null,equal:null,is_slack:function(){var a;this.a1relx=this.b1.axisy*this.a1localx-
this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var b=a=0;a=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx);b=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);b=a*a+b*b;b<f.Config.epsilon?(b=0,a=!0):(b=Math.sqrt(b),this.equal?(b-=this.jointMax,a=!1):b<this.jointMin?(b=this.jointMin-b,a=!1):b>this.jointMax?(b-=
this.jointMax,a=!1):(b=0,a=!0));b;return a},nx:null,ny:null,cx1:null,cx2:null,bodyImpulse:function(a){return this.stepped?a==this.b1?f.geom.Vec3.get(-this.jAcc*this.nx,-this.jAcc*this.ny,-this.cx1*this.jAcc):f.geom.Vec3.get(this.jAcc*this.nx,this.jAcc*this.ny,this.cx2*this.jAcc):f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);
this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},b1:null,a1localx:null,a1localy:null,a1relx:null,a1rely:null,validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=f.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=u(this,
this.validate_a1);this.wrap_a1.zpp_inner._invalidate=u(this,this.invalidate_a1)},wrap_a1:null,b2:null,a2localx:null,a2localy:null,a2relx:null,a2rely:null,validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=f.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=
u(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=u(this,this.invalidate_a2)},wrap_a2:null,kMass:null,jAcc:null,jMax:null,gamma:null,bias:null,stepped:null,copy:function(a,b){var d=new f.constraint.DistanceJoint(null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2(),this.jointMin,this.jointMax);this.copyto(d);if(null!=a&&null!=this.b1){for(var k=null,e=0;e<a.length;){var g=a[e];++e;if(g.id==this.b1.id){k=g.bc;break}}null!=k?d.zpp_inner_zn.b1=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,
function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){k=null;for(e=0;e<a.length;)if(g=a[e],++e,g.id==this.b2.id){k=g.bc;break}null!=k?d.zpp_inner_zn.b2=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}return d},validate:function(){if(null==this.b1||null==this.b2)throw"Error: DistanceJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: DistanceJoint cannot be simulated with body1 == body2";if(this.b1.space!=
this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.jointMin>this.jointMax)throw"Error: DistanceJoint must have jointMin <= jointMax";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&
this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var k=b.parent;b.parent=
d;d=b;b=k}for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)k=b.parent,b.parent=d,d=b,
b=k;for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAcc=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.equal=this.jointMin==this.jointMax;this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*
this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var d;this.nx=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx);this.ny=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);d=this.nx*this.nx+this.ny*this.ny;if(d<f.Config.epsilon)d=this.ny=this.nx=0,this.slack=!0;else{d=Math.sqrt(d);var c=1/d;this.nx*=c;this.ny*=c;this.equal?(d-=this.jointMax,this.slack=!1):d<this.jointMin?
(d=this.jointMin-d,this.nx=-this.nx,this.ny=-this.ny,this.slack=!1):d>this.jointMax?(d-=this.jointMax,this.slack=!1):(d=this.ny=this.nx=0,this.slack=!0)}if(!this.slack){this.cx1=this.ny*this.a1relx-this.nx*this.a1rely;this.cx2=this.ny*this.a2relx-this.nx*this.a2rely;this.kMass=this.b1.smass+this.b2.smass+this.cx1*this.cx1*this.b1.sinertia+this.cx2*this.cx2*this.b2.sinertia;0!=this.kMass?this.kMass=1/this.kMass:this.jAcc=0;if(this.stiff)this.gamma=this.bias=0;else{if(this.breakUnderError&&d*d>this.maxError*
this.maxError)return!0;var e;e=2*Math.PI*this.frequency;this.gamma=1/(a*e*(2*this.damping+e*a));c=1/(1+this.gamma);e=a*e*e*this.gamma;this.gamma*=c;this.kMass*=c;this.bias=-d*e;this.bias<-this.maxError?this.bias=-this.maxError:this.bias>this.maxError&&(this.bias=this.maxError)}this.jAcc*=b;this.jMax=this.maxForce*a}return!1},warmStart:function(){if(!this.slack){var a=this.b1.imass*this.jAcc;this.b1.velx-=this.nx*a;this.b1.vely-=this.ny*a;a=this.b2.imass*this.jAcc;this.b2.velx+=this.nx*a;this.b2.vely+=
this.ny*a;this.b1.angvel-=this.cx1*this.b1.iinertia*this.jAcc;this.b2.angvel+=this.cx2*this.b2.iinertia*this.jAcc}},applyImpulseVel:function(){if(this.slack)return!1;var a=this.kMass*(this.bias-(this.nx*(this.b2.velx+this.b2.kinvelx-this.b1.velx-this.b1.kinvelx)+this.ny*(this.b2.vely+this.b2.kinvely-this.b1.vely-this.b1.kinvely)+(this.b2.angvel+this.b2.kinangvel)*this.cx2-(this.b1.angvel+this.b1.kinangvel)*this.cx1))-this.jAcc*this.gamma,b=this.jAcc;this.jAcc+=a;!this.equal&&0<this.jAcc&&(this.jAcc=
0);if(this.breakUnderForce&&this.jAcc<-this.jMax)return!0;!this.stiff&&this.jAcc<-this.jMax&&(this.jAcc=-this.jMax);a=this.jAcc-b;b=this.b1.imass*a;this.b1.velx-=this.nx*b;this.b1.vely-=this.ny*b;b=this.b2.imass*a;this.b2.velx+=this.nx*b;this.b2.vely+=this.ny*b;this.b1.angvel-=this.cx1*this.b1.iinertia*a;this.b2.angvel+=this.cx2*this.b2.iinertia*a;return!1},applyImpulsePos:function(){var a,b,d=0,c=0,d=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,c=this.a1localx*this.b1.axisx+this.a1localy*
this.b1.axisy,e=0,g=0,e=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,g=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,p=0,x=0,p=this.b2.posx+e-(this.b1.posx+d),x=this.b2.posy+g-(this.b1.posy+c);a=p*p+x*x;a<f.Config.epsilon?(a=x=p=0,b=!0):(a=Math.sqrt(a),b=1/a,p*=b,x*=b,this.equal?(a-=this.jointMax,b=!1):a<this.jointMin?(a=this.jointMin-a,p=-p,x=-x,b=!1):a>this.jointMax?(a-=this.jointMax,b=!1):(a=x=p=0,b=!0));if(!b){if(this.breakUnderError&&a*a>this.maxError*this.maxError)return!0;
if(a*a<f.Config.constraintLinearSlop*f.Config.constraintLinearSlop)return!1;a*=.5;6<a*a&&(b=this.b1.smass+this.b2.smass,b>f.Config.epsilon&&(b=.75/b*-a,this.equal||0>b))&&(a=b*this.b1.imass,this.b1.posx-=p*a,this.b1.posy-=x*a,a=b*this.b2.imass,this.b2.posx+=p*a,this.b2.posy+=x*a,p=this.b2.posx+e-(this.b1.posx+d),x=this.b2.posy+g-(this.b1.posy+c),a=p*p+x*x,a<f.Config.epsilon?a=x=p=0:(a=Math.sqrt(a),b=1/a,p*=b,x*=b,this.equal?a-=this.jointMax:a<this.jointMin?(a=this.jointMin-a,p=-p,x=-x):a>this.jointMax?
a-=this.jointMax:a=x=p=0),a*=.5);d=x*d-p*c;e=x*e-p*g;g=this.b1.smass+this.b2.smass+d*d*this.b1.sinertia+e*e*this.b2.sinertia;0!=g&&(g=1/g);b=-a*g;if(this.equal||0>b)g=this.b1.imass*b,this.b1.posx-=p*g,this.b1.posy-=x*g,g=this.b2.imass*b,this.b2.posx+=p*g,this.b2.posy+=x*g,this.b1.delta_rot(-d*this.b1.iinertia*b),this.b2.delta_rot(e*this.b2.iinertia*b)}return!1},draw:function(a){var b=this.outer_zn,d=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a1&&
b.zpp_inner_zn.setup_a1();return b.zpp_inner_zn.wrap_a1}(this)),c=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this)),e=c.sub(d),g;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g=Math.sqrt(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)*function(a){if(null!=
e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)+function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this));if(0!=g){e.muleq(1/g);var f=d.add(c).muleq(.5),x=f.sub(e.mul(.5*this.jointMin,!0)),h=f.add(e.mul(.5*
this.jointMin,!0)),w=f.sub(e.mul(.5*this.jointMax,!0)),l=f.add(e.mul(.5*this.jointMax,!0));a.drawLine(x,h,16776960);a.drawLine(w,x,65535);a.drawLine(l,h,65535);this.stiff||(g>this.jointMax?(a.drawSpring(w,d,65535),a.drawSpring(l,c,65535)):g<this.jointMin&&(a.drawSpring(x,d,16776960),a.drawSpring(h,c,16776960)));f.dispose();x.dispose();h.dispose();w.dispose();l.dispose()}a.drawFilledCircle(d,2,255);a.drawFilledCircle(c,2,16711680);d.dispose();c.dispose();e.dispose()},__class__:c.constraint.ZPP_DistanceJoint});
c.constraint.ZPP_LineJoint=function(){this.kMassa=this.kMassb=this.kMassc=this.jAccx=this.jAccy=this.biasx=this.biasy=0;this.wrap_n=null;this.nlocalx=this.nlocaly=this.nrelx=this.nrely=0;this.wrap_a2=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=null;this.dot1=this.dot2=this.cx1=this.cx2=this.a1localx=this.a1localy=this.a1relx=this.a1rely=0;this.equal=!1;this.scale=this.jointMin=this.jointMax=0;this.outer_zn=null;c.constraint.ZPP_Constraint.call(this);this.jAccy=this.jAccx=
this.nrely=this.nrelx=this.nlocaly=this.nlocalx=this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0;this.jMax=Math.POSITIVE_INFINITY;this.jointMin=Math.NEGATIVE_INFINITY;this.jointMax=Math.POSITIVE_INFINITY;this.stepped=!1};m["zpp_nape.constraint.ZPP_LineJoint"]=c.constraint.ZPP_LineJoint;c.constraint.ZPP_LineJoint.__name__=["zpp_nape","constraint","ZPP_LineJoint"];c.constraint.ZPP_LineJoint.__super__=c.constraint.ZPP_Constraint;c.constraint.ZPP_LineJoint.prototype=
F(c.constraint.ZPP_Constraint.prototype,{outer_zn:null,scale:null,jointMin:null,jointMax:null,equal:null,dot1:null,dot2:null,cx1:null,cx2:null,bodyImpulse:function(a){if(this.stepped){var b=this.scale*this.nrelx*this.jAccy-this.nrely*this.jAccx,d=this.nrelx*this.jAccx+this.scale*this.nrely*this.jAccy;return a==this.b1?f.geom.Vec3.get(-b,-d,this.scale*this.cx1*d-this.dot1*b):f.geom.Vec3.get(b,d,this.scale*this.cx1*d-this.dot1*b)}return f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&
this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},b1:null,a1localx:null,a1localy:null,a1relx:null,a1rely:null,validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},
setup_a1:function(){this.wrap_a1=f.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=u(this,this.validate_a1);this.wrap_a1.zpp_inner._invalidate=u(this,this.invalidate_a1)},wrap_a1:null,b2:null,a2localx:null,a2localy:null,a2relx:null,a2rely:null,validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=a.x;this.a2localy=
a.y;this.wake()},setup_a2:function(){this.wrap_a2=f.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=u(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=u(this,this.invalidate_a2)},wrap_a2:null,zip_n:null,nlocalx:null,nlocaly:null,nrelx:null,nrely:null,validate_n:function(){this.wrap_n.zpp_inner.x=this.nlocalx;this.wrap_n.zpp_inner.y=this.nlocaly},invalidate_n:function(a){this.immutable_midstep("Constraint::n");this.nlocalx=
a.x;this.nlocaly=a.y;this.zip_n=!0;this.wake()},setup_n:function(){this.wrap_n=f.geom.Vec2.get(this.nlocalx,this.nlocaly,null);this.wrap_n.zpp_inner._inuse=!0;this.wrap_n.zpp_inner._validate=u(this,this.validate_n);this.wrap_n.zpp_inner._invalidate=u(this,this.invalidate_n)},wrap_n:null,validate_norm:function(){if(this.zip_n){this.zip_n=!1;var a=1/Math.sqrt(this.nlocalx*this.nlocalx+this.nlocaly*this.nlocaly);this.nlocalx*=a;this.nlocaly*=a}},kMassa:null,kMassb:null,kMassc:null,jAccx:null,jAccy:null,
jMax:null,gamma:null,biasx:null,biasy:null,stepped:null,copy:function(a,b){var d=new f.constraint.LineJoint(null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2(),this.outer_zn.get_direction(),this.jointMin,this.jointMax);this.copyto(d);if(null!=a&&null!=this.b1){for(var k=null,e=0;e<a.length;){var g=a[e];++e;if(g.id==this.b1.id){k=g.bc;break}}null!=k?d.zpp_inner_zn.b1=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&
null!=this.b2){k=null;for(e=0;e<a.length;)if(g=a[e],++e,g.id==this.b2.id){k=g.bc;break}null!=k?d.zpp_inner_zn.b2=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}return d},validate:function(){if(null==this.b1||null==this.b2)throw"Error: AngleJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: DistanceJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";
if(this.jointMin>this.jointMax)throw"Error: DistanceJoint must have jointMin <= jointMax";if(this.nlocalx*this.nlocalx+this.nlocaly*this.nlocaly<f.Config.epsilon)throw"Error: DistanceJoint direction must be non-degenerate";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();
null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var k=b.parent;b.parent=d;d=b;b=k}for(;null!=
d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)k=b.parent,b.parent=d,d=b,b=k;for(;null!=d;)k=d.parent,
d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAccy=this.jAccx=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.equal=this.jointMin==this.jointMax;this.stepped=!0;this.validate_norm();this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*
this.b1.axisx+this.a1localy*this.b1.axisy;this.nrelx=this.b1.axisy*this.nlocalx-this.b1.axisx*this.nlocaly;this.nrely=this.nlocalx*this.b1.axisx+this.nlocaly*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var d=0,c=0,e=0,g=0,d=this.b2.posx+this.a2relx-this.b1.posx-this.a1relx,c=this.b2.posy+this.a2rely-this.b1.posy-this.a1rely,e=c*this.nrelx-d*this.nrely,g=this.nrelx*d+this.nrely*c;this.equal?(g-=
this.jointMin,this.scale=1):g>this.jointMax?(g-=this.jointMax,this.scale=1):g<this.jointMin?(g=this.jointMin-g,this.scale=-1):this.scale=g=0;var f=0,x=0,f=d+this.a1relx,x=c+this.a1rely;this.dot1=this.nrelx*f+this.nrely*x;this.cx1=x*this.nrelx-f*this.nrely;this.dot2=this.nrelx*this.a2relx+this.nrely*this.a2rely;this.cx2=this.a2rely*this.nrelx-this.a2relx*this.nrely;this.kMassa=this.b1.smass+this.b2.smass+this.dot1*this.dot1*this.b1.sinertia+this.dot2*this.dot2*this.b2.sinertia;this.kMassb=-this.scale*
(this.dot1*this.cx1*this.b1.sinertia+this.dot2*this.cx2*this.b2.sinertia);this.kMassc=this.scale*this.scale*(this.b1.smass+this.b2.smass+this.cx1*this.cx1*this.b1.sinertia+this.cx2*this.cx2*this.b2.sinertia);d=this.kMassa*this.kMassc-this.kMassb*this.kMassb;d!=d?(this.kMassa=this.kMassb=this.kMassc=0,d=3):0==d?(d=0,0!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,d|=1),0!=this.kMassc?this.kMassc=1/this.kMassc:(this.kMassc=0,d|=2),this.kMassb=0):(d=1/d,c=this.kMassc*d,this.kMassc=this.kMassa*
d,this.kMassa=c,this.kMassb*=-d,d=0);0!=(d&1)&&(this.jAccx=0);0!=(d&2)&&(this.jAccy=0);if(this.stiff)this.biasy=this.biasx=this.gamma=0;else{if(this.breakUnderError&&e*e+g*g>this.maxError*this.maxError)return!0;c=2*Math.PI*this.frequency;this.gamma=1/(a*c*(2*this.damping+c*a));d=1/(1+this.gamma);c=a*c*c*this.gamma;this.gamma*=d;this.kMassa*=d;this.kMassb*=d;this.kMassc*=d;this.biasx=e;this.biasy=g;e=-c;this.biasx*=e;this.biasy*=e;e=this.maxError;g=this.biasx*this.biasx+this.biasy*this.biasy;g>e*e&&
(e*=1/Math.sqrt(g),this.biasx*=e,this.biasy*=e)}this.jAccx*=b;this.jAccy*=b;this.jMax=this.maxForce*a;return!1},warmStart:function(){var a=this.scale*this.nrelx*this.jAccy-this.nrely*this.jAccx,b=this.nrelx*this.jAccx+this.scale*this.nrely*this.jAccy,d=this.b1.imass;this.b1.velx-=a*d;this.b1.vely-=b*d;d=this.b2.imass;this.b2.velx+=a*d;this.b2.vely+=b*d;this.b1.angvel+=(this.scale*this.cx1*this.jAccy-this.dot1*this.jAccx)*this.b1.iinertia;this.b2.angvel+=(this.dot2*this.jAccx-this.scale*this.cx2*this.jAccy)*
this.b2.iinertia},applyImpulseVel:function(){var a=0,b=0,d=0,c=0,d=this.b2.velx-this.b1.velx,c=this.b2.vely-this.b1.vely,d=d+(this.b2.kinvelx-this.b1.kinvelx),c=c+(this.b2.kinvely-this.b1.kinvely),a=c*this.nrelx-d*this.nrely+(this.b2.angvel+this.b2.kinangvel)*this.dot2-(this.b1.angvel+this.b1.kinangvel)*this.dot1,b=this.scale*(this.nrelx*d+this.nrely*c-(this.b2.angvel+this.b2.kinangvel)*this.cx2+(this.b1.angvel+this.b1.kinangvel)*this.cx1),c=d=0,d=this.biasx-a,c=this.biasy-b,a=this.kMassa*d+this.kMassb*
c,c=this.kMassb*d+this.kMassc*c,b=this.gamma,d=a-this.jAccx*b,c=c-this.jAccy*b,b=a=0,a=this.jAccx,b=this.jAccy;this.jAccx+=1*d;this.jAccy+=1*c;0<this.jAccy&&(this.jAccy=0);if(this.breakUnderForce){if(this.jAccx*this.jAccx+this.jAccy*this.jAccy>this.jMax*this.jMax)return!0}else this.stiff||(d=this.jMax,c=this.jAccx*this.jAccx+this.jAccy*this.jAccy,c>d*d&&(d*=1/Math.sqrt(c),this.jAccx*=d,this.jAccy*=d));var d=this.jAccx-a,c=this.jAccy-b,a=this.scale*this.nrelx*c-this.nrely*d,b=this.nrelx*d+this.scale*
this.nrely*c,e=this.b1.imass;this.b1.velx-=a*e;this.b1.vely-=b*e;e=this.b2.imass;this.b2.velx+=a*e;this.b2.vely+=b*e;this.b1.angvel+=(this.scale*this.cx1*c-this.dot1*d)*this.b1.iinertia;this.b2.angvel+=(this.dot2*d-this.scale*this.cx2*c)*this.b2.iinertia;return!1},applyImpulsePos:function(){var a=0,b=0,a=this.b1.axisy*this.nlocalx-this.b1.axisx*this.nlocaly,b=this.nlocalx*this.b1.axisx+this.nlocaly*this.b1.axisy,d=0,c=0,d=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,c=this.a1localx*this.b1.axisx+
this.a1localy*this.b1.axisy,e=0,g=0,e=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,g=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,p=0,x=0,h,w=0,l=0,p=this.b2.posx+e-this.b1.posx-d,x=this.b2.posy+g-this.b1.posy-c,w=x*a-p*b,l=a*p+b*x;this.equal?(l-=this.jointMin,h=1):l>this.jointMax?(l-=this.jointMax,h=1):l<this.jointMin?(l=this.jointMin-l,h=-1):h=l=0;if(this.breakUnderError&&w*w+l*l>this.maxError*this.maxError)return!0;if(w*w+l*l<f.Config.constraintLinearSlop*f.Config.constraintLinearSlop)return!1;
var t=0,m=0,w=.5*w,l=.5*l;6<w*w+l*l&&(t=this.b1.smass+this.b2.smass,t>f.Config.epsilon&&(t=.8/t,m=t*(b*w-h*a*l),h=t*(a*w*h-b*w),t=this.b1.imass,this.b1.posx-=m*t,this.b1.posy-=h*t,t=this.b2.imass,this.b2.posx+=m*t,this.b2.posy+=h*t,p=this.b2.posx+e-this.b1.posx-d,x=this.b2.posy+g-this.b1.posy-c,l=a*p+b*x,this.equal?(l-=this.jointMin,h=1):l>this.jointMax?(l-=this.jointMax,h=1):l<this.jointMin?(l=this.jointMin-l,h=-1):h=l=0,w=.5*(x*a-p*b),l*=.5));var n=0,q=0,u=0,m=t=0,t=p+d,m=x+c,d=a*t+b*m,p=m*a-t*
b,c=a*e+b*g,e=g*a-e*b,n=this.b1.smass+this.b2.smass+d*d*this.b1.sinertia+c*c*this.b2.sinertia,q=-h*(d*p*this.b1.sinertia+c*e*this.b2.sinertia),u=h*h*(this.b1.smass+this.b2.smass+p*p*this.b1.sinertia+e*e*this.b2.sinertia),t=-w,m=-l,g=n*u-q*q;g!=g?t=m=0:0==g?(t=0!=n?t/n:0,m=0!=u?m/u:0):(g=1/g,w=g*(u*t-q*m),m=g*(n*m-q*t),t=w);0<m&&(m=0);g=h*a*m-b*t;a=a*t+h*b*m;b=this.b1.imass;this.b1.posx-=g*b;this.b1.posy-=a*b;b=this.b2.imass;this.b2.posx+=g*b;this.b2.posy+=a*b;this.b1.delta_rot((h*p*m-d*t)*this.b1.iinertia);
this.b2.delta_rot((c*t-h*e*m)*this.b2.iinertia);return!1},draw:function(a){var b=this.outer_zn,d=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();return b.zpp_inner_zn.wrap_a1}(this)),c=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this)),e=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localVectorToWorld(function(a){null==
b.zpp_inner_zn.wrap_n&&b.zpp_inner_zn.setup_n();return b.zpp_inner_zn.wrap_n}(this));e.muleq(1/function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(a)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(a)+function(a){if(null!=
e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(a)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(a))}(this));var g=b.zpp_inner_zn.jointMin,p=b.zpp_inner_zn.jointMax;g<=Math.NEGATIVE_INFINITY&&(g=-1E3);p>=Math.POSITIVE_INFINITY&&(p=1E3);var x=c.sub(d),h=x.dot(e);x.dispose();var l=d.add(e.mul(g,!0)),m=d.add(e.mul(p,!0));h>g&&a.drawLine(l,d.add(e.mul(function(a){a=
p;return h<a?h:a}(this),!0),!0),16776960);h<p&&a.drawLine(d.add(e.mul(function(a){a=g;return h>a?h:a}(this),!0),!0),m,65535);if(!this.stiff){if(h<this.jointMin){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x=f.geom.Vec2.get(function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.x}(this),function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();
return l.zpp_inner.y}(this),!1)}else if(h>this.jointMax){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";x=f.geom.Vec2.get(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.x}(this),function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.y}(this),!1)}else x=d.add(e.mul(h,!0));a.drawSpring(x,c,16711935);x.dispose()}a.drawFilledCircle(d,
2,255);a.drawFilledCircle(c,2,16711680);d.dispose();c.dispose();l.dispose();m.dispose()},__class__:c.constraint.ZPP_LineJoint});c.constraint.ZPP_MotorJoint=function(){this.stepped=!1;this.kMass=this.jAcc=this.jMax=0;this.b1=this.b2=null;this.ratio=this.rate=0;this.outer_zn=null;c.constraint.ZPP_Constraint.call(this);this.jAcc=0;this.stepped=!1;this.__velocity=!0};m["zpp_nape.constraint.ZPP_MotorJoint"]=c.constraint.ZPP_MotorJoint;c.constraint.ZPP_MotorJoint.__name__=["zpp_nape","constraint","ZPP_MotorJoint"];
c.constraint.ZPP_MotorJoint.__super__=c.constraint.ZPP_Constraint;c.constraint.ZPP_MotorJoint.prototype=F(c.constraint.ZPP_Constraint.prototype,{outer_zn:null,ratio:null,rate:null,bodyImpulse:function(a){return this.stepped?a==this.b1?f.geom.Vec3.get(0,0,-this.jAcc):f.geom.Vec3.get(0,0,this.ratio*this.jAcc):f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&
this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},b1:null,b2:null,kMass:null,jAcc:null,jMax:null,stepped:null,copy:function(a,b){var d=new f.constraint.MotorJoint(null,null,this.rate,this.ratio);this.copyto(d);if(null!=a&&null!=this.b1){for(var k=null,e=0;e<a.length;){var g=a[e];++e;if(g.id==this.b1.id){k=g.bc;break}}null!=k?d.zpp_inner_zn.b1=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=
a&&null!=this.b2){k=null;for(e=0;e<a.length;)if(g=a[e],++e,g.id==this.b2.id){k=g.bc;break}null!=k?d.zpp_inner_zn.b2=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}return d},validate:function(){if(null==this.b1||null==this.b2)throw"Error: AngleJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: MotorJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";
if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;
else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var k=b.parent;b.parent=d;d=b;b=k}for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;
else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)k=b.parent,b.parent=d,d=b,b=k;for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAcc=0;
this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.kMass=this.b1.sinertia+this.ratio*this.ratio*this.b2.sinertia;this.kMass=1/this.kMass;this.jAcc*=b;this.jMax=this.maxForce*a;return!1},warmStart:function(){this.b1.angvel-=this.b1.iinertia*this.jAcc;this.b2.angvel+=this.ratio*this.b2.iinertia*this.jAcc},applyImpulseVel:function(){var a=-this.kMass*(this.ratio*(this.b2.angvel+this.b2.kinangvel)-this.b1.angvel-this.b1.kinangvel-
this.rate),b=this.jAcc;this.jAcc+=a;if(this.breakUnderForce){if(this.jAcc>this.jMax||this.jAcc<-this.jMax)return!0}else this.jAcc<-this.jMax?this.jAcc=-this.jMax:this.jAcc>this.jMax&&(this.jAcc=this.jMax);a=this.jAcc-b;this.b1.angvel-=this.b1.iinertia*a;this.b2.angvel+=this.ratio*this.b2.iinertia*a;return!1},applyImpulsePos:function(){return!1},__class__:c.constraint.ZPP_MotorJoint});c.constraint.ZPP_PivotJoint=function(){this.stepped=!1;this.kMassa=this.kMassb=this.kMassc=this.jAccx=this.jAccy=this.jMax=
this.gamma=this.biasx=this.biasy=0;this.wrap_a2=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=this.b2=null;this.a1localx=this.a1localy=this.a1relx=this.a1rely=0;this.outer_zn=this.b1=null;c.constraint.ZPP_Constraint.call(this);this.stepped=!1;this.jAccy=this.jAccx=0;this.jMax=Math.POSITIVE_INFINITY;this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0};m["zpp_nape.constraint.ZPP_PivotJoint"]=c.constraint.ZPP_PivotJoint;
c.constraint.ZPP_PivotJoint.__name__=["zpp_nape","constraint","ZPP_PivotJoint"];c.constraint.ZPP_PivotJoint.__super__=c.constraint.ZPP_Constraint;c.constraint.ZPP_PivotJoint.prototype=F(c.constraint.ZPP_Constraint.prototype,{outer_zn:null,bodyImpulse:function(a){return this.stepped?a==this.b1?f.geom.Vec3.get(-this.jAccx,-this.jAccy,-(this.jAccy*this.a1relx-this.jAccx*this.a1rely)):f.geom.Vec3.get(this.jAccx,this.jAccy,this.jAccy*this.a2relx-this.jAccx*this.a2rely):f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=
this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},b1:null,a1localx:null,a1localy:null,a1relx:null,a1rely:null,validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=
a.y;this.wake()},setup_a1:function(){this.wrap_a1=f.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=u(this,this.validate_a1);this.wrap_a1.zpp_inner._invalidate=u(this,this.invalidate_a1)},wrap_a1:null,b2:null,a2localx:null,a2localy:null,a2relx:null,a2rely:null,validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=
a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=f.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=u(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=u(this,this.invalidate_a2)},wrap_a2:null,kMassa:null,kMassb:null,kMassc:null,jAccx:null,jAccy:null,jMax:null,gamma:null,biasx:null,biasy:null,stepped:null,copy:function(a,b){var d=new f.constraint.PivotJoint(null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2());
this.copyto(d);if(null!=a&&null!=this.b1){for(var k=null,e=0;e<a.length;){var g=a[e];++e;if(g.id==this.b1.id){k=g.bc;break}}null!=k?d.zpp_inner_zn.b1=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){k=null;for(e=0;e<a.length;)if(g=a[e],++e,g.id==this.b2.id){k=g.bc;break}null!=k?d.zpp_inner_zn.b2=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}return d},
validate:function(){if(null==this.b1||null==this.b2)throw"Error: PivotJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: PivotJoint cannot be simulated with body1 == body2 (body1=body2="+this.b1.outer.toString()+")";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned (body1="+this.b1.outer.toString()+", body2="+this.b2.outer.toString()+")";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&
this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic (body1="+this.b1.outer.toString()+", body2="+this.b2.outer.toString()+")";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=
this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var k=b.parent;b.parent=d;d=b;b=k}for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=
this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)k=b.parent,b.parent=d,d=b,b=k;for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAccy=
this.jAccx=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var d=this.b1.smass+this.b2.smass;this.kMassa=d;this.kMassb=0;this.kMassc=d;if(0!=this.b1.sinertia){var d=
this.a1relx*this.b1.sinertia,c=this.a1rely*this.b1.sinertia;this.kMassa+=c*this.a1rely;this.kMassb+=-c*this.a1relx;this.kMassc+=d*this.a1relx}0!=this.b2.sinertia&&(d=this.a2relx*this.b2.sinertia,c=this.a2rely*this.b2.sinertia,this.kMassa+=c*this.a2rely,this.kMassb+=-c*this.a2relx,this.kMassc+=d*this.a2relx);d=this.kMassa*this.kMassc-this.kMassb*this.kMassb;d!=d?(this.kMassa=this.kMassb=this.kMassc=0,d=3):0==d?(d=0,0!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,d|=1),0!=this.kMassc?this.kMassc=
1/this.kMassc:(this.kMassc=0,d|=2),this.kMassb=0):(d=1/d,c=this.kMassc*d,this.kMassc=this.kMassa*d,this.kMassa=c,this.kMassb*=-d,d=0);0!=(d&1)&&(this.jAccx=0);0!=(d&2)&&(this.jAccy=0);if(this.stiff)this.gamma=this.biasy=this.biasx=0;else{c=2*Math.PI*this.frequency;this.gamma=1/(a*c*(2*this.damping+c*a));d=1/(1+this.gamma);c=a*c*c*this.gamma;this.gamma*=d;this.kMassa*=d;this.kMassb*=d;this.kMassc*=d;this.biasx=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx);this.biasy=this.b2.posy+this.a2rely-
(this.b1.posy+this.a1rely);if(this.breakUnderError&&this.biasx*this.biasx+this.biasy*this.biasy>this.maxError*this.maxError)return!0;d=-c;this.biasx*=d;this.biasy*=d;d=this.maxError;c=this.biasx*this.biasx+this.biasy*this.biasy;c>d*d&&(d*=1/Math.sqrt(c),this.biasx*=d,this.biasy*=d)}this.jAccx*=b;this.jAccy*=b;this.jMax=this.maxForce*a;return!1},warmStart:function(){var a=this.b1.imass;this.b1.velx-=this.jAccx*a;this.b1.vely-=this.jAccy*a;a=this.b2.imass;this.b2.velx+=this.jAccx*a;this.b2.vely+=this.jAccy*
a;this.b1.angvel-=(this.jAccy*this.a1relx-this.jAccx*this.a1rely)*this.b1.iinertia;this.b2.angvel+=(this.jAccy*this.a2relx-this.jAccx*this.a2rely)*this.b2.iinertia},applyImpulseVel:function(){var a=0,b=0,a=this.b2.velx+this.b2.kinvelx-this.a2rely*(this.b2.angvel+this.b2.kinangvel)-(this.b1.velx+this.b1.kinvelx-this.a1rely*(this.b1.angvel+this.b1.kinangvel)),b=this.b2.vely+this.b2.kinvely+this.a2relx*(this.b2.angvel+this.b2.kinangvel)-(this.b1.vely+this.b1.kinvely+this.a1relx*(this.b1.angvel+this.b1.kinangvel)),
d=0,c=0,d=this.biasx-a,c=this.biasy-b,a=this.kMassa*d+this.kMassb*c,c=this.kMassb*d+this.kMassc*c,b=this.gamma,d=a-this.jAccx*b,c=c-this.jAccy*b,b=a=0,a=this.jAccx,b=this.jAccy;this.jAccx+=1*d;this.jAccy+=1*c;if(this.breakUnderForce){if(this.jAccx*this.jAccx+this.jAccy*this.jAccy>this.jMax*this.jMax)return!0}else this.stiff||(d=this.jMax,c=this.jAccx*this.jAccx+this.jAccy*this.jAccy,c>d*d&&(d*=1/Math.sqrt(c),this.jAccx*=d,this.jAccy*=d));d=this.jAccx-a;c=this.jAccy-b;a=this.b1.imass;this.b1.velx-=
d*a;this.b1.vely-=c*a;a=this.b2.imass;this.b2.velx+=d*a;this.b2.vely+=c*a;this.b1.angvel-=(c*this.a1relx-d*this.a1rely)*this.b1.iinertia;this.b2.angvel+=(c*this.a2relx-d*this.a2rely)*this.b2.iinertia;return!1},applyImpulsePos:function(){var a=0,b=0,a=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,b=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,d=0,c=0,d=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,c=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,e=0,g=0,e=this.b2.posx+
d-(this.b1.posx+a),g=this.b2.posy+c-(this.b1.posy+b);if(this.breakUnderError&&e*e+g*g>this.maxError*this.maxError)return!0;if(e*e+g*g<f.Config.constraintLinearSlop*f.Config.constraintLinearSlop)return!1;var e=.5*e,g=.5*g,p=0,x=0;if(6<e*e+g*g&&(x=this.b1.smass+this.b2.smass,x>f.Config.epsilon)){var x=.75/x,p=-e*x,x=-g*x,h=p*p+x*x;400<h&&(h=20*(1/Math.sqrt(h)),p*=h,x*=h);h=this.b1.imass;this.b1.posx-=p*h;this.b1.posy-=x*h;h=this.b2.imass;this.b2.posx+=p*h;this.b2.posy+=x*h;e=this.b2.posx+d-(this.b1.posx+
a);g=this.b2.posy+c-(this.b1.posy+b);e*=.5;g*=.5}var l=h=0,m=0,h=p=this.b1.smass+this.b2.smass,l=0,m=p;0!=this.b1.sinertia&&(p=a*this.b1.sinertia,x=b*this.b1.sinertia,h+=x*b,l+=-x*a,m+=p*a);0!=this.b2.sinertia&&(p=d*this.b2.sinertia,x=c*this.b2.sinertia,h+=x*c,l+=-x*d,m+=p*d);p=-e;x=-g;e=p*p+x*x;36<e&&(e=6*(1/Math.sqrt(e)),p*=e,x*=e);e=h*m-l*l;e!=e?p=x=0:0==e?(p=0!=h?p/h:0,x=0!=m?x/m:0):(e=1/e,m=e*(m*p-l*x),x=e*(h*x-l*p),p=m);h=this.b1.imass;this.b1.posx-=p*h;this.b1.posy-=x*h;h=this.b2.imass;this.b2.posx+=
p*h;this.b2.posy+=x*h;this.b1.delta_rot(-(x*a-p*b)*this.b1.iinertia);this.b2.delta_rot((x*d-p*c)*this.b2.iinertia);return!1},draw:function(a){var b=this.outer_zn,d=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();return b.zpp_inner_zn.wrap_a1}(this)),c=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this));
if(!this.stiff){var e=c.sub(d);if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";0!=Math.sqrt(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)+function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.y}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this))&&a.drawSpring(d,c,16711935);e.dispose()}a.drawFilledCircle(d,2,255);a.drawFilledCircle(c,2,16711680);d.dispose();c.dispose()},__class__:c.constraint.ZPP_PivotJoint});c.constraint.ZPP_PulleyJoint=function(){this.stepped=!1;this.kMass=this.jAcc=this.jMax=this.gamma=this.bias=0;this.wrap_a4=null;this.a4localx=
this.a4localy=this.a4relx=this.a4rely=0;this.wrap_a3=this.b4=null;this.a3localx=this.a3localy=this.a3relx=this.a3rely=0;this.wrap_a2=this.b3=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=this.b2=null;this.a1localx=this.a1localy=this.a1relx=this.a1rely=0;this.b1=null;this.n12x=this.n12y=this.n34x=this.n34y=this.cx1=this.cx2=this.cx3=this.cx4=0;this.slack=this.equal=!1;this.jointMin=this.jointMax=0;this.ratio=1;this.outer_zn=null;c.constraint.ZPP_Constraint.call(this);this.a4rely=
this.a4relx=this.a4localy=this.a4localx=this.a3rely=this.a3relx=this.a3localy=this.a3localx=this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0;this.n12x=1;this.n12y=0;this.n34x=1;this.jAcc=this.n34y=0;this.jMax=Math.POSITIVE_INFINITY;this.stepped=!1;this.cx1=this.cx2=this.cx3=this.cx4=0};m["zpp_nape.constraint.ZPP_PulleyJoint"]=c.constraint.ZPP_PulleyJoint;c.constraint.ZPP_PulleyJoint.__name__=["zpp_nape","constraint","ZPP_PulleyJoint"];c.constraint.ZPP_PulleyJoint.__super__=
c.constraint.ZPP_Constraint;c.constraint.ZPP_PulleyJoint.prototype=F(c.constraint.ZPP_Constraint.prototype,{outer_zn:null,ratio:null,jointMin:null,jointMax:null,slack:null,equal:null,is_slack:function(){var a;this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;this.a3relx=this.b3.axisy*
this.a3localx-this.b3.axisx*this.a3localy;this.a3rely=this.a3localx*this.b3.axisx+this.a3localy*this.b3.axisy;this.a4relx=this.b4.axisy*this.a4localx-this.b4.axisx*this.a4localy;this.a4rely=this.a4localx*this.b4.axisx+this.a4localy*this.b4.axisy;var b=0,d=0,c=a=0,b=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx),d=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);a=this.b4.posx+this.a4relx-(this.b3.posx+this.a3relx);c=this.b4.posy+this.a4rely-(this.b3.posy+this.a3rely);b=Math.sqrt(b*b+d*d);
a=Math.sqrt(a*a+c*c);0==a&&Math.sqrt(0);c=b+this.ratio*a;this.equal?(c-=this.jointMax,a=!1):c<this.jointMin?(c=this.jointMin-c,a=!1):c>this.jointMax?(c-=this.jointMax,a=!1):(c=0,a=!0);c;return a},n12x:null,n12y:null,n34x:null,n34y:null,cx1:null,cx2:null,cx3:null,cx4:null,bodyImpulse:function(a){if(this.stepped){var b=f.geom.Vec3.get();a==this.b1&&(b.set_x(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)-
this.jAcc*this.n12x),b.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)-this.jAcc*this.n12y),b.set_z(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.z}(this)-this.cx1*this.jAcc));a==this.b2&&(b.set_x(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();
return b.zpp_inner.x}(this)+this.jAcc*this.n12x),b.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)+this.jAcc*this.n12y),b.set_z(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.z}(this)+this.cx2*this.jAcc));a==this.b3&&(b.set_x(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.x}(this)-this.jAcc*this.n34x),b.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)-this.jAcc*this.n34y),b.set_z(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.z}(this)-this.cx3*this.jAcc));a==this.b4&&(b.set_x(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.x}(this)+this.jAcc*this.n34x),b.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)+this.jAcc*this.n34y),b.set_z(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.z}(this)+this.cx4*this.jAcc));return b}return f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);
this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this);this.b3!=this.b1&&this.b3!=this.b2&&null!=this.b3&&this.b3.constraints.add(this);this.b4!=this.b1&&this.b4!=this.b2&&this.b4!=this.b3&&null!=this.b4&&this.b4.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this);this.b3!=this.b1&&this.b3!=this.b2&&null!=this.b3&&this.b3.constraints.remove(this);this.b4!=this.b1&&this.b4!=this.b2&&
this.b4!=this.b3&&null!=this.b4&&this.b4.constraints.remove(this)},b1:null,a1localx:null,a1localy:null,a1relx:null,a1rely:null,validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=f.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=u(this,
this.validate_a1);this.wrap_a1.zpp_inner._invalidate=u(this,this.invalidate_a1)},wrap_a1:null,b2:null,a2localx:null,a2localy:null,a2relx:null,a2rely:null,validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=f.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=
u(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=u(this,this.invalidate_a2)},wrap_a2:null,b3:null,a3localx:null,a3localy:null,a3relx:null,a3rely:null,validate_a3:function(){this.wrap_a3.zpp_inner.x=this.a3localx;this.wrap_a3.zpp_inner.y=this.a3localy},invalidate_a3:function(a){this.immutable_midstep("Constraint::a3");this.a3localx=a.x;this.a3localy=a.y;this.wake()},setup_a3:function(){this.wrap_a3=f.geom.Vec2.get(this.a3localx,this.a3localy,null);this.wrap_a3.zpp_inner._inuse=!0;this.wrap_a3.zpp_inner._validate=
u(this,this.validate_a3);this.wrap_a3.zpp_inner._invalidate=u(this,this.invalidate_a3)},wrap_a3:null,b4:null,a4localx:null,a4localy:null,a4relx:null,a4rely:null,validate_a4:function(){this.wrap_a4.zpp_inner.x=this.a4localx;this.wrap_a4.zpp_inner.y=this.a4localy},invalidate_a4:function(a){this.immutable_midstep("Constraint::a4");this.a4localx=a.x;this.a4localy=a.y;this.wake()},setup_a4:function(){this.wrap_a4=f.geom.Vec2.get(this.a4localx,this.a4localy,null);this.wrap_a4.zpp_inner._inuse=!0;this.wrap_a4.zpp_inner._validate=
u(this,this.validate_a4);this.wrap_a4.zpp_inner._invalidate=u(this,this.invalidate_a4)},wrap_a4:null,kMass:null,jAcc:null,jMax:null,gamma:null,bias:null,stepped:null,copy:function(a,b){var d=new f.constraint.PulleyJoint(null,null,null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2(),this.outer_zn.get_anchor3(),this.outer_zn.get_anchor4(),this.jointMin,this.jointMax,this.ratio);this.copyto(d);if(null!=a&&null!=this.b1){for(var k=null,e=0;e<a.length;){var g=a[e];++e;if(g.id==this.b1.id){k=
g.bc;break}}null!=k?d.zpp_inner_zn.b1=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){k=null;for(e=0;e<a.length;)if(g=a[e],++e,g.id==this.b2.id){k=g.bc;break}null!=k?d.zpp_inner_zn.b2=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}if(null!=a&&null!=this.b3){k=null;for(e=0;e<a.length;)if(g=a[e],++e,g.id==this.b3.id){k=g.bc;break}null!=k?d.zpp_inner_zn.b3=
k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b3.id,function(a){d.zpp_inner_zn.b3=a.zpp_inner}))}if(null!=a&&null!=this.b4){k=null;for(e=0;e<a.length;)if(g=a[e],++e,g.id==this.b4.id){k=g.bc;break}null!=k?d.zpp_inner_zn.b4=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b4.id,function(a){d.zpp_inner_zn.b4=a.zpp_inner}))}return d},validate:function(){if(null==this.b1||null==this.b2||null==this.b3||null==this.b4)throw"Error: PulleyJoint cannot be simulated with null bodies";if(this.b1==
this.b2||this.b3==this.b4)throw"Error: PulleyJoint cannot have body1==body2 or body3==body4";if(this.b1.space!=this.space||this.b2.space!=this.space||this.b3.space!=this.space||this.b4.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.jointMin>this.jointMax)throw"Error: PulleyJoint must have jointMin <= jointMax";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: PulleyJoint cannot have both bodies in a linked pair non-dynamic";
if(this.b3.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b4.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: PulleyJoint cannot have both bodies in a linked pair non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake();null!=this.b3&&this.b3.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b3.wake();null!=this.b4&&this.b4.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&
this.b4.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var k=b.parent;b.parent=d;d=b;b=k}for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:
a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)k=b.parent,b.parent=d,d=b,b=k;for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>
b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b3.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b3.component==this.b3.component.parent)a=this.b3.component;else{a=this.b3.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)k=b.parent,b.parent=d,d=b,b=k;for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?
b.parent=a:(b.parent=a,a.rank++))}if(this.b4.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b4.component==this.b4.component.parent)a=this.b4.component;else{a=this.b4.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)k=b.parent,b.parent=d,d=b,b=k;for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=
a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&(this.b2.id==b||this.b3.id==b||this.b4.id==b)||this.b2.id==a&&(this.b3.id==b||this.b4.id==b||this.b1.id==b)||this.b3.id==a&&(this.b4.id==b||this.b1.id==b||this.b2.id==b)||this.b4.id==a&&(this.b1.id==b||this.b2.id==b||this.b3.id==b)},clearcache:function(){this.jAcc=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.equal=this.jointMin==this.jointMax;
this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;this.a3relx=this.b3.axisy*this.a3localx-this.b3.axisx*this.a3localy;this.a3rely=this.a3localx*this.b3.axisx+this.a3localy*this.b3.axisy;this.a4relx=this.b4.axisy*this.a4localx-this.b4.axisx*this.a4localy;this.a4rely=this.a4localx*
this.b4.axisx+this.a4localy*this.b4.axisy;var d,c=0,e=0,g=0,f=0,c=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx),e=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely),g=this.b4.posx+this.a4relx-(this.b3.posx+this.a3relx),f=this.b4.posy+this.a4rely-(this.b3.posy+this.a3rely);d=Math.sqrt(c*c+e*e);var h=Math.sqrt(g*g+f*f);if(0!=d){var B=1/d;this.n12x=c*B;this.n12y=e*B}0!=h?(c=1/h,this.n34x=g*c,this.n34y=f*c,g=this.ratio):g=this.ratio/Math.sqrt(this.n34x*this.n34x+this.n34y*this.n34y);this.n34x*=
g;this.n34y*=g;d+=this.ratio*h;this.equal?(d-=this.jointMax,this.slack=!1):d<this.jointMin?(d=this.jointMin-d,this.n12x=-this.n12x,this.n12y=-this.n12y,this.n34x=-this.n34x,this.n34y=-this.n34y,this.slack=!1):d>this.jointMax?(d-=this.jointMax,this.slack=!1):(d=this.n34y=this.n34x=this.n12y=this.n12x=0,this.slack=!0);if(!this.slack){this.cx1=this.n12y*this.a1relx-this.n12x*this.a1rely;this.cx2=this.n12y*this.a2relx-this.n12x*this.a2rely;this.cx3=this.n34y*this.a3relx-this.n34x*this.a3rely;this.cx4=
this.n34y*this.a4relx-this.n34x*this.a4rely;h=this.b1.smass+this.b2.smass+this.ratio*this.ratio*(this.b3.smass+this.b4.smass)+this.b1.sinertia*this.cx1*this.cx1+this.b2.sinertia*this.cx2*this.cx2+this.b3.sinertia*this.cx3*this.cx3+this.b4.sinertia*this.cx4*this.cx4;this.b1==this.b4&&(h-=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b1.smass+this.cx1*this.cx4*this.b1.sinertia));this.b1==this.b3&&(h+=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b1.smass+this.cx1*this.cx3*this.b1.sinertia));
this.b2==this.b3&&(h-=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b2.smass+this.cx2*this.cx3*this.b2.sinertia));this.b2==this.b4&&(h+=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b2.smass+this.cx2*this.cx4*this.b2.sinertia));this.kMass=h;0!=this.kMass?this.kMass=1/this.kMass:this.jAcc=0;if(this.stiff)this.gamma=this.bias=0;else{if(this.breakUnderError&&d*d>this.maxError*this.maxError)return!0;g=2*Math.PI*this.frequency;this.gamma=1/(a*g*(2*this.damping+g*a));h=1/(1+this.gamma);g=a*g*g*
this.gamma;this.gamma*=h;this.kMass*=h;this.bias=-d*g;this.bias<-this.maxError?this.bias=-this.maxError:this.bias>this.maxError&&(this.bias=this.maxError)}this.jAcc*=b;this.jMax=this.maxForce*a}return!1},warmStart:function(){if(!this.slack){var a=this.b1.imass*this.jAcc;this.b1.velx-=this.n12x*a;this.b1.vely-=this.n12y*a;a=this.b2.imass*this.jAcc;this.b2.velx+=this.n12x*a;this.b2.vely+=this.n12y*a;a=this.b3.imass*this.jAcc;this.b3.velx-=this.n34x*a;this.b3.vely-=this.n34y*a;a=this.b4.imass*this.jAcc;
this.b4.velx+=this.n34x*a;this.b4.vely+=this.n34y*a;this.b1.angvel-=this.cx1*this.b1.iinertia*this.jAcc;this.b2.angvel+=this.cx2*this.b2.iinertia*this.jAcc;this.b3.angvel-=this.cx3*this.b3.iinertia*this.jAcc;this.b4.angvel+=this.cx4*this.b4.iinertia*this.jAcc}},applyImpulseVel:function(){if(this.slack)return!1;var a=this.kMass*(this.bias-(this.n12x*(this.b2.velx+this.b2.kinvelx-this.b1.velx-this.b1.kinvelx)+this.n12y*(this.b2.vely+this.b2.kinvely-this.b1.vely-this.b1.kinvely)+this.n34x*(this.b4.velx+
this.b4.kinvelx-this.b3.velx-this.b3.kinvelx)+this.n34y*(this.b4.vely+this.b4.kinvely-this.b3.vely-this.b3.kinvely)+(this.b2.angvel+this.b2.kinangvel)*this.cx2-(this.b1.angvel+this.b1.kinangvel)*this.cx1+(this.b4.angvel+this.b4.kinangvel)*this.cx4-(this.b3.angvel+this.b3.kinangvel)*this.cx3))-this.jAcc*this.gamma,b=this.jAcc;this.jAcc+=a;!this.equal&&0<this.jAcc&&(this.jAcc=0);if(this.breakUnderForce&&this.jAcc<-this.jMax)return!0;!this.stiff&&this.jAcc<-this.jMax&&(this.jAcc=-this.jMax);a=this.jAcc-
b;b=this.b1.imass*a;this.b1.velx-=this.n12x*b;this.b1.vely-=this.n12y*b;b=this.b2.imass*a;this.b2.velx+=this.n12x*b;this.b2.vely+=this.n12y*b;b=this.b3.imass*a;this.b3.velx-=this.n34x*b;this.b3.vely-=this.n34y*b;b=this.b4.imass*a;this.b4.velx+=this.n34x*b;this.b4.vely+=this.n34y*b;this.b1.angvel-=this.cx1*this.b1.iinertia*a;this.b2.angvel+=this.cx2*this.b2.iinertia*a;this.b3.angvel-=this.cx3*this.b3.iinertia*a;this.b4.angvel+=this.cx4*this.b4.iinertia*a;return!1},applyImpulsePos:function(){var a,
b,d=0,c=0,d=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,c=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,e=0,g=0,e=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,g=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,p=0,h=0,p=this.b3.axisy*this.a3localx-this.b3.axisx*this.a3localy,h=this.a3localx*this.b3.axisx+this.a3localy*this.b3.axisy,B=0,l=0,B=this.b4.axisy*this.a4localx-this.b4.axisx*this.a4localy,l=this.a4localx*this.b4.axisx+this.a4localy*this.b4.axisy,m=0,
t=0,n=0,A=0,m=this.n12x,t=this.n12y,n=this.n34x,A=this.n34y,q=0,u=0,v=0,y=0,q=this.b2.posx+e-(this.b1.posx+d),u=this.b2.posy+g-(this.b1.posy+c),v=this.b4.posx+B-(this.b3.posx+p),y=this.b4.posy+l-(this.b3.posy+h);b=Math.sqrt(q*q+u*u);a=Math.sqrt(v*v+y*y);0!=b&&(t=1/b,m=q*t,t*=u);0!=a?(A=1/a,q=this.ratio,n=v*A*q,A=y*A*q):(v=this.ratio/Math.sqrt(n*n+A*A),n*=v,A*=v);a=b+this.ratio*a;this.equal?(a-=this.jointMax,b=!1):a<this.jointMin?(a=this.jointMin-a,m=-m,t=-t,n=-n,A=-A,b=!1):a>this.jointMax?(a-=this.jointMax,
b=!1):(a=A=n=t=m=0,b=!0);if(!b){if(this.breakUnderError&&a*a>this.maxError*this.maxError)return!0;if(a*a<f.Config.constraintLinearSlop*f.Config.constraintLinearSlop)return!1;a*=.5;6<a*a&&(b=this.b1.smass+this.b2.smass,b>f.Config.epsilon&&(b=.75/b*-a,this.equal||0>b))&&(a=b*this.b1.imass,this.b1.posx-=m*a,this.b1.posy-=t*a,a=b*this.b2.imass,this.b2.posx+=m*a,this.b2.posy+=t*a,a=b*this.b3.imass,this.b3.posx-=n*a,this.b3.posy-=A*a,b*=this.b4.imass,this.b4.posx+=n*b,this.b4.posy+=A*b,y=v=u=q=0,q=this.b2.posx+
e-(this.b1.posx+d),u=this.b2.posy+g-(this.b1.posy+c),v=this.b4.posx+B-(this.b3.posx+p),y=this.b4.posy+l-(this.b3.posy+h),b=Math.sqrt(q*q+u*u),a=Math.sqrt(v*v+y*y),0!=b&&(t=1/b,m=q*t,t*=u),0!=a?(A=1/a,q=this.ratio,n=v*A*q,A=y*A*q):(v=this.ratio/Math.sqrt(n*n+A*A),n*=v,A*=v),b+=this.ratio*a,this.equal?b-=this.jointMax:b<this.jointMin?(b=this.jointMin-b,m=-m,t=-t,n=-n,A=-A):b>this.jointMax?b-=this.jointMax:b=A=n=t=m=0,a=.5*b);d=t*d-m*c;e=t*e-m*g;p=A*p-n*h;B=A*B-n*l;l=this.b1.smass+this.b2.smass+this.ratio*
this.ratio*(this.b3.smass+this.b4.smass)+this.b1.sinertia*d*d+this.b2.sinertia*e*e+this.b3.sinertia*p*p+this.b4.sinertia*B*B;this.b1==this.b4&&(l-=2*((m*n+t*A)*this.b1.smass+d*B*this.b1.sinertia));this.b1==this.b3&&(l+=2*((m*n+t*A)*this.b1.smass+d*p*this.b1.sinertia));this.b2==this.b3&&(l-=2*((m*n+t*A)*this.b2.smass+e*p*this.b2.sinertia));this.b2==this.b4&&(l+=2*((m*n+t*A)*this.b2.smass+e*B*this.b2.sinertia));0!=l&&(l=1/l);b=-a*l;if(this.equal||0>b)l=this.b1.imass*b,this.b1.posx-=m*l,this.b1.posy-=
t*l,l=this.b2.imass*b,this.b2.posx+=m*l,this.b2.posy+=t*l,m=this.b3.imass*b,this.b3.posx-=n*m,this.b3.posy-=A*m,m=this.b4.imass*b,this.b4.posx+=n*m,this.b4.posy+=A*m,this.b1.delta_rot(-d*this.b1.iinertia*b),this.b2.delta_rot(e*this.b2.iinertia*b),this.b3.delta_rot(-p*this.b3.iinertia*b),this.b4.delta_rot(B*this.b4.iinertia*b)}return!1},draw:function(a){var b=this.outer_zn,d=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();
return b.zpp_inner_zn.wrap_a1}(this)),c=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this)),e=(null==b.zpp_inner_zn.b3?null:b.zpp_inner_zn.b3.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a3&&b.zpp_inner_zn.setup_a3();return b.zpp_inner_zn.wrap_a3}(this)),g=(null==b.zpp_inner_zn.b4?null:b.zpp_inner_zn.b4.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a4&&
b.zpp_inner_zn.setup_a4();return b.zpp_inner_zn.wrap_a4}(this)),f=c.sub(d),h=g.sub(e),B;if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";B=Math.sqrt(function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.x}(this)*function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.x}(this)+function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
f.zpp_inner.validate();return f.zpp_inner.y}(this)*function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.y}(this));var l;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l=Math.sqrt(function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.x}(this)*function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
h.zpp_inner.validate();return h.zpp_inner.x}(this)+function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.y}(this)*function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.y}(this));this.drawLink(a,d,c,f,B,l*this.ratio,1,16776960,65535);this.drawLink(a,e,g,h,l,B,1/this.ratio,65535,16711935);a.drawFilledCircle(d,2,255);a.drawFilledCircle(c,2,16711680);
a.drawFilledCircle(e,2,65280);a.drawFilledCircle(g,2,16711935);d.dispose();c.dispose();e.dispose();g.dispose();f.dispose();h.dispose()},drawLink:function(a,b,d,c,e,g,f,h,B){if(0!=e){c.muleq(1/e);var l=b.add(d).muleq(.5),m=(this.jointMin-g)*f;0>m&&(m=0);g=(this.jointMax-g)*f;0>g&&(g=0);f=l.sub(c.mul(.5*m,!0));var t=l.add(c.mul(.5*m,!0)),n=l.sub(c.mul(.5*g,!0));c=l.add(c.mul(.5*g,!0));a.drawLine(f,t,h);a.drawLine(n,f,B);a.drawLine(c,t,B);this.stiff||(e>g?(a.drawSpring(n,b,B),a.drawSpring(c,d,B)):e<
m&&(a.drawSpring(f,b,h),a.drawSpring(t,d,h)));l.dispose();f.dispose();t.dispose();n.dispose();c.dispose()}},__class__:c.constraint.ZPP_PulleyJoint});c.constraint.ZPP_UserConstraint=function(a,b){this.Keff=this.vec3=this.J=this.jOld=null;this.jMax=0;this.velonly=!1;this.soft=this.gamma=0;this.L=this.y=null;this.stepped=!1;this.jAcc=this.bias=null;this.dim=0;this.outer_zn=this.bodies=null;c.constraint.ZPP_Constraint.call(this);this.bodies=[];this.dim=a;this.velonly=b;this.jAcc=[];this.bias=[];this.L=
[];this.J=[];this.jOld=[];this.y=[];this.Keff=[];this.vec3=f.geom.Vec3.get(0,0,0);for(var d=0;d<a;)for(var k=d++,e=this.jAcc[k]=this.bias[k]=this.J[k]=this.jOld[k]=this.y[k]=0;e<a;){var g=e++;this.L[k*a+g]=0}this.stepped=!1};m["zpp_nape.constraint.ZPP_UserConstraint"]=c.constraint.ZPP_UserConstraint;c.constraint.ZPP_UserConstraint.__name__=["zpp_nape","constraint","ZPP_UserConstraint"];c.constraint.ZPP_UserConstraint.__super__=c.constraint.ZPP_Constraint;c.constraint.ZPP_UserConstraint.prototype=
F(c.constraint.ZPP_Constraint.prototype,{outer_zn:null,bindVec2_invalidate:function(a){this.outer_zn.__invalidate()},bodies:null,dim:null,jAcc:null,bias:null,addBody:function(a){for(var b=null,d=0,k=this.bodies;d<k.length;){var e=k[d];++d;if(e.body==a){b=e;break}}null==b?(this.bodies.push(new c.constraint.ZPP_UserBody(1,a)),this.active&&null!=this.space&&null!=a&&a.constraints.add(this)):b.cnt++},remBody:function(a){for(var b=null,d=this.bodies.length|0,c=0;c<d;){var e=this.bodies[c];if(e.body==a){e.cnt--;
0==e.cnt&&(0<d&&(this.bodies[c]=this.bodies[d-1]),this.bodies.pop(),this.active&&null!=this.space&&null!=a&&a.constraints.remove(this));b=e;break}c++}return null!=b},bodyImpulse:function(a){for(var b=0,d=this.dim;b<d;){var c=b++;this.J[c]=this.jAcc[c]}b=f.geom.Vec3.get(0,0,0);this.stepped&&this.outer_zn.__impulse(this.J,a.outer,b);return b},activeBodies:function(){for(var a=0,b=this.bodies;a<b.length;){var d=b[a];++a;null!=d.body&&d.body.constraints.add(this)}},inactiveBodies:function(){for(var a=
0,b=this.bodies;a<b.length;){var d=b[a];++a;null!=d.body&&d.body.constraints.remove(this)}},stepped:null,copy:function(a,b){var d=this.outer_zn.__copy();this.copyto(d);throw"not done yet";},validate:function(){for(var a=0,b=this.bodies;a<b.length;){var d=b[a];++a;if(d.body.space!=this.space)throw"Error: Constraints must have each body within the same sapce to which the constraint has been assigned";}this.outer_zn.__validate()},wake_connected:function(){for(var a=0,b=this.bodies;a<b.length;){var d=
b[a];++a;d.body.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&d.body.wake()}},forest:function(){for(var a=0,b=this.bodies;a<b.length;){var d=b[a];++a;if(d.body.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(d.body.component==d.body.component.parent)d=d.body.component;else{for(var d=d.body.component,k=null;d!=d.parent;){var e=d.parent;d.parent=k;k=d;d=e}for(;null!=k;)e=k.parent,k.parent=d,k=e}if(this.component==this.component.parent)k=this.component;else{k=this.component;for(e=null;k!=k.parent;){var g=
k.parent;k.parent=e;e=k;k=g}for(;null!=e;)g=e.parent,e.parent=k,e=g}d!=k&&(d.rank<k.rank?d.parent=k:d.rank>k.rank?k.parent=d:(k.parent=d,d.rank++))}}},pair_exists:function(a,b){for(var d=!1,c=this.bodies.length|0,e=0;e<c;){for(var g=e++,f=this.bodies[g].body,g=g+1;g<c;){var h=g++,h=this.bodies[h].body;if(f.id==a&&h.id==b||f.id==b&&h.id==a){d=!0;break}}if(d)break}return d},broken:function(){this.outer_zn.__broken()},clearcache:function(){for(var a=0,b=this.dim;a<b;){var d=a++;this.jAcc[d]=0}this.pre_dt=
-1},lsq:function(a){for(var b=0,d=0,c=this.dim;d<c;)var e=d++,b=b+a[e]*a[e];return b},_clamp:function(a,b){var d=this.lsq(a);if(d>b*b)for(var d=b/Math.sqrt(d),c=0,e=this.dim;c<e;){var g=c++;a[g]*=d}},L:null,solve:function(a){for(var b=0,d=0,c=this.dim;d<c;){for(var e=d++,g=0,f=0,h=e-1;f<h;)var B=f++,g=g+this.L[e*this.dim+B]*this.L[e*this.dim+B];g=Math.sqrt(a[b++]-g);this.L[e*this.dim+e]=g;if(0!=g)for(g=1/g,f=e+1,h=this.dim;f<h;){for(var B=f++,l=0,m=0,t=e-1;m<t;)var n=m++,l=l+this.L[B*this.dim+n]*
this.L[e*this.dim+n];this.L[B*this.dim+e]=g*(a[b++]-l)}else{g=e+1;for(f=this.dim;g<f;)h=g++,this.L[h*this.dim+e]=0;b+=this.dim-e-1}}return this.L},y:null,transform:function(a,b){for(var d=0,c=this.dim;d<c;){var e=d++,g=b[e],f=a[e*this.dim+e];if(0!=f){for(var h=0;h<e;)var B=h++,g=g-a[e*this.dim+B]*this.y[B];this.y[e]=g/f}else this.y[e]=0}d=0;for(c=this.dim;d<c;)if(e=d++,e=this.dim-1-e,g=a[e*this.dim+e],0!=g){f=this.y[e];h=e+1;for(B=this.dim;h<B;)var l=h++,f=f-a[l*this.dim+e]*b[l];b[e]=f/g}else b[e]=
0},soft:null,gamma:null,velonly:null,jMax:null,Keff:null,preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.outer_zn.__prepare();this.outer_zn.__eff_mass(this.Keff);this.L=this.solve(this.Keff);if(this.stiff||this.velonly){for(var d=0,c=this.dim;d<c;){var e=d++;this.bias[e]=0}this.gamma=0;this.soft=1}else{d=2*Math.PI*this.frequency;this.gamma=1/(a*d*(2*this.damping+d*a));c=1/(1+this.gamma);d=a*d*d*this.gamma;this.gamma*=c;this.soft=c;this.outer_zn.__position(this.bias);
if(this.breakUnderError&&this.lsq(this.bias)>this.maxError*this.maxError)return!0;c=0;for(e=this.dim;c<e;){var g=c++;this.bias[g]*=-d}this._clamp(this.bias,this.maxError)}d=0;for(c=this.dim;d<c;)e=d++,this.jAcc[e]*=b;this.jMax=this.maxForce*a;return!1},vec3:null,warmStart:function(){for(var a=0,b=this.bodies;a<b.length;){var d=b[a];++a;d=d.body;this.outer_zn.__impulse(this.jAcc,d.outer,this.vec3);var c=d.imass;d.velx+=this.vec3.get_x()*c;d.vely+=this.vec3.get_y()*c;d.angvel+=this.vec3.get_z()*d.iinertia}},
J:null,jOld:null,applyImpulseVel:function(){this.outer_zn.__velocity(this.J);for(var a=0,b=this.dim;a<b;){var d=a++;this.J[d]=this.bias[d]-this.J[d]}this.transform(this.L,this.J);a=0;for(b=this.dim;a<b;)d=a++,this.jOld[d]=this.jAcc[d],this.jAcc[d]+=this.J[d]=this.J[d]*this.soft-this.jAcc[d]*this.gamma;this.outer_zn.__clamp(this.jAcc);if((this.breakUnderForce||!this.stiff)&&this.lsq(this.jAcc)>this.jMax*this.jMax){if(this.breakUnderForce)return!0;this.stiff||this._clamp(this.jAcc,this.jMax)}a=0;for(b=
this.dim;a<b;)d=a++,this.J[d]=this.jAcc[d]-this.jOld[d];a=0;for(b=this.bodies;a<b.length;){d=b[a];++a;d=d.body;this.outer_zn.__impulse(this.J,d.outer,this.vec3);var c=d.imass;d.velx+=this.vec3.get_x()*c;d.vely+=this.vec3.get_y()*c;d.angvel+=this.vec3.get_z()*d.iinertia}return!1},applyImpulsePos:function(){if(this.velonly)return!1;this.outer_zn.__prepare();this.outer_zn.__position(this.J);var a=this.lsq(this.J);if(this.breakUnderError&&a>this.maxError*this.maxError)return!0;if(a<f.Config.constraintLinearSlop*
f.Config.constraintLinearSlop)return!1;for(var a=0,b=this.dim;a<b;){var d=a++;this.J[d]*=-1}this.outer_zn.__eff_mass(this.Keff);this.transform(this.solve(this.Keff),this.J);this.outer_zn.__clamp(this.J);a=0;for(b=this.bodies;a<b.length;){d=b[a];++a;d=d.body;this.outer_zn.__impulse(this.J,d.outer,this.vec3);var c=d.imass;d.posx+=this.vec3.get_x()*c;d.posy+=this.vec3.get_y()*c;d.delta_rot(this.vec3.get_z()*d.iinertia)}return!1},draw:function(a){this.outer_zn.__draw(a)},__class__:c.constraint.ZPP_UserConstraint});
c.constraint.ZPP_UserBody=function(a,b){this.body=null;this.cnt=0;this.cnt=a;this.body=b};m["zpp_nape.constraint.ZPP_UserBody"]=c.constraint.ZPP_UserBody;c.constraint.ZPP_UserBody.__name__=["zpp_nape","constraint","ZPP_UserBody"];c.constraint.ZPP_UserBody.prototype={cnt:null,body:null,__class__:c.constraint.ZPP_UserBody};c.constraint.ZPP_WeldJoint=function(){this.stepped=!1;this.phase=this.kMassa=this.kMassb=this.kMassd=this.kMassc=this.kMasse=this.kMassf=this.jAccx=this.jAccy=this.jAccz=this.jMax=
this.gamma=this.biasx=this.biasy=this.biasz=0;this.wrap_a2=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=this.b2=null;this.a1localx=this.a1localy=this.a1relx=this.a1rely=0;this.outer_zn=this.b1=null;c.constraint.ZPP_Constraint.call(this);this.jAccz=this.jAccy=this.jAccx=this.phase=0;this.jMax=Math.POSITIVE_INFINITY;this.stepped=!1;this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0};m["zpp_nape.constraint.ZPP_WeldJoint"]=
c.constraint.ZPP_WeldJoint;c.constraint.ZPP_WeldJoint.__name__=["zpp_nape","constraint","ZPP_WeldJoint"];c.constraint.ZPP_WeldJoint.__super__=c.constraint.ZPP_Constraint;c.constraint.ZPP_WeldJoint.prototype=F(c.constraint.ZPP_Constraint.prototype,{outer_zn:null,bodyImpulse:function(a){return this.stepped?a==this.b1?f.geom.Vec3.get(-this.jAccx,-this.jAccy,-(this.jAccy*this.a1relx-this.jAccx*this.a1rely+this.jAccz)):f.geom.Vec3.get(this.jAccx,this.jAccy,this.jAccy*this.a2relx-this.jAccx*this.a2rely+
this.jAccz):f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},b1:null,a1localx:null,a1localy:null,a1relx:null,a1rely:null,validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");
this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=f.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=u(this,this.validate_a1);this.wrap_a1.zpp_inner._invalidate=u(this,this.invalidate_a1)},wrap_a1:null,b2:null,a2localx:null,a2localy:null,a2relx:null,a2rely:null,validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");
this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=f.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=u(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=u(this,this.invalidate_a2)},wrap_a2:null,phase:null,kMassa:null,kMassb:null,kMassd:null,kMassc:null,kMasse:null,kMassf:null,jAccx:null,jAccy:null,jAccz:null,jMax:null,gamma:null,biasx:null,biasy:null,biasz:null,stepped:null,copy:function(a,b){var d=
new f.constraint.PivotJoint(null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2());this.copyto(d);if(null!=a&&null!=this.b1){for(var k=null,e=0;e<a.length;){var g=a[e];++e;if(g.id==this.b1.id){k=g.bc;break}}null!=k?d.zpp_inner_zn.b1=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){k=null;for(e=0;e<a.length;)if(g=a[e],++e,g.id==this.b2.id){k=g.bc;break}null!=k?d.zpp_inner_zn.b2=k.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,
function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}return d},validate:function(){if(null==this.b1||null==this.b2)throw"Error: AngleJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: WeldJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";
},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=
this.component;else{b=this.component;for(d=null;b!=b.parent;){var k=b.parent;b.parent=d;d=b;b=k}for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;
else{b=this.component;for(d=null;b!=b.parent;)k=b.parent,b.parent=d,d=b,b=k;for(;null!=d;)k=d.parent,d.parent=b,d=k}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAccz=this.jAccy=this.jAccx=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.a1relx=this.b1.axisy*this.a1localx-
this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var d=this.b1.smass+this.b2.smass;this.kMassa=d;this.kMassb=0;this.kMassd=d;this.kMassf=this.kMasse=this.kMassc=0;if(0!=this.b1.sinertia){var d=this.a1relx*this.b1.sinertia,c=this.a1rely*this.b1.sinertia;this.kMassa+=c*this.a1rely;this.kMassb+=-c*this.a1relx;this.kMassd+=
d*this.a1relx;this.kMassc+=-c;this.kMasse+=d;this.kMassf+=this.b1.sinertia}0!=this.b2.sinertia&&(d=this.a2relx*this.b2.sinertia,c=this.a2rely*this.b2.sinertia,this.kMassa+=c*this.a2rely,this.kMassb+=-c*this.a2relx,this.kMassd+=d*this.a2relx,this.kMassc+=-c,this.kMasse+=d,this.kMassf+=this.b2.sinertia);d=this.kMassa*(this.kMassd*this.kMassf-this.kMasse*this.kMasse)+this.kMassb*(this.kMassc*this.kMasse-this.kMassb*this.kMassf)+this.kMassc*(this.kMassb*this.kMasse-this.kMassc*this.kMassd);if(d!=d)this.kMassf=
this.kMasse=this.kMassc=this.kMassd=this.kMassb=this.kMassa=0,d=7;else if(0==d)d=0,0!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,d|=1),0!=this.kMassd?this.kMassd=1/this.kMassd:(this.kMassd=0,d|=2),0!=this.kMassf?this.kMassf=1/this.kMassf:(this.kMassf=0,d|=4),this.kMassb=this.kMassc=this.kMasse=0;else{var d=1/d,c=d*(this.kMasse*this.kMassc-this.kMassb*this.kMassf),e=d*(this.kMassa*this.kMassf-this.kMassc*this.kMassc),g=d*(this.kMassb*this.kMasse-this.kMassc*this.kMassd),f=d*(this.kMassb*
this.kMassc-this.kMassa*this.kMasse),h=d*(this.kMassa*this.kMassd-this.kMassb*this.kMassb);this.kMassa=d*(this.kMassd*this.kMassf-this.kMasse*this.kMasse);this.kMassb=c;this.kMassd=e;this.kMassc=g;this.kMasse=f;this.kMassf=h;d=0}0!=(d&1)&&(this.jAccx=0);0!=(d&2)&&(this.jAccy=0);0!=(d&4)&&(this.jAccz=0);if(this.stiff)this.gamma=this.biasz=this.biasy=this.biasx=0;else{c=2*Math.PI*this.frequency;this.gamma=1/(a*c*(2*this.damping+c*a));d=1/(1+this.gamma);c=a*c*c*this.gamma;this.gamma*=d;this.kMassa*=
d;this.kMassb*=d;this.kMassd*=d;this.kMassc*=d;this.kMasse*=d;this.kMassf*=d;this.biasx=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx);this.biasy=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);this.biasz=this.b2.rot-this.b1.rot-this.phase;if(this.breakUnderError&&this.biasx*this.biasx+this.biasy*this.biasy+this.biasz*this.biasz>this.maxError*this.maxError)return!0;d=-c;this.biasx*=d;this.biasy*=d;this.biasz*=d;d=this.maxError;c=this.biasx*this.biasx+this.biasy*this.biasy+this.biasz*this.biasz;
c>d*d&&(d*=1/Math.sqrt(c),this.biasx*=d,this.biasy*=d,this.biasz*=d)}this.jAccx*=b;this.jAccy*=b;this.jAccz*=b;this.jMax=this.maxForce*a;return!1},warmStart:function(){var a=this.b1.imass;this.b1.velx-=this.jAccx*a;this.b1.vely-=this.jAccy*a;a=this.b2.imass;this.b2.velx+=this.jAccx*a;this.b2.vely+=this.jAccy*a;this.b1.angvel-=(this.jAccy*this.a1relx-this.jAccx*this.a1rely+this.jAccz)*this.b1.iinertia;this.b2.angvel+=(this.jAccy*this.a2relx-this.jAccx*this.a2rely+this.jAccz)*this.b2.iinertia},applyImpulseVel:function(){var a=
0,b=0,d=0,a=this.b2.velx+this.b2.kinvelx-this.a2rely*(this.b2.angvel+this.b2.kinangvel)-(this.b1.velx+this.b1.kinvelx-this.a1rely*(this.b1.angvel+this.b1.kinangvel)),b=this.b2.vely+this.b2.kinvely+this.a2relx*(this.b2.angvel+this.b2.kinangvel)-(this.b1.vely+this.b1.kinvely+this.a1relx*(this.b1.angvel+this.b1.kinangvel)),d=this.b2.angvel+this.b2.kinangvel-this.b1.angvel-this.b1.kinangvel,c=0,e=0,g=0,c=this.biasx-a,e=this.biasy-b,g=this.biasz-d,a=this.kMassa*c+this.kMassb*e+this.kMassc*g,b=this.kMassb*
c+this.kMassd*e+this.kMasse*g,g=this.kMassc*c+this.kMasse*e+this.kMassf*g,d=this.gamma,c=a-this.jAccx*d,e=b-this.jAccy*d,g=g-this.jAccz*d,d=b=a=0,a=this.jAccx,b=this.jAccy,d=this.jAccz;this.jAccx+=1*c;this.jAccy+=1*e;this.jAccz+=1*g;if(this.breakUnderForce){if(this.jAccx*this.jAccx+this.jAccy*this.jAccy+this.jAccz*this.jAccz>this.jMax*this.jMax)return!0}else this.stiff||(c=this.jMax,e=this.jAccx*this.jAccx+this.jAccy*this.jAccy+this.jAccz*this.jAccz,e>c*c&&(c*=1/Math.sqrt(e),this.jAccx*=c,this.jAccy*=
c,this.jAccz*=c));c=this.jAccx-a;e=this.jAccy-b;g=this.jAccz-d;a=this.b1.imass;this.b1.velx-=c*a;this.b1.vely-=e*a;a=this.b2.imass;this.b2.velx+=c*a;this.b2.vely+=e*a;this.b1.angvel-=(e*this.a1relx-c*this.a1rely+g)*this.b1.iinertia;this.b2.angvel+=(e*this.a2relx-c*this.a2rely+g)*this.b2.iinertia;return!1},applyImpulsePos:function(){var a=0,b=0,a=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,b=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,d=0,k=0,d=this.b2.axisy*this.a2localx-this.b2.axisx*
this.a2localy,k=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,e=0,g=0,p=0,e=this.b2.posx+d-(this.b1.posx+a),g=this.b2.posy+k-(this.b1.posy+b),p=this.b2.rot-this.b1.rot-this.phase,h=0,B=0,l=0;if(this.breakUnderError&&e*e+g*g+p*p>this.maxError*this.maxError)return!0;h=!0;e*e+g*g<f.Config.constraintLinearSlop*f.Config.constraintLinearSlop&&(h=!1,g=e=0);if(p*p<c.util.ZPP_Math.sqr(f.Config.constraintAngularSlop))if(h)p=0;else return!1;e*=.5;g*=.5;p*=.5;if(6<e*e+g*g&&(B=this.b1.smass+this.b2.smass,
B>f.Config.epsilon)){var B=.75/B,h=-e*B,B=-g*B,m=h*h+B*B;400<m&&(m=20*(1/Math.sqrt(m)),h*=m,B*=m);m=this.b1.imass;this.b1.posx-=h*m;this.b1.posy-=B*m;m=this.b2.imass;this.b2.posx+=h*m;this.b2.posy+=B*m;e=this.b2.posx+d-(this.b1.posx+a);g=this.b2.posy+k-(this.b1.posy+b);p=this.b2.rot-this.b1.rot-this.phase;e*=.5;g*=.5;p*=.5}var t=m=0,n=0,A=0,q=0,u=0,m=h=this.b1.smass+this.b2.smass,t=0,n=h,u=q=A=0;0!=this.b1.sinertia&&(h=a*this.b1.sinertia,B=b*this.b1.sinertia,m+=B*b,t+=-B*a,n+=h*a,A+=-B,q+=h,u+=this.b1.sinertia);
0!=this.b2.sinertia&&(h=d*this.b2.sinertia,B=k*this.b2.sinertia,m+=B*k,t+=-B*d,n+=h*d,A+=-B,q+=h,u+=this.b2.sinertia);h=-e;B=-g;l=-p;e=h*h+B*B;36<e&&(e=6*(1/Math.sqrt(e)),h*=e,B*=e);c.util.ZPP_Math.clamp(l,-.25,.25);e=m*(n*u-q*q)+t*(A*q-t*u)+A*(t*q-A*n);if(e!=e)h=B=l=0;else if(0==e)h=0!=m?h/m:0,B=0!=n?B/n:0,l=0!=u?l/u:0;else var e=1/e,v=q*A-t*u,g=t*q-A*n,p=t*A-m*q,q=e*(h*(n*u-q*q)+B*v+l*g),A=e*(h*v+B*(m*u-A*A)+l*p),l=e*(h*g+B*p+l*(m*n-t*t)),h=q,B=A;m=this.b1.imass;this.b1.posx-=h*m;this.b1.posy-=
B*m;m=this.b2.imass;this.b2.posx+=h*m;this.b2.posy+=B*m;this.b1.delta_rot(-(B*a-h*b+l)*this.b1.iinertia);this.b2.delta_rot((B*d-h*k+l)*this.b2.iinertia);return!1},draw:function(a){var b=this.outer_zn,d=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();return b.zpp_inner_zn.wrap_a1}(this)),k=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();
return b.zpp_inner_zn.wrap_a2}(this));if(!this.stiff){var e=k.sub(d);if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";0!=Math.sqrt(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)+function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.y}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this))&&a.drawSpring(d,k,16711935);e.dispose();var g=5/Math.PI/2;if((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer)!=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_space().get_world()){var f=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-b.zpp_inner_zn.phase,h=(null==b.zpp_inner_zn.b1?
null:b.zpp_inner_zn.b1.outer).zpp_inner.rot;if(h>f)var B=h,h=f,f=B;c.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),h,f,10+(h-h)*g,10+(f-h)*g,16711808);c.constraint.ZPP_AngleDraw.indicator(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,10+((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot-h)*g,16711808)}(null==b.zpp_inner_zn.b2?
null:b.zpp_inner_zn.b2.outer)!=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_space().get_world()&&(f=b.zpp_inner_zn.phase+(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,h=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,h>f&&(B=h,h=f,f=B),c.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),h,f,10+(h-h)*g,10+(f-h)*g,8388863),c.constraint.ZPP_AngleDraw.indicator(a,(null==b.zpp_inner_zn.b2?
null:b.zpp_inner_zn.b2.outer).get_position(),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,10+((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-h)*g,8388863))}a.drawFilledCircle(d,2,255);a.drawFilledCircle(k,2,16711680);d.dispose();k.dispose()},__class__:c.constraint.ZPP_WeldJoint});c.dynamics.ZPP_Arbiter=function(){this.colarb=this.fluidarb=this.sensorarb=null;this.type=0;this.b1=this.b2=this.ws1=this.ws2=this.pair=null;this.invalidated=!1;this.immState=
0;this.intchange=this.presentable=this.continuous=this.fresh=!1;this.present=0;this.active=this.cleared=this.sleeping=!1;this.id=this.di=this.stamp=this.up_stamp=this.sleep_stamp=this.endGenerated=0;this.outer=this.hnext=null};m["zpp_nape.dynamics.ZPP_Arbiter"]=c.dynamics.ZPP_Arbiter;c.dynamics.ZPP_Arbiter.__name__=["zpp_nape","dynamics","ZPP_Arbiter"];c.dynamics.ZPP_Arbiter.prototype={outer:null,wrapper:function(){null==this.outer&&(c.dynamics.ZPP_Arbiter.internal=!0,this.type==c.dynamics.ZPP_Arbiter.COL?
(this.colarb.outer_zn=new f.dynamics.CollisionArbiter,this.outer=this.colarb.outer_zn):this.type==c.dynamics.ZPP_Arbiter.FLUID?(this.fluidarb.outer_zn=new f.dynamics.FluidArbiter,this.outer=this.fluidarb.outer_zn):this.outer=new f.dynamics.Arbiter,this.outer.zpp_inner=this,c.dynamics.ZPP_Arbiter.internal=!1);return this.outer},inactiveme:function(){return!this.active},hnext:null,id:null,di:null,stamp:null,up_stamp:null,sleep_stamp:null,endGenerated:null,active:null,cleared:null,sleeping:null,present:null,
intchange:null,presentable:null,continuous:null,fresh:null,immState:null,acting:function(){return this.active&&0!=(this.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)},invalidated:null,b1:null,b2:null,ws1:null,ws2:null,pair:null,swap_features:function(){var a=this.b1;this.b1=this.b2;this.b2=a;a=this.ws1;this.ws1=this.ws2;this.ws2=a;a=this.colarb.s1;this.colarb.s1=this.colarb.s2;this.colarb.s2=a},type:null,colarb:null,fluidarb:null,sensorarb:null,lazyRetire:function(a,b){this.cleared=!0;null!=b&&this.b2!=
b||this.b1.arbiters.inlined_try_remove(this);null!=b&&this.b1!=b||this.b2.arbiters.inlined_try_remove(this);null!=this.pair&&(this.pair=this.pair.arb=null);this.active=!1;a.f_arbiters.modified=!0},sup_assign:function(a,b,d,c){this.b1=a.body;this.ws1=a;this.b2=b.body;this.ws2=b;this.id=d;this.di=c;this.b1.arbiters.inlined_add(this);this.b2.arbiters.inlined_add(this);this.active=!0;this.present=0;this.presentable=this.fresh=this.sleeping=this.cleared=!1},sup_retire:function(){this.cleared||(this.b1.arbiters.inlined_try_remove(this),
this.b2.arbiters.inlined_try_remove(this),null!=this.pair&&(this.pair=this.pair.arb=null));this.b1=this.b2=null;this.intchange=this.active=!1},__class__:c.dynamics.ZPP_Arbiter};c.dynamics.ZPP_SensorArbiter=function(){this.next=null;c.dynamics.ZPP_Arbiter.call(this);this.type=c.dynamics.ZPP_Arbiter.SENSOR;this.sensorarb=this};m["zpp_nape.dynamics.ZPP_SensorArbiter"]=c.dynamics.ZPP_SensorArbiter;c.dynamics.ZPP_SensorArbiter.__name__=["zpp_nape","dynamics","ZPP_SensorArbiter"];c.dynamics.ZPP_SensorArbiter.__super__=
c.dynamics.ZPP_Arbiter;c.dynamics.ZPP_SensorArbiter.prototype=F(c.dynamics.ZPP_Arbiter.prototype,{next:null,alloc:function(){},free:function(){},assign:function(a,b,d,c){this.b1=a.body;this.ws1=a;this.b2=b.body;this.ws2=b;this.id=d;this.di=c;this.b1.arbiters.inlined_add(this);this.b2.arbiters.inlined_add(this);this.active=!0;this.present=0;this.presentable=this.fresh=this.sleeping=this.cleared=!1},retire:function(){this.cleared||(this.b1.arbiters.inlined_try_remove(this),this.b2.arbiters.inlined_try_remove(this),
null!=this.pair&&(this.pair=this.pair.arb=null));this.b1=this.b2=null;this.intchange=this.active=!1;this.next=c.dynamics.ZPP_SensorArbiter.zpp_pool;c.dynamics.ZPP_SensorArbiter.zpp_pool=this},makemutable:function(){},makeimmutable:function(){},__class__:c.dynamics.ZPP_SensorArbiter});c.dynamics.ZPP_FluidArbiter=function(){this.pre_dt=0;this.mutable=!1;this.wrap_position=null;this.wMass=this.adamp=this.agamma=this.vMassa=this.vMassb=this.vMassc=this.dampx=this.dampy=this.lgamma=this.nx=this.ny=this.buoyx=
this.buoyy=0;this.nodrag=!1;this.centroidx=this.centroidy=this.overlap=this.r1x=this.r1y=this.r2x=this.r2y=0;this.outer_zn=this.next=null;c.dynamics.ZPP_Arbiter.call(this);this.type=c.dynamics.ZPP_Arbiter.FLUID;this.fluidarb=this;this.buoyy=this.buoyx=0;this.pre_dt=-1};m["zpp_nape.dynamics.ZPP_FluidArbiter"]=c.dynamics.ZPP_FluidArbiter;c.dynamics.ZPP_FluidArbiter.__name__=["zpp_nape","dynamics","ZPP_FluidArbiter"];c.dynamics.ZPP_FluidArbiter.__super__=c.dynamics.ZPP_Arbiter;c.dynamics.ZPP_FluidArbiter.prototype=
F(c.dynamics.ZPP_Arbiter.prototype,{outer_zn:null,next:null,alloc:function(){},free:function(){},centroidx:null,centroidy:null,overlap:null,r1x:null,r1y:null,r2x:null,r2y:null,nodrag:null,wMass:null,adamp:null,agamma:null,vMassa:null,vMassb:null,vMassc:null,dampx:null,dampy:null,lgamma:null,nx:null,ny:null,buoyx:null,buoyy:null,position_validate:function(){if(!this.active)throw"Error: Arbiter not currently in use";this.wrap_position.zpp_inner.x=this.centroidx;this.wrap_position.zpp_inner.y=this.centroidy},
position_invalidate:function(a){this.centroidx=a.x;this.centroidy=a.y},wrap_position:null,getposition:function(){this.wrap_position=f.geom.Vec2.get(null,null,null);this.wrap_position.zpp_inner._inuse=!0;this.wrap_position.zpp_inner._immutable=!this.mutable;this.wrap_position.zpp_inner._validate=u(this,this.position_validate);this.wrap_position.zpp_inner._invalidate=u(this,this.position_invalidate)},assign:function(a,b,d,c){this.b1=a.body;this.ws1=a;this.b2=b.body;this.ws2=b;this.id=d;this.di=c;this.b1.arbiters.inlined_add(this);
this.b2.arbiters.inlined_add(this);this.active=!0;this.present=0;this.presentable=this.fresh=this.sleeping=this.cleared=!1;this.nx=0;this.ny=1;this.adamp=this.dampy=this.dampx=0},retire:function(){this.cleared||(this.b1.arbiters.inlined_try_remove(this),this.b2.arbiters.inlined_try_remove(this),null!=this.pair&&(this.pair=this.pair.arb=null));this.b1=this.b2=null;this.intchange=this.active=!1;this.next=c.dynamics.ZPP_FluidArbiter.zpp_pool;c.dynamics.ZPP_FluidArbiter.zpp_pool=this;this.pre_dt=-1},
mutable:null,makemutable:function(){this.mutable=!0;null!=this.wrap_position&&(this.wrap_position.zpp_inner._immutable=!1)},makeimmutable:function(){this.mutable=!1;null!=this.wrap_position&&(this.wrap_position.zpp_inner._immutable=!0)},inject:function(a,b,d){this.overlap=a;this.centroidx=b;this.centroidy=d},pre_dt:null,preStep:function(a,b){-1==this.pre_dt&&(this.pre_dt=b);var d=b/this.pre_dt;this.pre_dt=b;this.r1x=this.centroidx-this.b1.posx;this.r1y=this.centroidy-this.b1.posy;this.r2x=this.centroidx-
this.b2.posx;this.r2y=this.centroidy-this.b2.posy;var k=0,e=0;this.ws1.fluidEnabled&&null!=this.ws1.fluidProperties.wrap_gravity?(k=this.ws1.fluidProperties.gravityx,e=this.ws1.fluidProperties.gravityy):(k=a.gravityx,e=a.gravityy);var g=0,p=0;this.ws2.fluidEnabled&&null!=this.ws2.fluidProperties.wrap_gravity?(g=this.ws2.fluidProperties.gravityx,p=this.ws2.fluidProperties.gravityy):(g=a.gravityx,p=a.gravityy);var h=0,B=0;if(this.ws1.fluidEnabled&&this.ws2.fluidEnabled){var l=this.overlap*this.ws1.fluidProperties.density,
m=this.overlap*this.ws2.fluidProperties.density;if(l>m)g=l+m,h-=k*g,B-=e*g;else if(l<m)k=l+m,h+=g*k,B+=p*k;else{var t=0,n=0,t=.5*(k+g),n=.5*(e+p);this.ws1.worldCOMx*t+this.ws1.worldCOMy*n>this.ws2.worldCOMx*t+this.ws2.worldCOMy*n?(k=l+m,h-=t*k,B-=n*k):(k=l+m,h+=t*k,B+=n*k)}}else this.ws1.fluidEnabled?(g=this.overlap*this.ws1.fluidProperties.density,h-=k*g,B-=e*g):this.ws2.fluidEnabled&&(k=this.overlap*this.ws2.fluidProperties.density,h+=g*k,B+=p*k);h*=b;B*=b;this.buoyx=h;this.buoyy=B;this.b1.type==
c.util.ZPP_Flags.id_BodyType_DYNAMIC&&(k=this.b1.imass,this.b1.velx-=h*k,this.b1.vely-=B*k,this.b1.angvel-=(B*this.r1x-h*this.r1y)*this.b1.iinertia);this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&(k=this.b2.imass,this.b2.velx+=h*k,this.b2.vely+=B*k,this.b2.angvel+=(B*this.r2x-h*this.r2y)*this.b2.iinertia);if(this.ws1.fluidEnabled&&0!=this.ws1.fluidProperties.viscosity||this.ws2.fluidEnabled&&0!=this.ws2.fluidProperties.viscosity){this.nodrag=!1;h=0;this.ws1.fluidEnabled&&(this.ws2.validate_angDrag(),
h+=this.ws1.fluidProperties.viscosity*this.ws2.angDrag*this.overlap/this.ws2.area);this.ws2.fluidEnabled&&(this.ws1.validate_angDrag(),h+=this.ws2.fluidProperties.viscosity*this.ws1.angDrag*this.overlap/this.ws1.area);0!=h?(B=this.b1.sinertia+this.b2.sinertia,this.wMass=0!=B?1/B:0,h*=8E-4*Math.PI,this.agamma=1/(b*h*(2+h*b)),h=1/(1+this.agamma),this.agamma*=h,this.wMass*=h):this.agamma=this.wMass=0;h=this.b2.velx+this.b2.kinvelx-this.r2y*(this.b2.angvel+this.b2.kinangvel)-(this.b1.velx+this.b1.kinvelx-
this.r1y*(this.b2.angvel+this.b2.kinangvel));B=this.b2.vely+this.b2.kinvely+this.r2x*(this.b2.angvel+this.b2.kinangvel)-(this.b1.vely+this.b1.kinvely+this.r1x*(this.b1.angvel+this.b1.kinangvel));h*h+B*B<f.Config.epsilon*f.Config.epsilon||(k=1/Math.sqrt(h*h+B*B),this.nx=h*k,this.ny=B*k);h=0;if(this.ws1.fluidEnabled)if(B=-this.ws1.fluidProperties.viscosity*this.overlap/this.ws2.area,this.ws2.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE)h-=B*this.ws2.circle.radius*f.Config.fluidLinearDrag/(2*this.ws2.circle.radius*
Math.PI);else{e=k=0;for(g=this.ws2.polygon.edges.head;null!=g;)p=g.elt,k+=p.length,p=B*p.length*(p.gnormx*this.nx+p.gnormy*this.ny),0<p&&(p=p*=-f.Config.fluidVacuumDrag),e-=.5*p*f.Config.fluidLinearDrag,g=g.next;h+=e/k}if(this.ws2.fluidEnabled)if(B=-this.ws2.fluidProperties.viscosity*this.overlap/this.ws1.area,this.ws1.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE)h-=B*this.ws1.circle.radius*f.Config.fluidLinearDrag/(2*this.ws1.circle.radius*Math.PI);else{e=k=0;for(g=this.ws1.polygon.edges.head;null!=
g;)p=g.elt,k+=p.length,p=B*p.length*(p.gnormx*this.nx+p.gnormy*this.ny),0<p&&(p=p*=-f.Config.fluidVacuumDrag),e-=.5*p*f.Config.fluidLinearDrag,g=g.next;h+=e/k}0!=h?(g=this.b1.smass+this.b2.smass,e=k=B=0,B=g,k=0,e=g,0!=this.b1.sinertia&&(g=this.r1x*this.b1.sinertia,p=this.r1y*this.b1.sinertia,B+=p*this.r1y,k+=-p*this.r1x,e+=g*this.r1x),0!=this.b2.sinertia&&(g=this.r2x*this.b2.sinertia,p=this.r2y*this.b2.sinertia,B+=p*this.r2y,k+=-p*this.r2x,e+=g*this.r2x),g=B*e-k*k,g!=g?(B=k=e=0,3):0==g?(g=0,0!=B?
B=1/B:(B=0,g|=1),0!=e?e=1/e:(e=0,g|=2),k=0,g):(g=1/g,p=e*g,e=B*g,B=p,k*=-g,0),this.vMassa=B,this.vMassb=k,this.vMassc=e,h*=2*Math.PI,this.lgamma=1/(b*h*(2+h*b)),h=1/(1+this.lgamma),this.lgamma*=h,this.vMassa*=h,this.vMassb*=h,this.vMassc*=h):this.lgamma=this.vMassc=this.vMassb=this.vMassa=0}else this.nodrag=!0,this.adamp=this.dampy=this.dampx=0;this.dampx*=d;this.dampy*=d;this.adamp*=d},warmStart:function(){var a=this.b1.imass;this.b1.velx-=this.dampx*a;this.b1.vely-=this.dampy*a;a=this.b2.imass;
this.b2.velx+=this.dampx*a;this.b2.vely+=this.dampy*a;this.b1.angvel-=this.b1.iinertia*(this.dampy*this.r1x-this.dampx*this.r1y);this.b2.angvel+=this.b2.iinertia*(this.dampy*this.r2x-this.dampx*this.r2y);this.b1.angvel-=this.adamp*this.b1.iinertia;this.b2.angvel+=this.adamp*this.b2.iinertia},applyImpulseVel:function(){if(!this.nodrag){var a=this.b1.angvel+this.b1.kinangvel,b=this.b2.angvel+this.b2.kinangvel,d=this.b1.velx+this.b1.kinvelx-this.r1y*a-(this.b2.velx+this.b2.kinvelx-this.r2y*b),c=this.b1.vely+
this.b1.kinvely+this.r1x*a-(this.b2.vely+this.b2.kinvely+this.r2x*b),e=this.vMassa*d+this.vMassb*c,c=this.vMassb*d+this.vMassc*c,g=this.lgamma,d=e-this.dampx*g,c=c-this.dampy*g;this.dampx+=1*d;this.dampy+=1*c;e=this.b1.imass;this.b1.velx-=d*e;this.b1.vely-=c*e;e=this.b2.imass;this.b2.velx+=d*e;this.b2.vely+=c*e;this.b1.angvel-=this.b1.iinertia*(c*this.r1x-d*this.r1y);this.b2.angvel+=this.b2.iinertia*(c*this.r2x-d*this.r2y);a=(a-b)*this.wMass-this.adamp*this.agamma;this.adamp+=a;this.b1.angvel-=a*
this.b1.iinertia;this.b2.angvel+=a*this.b2.iinertia}},__class__:c.dynamics.ZPP_FluidArbiter});c.dynamics.ZPP_ColArbiter=function(){this.pre_dt=0;this.stat=this.mutable=!1;this.next=null;this.hc2=this.hpc2=!1;this.c1=this.oc1=this.c2=this.oc2=null;this.__ref_vertex=0;this.__ref_edge1=this.__ref_edge2=null;this.biasCoef=0;this.rev=!1;this.kMassa=this.kMassb=this.kMassc=this.Ka=this.Kb=this.Kc=this.rMass=this.jrAcc=this.rn1a=this.rt1a=this.rn1b=this.rt1b=this.rn2a=this.rt2a=this.rn2b=this.rt2b=this.k1x=
this.k1y=this.k2x=this.k2y=this.surfacex=this.surfacey=this.lnormx=this.lnormy=this.lproj=this.radius=0;this.wrap_normal=null;this.nx=this.ny=0;this.s1=this.s2=this.contacts=this.wrap_contacts=this.innards=null;this.userdef_dyn_fric=this.userdef_stat_fric=this.userdef_restitution=this.userdef_rfric=!1;this.dyn_fric=this.stat_fric=this.restitution=this.rfric=0;this.outer_zn=null;c.dynamics.ZPP_Arbiter.call(this);this.pre_dt=-1;this.contacts=new c.dynamics.ZPP_Contact;this.innards=new c.dynamics.ZPP_IContact;
this.type=c.dynamics.ZPP_Arbiter.COL;this.colarb=this};m["zpp_nape.dynamics.ZPP_ColArbiter"]=c.dynamics.ZPP_ColArbiter;c.dynamics.ZPP_ColArbiter.__name__=["zpp_nape","dynamics","ZPP_ColArbiter"];c.dynamics.ZPP_ColArbiter.__super__=c.dynamics.ZPP_Arbiter;c.dynamics.ZPP_ColArbiter.prototype=F(c.dynamics.ZPP_Arbiter.prototype,{outer_zn:null,dyn_fric:null,stat_fric:null,restitution:null,rfric:null,userdef_dyn_fric:null,userdef_stat_fric:null,userdef_restitution:null,userdef_rfric:null,s1:null,s2:null,
contacts:null,wrap_contacts:null,innards:null,nx:null,ny:null,normal_validate:function(){if(this.cleared)throw"Error: Arbiter not currently in use";this.wrap_normal.zpp_inner.x=this.nx;this.wrap_normal.zpp_inner.y=this.ny;this.ws1.id>this.ws2.id&&(this.wrap_normal.zpp_inner.x=-this.wrap_normal.zpp_inner.x,this.wrap_normal.zpp_inner.y=-this.wrap_normal.zpp_inner.y)},wrap_normal:null,getnormal:function(){this.wrap_normal=f.geom.Vec2.get(0,0,null);this.wrap_normal.zpp_inner._immutable=!0;this.wrap_normal.zpp_inner._inuse=
!0;this.wrap_normal.zpp_inner._validate=u(this,this.normal_validate)},kMassa:null,kMassb:null,kMassc:null,Ka:null,Kb:null,Kc:null,rMass:null,jrAcc:null,rn1a:null,rt1a:null,rn1b:null,rt1b:null,rn2a:null,rt2a:null,rn2b:null,rt2b:null,k1x:null,k1y:null,k2x:null,k2y:null,surfacex:null,surfacey:null,ptype:null,lnormx:null,lnormy:null,lproj:null,radius:null,rev:null,biasCoef:null,__ref_edge1:null,__ref_edge2:null,__ref_vertex:null,c1:null,oc1:null,c2:null,oc2:null,hc2:null,hpc2:null,next:null,alloc:function(){},
free:function(){this.userdef_rfric=this.userdef_restitution=this.userdef_stat_fric=this.userdef_dyn_fric=!1;this.__ref_edge1=this.__ref_edge2=null},stat:null,injectContact:function(a,b,d,k,e,g,f){null==f&&(f=!1);for(var h=null,B=this.contacts.next;null!=B;){var l=B;if(g==l.hash){h=l;break}B=B.next}null==h?(null==c.dynamics.ZPP_Contact.zpp_pool?h=new c.dynamics.ZPP_Contact:(h=c.dynamics.ZPP_Contact.zpp_pool,c.dynamics.ZPP_Contact.zpp_pool=h.next,h.next=null),null,B=h.inner,B.jnAcc=B.jtAcc=0,h.hash=
g,h.fresh=!0,h.arbiter=this,this.jrAcc=0,this.contacts.inlined_add(h),this.innards.add(B)):h.fresh=!1;h.px=a;h.py=b;this.nx=d;this.ny=k;h.dist=e;h.stamp=this.stamp;h.posOnly=f;return h},assign:function(a,b,d,c){this.b1=a.body;this.ws1=a;this.b2=b.body;this.ws2=b;this.id=d;this.di=c;this.b1.arbiters.inlined_add(this);this.b2.arbiters.inlined_add(this);this.active=!0;this.present=0;this.presentable=this.fresh=this.sleeping=this.cleared=!1;this.s1=a;this.s2=b;this.userdef_restitution||(this.restitution=
this.s1.material.elasticity<=Math.NEGATIVE_INFINITY||this.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:this.s1.material.elasticity>=Math.POSITIVE_INFINITY||this.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(this.s1.material.elasticity+this.s2.material.elasticity)/2,0>this.restitution&&(this.restitution=0),1<this.restitution&&(this.restitution=1));this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction));this.userdef_stat_fric||(this.stat_fric=
Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction));this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction))},calcProperties:function(){this.userdef_restitution||(this.restitution=this.s1.material.elasticity<=Math.NEGATIVE_INFINITY||this.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:this.s1.material.elasticity>=Math.POSITIVE_INFINITY||this.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(this.s1.material.elasticity+this.s2.material.elasticity)/
2,0>this.restitution&&(this.restitution=0),1<this.restitution&&(this.restitution=1));this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction));this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction));this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction))},validate_props:function(){this.invalidated&&(this.invalidated=!1,this.userdef_restitution||
(this.restitution=this.s1.material.elasticity<=Math.NEGATIVE_INFINITY||this.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:this.s1.material.elasticity>=Math.POSITIVE_INFINITY||this.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(this.s1.material.elasticity+this.s2.material.elasticity)/2,0>this.restitution&&(this.restitution=0),1<this.restitution&&(this.restitution=1)),this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction)),this.userdef_stat_fric||
(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction)),this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction)))},retire:function(){this.cleared||(this.b1.arbiters.inlined_try_remove(this),this.b2.arbiters.inlined_try_remove(this),null!=this.pair&&(this.pair=this.pair.arb=null));this.b1=this.b2=null;for(this.intchange=this.active=!1;null!=this.contacts.next;){var a=this.contacts.inlined_pop_unsafe();a.arbiter=
null;a.next=c.dynamics.ZPP_Contact.zpp_pool;c.dynamics.ZPP_Contact.zpp_pool=a;this.innards.inlined_pop()}this.userdef_rfric=this.userdef_restitution=this.userdef_stat_fric=this.userdef_dyn_fric=!1;this.__ref_edge1=this.__ref_edge2=null;this.next=c.dynamics.ZPP_ColArbiter.zpp_pool;c.dynamics.ZPP_ColArbiter.zpp_pool=this;this.pre_dt=-1},mutable:null,makemutable:function(){this.mutable=!0;null!=this.wrap_normal&&(this.wrap_normal.zpp_inner._immutable=!1);null!=this.wrap_contacts&&(this.wrap_contacts.zpp_inner.immutable=
!1)},makeimmutable:function(){this.mutable=!1;null!=this.wrap_normal&&(this.wrap_normal.zpp_inner._immutable=!0);null!=this.wrap_contacts&&(this.wrap_contacts.zpp_inner.immutable=!0)},contacts_adder:function(a){throw"Error: Cannot add new contacts, information required is far too specific and detailed :)";},contacts_subber:function(a){for(var b=null,d=null,k=this.innards.next,e=this.contacts.next;null!=e;){var g=e;if(g==a.zpp_inner){this.contacts.erase(b);this.innards.erase(d);a=g;a.arbiter=null;
a.next=c.dynamics.ZPP_Contact.zpp_pool;c.dynamics.ZPP_Contact.zpp_pool=a;break}b=e;d=k;k=k.next;e=e.next}},setupcontacts:function(){this.wrap_contacts=c.util.ZPP_ContactList.get(this.contacts,!0);this.wrap_contacts.zpp_inner.immutable=!this.mutable;this.wrap_contacts.zpp_inner.adder=u(this,this.contacts_adder);this.wrap_contacts.zpp_inner.dontremove=!0;this.wrap_contacts.zpp_inner.subber=u(this,this.contacts_subber)},cleanupContacts:function(){var a=!0,b=null,d=null,k=this.innards.next;this.hc2=!1;
for(var e=this.contacts.next;null!=e;){var g=e;g.stamp+f.Config.arbiterExpirationDelay<this.stamp?(e=this.contacts.inlined_erase(b),k=this.innards.inlined_erase(d),g.arbiter=null,g.next=c.dynamics.ZPP_Contact.zpp_pool,c.dynamics.ZPP_Contact.zpp_pool=g):(b=g.inner,d=g.active,g.active=g.stamp==this.stamp,g.active&&(a?(a=!1,this.c1=b,this.oc1=g):(this.hc2=!0,this.c2=b,this.oc2=g)),d!=g.active&&(this.contacts.modified=!0),b=e,d=k,k=k.next,e=e.next)}this.hc2?(this.hpc2=!0,this.oc1.posOnly?(k=this.c1,this.c1=
this.c2,this.c2=k,k=this.oc1,this.oc1=this.oc2,this.oc2=k,this.hc2=!1):this.oc2.posOnly&&(this.hc2=!1),this.oc1.posOnly&&(a=!0)):this.hpc2=!1;return a},pre_dt:null,preStep:function(a){this.invalidated&&(this.invalidated=!1,this.userdef_restitution||(this.restitution=this.s1.material.elasticity<=Math.NEGATIVE_INFINITY||this.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:this.s1.material.elasticity>=Math.POSITIVE_INFINITY||this.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(this.s1.material.elasticity+
this.s2.material.elasticity)/2,0>this.restitution&&(this.restitution=0),1<this.restitution&&(this.restitution=1)),this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction)),this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction)),this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction)));-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;
this.pre_dt=a;var d=this.b1.smass+this.b2.smass;this.hc2=!1;a=!0;this.biasCoef=this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC?this.continuous?f.Config.contactContinuousStaticBiasCoef:f.Config.contactStaticBiasCoef:this.continuous?f.Config.contactContinuousBiasCoef:f.Config.contactBiasCoef;this.continuous=!1;for(var k=null,e=null,g=this.innards.next,p=this.contacts.next;null!=p;){var h=p;if(h.stamp+f.Config.arbiterExpirationDelay<this.stamp)p=
this.contacts.inlined_erase(k),g=this.innards.inlined_erase(e),h.arbiter=null,h.next=c.dynamics.ZPP_Contact.zpp_pool,c.dynamics.ZPP_Contact.zpp_pool=h;else{k=h.inner;e=h.active;h.active=h.stamp==this.stamp;if(h.active){a?(a=!1,this.c1=k,this.oc1=h):(this.hc2=!0,this.c2=k,this.oc2=h);k.r2x=h.px-this.b2.posx;k.r2y=h.py-this.b2.posy;k.r1x=h.px-this.b1.posx;k.r1y=h.py-this.b1.posy;var B=d+this.b2.sinertia*c.util.ZPP_Math.sqr(k.r2x*this.nx+k.r2y*this.ny),B=B+this.b1.sinertia*c.util.ZPP_Math.sqr(k.r1x*
this.nx+k.r1y*this.ny);k.tMass=B<f.Config.epsilon*f.Config.epsilon?0:1/B;B=d+this.b2.sinertia*c.util.ZPP_Math.sqr(this.ny*k.r2x-this.nx*k.r2y);B+=this.b1.sinertia*c.util.ZPP_Math.sqr(this.ny*k.r1x-this.nx*k.r1y);k.nMass=B<f.Config.epsilon*f.Config.epsilon?0:1/B;var l=B=0,m=this.b2.angvel+this.b2.kinangvel,B=this.b2.velx+this.b2.kinvelx-k.r2y*m,l=this.b2.vely+this.b2.kinvely+k.r2x*m,m=this.b1.angvel+this.b1.kinangvel,B=B-(this.b1.velx+this.b1.kinvelx-k.r1y*m),l=l-(this.b1.vely+this.b1.kinvely+k.r1x*
m),m=this.nx*B+this.ny*l;h.elasticity=this.restitution;k.bounce=m*h.elasticity;k.bounce>-f.Config.elasticThreshold&&(k.bounce=0);m=l*this.nx-B*this.ny;B=f.Config.staticFrictionThreshold;k.friction=m*m>B*B?this.dyn_fric:this.stat_fric;k.jnAcc*=b;k.jtAcc*=b}e!=h.active&&(this.contacts.modified=!0);k=p;e=g;g=g.next;p=p.next}}this.hc2?(this.hpc2=!0,this.oc1.posOnly?(g=this.c1,this.c1=this.c2,this.c2=g,g=this.oc1,this.oc1=this.oc2,this.oc2=g,this.hc2=!1):this.oc2.posOnly&&(this.hc2=!1),this.oc1.posOnly&&
(a=!0)):this.hpc2=!1;this.jrAcc*=b;a||(this.rn1a=this.ny*this.c1.r1x-this.nx*this.c1.r1y,this.rt1a=this.c1.r1x*this.nx+this.c1.r1y*this.ny,this.rn1b=this.ny*this.c1.r2x-this.nx*this.c1.r2y,this.rt1b=this.c1.r2x*this.nx+this.c1.r2y*this.ny,this.k1x=this.b2.kinvelx-this.c1.r2y*this.b2.kinangvel-(this.b1.kinvelx-this.c1.r1y*this.b1.kinangvel),this.k1y=this.b2.kinvely+this.c1.r2x*this.b2.kinangvel-(this.b1.kinvely+this.c1.r1x*this.b1.kinangvel));this.hc2&&(this.rn2a=this.ny*this.c2.r1x-this.nx*this.c2.r1y,
this.rt2a=this.c2.r1x*this.nx+this.c2.r1y*this.ny,this.rn2b=this.ny*this.c2.r2x-this.nx*this.c2.r2y,this.rt2b=this.c2.r2x*this.nx+this.c2.r2y*this.ny,this.k2x=this.b2.kinvelx-this.c2.r2y*this.b2.kinangvel-(this.b1.kinvelx-this.c2.r1y*this.b1.kinangvel),this.k2y=this.b2.kinvely+this.c2.r2x*this.b2.kinangvel-(this.b1.kinvely+this.c2.r1x*this.b1.kinangvel),this.kMassa=d+this.b1.sinertia*this.rn1a*this.rn1a+this.b2.sinertia*this.rn1b*this.rn1b,this.kMassb=d+this.b1.sinertia*this.rn1a*this.rn2a+this.b2.sinertia*
this.rn1b*this.rn2b,this.kMassc=d+this.b1.sinertia*this.rn2a*this.rn2a+this.b2.sinertia*this.rn2b*this.rn2b,this.kMassa*this.kMassa+2*this.kMassb*this.kMassb+this.kMassc*this.kMassc<f.Config.illConditionedThreshold*(this.kMassa*this.kMassc-this.kMassb*this.kMassb)?(this.Ka=this.kMassa,this.Kb=this.kMassb,this.Kc=this.kMassc,b=this.kMassa*this.kMassc-this.kMassb*this.kMassb,b!=b?(this.kMassa=this.kMassb=this.kMassc=0,3):0==b?(b=0,0!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,b|=1),0!=this.kMassc?
this.kMassc=1/this.kMassc:(this.kMassc=0,b|=2),this.kMassb=0,b):(b=1/b,d=this.kMassc*b,this.kMassc=this.kMassa*b,this.kMassa=d,this.kMassb*=-b,0)):(this.hc2=!1,this.oc2.dist<this.oc1.dist&&(b=this.c1,this.c1=this.c2,this.c2=b),this.oc2.active=!1,this.contacts.modified=!0));this.surfacex=this.b2.svelx;this.surfacey=this.b2.svely;this.surfacex+=1*this.b1.svelx;this.surfacey+=1*this.b1.svely;this.surfacex=-this.surfacex;this.surfacey=-this.surfacey;this.rMass=this.b1.sinertia+this.b2.sinertia;0!=this.rMass&&
(this.rMass=1/this.rMass);return a},warmStart:function(){var a=this.nx*this.c1.jnAcc-this.ny*this.c1.jtAcc,b=this.ny*this.c1.jnAcc+this.nx*this.c1.jtAcc,d=this.b1.imass;this.b1.velx-=a*d;this.b1.vely-=b*d;this.b1.angvel-=this.b1.iinertia*(b*this.c1.r1x-a*this.c1.r1y);d=this.b2.imass;this.b2.velx+=a*d;this.b2.vely+=b*d;this.b2.angvel+=this.b2.iinertia*(b*this.c1.r2x-a*this.c1.r2y);this.hc2&&(a=this.nx*this.c2.jnAcc-this.ny*this.c2.jtAcc,b=this.ny*this.c2.jnAcc+this.nx*this.c2.jtAcc,d=this.b1.imass,
this.b1.velx-=a*d,this.b1.vely-=b*d,this.b1.angvel-=this.b1.iinertia*(b*this.c2.r1x-a*this.c2.r1y),d=this.b2.imass,this.b2.velx+=a*d,this.b2.vely+=b*d,this.b2.angvel+=this.b2.iinertia*(b*this.c2.r2x-a*this.c2.r2y));this.b2.angvel+=this.jrAcc*this.b2.iinertia;this.b1.angvel-=this.jrAcc*this.b1.iinertia},applyImpulseVel:function(){var a,b,d,c,e;c=this.k1x+this.b2.velx-this.c1.r2y*this.b2.angvel-(this.b1.velx-this.c1.r1y*this.b1.angvel);var g=this.k1y+this.b2.vely+this.c1.r2x*this.b2.angvel-(this.b1.vely+
this.c1.r1x*this.b1.angvel);d=(g*this.nx-c*this.ny+this.surfacex)*this.c1.tMass;c=this.c1.friction*this.c1.jnAcc;a=this.c1.jtAcc;e=a-d;e>c?e=c:e<-c&&(e=-c);d=e-a;this.c1.jtAcc=e;a=-this.ny*d;b=this.nx*d;this.b2.velx+=a*this.b2.imass;this.b2.vely+=b*this.b2.imass;this.b1.velx-=a*this.b1.imass;this.b1.vely-=b*this.b1.imass;this.b2.angvel+=this.rt1b*d*this.b2.iinertia;this.b1.angvel-=this.rt1a*d*this.b1.iinertia;this.hc2?(e=this.k2x+this.b2.velx-this.c2.r2y*this.b2.angvel-(this.b1.velx-this.c2.r1y*this.b1.angvel),
b=this.k2y+this.b2.vely+this.c2.r2x*this.b2.angvel-(this.b1.vely+this.c2.r1x*this.b1.angvel),d=(b*this.nx-e*this.ny+this.surfacex)*this.c2.tMass,c=this.c2.friction*this.c2.jnAcc,a=this.c2.jtAcc,e=a-d,e>c?e=c:e<-c&&(e=-c),d=e-a,this.c2.jtAcc=e,a=-this.ny*d,b=this.nx*d,this.b2.velx+=a*this.b2.imass,this.b2.vely+=b*this.b2.imass,this.b1.velx-=a*this.b1.imass,this.b1.vely-=b*this.b1.imass,this.b2.angvel+=this.rt2b*d*this.b2.iinertia,this.b1.angvel-=this.rt2a*d*this.b1.iinertia,c=this.k1x+this.b2.velx-
this.c1.r2y*this.b2.angvel-(this.b1.velx-this.c1.r1y*this.b1.angvel),g=this.k1y+this.b2.vely+this.c1.r2x*this.b2.angvel-(this.b1.vely+this.c1.r1x*this.b1.angvel),e=this.k2x+this.b2.velx-this.c2.r2y*this.b2.angvel-(this.b1.velx-this.c2.r1y*this.b1.angvel),b=this.k2y+this.b2.vely+this.c2.r2x*this.b2.angvel-(this.b1.vely+this.c2.r1x*this.b1.angvel),d=this.c1.jnAcc,a=this.c2.jnAcc,c=c*this.nx+g*this.ny+this.surfacey+this.c1.bounce-(this.Ka*d+this.Kb*a),e=e*this.nx+b*this.ny+this.surfacey+this.c2.bounce-
(this.Kb*d+this.Kc*a),b=-(this.kMassa*c+this.kMassb*e),g=-(this.kMassb*c+this.kMassc*e),0<=b&&0<=g?(c=b-d,e=g-a,this.c1.jnAcc=b,this.c2.jnAcc=g):(b=-this.c1.nMass*c,0<=b&&0<=this.Kb*b+e?(c=b-d,e=-a,this.c1.jnAcc=b,this.c2.jnAcc=0):(g=-this.c2.nMass*e,0<=g&&0<=this.Kb*g+c?(c=-d,e=g-a,this.c1.jnAcc=0,this.c2.jnAcc=g):0<=c&&0<=e?(c=-d,e=-a,this.c1.jnAcc=this.c2.jnAcc=0):e=c=0)),d=c+e,a=this.nx*d,b=this.ny*d,this.b2.velx+=a*this.b2.imass,this.b2.vely+=b*this.b2.imass,this.b1.velx-=a*this.b1.imass,this.b1.vely-=
b*this.b1.imass,this.b2.angvel+=(this.rn1b*c+this.rn2b*e)*this.b2.iinertia,this.b1.angvel-=(this.rn1a*c+this.rn2a*e)*this.b1.iinertia):(0!=this.radius&&(d=(this.b2.angvel-this.b1.angvel)*this.rMass,c=this.rfric*this.c1.jnAcc,a=this.jrAcc,this.jrAcc-=d,this.jrAcc>c?this.jrAcc=c:this.jrAcc<-c&&(this.jrAcc=-c),d=this.jrAcc-a,this.b2.angvel+=d*this.b2.iinertia,this.b1.angvel-=d*this.b1.iinertia),c=this.k1x+this.b2.velx-this.c1.r2y*this.b2.angvel-(this.b1.velx-this.c1.r1y*this.b1.angvel),g=this.k1y+this.b2.vely+
this.c1.r2x*this.b2.angvel-(this.b1.vely+this.c1.r1x*this.b1.angvel),d=(this.c1.bounce+(this.nx*c+this.ny*g)+this.surfacey)*this.c1.nMass,a=this.c1.jnAcc,e=a-d,0>e&&(e=0),d=e-a,this.c1.jnAcc=e,a=this.nx*d,b=this.ny*d,this.b2.velx+=a*this.b2.imass,this.b2.vely+=b*this.b2.imass,this.b1.velx-=a*this.b1.imass,this.b1.vely-=b*this.b1.imass,this.b2.angvel+=this.rn1b*d*this.b2.iinertia,this.b1.angvel-=this.rn1a*d*this.b1.iinertia)},applyImpulsePos:function(){if(2==this.ptype){var a=this.c1,b=0,d=0,b=this.b2.axisy*
a.lr2x-this.b2.axisx*a.lr2y,d=a.lr2x*this.b2.axisx+a.lr2y*this.b2.axisy,b=b+1*this.b2.posx,d=d+1*this.b2.posy,c=0,e=0,c=this.b1.axisy*a.lr1x-this.b1.axisx*a.lr1y,e=a.lr1x*this.b1.axisx+a.lr1y*this.b1.axisy,c=c+1*this.b1.posx,e=e+1*this.b1.posy,g=a=0,a=b-c,g=d-e,p=Math.sqrt(a*a+g*g),h=this.radius-f.Config.collisionSlop,l=p-h;0>a*this.nx+g*this.ny&&(a=-a,g=-g,l-=this.radius);0>l&&(p<f.Config.epsilon?0!=this.b1.smass?this.b1.posx+=10*f.Config.epsilon:this.b2.posx+=10*f.Config.epsilon:(l=1/p,a*=l,g*=
l,b=.5*(c+b),d=.5*(e+d),c=b-this.b1.posx,e=d-this.b1.posy,b-=this.b2.posx,d-=this.b2.posy,c=g*c-a*e,b=g*b-a*d,d=this.b2.smass+b*b*this.b2.sinertia+this.b1.smass+c*c*this.b1.sinertia,0!=d&&(p=-this.biasCoef*(p-h)/d,d=h=0,h=a*p,d=g*p,a=this.b1.imass,this.b1.posx-=h*a,this.b1.posy-=d*a,this.b1.delta_rot(-c*this.b1.iinertia*p),a=this.b2.imass,this.b2.posx+=h*a,this.b2.posy+=d*a,this.b2.delta_rot(b*this.b2.iinertia*p))))}else{var w=l=g=a=0,e=h=0;0==this.ptype?(a=this.b1.axisy*this.lnormx-this.b1.axisx*
this.lnormy,g=this.lnormx*this.b1.axisx+this.lnormy*this.b1.axisy,p=this.lproj+(a*this.b1.posx+g*this.b1.posy),l=this.b2.axisy*this.c1.lr1x-this.b2.axisx*this.c1.lr1y,w=this.c1.lr1x*this.b2.axisx+this.c1.lr1y*this.b2.axisy,l+=1*this.b2.posx,w+=1*this.b2.posy,this.hpc2&&(h=this.b2.axisy*this.c2.lr1x-this.b2.axisx*this.c2.lr1y,e=this.c2.lr1x*this.b2.axisx+this.c2.lr1y*this.b2.axisy,h+=1*this.b2.posx,e+=1*this.b2.posy)):(a=this.b2.axisy*this.lnormx-this.b2.axisx*this.lnormy,g=this.lnormx*this.b2.axisx+
this.lnormy*this.b2.axisy,p=this.lproj+(a*this.b2.posx+g*this.b2.posy),l=this.b1.axisy*this.c1.lr1x-this.b1.axisx*this.c1.lr1y,w=this.c1.lr1x*this.b1.axisx+this.c1.lr1y*this.b1.axisy,l+=1*this.b1.posx,w+=1*this.b1.posy,this.hpc2&&(h=this.b1.axisy*this.c2.lr1x-this.b1.axisx*this.c2.lr1y,e=this.c2.lr1x*this.b1.axisx+this.c2.lr1y*this.b1.axisy,h+=1*this.b1.posx,e+=1*this.b1.posy));b=l*a+w*g-p-this.radius;b+=f.Config.collisionSlop;d=0;this.hpc2&&(d=h*a+e*g-p-this.radius,d+=f.Config.collisionSlop);if(0>
b||0>d){this.rev&&(a=-a,g=-g);var m=0,t=0,m=l-this.b1.posx,t=w-this.b1.posy,c=p=0,p=l-this.b2.posx,c=w-this.b2.posy,n=0,A=0,w=l=0;if(this.hpc2){n=h-this.b1.posx;A=e-this.b1.posy;l=h-this.b2.posx;w=e-this.b2.posy;h=g*m-a*t;p=g*p-a*c;e=g*n-a*A;c=g*l-a*w;l=this.b1.smass+this.b2.smass;this.kMassa=l+this.b1.sinertia*h*h+this.b2.sinertia*p*p;this.kMassb=l+this.b1.sinertia*h*e+this.b2.sinertia*p*c;this.kMassc=l+this.b1.sinertia*e*e+this.b2.sinertia*c*c;w=l=m=0;m=this.kMassa;l=this.kMassb;w=this.kMassc;t=
b*this.biasCoef;n=d*this.biasCoef;d=b=0;b=-t;d=-n;A=this.kMassa*this.kMassc-this.kMassb*this.kMassb;if(A!=A)b=d=0;else if(0==A)b=0!=this.kMassa?b/this.kMassa:0,d=0!=this.kMassc?d/this.kMassc:0;else var A=1/A,q=A*(this.kMassc*b-this.kMassb*d),d=A*(this.kMassa*d-this.kMassb*b),b=q;0<=b&&0<=d?(l=(b+d)*this.b1.imass,this.b1.posx-=a*l,this.b1.posy-=g*l,this.b1.delta_rot(-this.b1.iinertia*(h*b+e*d)),h=(b+d)*this.b2.imass,this.b2.posx+=a*h,this.b2.posy+=g*h,this.b2.delta_rot(this.b2.iinertia*(p*b+c*d))):
(b=-t/m,d=0,m=l*b+n,0<=b&&0<=m?(l=(b+d)*this.b1.imass,this.b1.posx-=a*l,this.b1.posy-=g*l,this.b1.delta_rot(-this.b1.iinertia*(h*b+e*d)),h=(b+d)*this.b2.imass,this.b2.posx+=a*h,this.b2.posy+=g*h,this.b2.delta_rot(this.b2.iinertia*(p*b+c*d))):(b=0,d=-n/w,l=l*d+t,0<=d&&0<=l&&(l=(b+d)*this.b1.imass,this.b1.posx-=a*l,this.b1.posy-=g*l,this.b1.delta_rot(-this.b1.iinertia*(h*b+e*d)),h=(b+d)*this.b2.imass,this.b2.posx+=a*h,this.b2.posy+=g*h,this.b2.delta_rot(this.b2.iinertia*(p*b+c*d)))))}else h=g*m-a*t,
p=g*p-a*c,d=this.b2.smass+p*p*this.b2.sinertia+this.b1.smass+h*h*this.b1.sinertia,0!=d&&(b=-this.biasCoef*b/d,c=d=0,d=a*b,c=g*b,a=this.b1.imass,this.b1.posx-=d*a,this.b1.posy-=c*a,this.b1.delta_rot(-h*this.b1.iinertia*b),a=this.b2.imass,this.b2.posx+=d*a,this.b2.posy+=c*a,this.b2.delta_rot(p*this.b2.iinertia*b))}}},__class__:c.dynamics.ZPP_ColArbiter});c.dynamics.ZPP_Contact=function(){this.length=0;this._inuse=this.modified=this.pushmod=!1;this.next=null;this.dist=this.elasticity=0;this.fresh=!1;
this.stamp=this.hash=0;this.active=this.posOnly=!1;this.wrap_position=this.arbiter=this.inner=null;this.px=this.py=0;this.outer=null;this.inner=new c.dynamics.ZPP_IContact};m["zpp_nape.dynamics.ZPP_Contact"]=c.dynamics.ZPP_Contact;c.dynamics.ZPP_Contact.__name__=["zpp_nape","dynamics","ZPP_Contact"];c.dynamics.ZPP_Contact.prototype={outer:null,wrapper:function(){null==this.outer&&(c.dynamics.ZPP_Contact.internal=!0,this.outer=new f.dynamics.Contact,c.dynamics.ZPP_Contact.internal=!1,this.outer.zpp_inner=
this);return this.outer},px:null,py:null,position_validate:function(){if(this.inactiveme())throw"Error: Contact not currently in use";this.wrap_position.zpp_inner.x=this.px;this.wrap_position.zpp_inner.y=this.py},wrap_position:null,getposition:function(){this.wrap_position=f.geom.Vec2.get(null,null,null);this.wrap_position.zpp_inner._inuse=!0;this.wrap_position.zpp_inner._immutable=!0;this.wrap_position.zpp_inner._validate=u(this,this.position_validate)},inactiveme:function(){return!(this.active&&
null!=this.arbiter&&this.arbiter.active)},arbiter:null,inner:null,active:null,posOnly:null,stamp:null,hash:null,fresh:null,dist:null,elasticity:null,free:function(){this.arbiter=null},alloc:function(){},next:null,elem:function(){return this},begin:function(){return this.next},_inuse:null,modified:null,pushmod:null,length:null,setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;
this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
d;null==a?(b=this.next,this.next=d=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var d=a.next;a.next=b;b=this.next=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},
has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.next;null!=d;){if(d==a){b=!0;break}d=d.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},__class__:c.dynamics.ZPP_Contact};c.dynamics.ZPP_IContact=function(){this.length=0;this._inuse=this.modified=
this.pushmod=!1;this.next=null;this.r1x=this.r1y=this.r2x=this.r2y=this.nMass=this.tMass=this.bounce=this.friction=this.jnAcc=this.jtAcc=this.lr1x=this.lr1y=this.lr2x=this.lr2y=0};m["zpp_nape.dynamics.ZPP_IContact"]=c.dynamics.ZPP_IContact;c.dynamics.ZPP_IContact.__name__=["zpp_nape","dynamics","ZPP_IContact"];c.dynamics.ZPP_IContact.prototype={r1x:null,r1y:null,r2x:null,r2y:null,nMass:null,tMass:null,bounce:null,friction:null,jnAcc:null,jtAcc:null,lr1x:null,lr1y:null,lr2x:null,lr2y:null,next:null,
elem:function(){return this},begin:function(){return this.next},_inuse:null,modified:null,pushmod:null,length:null,setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=
this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=
d;){if(d==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.next,this.next=d=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;
this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var d=a.next;a.next=b;b=this.next=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.next;null!=d;){if(d==a){b=!0;break}d=d.next}return b},front:function(){return this.next},
back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},__class__:c.dynamics.ZPP_IContact};c.dynamics.ZPP_InteractionGroup=function(){this.depth=0;this.group=this.groups=this.wrap_groups=this.interactors=this.wrap_interactors=null;this.ignore=!1;this.outer=null;this.depth=0;this.groups=new c.util.ZNPList_ZPP_InteractionGroup;this.interactors=new c.util.ZNPList_ZPP_Interactor};
m["zpp_nape.dynamics.ZPP_InteractionGroup"]=c.dynamics.ZPP_InteractionGroup;c.dynamics.ZPP_InteractionGroup.__name__=["zpp_nape","dynamics","ZPP_InteractionGroup"];c.dynamics.ZPP_InteractionGroup.prototype={outer:null,ignore:null,group:null,setGroup:function(a){this.group!=a&&(null!=this.group&&(this.group.groups.remove(this),this.depth=0,this.group.invalidate(!0)),this.group=a,null!=a?(a.groups.add(this),this.depth=a.depth+1,a.invalidate(!0)):this.invalidate(!0))},groups:null,wrap_groups:null,interactors:null,
wrap_interactors:null,depth:null,invalidate:function(a){null==a&&(a=!1);if(a||this.ignore){for(var b=this.interactors.head;null!=b;){var d=b.elt;null!=d.ibody?d.ibody.wake():null!=d.ishape?d.ishape.body.wake():d.icompound.wake();b=b.next}for(b=this.groups.head;null!=b;)b.elt.invalidate(a),b=b.next}},addGroup:function(a){this.groups.add(a);a.depth=this.depth+1},remGroup:function(a){this.groups.remove(a);a.depth=0},addInteractor:function(a){this.interactors.add(a)},remInteractor:function(a,b){this.interactors.remove(a)},
__class__:c.dynamics.ZPP_InteractionGroup};c.dynamics.ZPP_SpaceArbiterList=function(){this.at_index_0=this.at_index_1=this.at_index_2=this.at_index_3=0;this.lengths=this.ite_0=this.ite_1=this.ite_2=this.ite_3=null;this.zip_length=!1;this._length=0;this.space=null;f.dynamics.ArbiterList.call(this);this.at_index_3=this.at_index_2=this.at_index_1=this.at_index_0=0;this.zip_length=!0;this._length=0;this.lengths=[];for(var a=0;4>a;)a++,this.lengths.push(0)};m["zpp_nape.dynamics.ZPP_SpaceArbiterList"]=
c.dynamics.ZPP_SpaceArbiterList;c.dynamics.ZPP_SpaceArbiterList.__name__=["zpp_nape","dynamics","ZPP_SpaceArbiterList"];c.dynamics.ZPP_SpaceArbiterList.__super__=f.dynamics.ArbiterList;c.dynamics.ZPP_SpaceArbiterList.prototype=F(f.dynamics.ArbiterList.prototype,{space:null,_length:null,zip_length:null,zpp_gl:function(){this.zpp_vm();if(this.zip_length){for(var a=this._length=0,b=0,d=this.space.c_arbiters_true.head;null!=d;)d.elt.active&&b++,d=d.next;this.lengths[a++]=b;this._length+=b;b=0;for(d=this.space.c_arbiters_false.head;null!=
d;)d.elt.active&&b++,d=d.next;this.lengths[a++]=b;this._length+=b;b=0;for(d=this.space.f_arbiters.head;null!=d;)d.elt.active&&b++,d=d.next;this.lengths[a++]=b;this._length+=b;b=0;for(d=this.space.s_arbiters.head;null!=d;)d.elt.active&&b++,d=d.next;this.lengths[a++]=b;this._length+=b;this.zip_length=!1}return this._length},lengths:null,ite_0:null,ite_1:null,ite_2:null,ite_3:null,at_index_0:null,at_index_1:null,at_index_2:null,at_index_3:null,zpp_vm:function(){var a=!1;this.space.c_arbiters_true.modified&&
(a=!0,this.space.c_arbiters_true.modified=!1);this.space.c_arbiters_false.modified&&(a=!0,this.space.c_arbiters_false.modified=!1);this.space.f_arbiters.modified&&(a=!0,this.space.f_arbiters.modified=!1);this.space.s_arbiters.modified&&(a=!0,this.space.s_arbiters.modified=!1);a&&(this.zip_length=!0,this._length=0,this.ite_3=this.ite_2=this.ite_1=this.ite_0=null)},push:function(a){throw"Error: ArbiterList is immutable";},pop:function(){throw"Error: ArbiterList is immutable";},unshift:function(a){throw"Error: ArbiterList is immutable";
},shift:function(){throw"Error: ArbiterList is immutable";},remove:function(a){throw"Error: ArbiterList is immutable";},clear:function(){throw"Error: ArbiterList is immutable";},at:function(a){this.zpp_vm();if(0>a||a>=this.zpp_gl())throw"Error: Index out of bounds";var b=null,d=0;if(null==b)if(a<d+this.lengths[0]){b=a-d;if(b<this.at_index_0||null==this.ite_0)for(this.at_index_0=0,this.ite_0=this.space.c_arbiters_true.head;!this.ite_0.elt.active;)this.ite_0=this.ite_0.next;for(;this.at_index_0!=b;)for(this.at_index_0++,
this.ite_0=this.ite_0.next;!this.ite_0.elt.active;)this.ite_0=this.ite_0.next;b=this.ite_0.elt.wrapper()}else d+=this.lengths[0];if(null==b)if(a<d+this.lengths[1]){b=a-d;if(b<this.at_index_1||null==this.ite_1)for(this.at_index_1=0,this.ite_1=this.space.c_arbiters_false.head;!this.ite_1.elt.active;)this.ite_1=this.ite_1.next;for(;this.at_index_1!=b;)for(this.at_index_1++,this.ite_1=this.ite_1.next;!this.ite_1.elt.active;)this.ite_1=this.ite_1.next;b=this.ite_1.elt.wrapper()}else d+=this.lengths[1];
if(null==b)if(a<d+this.lengths[2]){b=a-d;if(b<this.at_index_2||null==this.ite_2)for(this.at_index_2=0,this.ite_2=this.space.f_arbiters.head;!this.ite_2.elt.active;)this.ite_2=this.ite_2.next;for(;this.at_index_2!=b;)for(this.at_index_2++,this.ite_2=this.ite_2.next;!this.ite_2.elt.active;)this.ite_2=this.ite_2.next;b=this.ite_2.elt.wrapper()}else d+=this.lengths[2];if(null==b&&a<d+this.lengths[3]){a-=d;if(a<this.at_index_3||null==this.ite_3)for(this.at_index_3=0,this.ite_3=this.space.s_arbiters.head;!this.ite_3.elt.active;)this.ite_3=
this.ite_3.next;for(;this.at_index_3!=a;)for(this.at_index_3++,this.ite_3=this.ite_3.next;!this.ite_3.elt.active;)this.ite_3=this.ite_3.next;b=this.ite_3.elt.wrapper()}return b},__class__:c.dynamics.ZPP_SpaceArbiterList});c.geom={};c.geom.ZPP_AABB=function(){this.wrap_max=null;this.maxx=this.maxy=0;this.wrap_min=null;this.minx=this.miny=0;this.outer=this.next=null;this._immutable=!1;this._invalidate=this._validate=null};m["zpp_nape.geom.ZPP_AABB"]=c.geom.ZPP_AABB;c.geom.ZPP_AABB.__name__=["zpp_nape",
"geom","ZPP_AABB"];c.geom.ZPP_AABB.get=function(a,b,d,k){var e;null==c.geom.ZPP_AABB.zpp_pool?e=new c.geom.ZPP_AABB:(e=c.geom.ZPP_AABB.zpp_pool,c.geom.ZPP_AABB.zpp_pool=e.next,e.next=null);null;e.minx=a;e.miny=b;e.maxx=d;e.maxy=k;return e};c.geom.ZPP_AABB.prototype={_invalidate:null,_validate:null,_immutable:null,validate:function(){null!=this._validate&&this._validate()},invalidate:function(){null!=this._invalidate&&this._invalidate(this)},outer:null,wrapper:function(){if(null==this.outer){this.outer=
new f.geom.AABB;var a=this.outer.zpp_inner;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a.wrap_min=a.wrap_max=null;a._invalidate=null;a._validate=null;a.next=c.geom.ZPP_AABB.zpp_pool;c.geom.ZPP_AABB.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},next:null,alloc:function(){},free:function(){null!=this.outer&&(this.outer=this.outer.zpp_inner=null);this._validate=this._invalidate=this.wrap_min=this.wrap_max=null},copy:function(){return c.geom.ZPP_AABB.get(this.minx,this.miny,this.maxx,
this.maxy)},width:function(){return this.maxx-this.minx},height:function(){return this.maxy-this.miny},perimeter:function(){return 2*(this.maxx-this.minx+(this.maxy-this.miny))},minx:null,miny:null,wrap_min:null,getmin:function(){null==this.wrap_min&&(this.wrap_min=f.geom.Vec2.get(this.minx,this.miny,null),this.wrap_min.zpp_inner._inuse=!0,this._immutable?this.wrap_min.zpp_inner._immutable=!0:this.wrap_min.zpp_inner._invalidate=u(this,this.mod_min),this.wrap_min.zpp_inner._validate=u(this,this.dom_min));
return this.wrap_min},dom_min:function(){null!=this._validate&&this._validate();this.wrap_min.zpp_inner.x=this.minx;this.wrap_min.zpp_inner.y=this.miny},mod_min:function(a){if(a.x!=this.minx||a.y!=this.miny)this.minx=a.x,this.miny=a.y,null!=this._invalidate&&this._invalidate(this)},maxx:null,maxy:null,wrap_max:null,getmax:function(){null==this.wrap_max&&(this.wrap_max=f.geom.Vec2.get(this.maxx,this.maxy,null),this.wrap_max.zpp_inner._inuse=!0,this._immutable?this.wrap_max.zpp_inner._immutable=!0:
this.wrap_max.zpp_inner._invalidate=u(this,this.mod_max),this.wrap_max.zpp_inner._validate=u(this,this.dom_max));return this.wrap_max},dom_max:function(){null!=this._validate&&this._validate();this.wrap_max.zpp_inner.x=this.maxx;this.wrap_max.zpp_inner.y=this.maxy},mod_max:function(a){if(a.x!=this.maxx||a.y!=this.maxy)this.maxx=a.x,this.maxy=a.y,null!=this._invalidate&&this._invalidate(this)},intersectX:function(a){return!(a.minx>this.maxx||this.minx>a.maxx)},intersectY:function(a){return!(a.miny>
this.maxy||this.miny>a.maxy)},intersect:function(a){return a.miny<=this.maxy&&this.miny<=a.maxy&&a.minx<=this.maxx&&this.minx<=a.maxx},combine:function(a){a.minx<this.minx&&(this.minx=a.minx);a.maxx>this.maxx&&(this.maxx=a.maxx);a.miny<this.miny&&(this.miny=a.miny);a.maxy>this.maxy&&(this.maxy=a.maxy)},contains:function(a){return a.minx>=this.minx&&a.miny>=this.miny&&a.maxx<=this.maxx&&a.maxy<=this.maxy},containsPoint:function(a){return a.x>=this.minx&&a.x<=this.maxx&&a.y>=this.miny&&a.y<=this.maxy},
setCombine:function(a,b){this.minx=a.minx<b.minx?a.minx:b.minx;this.miny=a.miny<b.miny?a.miny:b.miny;this.maxx=a.maxx>b.maxx?a.maxx:b.maxx;this.maxy=a.maxy>b.maxy?a.maxy:b.maxy},setExpand:function(a,b){this.minx=a.minx-b;this.miny=a.miny-b;this.maxx=a.maxx+b;this.maxy=a.maxy+b},setExpandPoint:function(a,b){a<this.minx&&(this.minx=a);a>this.maxx&&(this.maxx=a);b<this.miny&&(this.miny=b);b>this.maxy&&(this.maxy=b)},toString:function(){return"{ x: "+this.minx+" y: "+this.miny+" w: "+(this.maxx-this.minx)+
" h: "+(this.maxy-this.miny)+" }"},__class__:c.geom.ZPP_AABB};c.util.ZNPList_ZPP_Vec2=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_Vec2"]=c.util.ZNPList_ZPP_Vec2;c.util.ZNPList_ZPP_Vec2.__name__=["zpp_nape","util","ZNPList_ZPP_Vec2"];c.util.ZNPList_ZPP_Vec2.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},
inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Vec2.zpp_pool?b=new c.util.ZNPNode_ZPP_Vec2:(b=c.util.ZNPNode_ZPP_Vec2.zpp_pool,c.util.ZNPNode_ZPP_Vec2.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Vec2.zpp_pool?d=new c.util.ZNPNode_ZPP_Vec2:(d=c.util.ZNPNode_ZPP_Vec2.zpp_pool,
c.util.ZNPNode_ZPP_Vec2.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Vec2.zpp_pool;c.util.ZNPNode_ZPP_Vec2.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,
this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Vec2.zpp_pool;c.util.ZNPNode_ZPP_Vec2.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=
this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=
b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Vec2};c.geom.ZPP_Collide=function(){};m["zpp_nape.geom.ZPP_Collide"]=c.geom.ZPP_Collide;c.geom.ZPP_Collide.__name__=["zpp_nape","geom","ZPP_Collide"];c.geom.ZPP_Collide.circleContains=function(a,b){var d=0,c=0,d=b.x-a.worldCOMx,c=b.y-a.worldCOMy;return d*d+c*c<a.radius*a.radius};c.geom.ZPP_Collide.polyContains=function(a,b){var d;d=!0;for(var c=a.edges.head;null!=c;){var e=c.elt;if(e.gnormx*
b.x+e.gnormy*b.y<=e.gprojection)c=c.next;else{d=!1;break}}return d};c.geom.ZPP_Collide.shapeContains=function(a,b){return a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(a.circle,b):c.geom.ZPP_Collide.polyContains(a.polygon,b)};c.geom.ZPP_Collide.bodyContains=function(a,b){var d;d=!1;for(var k=a.shapes.head;null!=k;){if(c.geom.ZPP_Collide.shapeContains(k.elt,b)){d=!0;break}k=k.next}return d};c.geom.ZPP_Collide.containTest=function(a,b){if(a.aabb.contains(b.aabb)){if(a.type==
c.util.ZPP_Flags.id_ShapeType_CIRCLE){if(b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){var d=a.circle.radius+-b.circle.radius,k=0,e=0,k=b.circle.worldCOMx-a.circle.worldCOMx,e=b.circle.worldCOMy-a.circle.worldCOMy;return k*k+e*e<=d*d}d=!0;for(k=b.polygon.gverts.next;null!=k;){var g=k;if(function(b){b=a.circle.radius;var d=0,c=0,d=g.x-a.circle.worldCOMx,c=g.y-a.circle.worldCOMy;return d*d+c*c<=b*b}(this))k=k.next;else{d=!1;break}}return d}if(b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){d=!0;for(k=
a.polygon.edges.head;null!=k;)if(e=k.elt,e.gnormx*b.circle.worldCOMx+e.gnormy*b.circle.worldCOMy+b.circle.radius<=e.gprojection)k=k.next;else{d=!1;break}return d}d=!0;for(k=a.polygon.edges.head;null!=k;){var f=k.elt;if(function(a){a=-1E100;for(var d=b.polygon.gverts.next;null!=d;){var c=d,c=f.gnormx*c.x+f.gnormy*c.y;c>a&&(a=c);d=d.next}return a<=f.gprojection}(this))k=k.next;else{d=!1;break}}return d}return!1};c.geom.ZPP_Collide.contactCollide=function(a,b,d,k){if(b.type==c.util.ZPP_Flags.id_ShapeType_POLYGON)if(a.type==
c.util.ZPP_Flags.id_ShapeType_POLYGON){for(var e=!0,g=-1E100,p=-1,h=null,l=null,w=a.polygon.edges.head;null!=w;){for(var m=w.elt,t=1E100,n=b.polygon.gverts.next;null!=n;){var A=n,A=m.gnormx*A.x+m.gnormy*A.y;A<t&&(t=A);if(t-m.gprojection<=g)break;n=n.next}t-=m.gprojection;if(0<=t){e=!1;break}t>g&&(g=t,h=m,p=1);w=w.next}if(e){for(w=b.polygon.edges.head;null!=w;){m=w.elt;t=1E100;for(n=a.polygon.gverts.next;null!=n;){A=n;A=m.gnormx*A.x+m.gnormy*A.y;A<t&&(t=A);if(t-m.gprojection<=g)break;n=n.next}t-=m.gprojection;
if(0<=t){e=!1;break}t>g&&(g=t,l=m,p=2);w=w.next}if(e){1==p?(a=b.polygon,b=h,l=1):(a=a.polygon,b=l,l=-1);h=null;e=1E100;for(g=a.edges.head;null!=g;)w=g.elt,m=b.gnormx*w.gnormx+b.gnormy*w.gnormy,m<e&&(e=m,h=w),g=g.next;var g=e=0,e=h.gp0.x,g=h.gp0.y,m=w=0,w=h.gp1.x,m=h.gp1.y,n=t=0,t=w-e,n=m-g,q=b.gnormy*e-b.gnormx*g,A=b.gnormy*w-b.gnormx*m,u=1/(A-q),q=(-b.tp1-q)*u;q>f.Config.epsilon&&(e+=t*q,g+=n*q);A=(-b.tp0-A)*u;A<-f.Config.epsilon&&(w+=t*A,m+=n*A);n=t=0;n=l;t=b.gnormx*n;n*=b.gnormy;d.lnormx=b.lnormx;
d.lnormy=b.lnormy;d.lproj=b.lprojection;d.radius=0;d.rev=k!=(-1==l);d.ptype=d.rev?1:0;A=e*b.gnormx+g*b.gnormy-b.gprojection;l=w*b.gnormx+m*b.gnormy-b.gprojection;if(0<A&&0<l)return!1;k&&(t=-t,n=-n);k=d.injectContact(e-b.gnormx*A*.5,g-b.gnormy*A*.5,t,n,A,d.rev?1:0,0<A);e-=1*a.body.posx;g-=1*a.body.posy;k.inner.lr1x=e*a.body.axisy+g*a.body.axisx;k.inner.lr1y=g*a.body.axisy-e*a.body.axisx;k=d.injectContact(w-b.gnormx*l*.5,m-b.gnormy*l*.5,t,n,l,d.rev?0:1,0<l);w-=1*a.body.posx;m-=1*a.body.posy;k.inner.lr1x=
w*a.body.axisy+m*a.body.axisx;k.inner.lr1y=m*a.body.axisy-w*a.body.axisx;1==p?(d.__ref_edge1=b,d.__ref_edge2=h):(d.__ref_edge2=b,d.__ref_edge1=h);return!0}}}else{l=-1E100;h=!0;e=p=null;g=b.polygon.gverts.next;for(w=b.polygon.edges.head;null!=w;){m=w.elt;t=m.gnormx*a.circle.worldCOMx+m.gnormy*a.circle.worldCOMy-m.gprojection-a.circle.radius;if(0<t){h=!1;break}t>l&&(l=t,p=m,e=g);g=g.next;w=w.next}if(h){h=e;e=null==e.next?b.polygon.gverts.next:e.next;g=a.circle.worldCOMy*p.gnormx-a.circle.worldCOMx*
p.gnormy;if(g<=h.y*p.gnormx-h.x*p.gnormy)return l=a.circle.radius,g=e=0,e=h.x-a.circle.worldCOMx,g=h.y-a.circle.worldCOMy,w=e*e+g*g,w>l*l?l=null:w<f.Config.epsilon*f.Config.epsilon?l=d.injectContact(a.circle.worldCOMx,a.circle.worldCOMy,1,0,-l,0,null):(w=1/Math.sqrt(w),m=w<f.Config.epsilon?1E100:1/w,t=.5+(a.circle.radius-.5*l)*w,l=k?d.injectContact(a.circle.worldCOMx+e*t,a.circle.worldCOMy+g*t,-e*w,-g*w,m-l,0,null):d.injectContact(a.circle.worldCOMx+e*t,a.circle.worldCOMy+g*t,e*w,g*w,m-l,0,null)),
null!=l&&(e=l.inner,d.ptype=2,w=g=0,g=h.x-b.polygon.body.posx,w=h.y-b.polygon.body.posy,d.__ref_edge1=p,d.__ref_vertex=-1,k?(e.lr1x=g*b.polygon.body.axisy+w*b.polygon.body.axisx,e.lr1y=w*b.polygon.body.axisy-g*b.polygon.body.axisx,e.lr2x=a.circle.localCOMx,e.lr2y=a.circle.localCOMy):(e.lr2x=g*b.polygon.body.axisy+w*b.polygon.body.axisx,e.lr2y=w*b.polygon.body.axisy-g*b.polygon.body.axisx,e.lr1x=a.circle.localCOMx,e.lr1y=a.circle.localCOMy),d.radius=a.circle.radius),null!=l;if(g>=e.y*p.gnormx-e.x*
p.gnormy)return h=a.circle.radius,g=l=0,l=e.x-a.circle.worldCOMx,g=e.y-a.circle.worldCOMy,w=l*l+g*g,w>h*h?h=null:w<f.Config.epsilon*f.Config.epsilon?h=d.injectContact(a.circle.worldCOMx,a.circle.worldCOMy,1,0,-h,0,null):(w=1/Math.sqrt(w),m=w<f.Config.epsilon?1E100:1/w,t=.5+(a.circle.radius-.5*h)*w,h=k?d.injectContact(a.circle.worldCOMx+l*t,a.circle.worldCOMy+g*t,-l*w,-g*w,m-h,0,null):d.injectContact(a.circle.worldCOMx+l*t,a.circle.worldCOMy+g*t,l*w,g*w,m-h,0,null)),null!=h&&(l=h.inner,d.ptype=2,w=
g=0,g=e.x-b.polygon.body.posx,w=e.y-b.polygon.body.posy,d.__ref_edge1=p,d.__ref_vertex=1,k?(l.lr1x=g*b.polygon.body.axisy+w*b.polygon.body.axisx,l.lr1y=w*b.polygon.body.axisy-g*b.polygon.body.axisx,l.lr2x=a.circle.localCOMx,l.lr2y=a.circle.localCOMy):(l.lr2x=g*b.polygon.body.axisy+w*b.polygon.body.axisx,l.lr2y=w*b.polygon.body.axisy-g*b.polygon.body.axisx,l.lr1x=a.circle.localCOMx,l.lr1y=a.circle.localCOMy),d.radius=a.circle.radius),null!=h;h=b=0;h=a.circle.radius+.5*l;b=p.gnormx*h;h*=p.gnormy;g=
e=0;e=a.circle.worldCOMx-b;g=a.circle.worldCOMy-h;b=k?d.injectContact(e,g,p.gnormx,p.gnormy,l,0,null):d.injectContact(e,g,-p.gnormx,-p.gnormy,l,0,null);d.ptype=k?0:1;d.lnormx=p.lnormx;d.lnormy=p.lnormy;d.rev=!k;d.lproj=p.lprojection;d.radius=a.circle.radius;b.inner.lr1x=a.circle.localCOMx;b.inner.lr1y=a.circle.localCOMy;d.__ref_edge1=p;d.__ref_vertex=0;return!0}}else if(p=a.circle.radius+b.circle.radius,l=h=0,h=b.circle.worldCOMx-a.circle.worldCOMx,l=b.circle.worldCOMy-a.circle.worldCOMy,e=h*h+l*
l,e>p*p?p=null:e<f.Config.epsilon*f.Config.epsilon?p=d.injectContact(a.circle.worldCOMx,a.circle.worldCOMy,1,0,-p,0,null):(e=1/Math.sqrt(e),g=e<f.Config.epsilon?1E100:1/e,w=.5+(a.circle.radius-.5*p)*e,p=k?d.injectContact(a.circle.worldCOMx+h*w,a.circle.worldCOMy+l*w,-h*e,-l*e,g-p,0,null):d.injectContact(a.circle.worldCOMx+h*w,a.circle.worldCOMy+l*w,h*e,l*e,g-p,0,null)),null!=p)return p=p.inner,k?(p.lr1x=b.circle.localCOMx,p.lr1y=b.circle.localCOMy,p.lr2x=a.circle.localCOMx,p.lr2y=a.circle.localCOMy):
(p.lr1x=a.circle.localCOMx,p.lr1y=a.circle.localCOMy,p.lr2x=b.circle.localCOMx,p.lr2y=b.circle.localCOMy),d.radius=a.circle.radius+b.circle.radius,d.ptype=2,!0;return!1};c.geom.ZPP_Collide.testCollide_safe=function(a,b){if(b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){var d=a;a=b;b=d}return c.geom.ZPP_Collide.testCollide(a,b)};c.geom.ZPP_Collide.testCollide=function(a,b){if(b.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){if(a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){for(var d=!0,k=a.polygon.edges.head;null!=
k;){for(var e=k.elt,g=1E100,f=b.polygon.gverts.next;null!=f;){var h=f,h=e.gnormx*h.x+e.gnormy*h.y;h<g&&(g=h);f=f.next}g-=e.gprojection;if(0<g){d=!1;break}k=k.next}if(d){for(k=b.polygon.edges.head;null!=k;){e=k.elt;g=1E100;for(f=a.polygon.gverts.next;null!=f;)h=f,h=e.gnormx*h.x+e.gnormy*h.y,h<g&&(g=h),f=f.next;g-=e.gprojection;if(0<g){d=!1;break}k=k.next}return d}}else{k=d=null;e=!0;g=-1E100;f=b.polygon.gverts.next;for(h=b.polygon.edges.head;null!=h;){var l=h.elt,m=l.gnormx*a.circle.worldCOMx+l.gnormy*
a.circle.worldCOMy-l.gprojection-a.circle.radius;if(0<m){e=!1;break}m>g&&(g=m,d=l,k=f);f=f.next;h=h.next}if(e)return e=k,k=null==k.next?b.polygon.gverts.next:k.next,g=a.circle.worldCOMy*d.gnormx-a.circle.worldCOMx*d.gnormy,g<=e.y*d.gnormx-e.x*d.gnormy?(d=a.circle.radius,g=k=0,k=e.x-a.circle.worldCOMx,g=e.y-a.circle.worldCOMy,k*k+g*g<=d*d):g>=k.y*d.gnormx-k.x*d.gnormy?(d=a.circle.radius,g=e=0,e=k.x-a.circle.worldCOMx,g=k.y-a.circle.worldCOMy,e*e+g*g<=d*d):!0}return!1}d=a.circle.radius+b.circle.radius;
e=k=0;k=b.circle.worldCOMx-a.circle.worldCOMx;e=b.circle.worldCOMy-a.circle.worldCOMy;return k*k+e*e<=d*d};c.geom.ZPP_Collide.flowCollide=function(a,b,d){if(b.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){if(a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){for(var k=[],e=[],g=!0,p=!0,h=a.polygon.edges.head;null!=h;){for(var l=h.elt,m=1E100,n=0,t=b.polygon.gverts.next;null!=t;){var u=t,A=l.gnormx*u.x+l.gnormy*u.y;A<m&&(m=A);A>=l.gprojection+f.Config.epsilon&&(e[n]=!0,p=!1);n++;t=t.next}m-=l.gprojection;
if(0<m){g=!1;break}h=h.next}if(p)return b.polygon.validate_worldCOM(),d.overlap=b.polygon.area,d.centroidx=b.polygon.worldCOMx,d.centroidy=b.polygon.worldCOMy,null,!0;if(g){for(var p=!0,q=b.polygon.edges.head;null!=q;){for(var v=q.elt,y=1E100,C=0,z=a.polygon.gverts.next;null!=z;){var E=z,D=v.gnormx*E.x+v.gnormy*E.y;D<y&&(y=D);D>=v.gprojection+f.Config.epsilon&&(k[C]=!0,p=!1);C++;z=z.next}y-=v.gprojection;if(0<y){g=!1;break}q=q.next}if(p)return a.polygon.validate_worldCOM(),d.overlap=a.polygon.area,
d.centroidx=a.polygon.worldCOMx,d.centroidy=a.polygon.worldCOMy,null,!0;if(g){for(;null!=c.geom.ZPP_Collide.flowpoly.head;){var r=c.geom.ZPP_Collide.flowpoly.pop_unsafe();if(!r._inuse){var F=r;null!=F.outer&&(F.outer.zpp_inner=null,F.outer=null);F._isimmutable=null;F._validate=null;F._invalidate=null;F.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=F}}for(var G=null,H=!1,J=a.polygon.gverts.next,O=0,V=b.polygon.gverts.next,P=0,R=0,S=b.polygon.edgeCnt;R<S;){var Q=R++;if(e[Q])V=V.next;else{P=
Q;break}}if(null==V){for(var V=b.polygon.gverts.next,H=!0,U=0,T=a.polygon.edgeCnt;U<T;){var ga=U++;if(k[ga])J=J.next;else{O=ga;break}}null==J?J=a.polygon.gverts.next:(c.geom.ZPP_Collide.flowpoly.add(J),G=c.geom.ZPP_Collide.flowpoly.head.elt)}else c.geom.ZPP_Collide.flowpoly.add(V),G=c.geom.ZPP_Collide.flowpoly.head.elt;var Cc=1;if(null==c.geom.ZPP_Collide.flowpoly.head){for(var ca=!0,Y=a.polygon.gverts.next,aa=Y,Jc=Y.next;null!=Jc;){for(var Bb=Jc,X=2,Ib=b.polygon.gverts.next,gc=Ib,Kc=Ib.next;null!=
Kc;){var sa=Kc,ia=0;(function(a){var b=a=0;a=aa.x-gc.x;var b=aa.y-gc.y,d=0,c=0,d=Bb.x-aa.x,c=Bb.y-aa.y,e=0,k=0,e=sa.x-gc.x,k=sa.y-gc.y,g=c*e-d*k;g*g>f.Config.epsilon*f.Config.epsilon?(g=1/g,e=(k*a-e*b)*g,e>f.Config.epsilon&&e<1-f.Config.epsilon?(a=(c*a-d*b)*g,a>f.Config.epsilon&&a<1-f.Config.epsilon?(ia=e,a=!0):a=!1):a=!1):a=!1;return a})(this)&&ia<X&&(X=ia,V=Ib);Ib=Kc;gc=sa;Kc=Kc.next}var Fa=Kc=b.polygon.gverts.next,Rd=0;(function(a){var b=a=0;a=aa.x-gc.x;var b=aa.y-gc.y,d=0,c=0,d=Bb.x-aa.x,c=Bb.y-
aa.y,e=0,k=0,e=Fa.x-gc.x,k=Fa.y-gc.y,g=c*e-d*k;g*g>f.Config.epsilon*f.Config.epsilon?(g=1/g,e=(k*a-e*b)*g,e>f.Config.epsilon&&e<1-f.Config.epsilon?(a=(c*a-d*b)*g,a>f.Config.epsilon&&a<1-f.Config.epsilon?(Rd=e,a=!0):a=!1):a=!1):a=!1;return a})(this)&&Rd<X&&(X=Rd,V=Ib);if(2!=X){var ce=0,I=0,Sc=X,ce=aa.x+(Bb.x-aa.x)*Sc,I=aa.y+(Bb.y-aa.y)*Sc,G=c.geom.ZPP_Vec2.get(ce,I,null);c.geom.ZPP_Collide.flowpoly.add(G);H=!0;J=Y;ca=!1;break}Y=Jc;aa=Bb;Jc=Jc.next}if(ca){for(var rb=Jc=a.polygon.gverts.next,ta=2,jb=
b.polygon.gverts.next,Pa=jb,La=jb.next;null!=La;){var Ub=La,Z=0;(function(a){var b=a=0;a=aa.x-Pa.x;var b=aa.y-Pa.y,d=0,c=0,d=rb.x-aa.x,c=rb.y-aa.y,e=0,k=0,e=Ub.x-Pa.x,k=Ub.y-Pa.y,g=c*e-d*k;g*g>f.Config.epsilon*f.Config.epsilon?(g=1/g,e=(k*a-e*b)*g,e>f.Config.epsilon&&e<1-f.Config.epsilon?(a=(c*a-d*b)*g,a>f.Config.epsilon&&a<1-f.Config.epsilon?(Z=e,a=!0):a=!1):a=!1):a=!1;return a})(this)&&Z<ta&&(ta=Z,V=jb);jb=La;Pa=Ub;La=La.next}var Aa=La=b.polygon.gverts.next,K=0;(function(a){var b=a=0;a=aa.x-Pa.x;
var b=aa.y-Pa.y,d=0,c=0,d=rb.x-aa.x,c=rb.y-aa.y,e=0,k=0,e=Aa.x-Pa.x,k=Aa.y-Pa.y,g=c*e-d*k;g*g>f.Config.epsilon*f.Config.epsilon?(g=1/g,e=(k*a-e*b)*g,e>f.Config.epsilon&&e<1-f.Config.epsilon?(a=(c*a-d*b)*g,a>f.Config.epsilon&&a<1-f.Config.epsilon?(K=e,a=!0):a=!1):a=!1):a=!1;return a})(this)&&K<ta&&(ta=K,V=jb);if(2!=ta){var kb=0,xb=0,Lc=ta,kb=aa.x+(rb.x-aa.x)*Lc,xb=aa.y+(rb.y-aa.y)*Lc,G=c.geom.ZPP_Vec2.get(kb,xb,null);c.geom.ZPP_Collide.flowpoly.add(G);H=!0;J=Y}}Cc=2}for(;;)if(H)if(J=J.next,O++,null==
J&&(J=a.polygon.gverts.next,O=0),k[O]){var pa=c.geom.ZPP_Collide.flowpoly.head.elt,da=J,qa=V,ja=V.next;null==ja&&(ja=b.polygon.gverts.next);var Qa=-1,Wa=null,Xa=0,Ya=0,Ra=ja,ha=ja;do{var Sa=ha,Ma=0;if(function(a){var b=a=0;a=qa.x-pa.x;var b=qa.y-pa.y,d=0,c=0,d=Sa.x-qa.x,c=Sa.y-qa.y,e=0,k=0,e=da.x-pa.x,k=da.y-pa.y,g=c*e-d*k;g*g>f.Config.epsilon*f.Config.epsilon?(g=1/g,e=(k*a-e*b)*g,e>f.Config.epsilon&&e<1-f.Config.epsilon?(a=(c*a-d*b)*g,a>f.Config.epsilon&&a<1-f.Config.epsilon?(Ma=e,a=!0):a=!1):a=
!1):a=!1;return a}(this)&&Ma>=Qa)if(Wa=V,Xa=P,++Ya==Cc){Qa=Ma;ha=Ra;break}else Qa=Ma;qa=Sa;V=ha;P++;P>=b.polygon.edgeCnt&&(P=0);ha=ha.next;null==ha&&(ha=b.polygon.gverts.next)}while(0);for(;ha!=Ra;){var ea=ha,Ta=0;if(function(a){var b=a=0;a=qa.x-pa.x;var b=qa.y-pa.y,d=0,c=0,d=ea.x-qa.x,c=ea.y-qa.y,e=0,k=0,e=da.x-pa.x,k=da.y-pa.y,g=c*e-d*k;g*g>f.Config.epsilon*f.Config.epsilon?(g=1/g,e=(k*a-e*b)*g,e>f.Config.epsilon&&e<1-f.Config.epsilon?(a=(c*a-d*b)*g,a>f.Config.epsilon&&a<1-f.Config.epsilon?(Ta=
e,a=!0):a=!1):a=!1):a=!1;return a}(this)&&Ta>=Qa)if(Wa=V,Xa=P,++Ya==Cc){Qa=Ta;ha=Ra;break}else Qa=Ta;qa=ea;V=ha;P++;P>=b.polygon.edgeCnt&&(P=0);ha=ha.next;null==ha&&(ha=b.polygon.gverts.next)}if(null==Wa)break;var yb=Wa,db=Wa.next;null==db&&(db=b.polygon.gverts.next);var qd=db,M=0,la=0,za=Qa,M=yb.x+(qd.x-yb.x)*za,la=yb.y+(qd.y-yb.y)*za;if(null!=G&&c.geom.ZPP_VecMath.vec_dsq(M,la,G.x,G.y)<f.Config.epsilon)break;c.geom.ZPP_Collide.flowpoly.add(c.geom.ZPP_Vec2.get(M,la,null));null==G&&(G=c.geom.ZPP_Collide.flowpoly.head.elt);
V=Wa;P=Xa;H=!H;Cc=2}else{var Cb=J;if(null!=G&&c.geom.ZPP_VecMath.vec_dsq(Cb.x,Cb.y,G.x,G.y)<f.Config.epsilon)break;c.geom.ZPP_Collide.flowpoly.add(Cb);null==G&&(G=c.geom.ZPP_Collide.flowpoly.head.elt);Cc=1}else if(V=V.next,P++,null==V&&(V=b.polygon.gverts.next,P=0),e[P]){var Na=c.geom.ZPP_Collide.flowpoly.head.elt,Db=V,xa=J,Nb=J.next;null==Nb&&(Nb=a.polygon.gverts.next);var Ga=-1,Za=null,ka=0,Jb=0,sb=Nb,oa=Nb;do{var $a=oa,lb=0;if(function(a){var b=a=0;a=xa.x-Na.x;var b=xa.y-Na.y,d=0,c=0,d=$a.x-xa.x,
c=$a.y-xa.y,e=0,k=0,e=Db.x-Na.x,k=Db.y-Na.y,g=c*e-d*k;g*g>f.Config.epsilon*f.Config.epsilon?(g=1/g,e=(k*a-e*b)*g,e>f.Config.epsilon&&e<1-f.Config.epsilon?(a=(c*a-d*b)*g,a>f.Config.epsilon&&a<1-f.Config.epsilon?(lb=e,a=!0):a=!1):a=!1):a=!1;return a}(this)&&lb>=Ga)if(Za=J,ka=O,++Jb==Cc){Ga=lb;oa=sb;break}else Ga=lb;xa=$a;J=oa;O++;O>=a.polygon.edgeCnt&&(O=0);oa=oa.next;null==oa&&(oa=a.polygon.gverts.next)}while(0);for(;oa!=sb;){var Kb=oa,rd=0;if(function(a){var b=a=0;a=xa.x-Na.x;var b=xa.y-Na.y,d=0,
c=0,d=Kb.x-xa.x,c=Kb.y-xa.y,e=0,k=0,e=Db.x-Na.x,k=Db.y-Na.y,g=c*e-d*k;g*g>f.Config.epsilon*f.Config.epsilon?(g=1/g,e=(k*a-e*b)*g,e>f.Config.epsilon&&e<1-f.Config.epsilon?(a=(c*a-d*b)*g,a>f.Config.epsilon&&a<1-f.Config.epsilon?(rd=e,a=!0):a=!1):a=!1):a=!1;return a}(this)&&rd>=Ga)if(Za=J,ka=O,++Jb==Cc){Ga=rd;oa=sb;break}else Ga=rd;xa=Kb;J=oa;O++;O>=a.polygon.edgeCnt&&(O=0);oa=oa.next;null==oa&&(oa=a.polygon.gverts.next)}if(null==Za)break;var mb=Za,nb=Za.next;null==nb&&(nb=a.polygon.gverts.next);var zb=
nb,eb=0,fb=0,gb=Ga,eb=mb.x+(zb.x-mb.x)*gb,fb=mb.y+(zb.y-mb.y)*gb;if(null!=G&&c.geom.ZPP_VecMath.vec_dsq(eb,fb,G.x,G.y)<f.Config.epsilon)break;c.geom.ZPP_Collide.flowpoly.add(c.geom.ZPP_Vec2.get(eb,fb,null));null==G&&(G=c.geom.ZPP_Collide.flowpoly.head.elt);J=Za;O=ka;H=!H;Cc=2}else{var Eb=V;if(null!=G&&c.geom.ZPP_VecMath.vec_dsq(Eb.x,Eb.y,G.x,G.y)<f.Config.epsilon)break;c.geom.ZPP_Collide.flowpoly.add(Eb);null==G&&(G=c.geom.ZPP_Collide.flowpoly.head.elt);Cc=1}if(null!=c.geom.ZPP_Collide.flowpoly.head&&
null!=c.geom.ZPP_Collide.flowpoly.head.next&&null!=c.geom.ZPP_Collide.flowpoly.head.next.next){for(var ab=0,Ba=0,ua=0,ab=ua=Ba=0,Ca=c.geom.ZPP_Collide.flowpoly.head,Vb=Ca.elt,Ca=Ca.next,ya=Ca.elt,Ca=Ca.next;null!=Ca;)var tb=Ca.elt,ab=ab+ya.x*(tb.y-Vb.y),de=tb.y*ya.x-tb.x*ya.y,Ba=Ba+(ya.x+tb.x)*de,ua=ua+(ya.y+tb.y)*de,Vb=ya,ya=tb,Ca=Ca.next;var Ca=c.geom.ZPP_Collide.flowpoly.head,L=Ca.elt,ab=ab+ya.x*(L.y-Vb.y),N=L.y*ya.x-L.x*ya.y,Ba=Ba+(ya.x+L.x)*N,ua=ua+(ya.y+L.y)*N,Vb=ya,ya=L,Ca=Ca.next,ub=Ca.elt,
ab=ab+ya.x*(ub.y-Vb.y),wa=ub.y*ya.x-ub.x*ya.y,Ba=Ba+(ya.x+ub.x)*wa,ua=ua+(ya.y+ub.y)*wa,ab=.5*ab,Oa=1/(6*ab),Ba=Ba*Oa,ua=ua*Oa;d.overlap=-ab;d.centroidx=Ba;d.centroidy=ua;null;return!0}}}return!1}for(var Va=[],Da=!0,Fb=null,Wb=null,ee=-1E100,ib=!0,Ka=b.polygon.gverts.next,hc=0,Xb=b.polygon.edges.head;null!=Xb;){var Yb=Xb.elt,ad=Yb.gnormx*a.circle.worldCOMx+Yb.gnormy*a.circle.worldCOMy;if(ad>Yb.gprojection+a.circle.radius){ib=!1;break}else ad+a.circle.radius>Yb.gprojection+f.Config.epsilon&&(Da=!1,
Va[hc]=!0);ad-=Yb.gprojection+a.circle.radius;ad>ee&&(ee=ad,Fb=Yb,Wb=Ka);Ka=Ka.next;hc++;Xb=Xb.next}if(ib){if(Da)return d.overlap=a.circle.area,d.centroidx=a.circle.worldCOMx,d.centroidy=a.circle.worldCOMy,null,!0;var Ua=Wb,Ob;Ob=null==Wb.next?b.polygon.gverts.next:Wb.next;var kc=a.circle.worldCOMy*Fb.gnormx-a.circle.worldCOMx*Fb.gnormy;if(kc<=Ua.y*Fb.gnormx-Ua.x*Fb.gnormy?function(b){b=a.circle.radius;var d=0,c=0,d=Ua.x-a.circle.worldCOMx,c=Ua.y-a.circle.worldCOMy;return d*d+c*c<=b*b}(this):kc>=
Ob.y*Fb.gnormx-Ob.x*Fb.gnormy?function(b){b=a.circle.radius;var d=0,c=0,d=Ob.x-a.circle.worldCOMx,c=Ob.y-a.circle.worldCOMy;return d*d+c*c<=b*b}(this):1){for(var lc=[],Ea=0,wb=!0,Ha=null,Zb=0,Pb=b.polygon.gverts.next;null!=Pb;){var mc=Pb,wc=c.geom.ZPP_VecMath.vec_dsq(mc.x,mc.y,a.circle.worldCOMx,a.circle.worldCOMy);(lc[Ea]=wc<=a.circle.radius*a.circle.radius)?(Zb=Ea,Ha=Pb):wb=!1;Ea++;Pb=Pb.next}if(wb)return b.polygon.validate_worldCOM(),d.overlap=b.polygon.area,d.centroidx=b.polygon.worldCOMx,d.centroidy=
b.polygon.worldCOMy,null,!0;for(;null!=c.geom.ZPP_Collide.flowpoly.head;){var nc=c.geom.ZPP_Collide.flowpoly.pop_unsafe();if(!nc._inuse){var Ia=nc;null!=Ia.outer&&(Ia.outer.zpp_inner=null,Ia.outer=null);Ia._isimmutable=null;Ia._validate=null;Ia._invalidate=null;Ia.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=Ia}}c.geom.ZPP_Collide.flowsegs.clear();var va=null,bb=1;null==Ha?(Ha=b.polygon.gverts.next,bb=2):c.geom.ZPP_Collide.flowpoly.add(va=Ha);for(;0!=bb;)if(1==bb)if(Ha=Ha.next,null==Ha&&
(Ha=b.polygon.gverts.next),Zb++,Zb>=b.polygon.edgeCnt&&(Zb=0),lc[Zb]){if(c.geom.ZPP_VecMath.vec_dsq(va.x,va.y,Ha.x,Ha.y)<f.Config.epsilon)break;c.geom.ZPP_Collide.flowpoly.add(Ha)}else{var vb=c.geom.ZPP_Collide.flowpoly.head.elt,$b=Ha,oc=0,ma=0,oc=$b.x-vb.x,ma=$b.y-vb.y,na=0,ac=0,na=vb.x-a.circle.worldCOMx,ac=vb.y-a.circle.worldCOMy,Qb=oc*oc+ma*ma,pc=2*(na*oc+ac*ma),Sb=Math.sqrt(pc*pc-4*Qb*(na*na+ac*ac-a.circle.radius*a.circle.radius)),Qb=1/(2*Qb),Tb=(-pc-Sb)*Qb,ic=0,qb=0,qc=Tb<f.Config.epsilon?(-pc+
Sb)*Qb:Tb,ic=vb.x+($b.x-vb.x)*qc,qb=vb.y+($b.y-vb.y)*qc;if(c.geom.ZPP_VecMath.vec_dsq(va.x,va.y,ic,qb)<f.Config.epsilon)break;c.geom.ZPP_Collide.flowpoly.add(c.geom.ZPP_Vec2.get(ic,qb,null));bb=2}else if(2==bb){var bc=Ha.next;null==bc&&(bc=b.polygon.gverts.next);var W=Ha,bb=0,Gb=bc,ba=bc;do{var hb=ba,cc=Zb+1;cc==b.polygon.edgeCnt&&(cc=0);if(Va[Zb])if(lc[cc]){var Rb=0,dc=0,Rb=hb.x-W.x,dc=hb.y-W.y,rc=0,cb=0,rc=W.x-a.circle.worldCOMx,cb=W.y-a.circle.worldCOMy,Tc=Rb*Rb+dc*dc,ec=2*(rc*Rb+cb*dc),sc=Math.sqrt(ec*
ec-4*Tc*(rc*rc+cb*cb-a.circle.radius*a.circle.radius)),Tc=1/(2*Tc),Dc=(-ec-sc)*Tc,Mb=0,hd=0,Ec=Dc<f.Config.epsilon?(-ec+sc)*Tc:Dc,Mb=W.x+(hb.x-W.x)*Ec,hd=W.y+(hb.y-W.y)*Ec;if(c.geom.ZPP_VecMath.vec_dsq(va.x,va.y,Mb,hd)<f.Config.epsilon){bb=0;ba=Gb;break}var Fc=c.geom.ZPP_Vec2.get(Mb,hd,null);c.geom.ZPP_Collide.flowsegs.add(c.geom.ZPP_Collide.flowpoly.head.elt);c.geom.ZPP_Collide.flowsegs.add(Fc);c.geom.ZPP_Collide.flowpoly.add(Fc);bb=1;ba=Gb;break}else{var xc=0,Gc=0,Mc,Hb=0,fc=0,Hb=hb.x-W.x,fc=hb.y-
W.y,tc=0,bd=0,tc=W.x-a.circle.worldCOMx,bd=W.y-a.circle.worldCOMy,Nc=Hb*Hb+fc*fc,fa=2*(tc*Hb+bd*fc),uc=fa*fa-4*Nc*(tc*tc+bd*bd-a.circle.radius*a.circle.radius);uc*uc<f.Config.epsilon?(xc=0>uc?10:Gc=-fa/(2*Nc),Mc=!1):(uc=Math.sqrt(uc),Nc=1/(2*Nc),xc=(-fa-uc)*Nc,Gc=(-fa+uc)*Nc,Mc=!0);if(xc<1-f.Config.epsilon&&Gc>f.Config.epsilon){var id=0,Uc=0,Vc=xc,id=W.x+(hb.x-W.x)*Vc,Uc=W.y+(hb.y-W.y)*Vc;if(null!=va&&c.geom.ZPP_VecMath.vec_dsq(va.x,va.y,id,Uc)<f.Config.epsilon){bb=0;ba=Gb;break}var Wc=c.geom.ZPP_Vec2.get(id,
Uc,null);null!=c.geom.ZPP_Collide.flowpoly.head&&(c.geom.ZPP_Collide.flowsegs.add(c.geom.ZPP_Collide.flowpoly.head.elt),c.geom.ZPP_Collide.flowsegs.add(Wc));c.geom.ZPP_Collide.flowpoly.add(Wc);null==va&&(va=c.geom.ZPP_Collide.flowpoly.head.elt);if(Mc){var sd=0,Xc=0,Oc=Gc,sd=W.x+(hb.x-W.x)*Oc,Xc=W.y+(hb.y-W.y)*Oc;c.geom.ZPP_Collide.flowpoly.add(c.geom.ZPP_Vec2.get(sd,Xc,null))}}}W=hb;Ha=ba;Zb=cc;ba=ba.next;null==ba&&(ba=b.polygon.gverts.next)}while(0);for(;ba!=Gb;){var vc=ba,td=Zb+1;td==b.polygon.edgeCnt&&
(td=0);if(Va[Zb])if(lc[td]){var ud=0,vd=0,ud=vc.x-W.x,vd=vc.y-W.y,wd=0,xd=0,wd=W.x-a.circle.worldCOMx,xd=W.y-a.circle.worldCOMy,jd=ud*ud+vd*vd,yd=2*(wd*ud+xd*vd),Pc=Math.sqrt(yd*yd-4*jd*(wd*wd+xd*xd-a.circle.radius*a.circle.radius)),jd=1/(2*jd),Qc=(-yd-Pc)*jd,Sd=0,Td=0,Rc=Qc<f.Config.epsilon?(-yd+Pc)*jd:Qc,Sd=W.x+(vc.x-W.x)*Rc,Td=W.y+(vc.y-W.y)*Rc;if(c.geom.ZPP_VecMath.vec_dsq(va.x,va.y,Sd,Td)<f.Config.epsilon){bb=0;ba=Gb;break}var fe=c.geom.ZPP_Vec2.get(Sd,Td,null);c.geom.ZPP_Collide.flowsegs.add(c.geom.ZPP_Collide.flowpoly.head.elt);
c.geom.ZPP_Collide.flowsegs.add(fe);c.geom.ZPP_Collide.flowpoly.add(fe);bb=1;ba=Gb;break}else{var zd=0,Ad=0,Ud,Bd=0,Cd=0,Bd=vc.x-W.x,Cd=vc.y-W.y,Dd=0,Ed=0,Dd=W.x-a.circle.worldCOMx,Ed=W.y-a.circle.worldCOMy,cd=Bd*Bd+Cd*Cd,kd=2*(Dd*Bd+Ed*Cd),Yc=kd*kd-4*cd*(Dd*Dd+Ed*Ed-a.circle.radius*a.circle.radius);Yc*Yc<f.Config.epsilon?(zd=0>Yc?10:Ad=-kd/(2*cd),Ud=!1):(Yc=Math.sqrt(Yc),cd=1/(2*cd),zd=(-kd-Yc)*cd,Ad=(-kd+Yc)*cd,Ud=!0);if(zd<1-f.Config.epsilon&&Ad>f.Config.epsilon){var Vd=0,Wd=0,ge=zd,Vd=W.x+(vc.x-
W.x)*ge,Wd=W.y+(vc.y-W.y)*ge;if(null!=va&&c.geom.ZPP_VecMath.vec_dsq(va.x,va.y,Vd,Wd)<f.Config.epsilon){bb=0;ba=Gb;break}var he=c.geom.ZPP_Vec2.get(Vd,Wd,null);null!=c.geom.ZPP_Collide.flowpoly.head&&(c.geom.ZPP_Collide.flowsegs.add(c.geom.ZPP_Collide.flowpoly.head.elt),c.geom.ZPP_Collide.flowsegs.add(he));c.geom.ZPP_Collide.flowpoly.add(he);null==va&&(va=c.geom.ZPP_Collide.flowpoly.head.elt);if(Ud){var ie=0,je=0,ke=Ad,ie=W.x+(vc.x-W.x)*ke,je=W.y+(vc.y-W.y)*ke;c.geom.ZPP_Collide.flowpoly.add(c.geom.ZPP_Vec2.get(ie,
je,null))}}}W=vc;Ha=ba;Zb=td;ba=ba.next;null==ba&&(ba=b.polygon.gverts.next)}}if(null==c.geom.ZPP_Collide.flowpoly.head)return!1;if(null==c.geom.ZPP_Collide.flowpoly.head.next){for(var le=!0,Fd=b.polygon.edges.head;null!=Fd;){var Xd=Fd.elt;if(Xd.gnormx*a.circle.worldCOMx+Xd.gnormy*a.circle.worldCOMy>Xd.gprojection){le=!1;break}Fd=Fd.next}return le?(d.overlap=a.circle.area,d.centroidx=a.circle.worldCOMx,d.centroidy=a.circle.worldCOMy,null,!0):!1}var Zc=0,$c=0,dd=0;if(null!=c.geom.ZPP_Collide.flowpoly.head.next.next){for(var jc=
0,yc=0,zc=0,jc=zc=yc=0,Lb=c.geom.ZPP_Collide.flowpoly.head,ld=Lb.elt,Lb=Lb.next,ob=Lb.elt,Lb=Lb.next;null!=Lb;)var ed=Lb.elt,jc=jc+ob.x*(ed.y-ld.y),me=ed.y*ob.x-ed.x*ob.y,yc=yc+(ob.x+ed.x)*me,zc=zc+(ob.y+ed.y)*me,ld=ob,ob=ed,Lb=Lb.next;var Lb=c.geom.ZPP_Collide.flowpoly.head,fd=Lb.elt,jc=jc+ob.x*(fd.y-ld.y),ne=fd.y*ob.x-fd.x*ob.y,yc=yc+(ob.x+fd.x)*ne,zc=zc+(ob.y+fd.y)*ne,ld=ob,ob=fd,Lb=Lb.next,md=Lb.elt,jc=jc+ob.x*(md.y-ld.y),oe=md.y*ob.x-md.x*ob.y,yc=yc+(ob.x+md.x)*oe,zc=zc+(ob.y+md.y)*oe,jc=.5*
jc,pe=1/(6*jc),yc=yc*pe,zc=zc*pe,qe=-jc,Zc=Zc+yc*qe,$c=$c+zc*qe,dd=dd-jc}else c.geom.ZPP_Collide.flowsegs.add(c.geom.ZPP_Collide.flowpoly.head.elt),c.geom.ZPP_Collide.flowsegs.add(c.geom.ZPP_Collide.flowpoly.head.next.elt);for(;null!=c.geom.ZPP_Collide.flowsegs.head;)var Gd=c.geom.ZPP_Collide.flowsegs.pop_unsafe(),Hd=c.geom.ZPP_Collide.flowsegs.pop_unsafe(),re=0,se=0,re=Hd.x-Gd.x,se=Hd.y-Gd.y,Hc=0,Ic=0,Hc=re,Ic=se,te=1/Math.sqrt(Hc*Hc+Ic*Ic),Hc=Hc*te,Ic=Ic*te,gd=Hc,Hc=-Ic,Ic=gd,Ac=0,Bc=0,Ac=Gd.x+
Hd.x,Bc=Gd.y+Hd.y,Ac=.5*Ac,Bc=.5*Bc,Ac=Ac-1*a.circle.worldCOMx,Bc=Bc-1*a.circle.worldCOMy,Yd=0,ue=0,ve=Hc*Ac+Ic*Bc,Id=ve/a.circle.radius,nd=Math.sqrt(1-Id*Id),we=Math.acos(Id),Yd=a.circle.radius*(a.circle.radius*we-ve*nd),ue=.6666666666666666*a.circle.radius*nd*nd*nd/(we-Id*nd),Ac=a.circle.worldCOMx,Bc=a.circle.worldCOMy,xe=ue,Ac=Ac+Hc*xe,Bc=Bc+Ic*xe,ye=Yd,Zc=Zc+Ac*ye,$c=$c+Bc*ye,dd=dd+Yd;var ze=1/dd,Zc=Zc*ze,$c=$c*ze;d.overlap=dd;d.centroidx=Zc;d.centroidy=$c;null;return!0}}return!1}var pb=a.circle,
Ab=b.circle,Jd=0,Kd=0,Jd=Ab.worldCOMx-pb.worldCOMx,Kd=Ab.worldCOMy-pb.worldCOMy,Ae=pb.radius+Ab.radius,Zd=Jd*Jd+Kd*Kd;if(Zd>Ae*Ae)return!1;if(Zd<f.Config.epsilon*f.Config.epsilon)pb.radius<Ab.radius?(d.overlap=pb.area,d.centroidx=pb.worldCOMx,d.centroidy=pb.worldCOMy):(d.overlap=Ab.area,d.centroidx=Ab.worldCOMx,d.centroidy=Ab.worldCOMy);else{var Ld=Math.sqrt(Zd),Be=1/Ld,Md=.5*(Ld-(Ab.radius*Ab.radius-pb.radius*pb.radius)*Be);if(Md<=-pb.radius)d.overlap=pb.area,d.centroidx=pb.worldCOMx,d.centroidy=
pb.worldCOMy;else{var $d=Ld-Md;if($d<=-Ab.radius)d.overlap=Ab.area,d.centroidx=Ab.worldCOMx,d.centroidy=Ab.worldCOMy;else{var ae=0,Ce=0,be=0,De=0,Nd=Md/pb.radius,od=Math.sqrt(1-Nd*Nd),Ee=Math.acos(Nd),ae=pb.radius*(pb.radius*Ee-Md*od),Ce=.6666666666666666*pb.radius*od*od*od/(Ee-Nd*od),Od=$d/Ab.radius,pd=Math.sqrt(1-Od*Od),Fe=Math.acos(Od),be=Ab.radius*(Ab.radius*Fe-$d*pd),De=.6666666666666666*Ab.radius*pd*pd*pd/(Fe-Od*pd),Ge=ae+be,He=(Ce*ae+(Ld-De)*be)/Ge*Be;d.overlap=Ge;d.centroidx=pb.worldCOMx+
Jd*He;d.centroidy=pb.worldCOMy+Kd*He}}}null;return!0};c.geom.ZPP_Convex=function(){};m["zpp_nape.geom.ZPP_Convex"]=c.geom.ZPP_Convex;c.geom.ZPP_Convex.__name__=["zpp_nape","geom","ZPP_Convex"];c.geom.ZPP_Convex.isinner=function(a,b,d){var c=0,e=0,c=a.x-b.x,e=a.y-b.y,g=a=0;a=d.x-b.x;g=d.y-b.y;return 0<=g*c-a*e};c.geom.ZPP_Convex.optimise=function(a){var b=a.vertices,d=a.vertices;if(null!=b){do b.sort(),b=b.next;while(b!=d)}a=d=a.vertices;if(null!=d){do{for(var b=d,k=b.prev,e=null,g=b.diagonals.head;null!=
g;){var f=g.elt;if(c.geom.ZPP_Convex.isinner(null==g.next?b.next:g.next.elt,b,k)){for(var h=!0,l=f,m=l.prev,n=null,t=l.diagonals.head;null!=t;){var u=t.elt;if(u==b){h=c.geom.ZPP_Convex.isinner(null==t.next?l.next:t.next.elt,l,m);break}m=u;n=t;t=t.next}h?(g=b.diagonals.erase(e),l.diagonals.erase(n)):(k=f,e=g,g=g.next)}else e=g,k=f,g=g.next}d=d.next}while(d!=a)}};c.geom.ZPP_ConvexRayResult=function(){this.toiDistance=0;this.next=null;this.inner=!1;this.normal=this.shape=this.convex=this.position=this.ray=
null};m["zpp_nape.geom.ZPP_ConvexRayResult"]=c.geom.ZPP_ConvexRayResult;c.geom.ZPP_ConvexRayResult.__name__=["zpp_nape","geom","ZPP_ConvexRayResult"];c.geom.ZPP_ConvexRayResult.getRay=function(a,b,d,k){var e;null==c.geom.ZPP_ConvexRayResult.rayPool?(c.geom.ZPP_ConvexRayResult.internal=!0,e=new f.geom.RayResult,e.zpp_inner=new c.geom.ZPP_ConvexRayResult,e.zpp_inner.ray=e,c.geom.ZPP_ConvexRayResult.internal=!1):(e=c.geom.ZPP_ConvexRayResult.rayPool.ray,c.geom.ZPP_ConvexRayResult.rayPool=c.geom.ZPP_ConvexRayResult.rayPool.next,
e.zpp_inner.next=null);var g=e.zpp_inner;g.normal=a;a.zpp_inner._immutable=!0;g.toiDistance=b;g.inner=d;g.shape=k;return e};c.geom.ZPP_ConvexRayResult.getConvex=function(a,b,d,k){var e;null==c.geom.ZPP_ConvexRayResult.convexPool?(c.geom.ZPP_ConvexRayResult.internal=!0,e=new f.geom.ConvexResult,e.zpp_inner=new c.geom.ZPP_ConvexRayResult,e.zpp_inner.convex=e,c.geom.ZPP_ConvexRayResult.internal=!1):(e=c.geom.ZPP_ConvexRayResult.convexPool.convex,c.geom.ZPP_ConvexRayResult.convexPool=c.geom.ZPP_ConvexRayResult.convexPool.next,
e.zpp_inner.next=null);var g=e.zpp_inner;g.normal=a;g.position=b;a.zpp_inner._immutable=!0;b.zpp_inner._immutable=!0;g.toiDistance=d;g.shape=k;return e};c.geom.ZPP_ConvexRayResult.prototype={normal:null,shape:null,convex:null,position:null,ray:null,inner:null,next:null,toiDistance:null,disposed:function(){if(null!=this.next)throw"Error: This object has been disposed of and cannot be used";},free:function(){this.normal.zpp_inner._immutable=!1;this.normal.dispose();null!=this.position&&(this.position.zpp_inner._immutable=
!1,this.position.dispose());this.shape=null;this.toiDistance=0;null!=this.convex?(this.next=c.geom.ZPP_ConvexRayResult.convexPool,c.geom.ZPP_ConvexRayResult.convexPool=this):(this.next=c.geom.ZPP_ConvexRayResult.rayPool,c.geom.ZPP_ConvexRayResult.rayPool=this)},__class__:c.geom.ZPP_ConvexRayResult};c.geom.ZPP_CutVert=function(){this.used=!1;this.rank=0;this.parent=null;this.positive=!1;this.value=0;this.vert=null;this.posx=this.posy=0;this.prev=this.next=null};m["zpp_nape.geom.ZPP_CutVert"]=c.geom.ZPP_CutVert;
c.geom.ZPP_CutVert.__name__=["zpp_nape","geom","ZPP_CutVert"];c.geom.ZPP_CutVert.path=function(a){var b;null==c.geom.ZPP_CutVert.zpp_pool?b=new c.geom.ZPP_CutVert:(b=c.geom.ZPP_CutVert.zpp_pool,c.geom.ZPP_CutVert.zpp_pool=b.next,b.next=null);null;b.vert=a;b.parent=b;b.rank=0;b.used=!1;return b};c.geom.ZPP_CutVert.prototype={prev:null,next:null,posx:null,posy:null,vert:null,value:null,positive:null,parent:null,rank:null,used:null,alloc:function(){},free:function(){this.parent=this.vert=null},__class__:c.geom.ZPP_CutVert};
c.geom.ZPP_CutInt=function(){this.path0=this.end=this.start=this.path1=null;this.virtualint=this.vertex=!1;this.time=0;this.next=null};m["zpp_nape.geom.ZPP_CutInt"]=c.geom.ZPP_CutInt;c.geom.ZPP_CutInt.__name__=["zpp_nape","geom","ZPP_CutInt"];c.geom.ZPP_CutInt.get=function(a,b,d,k,e,g,f){null==f&&(f=!1);null==g&&(g=!1);var h;null==c.geom.ZPP_CutInt.zpp_pool?h=new c.geom.ZPP_CutInt:(h=c.geom.ZPP_CutInt.zpp_pool,c.geom.ZPP_CutInt.zpp_pool=h.next,h.next=null);null;h.virtualint=g;h.end=b;h.start=d;h.path0=
k;h.path1=e;h.time=a;h.vertex=f;return h};c.geom.ZPP_CutInt.prototype={next:null,time:null,virtualint:null,vertex:null,path0:null,end:null,start:null,path1:null,alloc:function(){},free:function(){this.path0=this.path1=this.end=this.start=null},__class__:c.geom.ZPP_CutInt};c.geom.ZPP_Cutter=function(){};m["zpp_nape.geom.ZPP_Cutter"]=c.geom.ZPP_Cutter;c.geom.ZPP_Cutter.__name__=["zpp_nape","geom","ZPP_Cutter"];c.geom.ZPP_Cutter.run=function(a,b,d,k,e,g){var p=0,h=0;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();p=b.zpp_inner.x;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();var h=b.zpp_inner.y,l=0,m=0;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();l=d.zpp_inner.x-p;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();var m=d.zpp_inner.y-h,n;n=k?0:Math.NEGATIVE_INFINITY;var t;t=e?1:Math.POSITIVE_INFINITY;var u=-(h*l-p*m),A=
null,q=!1,v=a;do{var y;null==c.geom.ZPP_CutVert.zpp_pool?y=new c.geom.ZPP_CutVert:(y=c.geom.ZPP_CutVert.zpp_pool,c.geom.ZPP_CutVert.zpp_pool=y.next,y.next=null);null;y.vert=v;y.posx=y.vert.x;y.posy=y.vert.y;y.value=y.posy*l-y.posx*m+u;y.positive=0<y.value;0==y.value&&(q=!0);var C=y;null==A?A=C.prev=C.next=C:(C.prev=A,C.next=A.next,A.next.prev=C,A.next=C);A=C;v=v.next}while(v!=a);if(q){var z=null,E=A,D=A;if(null!=E){var r=E;do{var G=r;if(0!=G.value){z=G;break}r=r.next}while(r!=D)}var F=0,H=0,F=l,H=
m,J=1/Math.sqrt(F*F+H*H),F=F*J,H=H*J,O=F,F=-H,H=O,V=null,P=z;do{if(0==P.value||null!=V&&P!=V.next){var R=V.value*P.value;if(0!=R){var Q=V.next,S;if(0<R)S=V.positive;else{var U=Q.next,T=0,Y=0,T=Q.posx+U.posx,Y=Q.posy+U.posy,T=.5*T,Y=.5*Y,ga=T+1E-8*F,ca=Y+1E-8*H,ia=!1,aa=a,Jc=a;if(null!=aa){var Bb=aa;do{var X=Bb,Ib=X.prev;(X.y<ca&&Ib.y>=ca||Ib.y<ca&&X.y>=ca)&&(X.x<=ga||Ib.x<=ga)&&X.x+(ca-X.y)/(Ib.y-X.y)*(Ib.x-X.x)<ga&&(ia=!ia);Bb=Bb.next}while(Bb!=Jc)}S=ia}var gc=Q,Kc=P;if(null!=gc){var sa=gc;do sa.positive=
S,sa=sa.next;while(sa!=Kc)}V=P}}else V=P;P=P.next}while(P!=z);if(0==P.value||null!=V&&P!=V.next){var la=V.value*P.value;if(0!=la){var Fa=V.next,Aa;if(0<la)Aa=V.positive;else{var za=Fa.next,I=0,Sc=0,I=Fa.posx+za.posx,Sc=Fa.posy+za.posy,I=.5*I,Sc=.5*Sc,rb=I+1E-8*F,ta=Sc+1E-8*H,jb=!1;if(null!=a){var Pa=a;do{var La=Pa,Ub=La.prev;(La.y<ta&&Ub.y>=ta||Ub.y<ta&&La.y>=ta)&&(La.x<=rb||Ub.x<=rb)&&La.x+(ta-La.y)/(Ub.y-La.y)*(Ub.x-La.x)<rb&&(jb=!jb);Pa=Pa.next}while(Pa!=a)}Aa=jb}var Z=P;if(null!=Fa){var wa=Fa;
do wa.positive=Aa,wa=wa.next;while(wa!=Z)}V=P}}else V=P;P=P.next}null==c.geom.ZPP_Cutter.ints&&(c.geom.ZPP_Cutter.ints=new c.util.ZNPList_ZPP_CutInt);null==c.geom.ZPP_Cutter.paths&&(c.geom.ZPP_Cutter.paths=new c.util.ZNPList_ZPP_CutVert);var K=null,kb=c.geom.ZPP_GeomVert.get(A.posx,A.posy);null==K?K=kb.prev=kb.next=kb:(kb.next=K,kb.prev=K.prev,K.prev.next=kb,K.prev=kb);kb;var xb=K,Lc=c.geom.ZPP_CutVert.path(K);c.geom.ZPP_Cutter.paths.add(Lc);var pa=A;do{var da=pa.next,qa=c.geom.ZPP_GeomVert.get(da.posx,
da.posy);if(pa.positive==da.positive){var ja=qa;null==K?K=ja.prev=ja.next=ja:(ja.next=K,ja.prev=K.prev,K.prev.next=ja,K.prev=ja);ja}else{var Qa=0,Wa=0,Qa=da.posx-pa.posx,Wa=da.posy-pa.posy,Xa=m*Qa-l*Wa,Xa=1/Xa,Ya=0,Ra=0,Ya=p-pa.posx,Ra=h-pa.posy,ha=(Wa*Ya-Qa*Ra)*Xa;if(ha<n||ha>t){c.geom.ZPP_Cutter.ints.add(c.geom.ZPP_CutInt.get(ha,null,null,null,null,!0,null));var Sa=qa;null==K?K=Sa.prev=Sa.next=Sa:(Sa.next=K,Sa.prev=K.prev,K.prev.next=Sa,K.prev=Sa);Sa}else if(0==pa.value){var Ma=K.prev,K=null,ea=
c.geom.ZPP_GeomVert.get(Ma.x,Ma.y);null==K?K=ea.prev=ea.next=ea:(ea.next=K,ea.prev=K.prev,K.prev.next=ea,K.prev=ea);ea;var Ta=qa;null==K?K=Ta.prev=Ta.next=Ta:(Ta.next=K,Ta.prev=K.prev,K.prev.next=Ta,K.prev=Ta);Ta;var yb=c.geom.ZPP_Cutter.paths.head.elt;c.geom.ZPP_Cutter.paths.add(c.geom.ZPP_CutVert.path(K));c.geom.ZPP_Cutter.ints.add(c.geom.ZPP_CutInt.get(ha,Ma,K,yb,c.geom.ZPP_Cutter.paths.head.elt,!0,null))}else if(0==da.value){var db=qa;null==K?K=db.prev=db.next=db:(db.next=K,db.prev=K.prev,K.prev.next=
db,K.prev=db);db;var qd=K.prev,K=null,M=c.geom.ZPP_GeomVert.get(da.posx,da.posy);null==K?K=M.prev=M.next=M:(M.next=K,M.prev=K.prev,K.prev.next=M,K.prev=M);M;var Va=c.geom.ZPP_Cutter.paths.head.elt;c.geom.ZPP_Cutter.paths.add(c.geom.ZPP_CutVert.path(K));c.geom.ZPP_Cutter.ints.add(c.geom.ZPP_CutInt.get(ha,qd,K,Va,c.geom.ZPP_Cutter.paths.head.elt,!0,null))}else{var Ua=(m*Ya-l*Ra)*Xa,Cb=0,Na=0,Cb=pa.posx,Na=pa.posy,Db=Ua,Cb=Cb+Qa*Db,Na=Na+Wa*Db,xa=c.geom.ZPP_GeomVert.get(Cb,Na);null==K?K=xa.prev=xa.next=
xa:(xa.next=K,xa.prev=K.prev,K.prev.next=xa,K.prev=xa);xa;var Nb=K.prev,K=null,Ga=c.geom.ZPP_GeomVert.get(Cb,Na);null==K?K=Ga.prev=Ga.next=Ga:(Ga.next=K,Ga.prev=K.prev,K.prev.next=Ga,K.prev=Ga);Ga;var Za=qa;null==K?K=Za.prev=Za.next=Za:(Za.next=K,Za.prev=K.prev,K.prev.next=Za,K.prev=Za);Za;var ka=c.geom.ZPP_Cutter.paths.head.elt;c.geom.ZPP_Cutter.paths.add(c.geom.ZPP_CutVert.path(K));c.geom.ZPP_Cutter.ints.add(c.geom.ZPP_CutInt.get(ha,Nb,K,ka,c.geom.ZPP_Cutter.paths.head.elt,!1,null))}}pa=pa.next}while(pa!=
A);var Jb=K.prev;Jb.next.prev=xb.prev;xb.prev.next=Jb.next;Jb.next=xb;xb.prev=Jb;var sb=c.geom.ZPP_Cutter.paths.head.elt,oa;if(Lc==Lc.parent)oa=Lc;else{for(var $a=Lc,lb=null;$a!=$a.parent;){var Kb=$a.parent;$a.parent=lb;lb=$a;$a=Kb}for(;null!=lb;){var Oa=lb.parent;lb.parent=$a;lb=Oa}oa=$a}var mb;if(sb==sb.parent)mb=sb;else{for(var nb=sb,zb=null;nb!=nb.parent;){var eb=nb.parent;nb.parent=zb;zb=nb;nb=eb}for(;null!=zb;){var fb=zb.parent;zb.parent=nb;zb=fb}mb=nb}oa!=mb&&(oa.rank<mb.rank?oa.parent=mb:
oa.rank>mb.rank?mb.parent=oa:(mb.parent=oa,oa.rank++));var gb=c.geom.ZPP_Cutter.ints;if(null!=gb.head&&null!=gb.head.next){var Eb=gb.head,ab=null,Ba=null,ua=null,Ca=null,Vb=1,ya,tb,Da;do{ya=0;Ba=Eb;for(ab=Eb=null;null!=Ba;){ya++;ua=Ba;tb=0;for(Da=Vb;null!=ua&&tb<Vb;)tb++,ua=ua.next;for(;0<tb||0<Da&&null!=ua;)0==tb?(Ca=ua,ua=ua.next,Da--):0==Da||null==ua?(Ca=Ba,Ba=Ba.next,tb--):Ba.elt.time<ua.elt.time?(Ca=Ba,Ba=Ba.next,tb--):(Ca=ua,ua=ua.next,Da--),null!=ab?ab.next=Ca:Eb=Ca,ab=Ca;Ba=ua}ab.next=null;
Vb<<=1}while(1<ya);gb.head=Eb;gb.modified=!0;gb.pushmod=!0}for(;null!=c.geom.ZPP_Cutter.ints.head;){var L=c.geom.ZPP_Cutter.ints.pop_unsafe(),N=c.geom.ZPP_Cutter.ints.pop_unsafe();if(!L.virtualint&&!N.virtualint){L.end.next.prev=N.start.prev;N.start.prev.next=L.end.next;L.end.next=N.start;N.start.prev=L.end;N.end.next.prev=L.start.prev;L.start.prev.next=N.end.next;N.end.next=L.start;L.start.prev=N.end;var ub;if(L.path0==L.path0.parent)ub=L.path0;else{for(var ma=L.path0,na=null;ma!=ma.parent;){var Ka=
ma.parent;ma.parent=na;na=ma;ma=Ka}for(;null!=na;){var cb=na.parent;na.parent=ma;na=cb}ub=ma}var Fb;if(N.path1==N.path1.parent)Fb=N.path1;else{for(var Wb=N.path1,Ea=null;Wb!=Wb.parent;){var ib=Wb.parent;Wb.parent=Ea;Ea=Wb;Wb=ib}for(;null!=Ea;){var qb=Ea.parent;Ea.parent=Wb;Ea=qb}Fb=Wb}ub!=Fb&&(ub.rank<Fb.rank?ub.parent=Fb:ub.rank>Fb.rank?Fb.parent=ub:(Fb.parent=ub,ub.rank++));var hc;if(L.path1==L.path1.parent)hc=L.path1;else{for(var Xb=L.path1,Yb=null;Xb!=Xb.parent;){var wb=Xb.parent;Xb.parent=Yb;
Yb=Xb;Xb=wb}for(;null!=Yb;){var Mb=Yb.parent;Yb.parent=Xb;Yb=Mb}hc=Xb}var Ob;if(N.path0==N.path0.parent)Ob=N.path0;else{for(var kc=N.path0,lc=null;kc!=kc.parent;){var Sb=kc.parent;kc.parent=lc;lc=kc;kc=Sb}for(;null!=lc;){var Tb=lc.parent;lc.parent=kc;lc=Tb}Ob=kc}hc!=Ob&&(hc.rank<Ob.rank?hc.parent=Ob:hc.rank>Ob.rank?Ob.parent=hc:(Ob.parent=hc,hc.rank++))}else if(L.virtualint&&!N.virtualint){if(null!=N.end&&N.end.prev==N.end){N.end.next=N.end.prev=null;var Ha=N.end;null!=Ha.wrap&&(Ha.wrap.zpp_inner._inuse=
!1,Ha.wrap.dispose(),Ha.wrap=null);Ha.prev=Ha.next=null;Ha.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=Ha;N.end=null}else{var Zb=N.end.prev;N.end.prev.next=N.end.next;N.end.next.prev=N.end.prev;N.end.next=N.end.prev=null;var Pb=N.end;null!=Pb.wrap&&(Pb.wrap.zpp_inner._inuse=!1,Pb.wrap.dispose(),Pb.wrap=null);Pb.prev=Pb.next=null;Pb.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=Pb;N.end=null;N.end=Zb}if(!N.vertex)if(N.end!=N.path0.vert)if(N.start.x=N.end.x,N.start.y=
N.end.y,null!=N.end&&N.end.prev==N.end){N.end.next=N.end.prev=null;var mc=N.end;null!=mc.wrap&&(mc.wrap.zpp_inner._inuse=!1,mc.wrap.dispose(),mc.wrap=null);mc.prev=mc.next=null;mc.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=mc;N.end=null}else{var wc=N.end.prev;N.end.prev.next=N.end.next;N.end.next.prev=N.end.prev;N.end.next=N.end.prev=null;var nc=N.end;null!=nc.wrap&&(nc.wrap.zpp_inner._inuse=!1,nc.wrap.dispose(),nc.wrap=null);nc.prev=nc.next=null;nc.next=c.geom.ZPP_GeomVert.zpp_pool;
c.geom.ZPP_GeomVert.zpp_pool=nc;N.end=null;N.end=wc}else{var Ia=N.start.next;N.start.x=Ia.x;N.start.y=Ia.y;if(null!=Ia&&Ia.prev==Ia){Ia.next=Ia.prev=null;var va=Ia;null!=va.wrap&&(va.wrap.zpp_inner._inuse=!1,va.wrap.dispose(),va.wrap=null);va.prev=va.next=null;va.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=va;Ia=null}else{Ia.prev.next=Ia.next;Ia.next.prev=Ia.prev;Ia.next=Ia.prev=null;var bb=Ia;null!=bb.wrap&&(bb.wrap.zpp_inner._inuse=!1,bb.wrap.dispose(),bb.wrap=null);bb.prev=bb.next=
null;bb.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=bb}}N.end.next.prev=N.start.prev;N.start.prev.next=N.end.next;N.end.next=N.start;N.start.prev=N.end;var vb;if(N.path0==N.path0.parent)vb=N.path0;else{for(var $b=N.path0,oc=null;$b!=$b.parent;){var Oc=$b.parent;$b.parent=oc;oc=$b;$b=Oc}for(;null!=oc;){var Pc=oc.parent;oc.parent=$b;oc=Pc}vb=$b}var ac;if(N.path1==N.path1.parent)ac=N.path1;else{for(var Qb=N.path1,pc=null;Qb!=Qb.parent;){var Qc=Qb.parent;Qb.parent=pc;pc=Qb;Qb=Qc}for(;null!=
pc;){var Rc=pc.parent;pc.parent=Qb;pc=Rc}ac=Qb}vb!=ac&&(vb.rank<ac.rank?vb.parent=ac:vb.rank>ac.rank?ac.parent=vb:(ac.parent=vb,vb.rank++))}else if(N.virtualint&&!L.virtualint){if(null!=L.end&&L.end.prev==L.end){L.end.next=L.end.prev=null;var ic=L.end;null!=ic.wrap&&(ic.wrap.zpp_inner._inuse=!1,ic.wrap.dispose(),ic.wrap=null);ic.prev=ic.next=null;ic.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=ic;L.end=null}else{var gd=L.end.prev;L.end.prev.next=L.end.next;L.end.next.prev=L.end.prev;
L.end.next=L.end.prev=null;var qc=L.end;null!=qc.wrap&&(qc.wrap.zpp_inner._inuse=!1,qc.wrap.dispose(),qc.wrap=null);qc.prev=qc.next=null;qc.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=qc;L.end=null;L.end=gd}if(!L.vertex)if(L.end!=L.path0.vert)if(L.start.x=L.end.x,L.start.y=L.end.y,null!=L.end&&L.end.prev==L.end){L.end.next=L.end.prev=null;var bc=L.end;null!=bc.wrap&&(bc.wrap.zpp_inner._inuse=!1,bc.wrap.dispose(),bc.wrap=null);bc.prev=bc.next=null;bc.next=c.geom.ZPP_GeomVert.zpp_pool;
c.geom.ZPP_GeomVert.zpp_pool=bc;L.end=null}else{var W=L.end.prev;L.end.prev.next=L.end.next;L.end.next.prev=L.end.prev;L.end.next=L.end.prev=null;var Gb=L.end;null!=Gb.wrap&&(Gb.wrap.zpp_inner._inuse=!1,Gb.wrap.dispose(),Gb.wrap=null);Gb.prev=Gb.next=null;Gb.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=Gb;L.end=null;L.end=W}else{var ba=L.start.next;L.start.x=ba.x;L.start.y=ba.y;if(null!=ba&&ba.prev==ba){ba.next=ba.prev=null;var hb=ba;null!=hb.wrap&&(hb.wrap.zpp_inner._inuse=!1,hb.wrap.dispose(),
hb.wrap=null);hb.prev=hb.next=null;hb.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=hb;ba=null}else{ba.prev.next=ba.next;ba.next.prev=ba.prev;ba.next=ba.prev=null;var cc=ba;null!=cc.wrap&&(cc.wrap.zpp_inner._inuse=!1,cc.wrap.dispose(),cc.wrap=null);cc.prev=cc.next=null;cc.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=cc}}L.end.next.prev=L.start.prev;L.start.prev.next=L.end.next;L.end.next=L.start;L.start.prev=L.end;var Rb;if(L.path0==L.path0.parent)Rb=L.path0;else{for(var dc=
L.path0,rc=null;dc!=dc.parent;){var Pd=dc.parent;dc.parent=rc;rc=dc;dc=Pd}for(;null!=rc;){var Tc=rc.parent;rc.parent=dc;rc=Tc}Rb=dc}var ec;if(L.path1==L.path1.parent)ec=L.path1;else{for(var sc=L.path1,Dc=null;sc!=sc.parent;){var Qd=sc.parent;sc.parent=Dc;Dc=sc;sc=Qd}for(;null!=Dc;){var hd=Dc.parent;Dc.parent=sc;Dc=hd}ec=sc}Rb!=ec&&(Rb.rank<ec.rank?Rb.parent=ec:Rb.rank>ec.rank?ec.parent=Rb:(ec.parent=Rb,Rb.rank++))}var Ec=L;Ec.end=Ec.start=null;Ec.path0=Ec.path1=null;Ec.next=c.geom.ZPP_CutInt.zpp_pool;
c.geom.ZPP_CutInt.zpp_pool=Ec;var Fc=N;Fc.end=Fc.start=null;Fc.path0=Fc.path1=null;Fc.next=c.geom.ZPP_CutInt.zpp_pool;c.geom.ZPP_CutInt.zpp_pool=Fc}var xc;xc=null==g?new f.geom.GeomPolyList:g;for(var Gc=c.geom.ZPP_Cutter.paths.head;null!=Gc;){var Mc=Gc.elt,Hb;if(Mc==Mc.parent)Hb=Mc;else{for(var fc=Mc,tc=null;fc!=fc.parent;){var bd=fc.parent;fc.parent=tc;tc=fc;fc=bd}for(;null!=tc;){var Nc=tc.parent;tc.parent=fc;tc=Nc}Hb=fc}if(!Hb.used){Hb.used=!0;for(var fa=Hb.vert,uc=!0;null!=Hb.vert&&(uc||fa!=Hb.vert);)if(uc=
!1,fa.x==fa.next.x&&fa.y==fa.next.y)if(fa==Hb.vert&&(Hb.vert=fa.next==fa?null:fa.next,uc=!0),null!=fa&&fa.prev==fa)fa=fa=fa.next=fa.prev=null;else{var id=fa.next;fa.prev.next=fa.next;fa.next.prev=fa.prev;fa=fa.next=fa.prev=null;fa=id}else fa=fa.next;if(null!=Hb.vert){var Uc=f.geom.GeomPoly.get();Uc.zpp_inner.vertices=Hb.vert;xc.zpp_inner.reverse_flag?xc.push(Uc):xc.unshift(Uc)}}Gc=Gc.next}for(;null!=c.geom.ZPP_Cutter.paths.head;){var Vc=c.geom.ZPP_Cutter.paths.pop_unsafe();Vc.vert=null;Vc.parent=
null;Vc.next=c.geom.ZPP_CutVert.zpp_pool;c.geom.ZPP_CutVert.zpp_pool=Vc}for(;null!=A;)if(null!=A&&A.prev==A){A.next=A.prev=null;var Wc=A;Wc.vert=null;Wc.parent=null;Wc.next=c.geom.ZPP_CutVert.zpp_pool;c.geom.ZPP_CutVert.zpp_pool=Wc;A=A=null}else{var sd=A.next;A.prev.next=A.next;A.next.prev=A.prev;A.next=A.prev=null;var Xc=A;Xc.vert=null;Xc.parent=null;Xc.next=c.geom.ZPP_CutVert.zpp_pool;c.geom.ZPP_CutVert.zpp_pool=Xc;A=null;A=sd}return xc};c.geom.ZPP_Geom=function(){};m["zpp_nape.geom.ZPP_Geom"]=
c.geom.ZPP_Geom;c.geom.ZPP_Geom.__name__=["zpp_nape","geom","ZPP_Geom"];c.geom.ZPP_Geom.validateShape=function(a){a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.validate_gaxi();a.zip_aabb&&null!=a.body&&(a.zip_aabb=!1,a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb());a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&
(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*a.localCOMx-a.body.axisx*a.localCOMy),a.worldCOMy=a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy))};c.geom.ZPP_GeomVert=function(){this.forced=!1;this.prev=this.next=this.wrap=null;this.x=this.y=0};m["zpp_nape.geom.ZPP_GeomVert"]=c.geom.ZPP_GeomVert;c.geom.ZPP_GeomVert.__name__=["zpp_nape","geom","ZPP_GeomVert"];c.geom.ZPP_GeomVert.get=function(a,
b){var d;null==c.geom.ZPP_GeomVert.zpp_pool?d=new c.geom.ZPP_GeomVert:(d=c.geom.ZPP_GeomVert.zpp_pool,c.geom.ZPP_GeomVert.zpp_pool=d.next,d.next=null);d.forced=!1;d.x=a;d.y=b;return d};c.geom.ZPP_GeomVert.prototype={x:null,y:null,prev:null,next:null,wrap:null,forced:null,free:function(){null!=this.wrap&&(this.wrap.zpp_inner._inuse=!1,this.wrap.dispose(),this.wrap=null);this.prev=this.next=null},alloc:function(){this.forced=!1},wrapper:function(){null==this.wrap&&(this.wrap=f.geom.Vec2.get(this.x,
this.y,null),this.wrap.zpp_inner._inuse=!0,this.wrap.zpp_inner._invalidate=u(this,this.modwrap),this.wrap.zpp_inner._validate=u(this,this.getwrap));return this.wrap},modwrap:function(a){this.x=a.x;this.y=a.y},getwrap:function(){this.wrap.zpp_inner.x=this.x;this.wrap.zpp_inner.y=this.y},__class__:c.geom.ZPP_GeomVert};c.geom.ZPP_GeomPoly=function(a){this.outer=this.vertices=null;this.outer=a};m["zpp_nape.geom.ZPP_GeomPoly"]=c.geom.ZPP_GeomPoly;c.geom.ZPP_GeomPoly.__name__=["zpp_nape","geom","ZPP_GeomPoly"];
c.geom.ZPP_GeomPoly.prototype={outer:null,vertices:null,__class__:c.geom.ZPP_GeomPoly};c.geom.ZPP_GeomVertexIterator=function(){this.outer=this.next=null;this.first=this.forward=!1;this.ptr=this.start=null;c.geom.ZPP_GeomVertexIterator.internal=!0;this.outer=new f.geom.GeomVertexIterator;c.geom.ZPP_GeomVertexIterator.internal=!1};m["zpp_nape.geom.ZPP_GeomVertexIterator"]=c.geom.ZPP_GeomVertexIterator;c.geom.ZPP_GeomVertexIterator.__name__=["zpp_nape","geom","ZPP_GeomVertexIterator"];c.geom.ZPP_GeomVertexIterator.get=
function(a,b){var d;null==c.geom.ZPP_GeomVertexIterator.zpp_pool?d=new c.geom.ZPP_GeomVertexIterator:(d=c.geom.ZPP_GeomVertexIterator.zpp_pool,c.geom.ZPP_GeomVertexIterator.zpp_pool=d.next,d.next=null);null;d.outer.zpp_inner=d;d.ptr=a;d.forward=b;d.start=a;d.first=null!=a;return d.outer};c.geom.ZPP_GeomVertexIterator.prototype={ptr:null,start:null,first:null,forward:null,outer:null,next:null,free:function(){this.ptr=this.start=this.outer.zpp_inner=null},alloc:function(){},__class__:c.geom.ZPP_GeomVertexIterator};
c.geom.ZPP_MarchSpan=function(){this.next=null;this.out=!1;this.rank=0;this.parent=null;this.parent=this};m["zpp_nape.geom.ZPP_MarchSpan"]=c.geom.ZPP_MarchSpan;c.geom.ZPP_MarchSpan.__name__=["zpp_nape","geom","ZPP_MarchSpan"];c.geom.ZPP_MarchSpan.prototype={parent:null,rank:null,out:null,next:null,free:function(){this.parent=this},alloc:function(){this.out=!1;this.rank=0},__class__:c.geom.ZPP_MarchSpan};c.geom.ZPP_MarchPair=function(){this.pd=this.span1=this.span2=this.spanr=this.next=null;this.keyr=
this.okeyr=0;this.pr=null;this.key2=this.okey2=0;this.p2=null;this.key1=this.okey1=0;this.p1=null};m["zpp_nape.geom.ZPP_MarchPair"]=c.geom.ZPP_MarchPair;c.geom.ZPP_MarchPair.__name__=["zpp_nape","geom","ZPP_MarchPair"];c.geom.ZPP_MarchPair.prototype={p1:null,key1:null,okey1:null,p2:null,key2:null,okey2:null,pr:null,keyr:null,okeyr:null,pd:null,span1:null,span2:null,spanr:null,next:null,free:function(){this.span1=this.span2=this.spanr=this.p1=this.p2=this.pr=this.pd=null},alloc:function(){},__class__:c.geom.ZPP_MarchPair};
c.geom.ZPP_MarchingSquares=function(){};m["zpp_nape.geom.ZPP_MarchingSquares"]=c.geom.ZPP_MarchingSquares;c.geom.ZPP_MarchingSquares.__name__=["zpp_nape","geom","ZPP_MarchingSquares"];c.geom.ZPP_MarchingSquares.run=function(a,b,d,k,e,g,f,h,l){var m;if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();m=(k-b)/g.zpp_inner.x;var n=m|0,t;if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();t=(e-d)/g.zpp_inner.y;
var u=t|0;m!=n&&n++;t!=u&&u++;h&&(null==c.geom.ZPP_MarchingSquares.map?c.geom.ZPP_MarchingSquares.map=new c.util.ZNPArray2_ZPP_MarchPair(n,u):c.geom.ZPP_MarchingSquares.map.resize(n,u,null));null==c.geom.ZPP_MarchingSquares.isos?c.geom.ZPP_MarchingSquares.isos=new c.util.ZNPArray2_Float(n+1,u+1):c.geom.ZPP_MarchingSquares.isos.resize(n+1,u+1,0);m=0;for(t=u+1;m<t;){var A=m++,q;if(0==A)q=d;else if(A<=u){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();
q=d+g.zpp_inner.y*A}else q=e;for(var v=0,y=n+1;v<y;){var C=v++,z;if(0==C)z=b;else if(C<=n){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();z=b+g.zpp_inner.x*C}else z=k;c.geom.ZPP_MarchingSquares.isos.set(C,A,a(z,q))}}null==c.geom.ZPP_MarchingSquares.ints?c.geom.ZPP_MarchingSquares.ints=new c.util.ZNPArray2_ZPP_GeomVert(n+1,(u<<1)+1):c.geom.ZPP_MarchingSquares.ints.resize(n+1,(u<<1)+1,null);m=null;h&&(null==c.geom.ZPP_MarchSpan.zpp_pool?m=new c.geom.ZPP_MarchSpan:
(m=c.geom.ZPP_MarchSpan.zpp_pool,c.geom.ZPP_MarchSpan.zpp_pool=m.next,m.next=null),m.out=!1,m.rank=0);v=d;for(t=0;t<u;){A=t++;q=v;if(A==u-1)v=e;else{if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();v=d+g.zpp_inner.y*(A+1)}var v=y=v,E=b,C=null;for(z=0;z<n;){var D=z++,r=E,F;if(D==n-1)E=k;else{if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();E=b+g.zpp_inner.x*(D+1)}E=F=E;r=c.geom.ZPP_MarchingSquares.me.marchSquare(a,
c.geom.ZPP_MarchingSquares.isos,c.geom.ZPP_MarchingSquares.ints,r,q,F,y,D,A,0==D||!h,0==A||!h,D==n-1||!h,A==u-1||!h,f);null==r?C=null:h?(F=null!=r.p2&&14!=r.okey2?r.p2:r.p1,r.pd=0==((F==r.p2?r.okey2:r.okey1)&128)?F.prev:F.prev.prev,c.geom.ZPP_MarchingSquares.map.set(D,A,r),null!=C&&c.geom.ZPP_MarchingSquares.me.combLeft(r.key1)?(c.geom.ZPP_MarchingSquares.me.combLR(C,r),r.span1=C.spanr):(null==c.geom.ZPP_MarchSpan.zpp_pool?r.span1=new c.geom.ZPP_MarchSpan:(r.span1=c.geom.ZPP_MarchSpan.zpp_pool,c.geom.ZPP_MarchSpan.zpp_pool=
r.span1.next,r.span1.next=null),r.span1.alloc(),r.span1.next=m,m=r.span1),null!=r.p2?(null==c.geom.ZPP_MarchSpan.zpp_pool?r.span2=new c.geom.ZPP_MarchSpan:(r.span2=c.geom.ZPP_MarchSpan.zpp_pool,c.geom.ZPP_MarchSpan.zpp_pool=r.span2.next,r.span2.next=null),r.span2.alloc(),r.span2.next=m,m=r.span2,r.spanr=r.span2):r.spanr=r.span1,C=c.geom.ZPP_MarchingSquares.me.combRight(r.keyr)?r:null):(c.geom.ZPP_MarchingSquares.me.output(l,r.p1),null!=r.p2&&c.geom.ZPP_MarchingSquares.me.output(l,r.p2),D=r,D.p1=D.p2=
D.pr=D.pd=null,D.span1=D.span2=D.spanr=null,D.next=c.geom.ZPP_MarchPair.zpp_pool,c.geom.ZPP_MarchPair.zpp_pool=D)}}if(h){for(a=1;a<u;)for(b=a++,g=null,d=0;d<n;)if(e=d++,k=c.geom.ZPP_MarchingSquares.map.get(e,b),null==k)g=null;else if(c.geom.ZPP_MarchingSquares.me.combUp(null!=k.p2&&14==k.okey2?k.okey2:k.okey1))if(e=c.geom.ZPP_MarchingSquares.map.get(e,b-1),null==e)g=null;else if(c.geom.ZPP_MarchingSquares.me.combDown(null!=e.p2&&56==e.okey2?e.okey2:e.okey1)){var G;G=null!=e.p2&&56==e.okey2?e.span2:
e.span1;var H;H=null!=k.p2&&14==k.okey2?k.span2:k.span1;if((G==G.parent?G:function(a){a=G;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d;return a}(this))==(H==H.parent?H:function(a){a=H;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d;return a}(this)))g!=H&&c.geom.ZPP_MarchingSquares.me.combUD_virtual(e,k);else{if(G==G.parent)g=G;else{g=G;for(f=null;g!=g.parent;)h=g.parent,g.parent=f,f=g,
g=h;for(;null!=f;)h=f.parent,f.parent=g,f=h}if(H==H.parent)f=H;else{f=H;for(h=null;f!=f.parent;)t=f.parent,f.parent=h,h=f,f=t;for(;null!=h;)t=h.parent,h.parent=f,h=t}g!=f&&(g.rank<f.rank?g.parent=f:g.rank>f.rank?f.parent=g:(f.parent=g,g.rank++));c.geom.ZPP_MarchingSquares.me.combUD(e,k)}g=0!=((H==k.span2?k.okey2:k.okey1)&4)?H:null}else g=null;else g=null;for(a=0;a<u;)for(b=a++,d=0;d<n;)if(k=d++,e=c.geom.ZPP_MarchingSquares.map.get(k,b),null!=e){if(e.span1==e.span1.parent)g=e.span1;else{g=e.span1;
for(f=null;g!=g.parent;)h=g.parent,g.parent=f,f=g,g=h;for(;null!=f;)h=f.parent,f.parent=g,f=h}g.out||(g.out=!0,c.geom.ZPP_MarchingSquares.me.output(l,e.p1));if(null!=e.p2){if(e.span2==e.span2.parent)g=e.span2;else{g=e.span2;for(f=null;g!=g.parent;)h=g.parent,g.parent=f,f=g,g=h;for(;null!=f;)h=f.parent,f.parent=g,f=h}g.out||(g.out=!0,c.geom.ZPP_MarchingSquares.me.output(l,e.p2))}e.p1=e.p2=e.pr=e.pd=null;e.span1=e.span2=e.spanr=null;e.next=c.geom.ZPP_MarchPair.zpp_pool;c.geom.ZPP_MarchPair.zpp_pool=
e;c.geom.ZPP_MarchingSquares.map.set(k,b,null)}for(;null!=m;)l=m,m=l.next,l.parent=l,l.next=c.geom.ZPP_MarchSpan.zpp_pool,c.geom.ZPP_MarchSpan.zpp_pool=l}};c.geom.ZPP_MarchingSquares.ISO=function(a,b,d){return a(b,d)};c.geom.ZPP_MarchingSquares.prototype={output:function(a,b){var d;if(null==b||b.next==b||b.next==b.prev)d=!0;else{d=0;var c=b,e=b;if(null!=c){do{var g=c;d+=g.x*(g.next.y-g.prev.y);c=c.next}while(c!=e)}d*=.5;d=d*d<f.Config.epsilon*f.Config.epsilon}if(d)for(;null!=b;)null!=b&&b.prev==b?
b=b=b.next=b.prev=null:(d=b.next,b.prev.next=b.next,b.next.prev=b.prev,b.next=b.prev=null,b=d);else d=f.geom.GeomPoly.get(),d.zpp_inner.vertices=b,a.zpp_inner.reverse_flag?a.push(d):a.unshift(d)},linkright:function(a,b){var d=b&7;return 0==d?a:3==d?a.next.next:a.next},linkleft:function(a,b){return 0==(b&1)?a.prev:a},linkdown:function(a,b){return 0==(b&128)?a.prev:a.prev.prev},linkup:function(a,b){return a},combLR:function(a,b){var d=this.linkright(a.pr,a.okeyr),k=this.linkleft(b.p1,b.okey1),e=d.next,
g=k.prev;0!=(a.keyr&4)?(b.pr==b.p1&&(b.pr=d.prev),b.p1=d.prev,d.prev.next=k.next,k.next.prev=d.prev,null!=d.wrap&&(d.wrap.zpp_inner._inuse=!1,d.wrap.dispose(),d.wrap=null),d.prev=d.next=null,d.next=c.geom.ZPP_GeomVert.zpp_pool,c.geom.ZPP_GeomVert.zpp_pool=d):(d.next=k.next,k.next.prev=d);null!=k.wrap&&(k.wrap.zpp_inner._inuse=!1,k.wrap.dispose(),k.wrap=null);k.prev=k.next=null;k.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=k;0!=(a.keyr&16)?(b.pd=e.next,e.next.prev=g.prev,g.prev.next=
e.next,null!=e.wrap&&(e.wrap.zpp_inner._inuse=!1,e.wrap.dispose(),e.wrap=null),e.prev=e.next=null,e.next=c.geom.ZPP_GeomVert.zpp_pool,c.geom.ZPP_GeomVert.zpp_pool=e):(e.prev=g.prev,g.prev.next=e);null!=g.wrap&&(g.wrap.zpp_inner._inuse=!1,g.wrap.dispose(),g.wrap=null);g.prev=g.next=null;g.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=g},combUD:function(a,b){var d=a.pd,k=null!=b.p2&&14==b.key2?b.p2:b.p1,e=d.prev,g=k.next;k.next=d.next;d.next.prev=k;null!=d.wrap&&(d.wrap.zpp_inner._inuse=
!1,d.wrap.dispose(),d.wrap=null);d.prev=d.next=null;d.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=d;g.prev=e.prev;e.prev.next=g;e==a.p1&&(a.p1=g);null!=e.wrap&&(e.wrap.zpp_inner._inuse=!1,e.wrap.dispose(),e.wrap=null);e.prev=e.next=null;e.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=e},combUD_virtual:function(a,b){var d=a.pd,c=null!=b.p2&&14==b.key2?b.p2:b.p1;d.forced=c.forced=d.prev.forced=c.next.forced=!0},combLeft:function(a){return this.comb(a&1|(a&192)>>5)},
combRight:function(a){return this.comb((a&28)>>2)},combUp:function(a){return this.comb(a&7)},combDown:function(a){return this.comb((a&112)>>4)},comb:function(a){var b=0;0!=(a&1)&&b++;0!=(a&2)&&b++;0!=(a&4)&&b++;return 2<=b},marchSquare:function(a,b,d,k,e,g,f,h,l,m,n,t,u,A){var q=0,v=b.list[l*b.width+h];0>v&&(q|=8);var y=b.list[l*b.width+(h+1)];0>y&&(q|=4);var C=b.list[(l+1)*b.width+(h+1)];0>C&&(q|=2);b=b.list[(l+1)*b.width+h];0>b&&(q|=1);if(0==q)return null;var z;null==c.geom.ZPP_MarchPair.zpp_pool?
z=new c.geom.ZPP_MarchPair:(z=c.geom.ZPP_MarchPair.zpp_pool,c.geom.ZPP_MarchPair.zpp_pool=z.next,z.next=null);null;if(10!=q&&5!=q){q=c.geom.ZPP_MarchingSquares.look_march[q];z.okey1=q;for(var E=0;8>E;){var D=E++;if(0!=(q&1<<D)){var r=null;if(0==D){if(r=c.geom.ZPP_GeomVert.get(k,e),m||n)r.forced=!0}else if(2==D){if(r=c.geom.ZPP_GeomVert.get(g,e),t||n)r.forced=!0}else if(4==D){if(r=c.geom.ZPP_GeomVert.get(g,f),t||u)r.forced=!0}else if(6==D){if(r=c.geom.ZPP_GeomVert.get(k,f),m||u)r.forced=!0}else if(1==
D){if(r=d.list[(l<<1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,e,v,y,a,A),e),d.list[(l<<1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),n&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&1)||r.x==g&&0!=(q&4))q^=2}else if(5==D){if(r=d.list[((l<<1)+2)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,f,b,C,a,A),f),d.list[((l<<1)+2)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),u&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&64)||r.x==g&&0!=(q&16))q^=32}else if(3==
D){if(r=d.list[((l<<1)+1)*d.width+(h+1)],null==r?(r=c.geom.ZPP_GeomVert.get(g,this.ylerp(e,f,g,y,C,a,A)),d.list[((l<<1)+1)*d.width+(h+1)]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),t&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&4)||r.y==f&&0!=(q&16))q^=8}else if(r=d.list[((l<<1)+1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(k,this.ylerp(e,f,k,v,b,a,A)),d.list[((l<<1)+1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&1)||r.y==f&&0!=(q&64))q^=128;D=
r;null==z.p1?z.p1=D.prev=D.next=D:(D.prev=z.p1,D.next=z.p1.next,z.p1.next.prev=D,z.p1.next=D);z.p1=D}}z.p1=z.p1.next;z.key1=q;if(1==q||4==q||16==q||64==q||3==q||12==q||48==q||192==q||129==q||6==q||24==q||96==q||5==q||20==q||80==q||65==q||17==q||68==q)q=0,z.key1=0,z.p1=null;0==q?z=null:(z.pr=z.p1,z.okeyr=z.okey1,z.keyr=z.key1)}else if(E=0>a(.5*(k+g),.5*(e+f)),10==q)if(E){q=187;z.okey1=q;for(E=0;8>E;)if(D=E++,0!=(q&1<<D)){r=null;if(0==D){if(r=c.geom.ZPP_GeomVert.get(k,e),m||n)r.forced=!0}else if(2==
D){if(r=c.geom.ZPP_GeomVert.get(g,e),t||n)r.forced=!0}else if(4==D){if(r=c.geom.ZPP_GeomVert.get(g,f),t||u)r.forced=!0}else if(6==D){if(r=c.geom.ZPP_GeomVert.get(k,f),m||u)r.forced=!0}else if(1==D){if(r=d.list[(l<<1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,e,v,y,a,A),e),d.list[(l<<1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),n&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&1)||r.x==g&&0!=(q&4))q^=2}else if(5==D){if(r=d.list[((l<<1)+2)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,
g,f,b,C,a,A),f),d.list[((l<<1)+2)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),u&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&64)||r.x==g&&0!=(q&16))q^=32}else if(3==D){if(r=d.list[((l<<1)+1)*d.width+(h+1)],null==r?(r=c.geom.ZPP_GeomVert.get(g,this.ylerp(e,f,g,y,C,a,A)),d.list[((l<<1)+1)*d.width+(h+1)]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),t&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&4)||r.y==f&&0!=(q&16))q^=8}else if(r=d.list[((l<<1)+1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(k,this.ylerp(e,
f,k,v,b,a,A)),d.list[((l<<1)+1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&1)||r.y==f&&0!=(q&64))q^=128;D=r;null==z.p1?z.p1=D.prev=D.next=D:(D.prev=z.p1,D.next=z.p1.next,z.p1.next.prev=D,z.p1.next=D);z.p1=D}z.p1=z.p1.next;z.key1=q;if(1==q||4==q||16==q||64==q||3==q||12==q||48==q||192==q||129==q||6==q||24==q||96==q||5==q||20==q||80==q||65==q||17==q||68==q)q=0,z.key1=0,z.p1=null;0==q?z=null:(z.pr=z.p1,z.okeyr=z.okey1,z.keyr=z.key1)}else{q=131;z.okey1=
q;for(E=0;8>E;)if(D=E++,0!=(q&1<<D)){r=null;if(0==D){if(r=c.geom.ZPP_GeomVert.get(k,e),m||n)r.forced=!0}else if(2==D){if(r=c.geom.ZPP_GeomVert.get(g,e),t||n)r.forced=!0}else if(4==D){if(r=c.geom.ZPP_GeomVert.get(g,f),t||u)r.forced=!0}else if(6==D){if(r=c.geom.ZPP_GeomVert.get(k,f),m||u)r.forced=!0}else if(1==D){if(r=d.list[(l<<1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,e,v,y,a,A),e),d.list[(l<<1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),n&&(r.forced=!0),r.x==k||r.x==g)if(r.x==
k&&0!=(q&1)||r.x==g&&0!=(q&4))q^=2}else if(5==D){if(r=d.list[((l<<1)+2)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,f,b,C,a,A),f),d.list[((l<<1)+2)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),u&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&64)||r.x==g&&0!=(q&16))q^=32}else if(3==D){if(r=d.list[((l<<1)+1)*d.width+(h+1)],null==r?(r=c.geom.ZPP_GeomVert.get(g,this.ylerp(e,f,g,y,C,a,A)),d.list[((l<<1)+1)*d.width+(h+1)]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),t&&(r.forced=!0),r.y==
e||r.y==f)if(r.y==e&&0!=(q&4)||r.y==f&&0!=(q&16))q^=8}else if(r=d.list[((l<<1)+1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(k,this.ylerp(e,f,k,v,b,a,A)),d.list[((l<<1)+1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&1)||r.y==f&&0!=(q&64))q^=128;D=r;null==z.p1?z.p1=D.prev=D.next=D:(D.prev=z.p1,D.next=z.p1.next,z.p1.next.prev=D,z.p1.next=D);z.p1=D}z.p1=z.p1.next;z.key1=q;if(1==q||4==q||16==q||64==q||3==q||12==q||48==q||192==q||129==q||6==q||24==
q||96==q||5==q||20==q||80==q||65==q||17==q||68==q)q=0,z.key1=0,z.p1=null;if(0!=q){q=56;z.okey2=q;for(E=0;8>E;)if(D=E++,0!=(q&1<<D)){r=null;if(0==D){if(r=c.geom.ZPP_GeomVert.get(k,e),m||n)r.forced=!0}else if(2==D){if(r=c.geom.ZPP_GeomVert.get(g,e),t||n)r.forced=!0}else if(4==D){if(r=c.geom.ZPP_GeomVert.get(g,f),t||u)r.forced=!0}else if(6==D){if(r=c.geom.ZPP_GeomVert.get(k,f),m||u)r.forced=!0}else if(1==D){if(r=d.list[(l<<1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,e,v,y,a,A),e),
d.list[(l<<1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),n&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&1)||r.x==g&&0!=(q&4))q^=2}else if(5==D){if(r=d.list[((l<<1)+2)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,f,b,C,a,A),f),d.list[((l<<1)+2)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),u&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&64)||r.x==g&&0!=(q&16))q^=32}else if(3==D){if(r=d.list[((l<<1)+1)*d.width+(h+1)],null==r?(r=c.geom.ZPP_GeomVert.get(g,this.ylerp(e,f,g,
y,C,a,A)),d.list[((l<<1)+1)*d.width+(h+1)]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),t&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&4)||r.y==f&&0!=(q&16))q^=8}else if(r=d.list[((l<<1)+1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(k,this.ylerp(e,f,k,v,b,a,A)),d.list[((l<<1)+1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&1)||r.y==f&&0!=(q&64))q^=128;D=r;null==z.p2?z.p2=D.prev=D.next=D:(D.prev=z.p2,D.next=z.p2.next,z.p2.next.prev=D,z.p2.next=D);
z.p2=D}z.p2=z.p2.next;z.key2=q;if(1==q||4==q||16==q||64==q||3==q||12==q||48==q||192==q||129==q||6==q||24==q||96==q||5==q||20==q||80==q||65==q||17==q||68==q)q=0,z.key2=0,z.p2=null;0==q?(z.pr=z.p1,z.okeyr=z.okey1,z.keyr=z.key1):(z.pr=z.p2,z.okeyr=z.okey2,z.keyr=z.key2)}else{q=56;z.okey1=q;for(E=0;8>E;)if(D=E++,0!=(q&1<<D)){r=null;if(0==D){if(r=c.geom.ZPP_GeomVert.get(k,e),m||n)r.forced=!0}else if(2==D){if(r=c.geom.ZPP_GeomVert.get(g,e),t||n)r.forced=!0}else if(4==D){if(r=c.geom.ZPP_GeomVert.get(g,f),
t||u)r.forced=!0}else if(6==D){if(r=c.geom.ZPP_GeomVert.get(k,f),m||u)r.forced=!0}else if(1==D){if(r=d.list[(l<<1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,e,v,y,a,A),e),d.list[(l<<1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),n&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&1)||r.x==g&&0!=(q&4))q^=2}else if(5==D){if(r=d.list[((l<<1)+2)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,f,b,C,a,A),f),d.list[((l<<1)+2)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,
r.y),u&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&64)||r.x==g&&0!=(q&16))q^=32}else if(3==D){if(r=d.list[((l<<1)+1)*d.width+(h+1)],null==r?(r=c.geom.ZPP_GeomVert.get(g,this.ylerp(e,f,g,y,C,a,A)),d.list[((l<<1)+1)*d.width+(h+1)]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),t&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&4)||r.y==f&&0!=(q&16))q^=8}else if(r=d.list[((l<<1)+1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(k,this.ylerp(e,f,k,v,b,a,A)),d.list[((l<<1)+1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,
r.y),m&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&1)||r.y==f&&0!=(q&64))q^=128;D=r;null==z.p1?z.p1=D.prev=D.next=D:(D.prev=z.p1,D.next=z.p1.next,z.p1.next.prev=D,z.p1.next=D);z.p1=D}z.p1=z.p1.next;z.key1=q;if(1==q||4==q||16==q||64==q||3==q||12==q||48==q||192==q||129==q||6==q||24==q||96==q||5==q||20==q||80==q||65==q||17==q||68==q)q=0,z.key1=0,z.p1=null;0==q?z=null:(z.pr=z.p1,z.okeyr=z.okey1,z.keyr=z.key1)}}else if(E){q=238;z.okey1=q;for(E=0;8>E;)if(D=E++,0!=(q&1<<D)){r=null;if(0==D){if(r=c.geom.ZPP_GeomVert.get(k,
e),m||n)r.forced=!0}else if(2==D){if(r=c.geom.ZPP_GeomVert.get(g,e),t||n)r.forced=!0}else if(4==D){if(r=c.geom.ZPP_GeomVert.get(g,f),t||u)r.forced=!0}else if(6==D){if(r=c.geom.ZPP_GeomVert.get(k,f),m||u)r.forced=!0}else if(1==D){if(r=d.list[(l<<1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,e,v,y,a,A),e),d.list[(l<<1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),n&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&1)||r.x==g&&0!=(q&4))q^=2}else if(5==D){if(r=d.list[((l<<1)+2)*d.width+
h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,f,b,C,a,A),f),d.list[((l<<1)+2)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),u&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&64)||r.x==g&&0!=(q&16))q^=32}else if(3==D){if(r=d.list[((l<<1)+1)*d.width+(h+1)],null==r?(r=c.geom.ZPP_GeomVert.get(g,this.ylerp(e,f,g,y,C,a,A)),d.list[((l<<1)+1)*d.width+(h+1)]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),t&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&4)||r.y==f&&0!=(q&16))q^=8}else if(r=d.list[((l<<1)+1)*
d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(k,this.ylerp(e,f,k,v,b,a,A)),d.list[((l<<1)+1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&1)||r.y==f&&0!=(q&64))q^=128;D=r;null==z.p1?z.p1=D.prev=D.next=D:(D.prev=z.p1,D.next=z.p1.next,z.p1.next.prev=D,z.p1.next=D);z.p1=D}z.p1=z.p1.next;z.key1=q;if(1==q||4==q||16==q||64==q||3==q||12==q||48==q||192==q||129==q||6==q||24==q||96==q||5==q||20==q||80==q||65==q||17==q||68==q)q=0,z.key1=0,z.p1=null;0==q?z=
null:(z.pr=z.p1,z.okeyr=z.okey1,z.keyr=z.key1)}else{q=224;z.okey1=q;for(E=0;8>E;)if(D=E++,0!=(q&1<<D)){r=null;if(0==D){if(r=c.geom.ZPP_GeomVert.get(k,e),m||n)r.forced=!0}else if(2==D){if(r=c.geom.ZPP_GeomVert.get(g,e),t||n)r.forced=!0}else if(4==D){if(r=c.geom.ZPP_GeomVert.get(g,f),t||u)r.forced=!0}else if(6==D){if(r=c.geom.ZPP_GeomVert.get(k,f),m||u)r.forced=!0}else if(1==D){if(r=d.list[(l<<1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,e,v,y,a,A),e),d.list[(l<<1)*d.width+h]=r):
r=c.geom.ZPP_GeomVert.get(r.x,r.y),n&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&1)||r.x==g&&0!=(q&4))q^=2}else if(5==D){if(r=d.list[((l<<1)+2)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,f,b,C,a,A),f),d.list[((l<<1)+2)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),u&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&64)||r.x==g&&0!=(q&16))q^=32}else if(3==D){if(r=d.list[((l<<1)+1)*d.width+(h+1)],null==r?(r=c.geom.ZPP_GeomVert.get(g,this.ylerp(e,f,g,y,C,a,A)),d.list[((l<<1)+1)*
d.width+(h+1)]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),t&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&4)||r.y==f&&0!=(q&16))q^=8}else if(r=d.list[((l<<1)+1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(k,this.ylerp(e,f,k,v,b,a,A)),d.list[((l<<1)+1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&1)||r.y==f&&0!=(q&64))q^=128;D=r;null==z.p1?z.p1=D.prev=D.next=D:(D.prev=z.p1,D.next=z.p1.next,z.p1.next.prev=D,z.p1.next=D);z.p1=D}z.p1=z.p1.next;z.key1=
q;if(1==q||4==q||16==q||64==q||3==q||12==q||48==q||192==q||129==q||6==q||24==q||96==q||5==q||20==q||80==q||65==q||17==q||68==q)q=0,z.key1=0,z.p1=null;if(0!=q){q=14;z.okey2=q;for(E=0;8>E;)if(D=E++,0!=(q&1<<D)){r=null;if(0==D){if(r=c.geom.ZPP_GeomVert.get(k,e),m||n)r.forced=!0}else if(2==D){if(r=c.geom.ZPP_GeomVert.get(g,e),t||n)r.forced=!0}else if(4==D){if(r=c.geom.ZPP_GeomVert.get(g,f),t||u)r.forced=!0}else if(6==D){if(r=c.geom.ZPP_GeomVert.get(k,f),m||u)r.forced=!0}else if(1==D){if(r=d.list[(l<<
1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,e,v,y,a,A),e),d.list[(l<<1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),n&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&1)||r.x==g&&0!=(q&4))q^=2}else if(5==D){if(r=d.list[((l<<1)+2)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,f,b,C,a,A),f),d.list[((l<<1)+2)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),u&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&64)||r.x==g&&0!=(q&16))q^=32}else if(3==D){if(r=d.list[((l<<
1)+1)*d.width+(h+1)],null==r?(r=c.geom.ZPP_GeomVert.get(g,this.ylerp(e,f,g,y,C,a,A)),d.list[((l<<1)+1)*d.width+(h+1)]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),t&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&4)||r.y==f&&0!=(q&16))q^=8}else if(r=d.list[((l<<1)+1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(k,this.ylerp(e,f,k,v,b,a,A)),d.list[((l<<1)+1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&1)||r.y==f&&0!=(q&64))q^=128;D=r;null==z.p2?z.p2=D.prev=
D.next=D:(D.prev=z.p2,D.next=z.p2.next,z.p2.next.prev=D,z.p2.next=D);z.p2=D}z.p2=z.p2.next;z.key2=q;if(1==q||4==q||16==q||64==q||3==q||12==q||48==q||192==q||129==q||6==q||24==q||96==q||5==q||20==q||80==q||65==q||17==q||68==q)q=0,z.key2=0,z.p2=null;0==q?(z.pr=z.p1,z.okeyr=z.okey1,z.keyr=z.key1):(z.pr=z.p2,z.okeyr=z.okey2,z.keyr=z.key2)}else{q=14;z.okey1=q;for(E=0;8>E;)if(D=E++,0!=(q&1<<D)){r=null;if(0==D){if(r=c.geom.ZPP_GeomVert.get(k,e),m||n)r.forced=!0}else if(2==D){if(r=c.geom.ZPP_GeomVert.get(g,
e),t||n)r.forced=!0}else if(4==D){if(r=c.geom.ZPP_GeomVert.get(g,f),t||u)r.forced=!0}else if(6==D){if(r=c.geom.ZPP_GeomVert.get(k,f),m||u)r.forced=!0}else if(1==D){if(r=d.list[(l<<1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,e,v,y,a,A),e),d.list[(l<<1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),n&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&1)||r.x==g&&0!=(q&4))q^=2}else if(5==D){if(r=d.list[((l<<1)+2)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(this.xlerp(k,g,f,b,C,a,
A),f),d.list[((l<<1)+2)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),u&&(r.forced=!0),r.x==k||r.x==g)if(r.x==k&&0!=(q&64)||r.x==g&&0!=(q&16))q^=32}else if(3==D){if(r=d.list[((l<<1)+1)*d.width+(h+1)],null==r?(r=c.geom.ZPP_GeomVert.get(g,this.ylerp(e,f,g,y,C,a,A)),d.list[((l<<1)+1)*d.width+(h+1)]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),t&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&4)||r.y==f&&0!=(q&16))q^=8}else if(r=d.list[((l<<1)+1)*d.width+h],null==r?(r=c.geom.ZPP_GeomVert.get(k,this.ylerp(e,
f,k,v,b,a,A)),d.list[((l<<1)+1)*d.width+h]=r):r=c.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==e||r.y==f)if(r.y==e&&0!=(q&1)||r.y==f&&0!=(q&64))q^=128;D=r;null==z.p1?z.p1=D.prev=D.next=D:(D.prev=z.p1,D.next=z.p1.next,z.p1.next.prev=D,z.p1.next=D);z.p1=D}z.p1=z.p1.next;z.key1=q;if(1==q||4==q||16==q||64==q||3==q||12==q||48==q||192==q||129==q||6==q||24==q||96==q||5==q||20==q||80==q||65==q||17==q||68==q)q=0,z.key1=0,z.p1=null;0==q?z=null:(z.pr=z.p1,z.okeyr=z.okey1,z.keyr=z.key1)}}return z},lerp:function(a,
b,d,c){if(0==d)return a;if(0==c)return b;c=d-c;d=c*c<f.Config.epsilon*f.Config.epsilon?.5:d/c;0>d?d=0:1<d&&(d=1);return a+d*(b-a)},xlerp:function(a,b,d,c,e,g,f){for(var h=this.lerp(a,b,c,e);0!=f--&&a<h&&h<b;){var l=g(h,d);if(0==l)break;0>c*l?(b=h,e=l):(a=h,c=l);h=this.lerp(a,b,c,e)}return h},ylerp:function(a,b,d,c,e,g,f){for(var h=this.lerp(a,b,c,e);0!=f--&&a<h&&h<b;){var l=g(d,h);if(0==l)break;0>c*l?(b=h,e=l):(a=h,c=l);h=this.lerp(a,b,c,e)}return h},__class__:c.geom.ZPP_MarchingSquares};c.geom.ZPP_Mat23=
function(){this._invalidate=this.next=null;this.a=this.b=this.c=this.d=this.tx=this.ty=0;this.outer=null};m["zpp_nape.geom.ZPP_Mat23"]=c.geom.ZPP_Mat23;c.geom.ZPP_Mat23.__name__=["zpp_nape","geom","ZPP_Mat23"];c.geom.ZPP_Mat23.get=function(){var a;null==c.geom.ZPP_Mat23.zpp_pool?a=new c.geom.ZPP_Mat23:(a=c.geom.ZPP_Mat23.zpp_pool,c.geom.ZPP_Mat23.zpp_pool=a.next,a.next=null);null;return a};c.geom.ZPP_Mat23.identity=function(){var a=c.geom.ZPP_Mat23.get();a.setas(1,0,0,1,0,0);return a};c.geom.ZPP_Mat23.prototype=
{outer:null,wrapper:function(){if(null==this.outer){this.outer=new f.geom.Mat23;var a=this.outer.zpp_inner;a.next=c.geom.ZPP_Mat23.zpp_pool;c.geom.ZPP_Mat23.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},a:null,b:null,c:null,d:null,tx:null,ty:null,_invalidate:null,invalidate:function(){null!=this._invalidate&&this._invalidate()},set:function(a){this.setas(a.a,a.b,a.c,a.d,a.tx,a.ty)},setas:function(a,b,d,c,e,g){this.tx=e;this.ty=g;this.a=a;this.b=b;this.c=d;this.d=c},next:null,free:function(){},
alloc:function(){},__class__:c.geom.ZPP_Mat23};c.geom.ZPP_MatMN=function(a,b){this.x=null;this.m=this.n=0;this.outer=null;this.m=a;this.n=b;this.x=[];for(var d=0,c=a*b;d<c;)d++,this.x.push(0)};m["zpp_nape.geom.ZPP_MatMN"]=c.geom.ZPP_MatMN;c.geom.ZPP_MatMN.__name__=["zpp_nape","geom","ZPP_MatMN"];c.geom.ZPP_MatMN.prototype={outer:null,m:null,n:null,x:null,__class__:c.geom.ZPP_MatMN};c.geom.ZPP_Monotone=function(){};m["zpp_nape.geom.ZPP_Monotone"]=c.geom.ZPP_Monotone;c.geom.ZPP_Monotone.__name__=["zpp_nape",
"geom","ZPP_Monotone"];c.geom.ZPP_Monotone.bisector=function(a){var b=a.prev,d=a.next,k=0,e=0,k=a.x-b.x,e=a.y-b.y,g=b=0,b=d.x-a.x,g=d.y-a.y;a=c.geom.ZPP_Vec2.get(-e-g,k+b,null);d=1/Math.sqrt(a.x*a.x+a.y*a.y);a.x*=d;a.y*=d;0>g*k-b*e&&(a.x=-a.x,a.y=-a.y);return a};c.geom.ZPP_Monotone.below=function(a,b){if(a.y<b.y)return!0;if(a.y>b.y)return!1;if(a.x<b.x)return!0;if(a.x>b.x)return!1;var d=c.geom.ZPP_Monotone.bisector(a),k=c.geom.ZPP_Monotone.bisector(b);d.x+=1*a.x;d.y+=1*a.y;k.x+=1*b.x;k.y+=1*b.y;var e=
d.x<k.x||d.x==k.x&&d.y<k.y;null!=d.outer&&(d.outer.zpp_inner=null,d.outer=null);d._isimmutable=null;d._validate=null;d._invalidate=null;d.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=d;null!=k.outer&&(k.outer.zpp_inner=null,k.outer=null);k._isimmutable=null;k._validate=null;k._invalidate=null;k.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=k;return e};c.geom.ZPP_Monotone.above=function(a,b){return c.geom.ZPP_Monotone.below(b,a)};c.geom.ZPP_Monotone.left_vertex=function(a){var b=
a.prev;return b.y>a.y||b.y==a.y&&a.next.y<a.y};c.geom.ZPP_Monotone.isMonotone=function(a){var b=a,d=a,c=a.next;if(null!=c){do{var e=c;e.y<b.y&&(b=e);e.y>d.y&&(d=e);c=c.next}while(c!=a)}a=!0;c=b;if(d!=b.next){var g=b.next,e=d;if(null!=g){do{var f=g;if(f.y<c.y){a=!1;break}c=f;g=g.next}while(g!=e)}}if(!a)return!1;c=b;if(d!=b.prev&&(b=b.prev,null!=b)){do{e=b;if(e.y<c.y){a=!1;break}c=e;b=b.prev}while(b!=d)}return a};c.geom.ZPP_Monotone.getShared=function(){null==c.geom.ZPP_Monotone.sharedPPoly&&(c.geom.ZPP_Monotone.sharedPPoly=
new c.geom.ZPP_PartitionedPoly);return c.geom.ZPP_Monotone.sharedPPoly};c.geom.ZPP_Monotone.decompose=function(a,b){null==b?b=new c.geom.ZPP_PartitionedPoly(a):b.init(a);if(null==b.vertices)return b;null==c.geom.ZPP_Monotone.queue&&(c.geom.ZPP_Monotone.queue=new c.util.ZNPList_ZPP_PartitionVertex);var d=b.vertices,k=b.vertices;if(null!=d){do{var e=d;c.geom.ZPP_Monotone.queue.add(e);var g=0,f=0,g=e.next.x-e.x,f=e.next.y-e.y,h=0,l=0,h=e.prev.x-e.x,l=e.prev.y-e.y,g=0<l*g-h*f;c.geom.ZPP_Monotone.below(e.prev,
e)?c.geom.ZPP_Monotone.below(e.next,e)?e.type=g?0:3:e.type=4:c.geom.ZPP_Monotone.below(e,e.next)?e.type=g?1:2:e.type=4;d=d.next}while(d!=k)}k=c.geom.ZPP_Monotone.queue;if(null!=k.head&&null!=k.head.next){var d=k.head,h=f=g=e=null,l=1,m,n,t;do{m=0;g=d;for(e=d=null;null!=g;){m++;f=g;n=0;for(t=l;null!=f&&n<l;)n++,f=f.next;for(;0<n||0<t&&null!=f;)0==n?(h=f,f=f.next,t--):0==t||null==f?(h=g,g=g.next,n--):c.geom.ZPP_Monotone.above(g.elt,f.elt)?(h=g,g=g.next,n--):(h=f,f=f.next,t--),null!=e?e.next=h:d=h,e=
h;g=f}e.next=null;l<<=1}while(1<m);k.head=d;k.modified=!0;k.pushmod=!0}null==c.geom.ZPP_Monotone.edges&&(null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?c.geom.ZPP_Monotone.edges=new c.util.ZPP_Set_ZPP_PartitionVertex:(c.geom.ZPP_Monotone.edges=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=c.geom.ZPP_Monotone.edges.next,c.geom.ZPP_Monotone.edges.next=null),null,c.geom.ZPP_Monotone.edges.lt=c.geom.ZPP_PartitionVertex.edge_lt,c.geom.ZPP_Monotone.edges.swapped=
c.geom.ZPP_PartitionVertex.edge_swap);for(;null!=c.geom.ZPP_Monotone.queue.head;)switch(k=c.geom.ZPP_Monotone.queue.pop_unsafe(),k.type){case 0:k.helper=k;k.node=c.geom.ZPP_Monotone.edges.insert(k);break;case 1:d=k.prev;if(null==d.helper)throw"Fatal error (1): Polygon is not weakly-simple and clockwise";2==d.helper.type&&b.add_diagonal(k,d.helper);c.geom.ZPP_Monotone.edges.remove_node(d.node);d.helper=null;break;case 3:d=null;if(!c.geom.ZPP_Monotone.edges.empty()){for(e=c.geom.ZPP_Monotone.edges.parent;null!=
e.prev;)e=e.prev;for(;null!=e;){g=e.data;if(!c.geom.ZPP_PartitionVertex.vert_lt(g,k)){d=g;break}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}if(null!=d){if(null==d.helper)throw"Fatal error (2): Polygon is not weakly-simple and clockwise";b.add_diagonal(k,d.helper);d.helper=k}k.node=c.geom.ZPP_Monotone.edges.insert(k);k.helper=k;break;case 2:d=k.prev;if(null==d.helper)throw"Fatal error (3): Polygon is not weakly-simple and clockwise";
2==d.helper.type&&b.add_diagonal(k,d.helper);c.geom.ZPP_Monotone.edges.remove_node(d.node);d=d.helper=null;if(!c.geom.ZPP_Monotone.edges.empty()){for(e=c.geom.ZPP_Monotone.edges.parent;null!=e.prev;)e=e.prev;for(;null!=e;){g=e.data;if(!c.geom.ZPP_PartitionVertex.vert_lt(g,k)){d=g;break}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}if(null!=d){if(null==d.helper)throw"Fatal error (4): Polygon is not weakly-simple and clockwise";
2==d.helper.type&&b.add_diagonal(k,d.helper);d.helper=k}break;case 4:if(d=k.prev,c.geom.ZPP_Monotone.left_vertex(k)){if(null==d.helper)throw"Fatal error (5): Polygon is not weakly-simple and clockwise";2==d.helper.type&&b.add_diagonal(k,d.helper);c.geom.ZPP_Monotone.edges.remove_node(d.node);d.helper=null;k.node=c.geom.ZPP_Monotone.edges.insert(k);k.helper=k}else{d=null;if(!c.geom.ZPP_Monotone.edges.empty()){for(e=c.geom.ZPP_Monotone.edges.parent;null!=e.prev;)e=e.prev;for(;null!=e;){g=e.data;if(!c.geom.ZPP_PartitionVertex.vert_lt(g,
k)){d=g;break}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}if(null==d||null==d.helper)throw"Fatal error (6): Polygon is not weakly-simple and clockwise";2==d.helper.type&&b.add_diagonal(k,d.helper);d.helper=k}}return b};c.geom.ZPP_PartitionVertex=function(){this.next=this.prev=this.node=null;this.rightchain=!1;this.helper=null;this.type=0;this.diagonals=null;this.forced=!1;this.id=this.mag=this.x=this.y=0;this.id=c.geom.ZPP_PartitionVertex.nextId++;
this.diagonals=new c.util.ZNPList_ZPP_PartitionVertex};m["zpp_nape.geom.ZPP_PartitionVertex"]=c.geom.ZPP_PartitionVertex;c.geom.ZPP_PartitionVertex.__name__=["zpp_nape","geom","ZPP_PartitionVertex"];c.geom.ZPP_PartitionVertex.get=function(a){var b;null==c.geom.ZPP_PartitionVertex.zpp_pool?b=new c.geom.ZPP_PartitionVertex:(b=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.x=a.x;b.y=a.y;return b};c.geom.ZPP_PartitionVertex.rightdistance=function(a,
b){var d=a.next.y>a.y,c=0,e=0,c=a.next.x-a.x,e=a.next.y-a.y,g=0,f=0,g=b.x-a.x,f=b.y-a.y;return(d?-1:1)*(f*c-g*e)};c.geom.ZPP_PartitionVertex.vert_lt=function(a,b){if(b==a||b==a.next)return!0;if(a.y==a.next.y){var d=a.x,k=a.next.x;return(d<k?d:k)<=b.x}return 0>=c.geom.ZPP_PartitionVertex.rightdistance(a,b)};c.geom.ZPP_PartitionVertex.edge_swap=function(a,b){var d=a.node;a.node=b.node;b.node=d};c.geom.ZPP_PartitionVertex.edge_lt=function(a,b){if(a==b&&a.next==b.next)return!1;if(a==b.next)return!c.geom.ZPP_PartitionVertex.vert_lt(a,
b);if(b==a.next)return c.geom.ZPP_PartitionVertex.vert_lt(b,a);if(a.y==a.next.y)return b.y==b.next.y?function(b){b=a.x;var d=a.next.x;return b>d?b:d}(this)>function(a){a=b.x;var d=b.next.x;return a>d?a:d}(this):0<c.geom.ZPP_PartitionVertex.rightdistance(b,a)||0<c.geom.ZPP_PartitionVertex.rightdistance(b,a.next);var d=c.geom.ZPP_PartitionVertex.rightdistance(a,b),k=c.geom.ZPP_PartitionVertex.rightdistance(a,b.next);if(0==d&&0==k)return function(b){b=a.x;var d=a.next.x;return b>d?b:d}(this)>function(a){a=
b.x;var d=b.next.x;return a>d?a:d}(this);if(0<=d*k)return 0>d||0>k;d=c.geom.ZPP_PartitionVertex.rightdistance(b,a);k=c.geom.ZPP_PartitionVertex.rightdistance(b,a.next);return 0<=d*k?0<d||0<k:!1};c.geom.ZPP_PartitionVertex.prototype={id:null,mag:null,x:null,y:null,forced:null,diagonals:null,type:null,helper:null,rightchain:null,next:null,prev:null,alloc:function(){},free:function(){this.helper=null},copy:function(){var a;null==c.geom.ZPP_PartitionVertex.zpp_pool?a=new c.geom.ZPP_PartitionVertex:(a=
c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=a.next,a.next=null);null;a.x=this.x;a.y=this.y;a.forced=this.forced;return a},sort:function(){var a=0,b=0,d=0,c=0,e,a=this.prev.x-this.x,b=this.prev.y-this.y,d=this.next.x-this.x,c=this.next.y-this.y;e=c*a-d*b;e=0<e?-1:0==e?0:1;var g=this.diagonals;if(null!=g.head&&null!=g.head.next){var f=g.head,h=null,l=null,m=null,n=null,t=1,u,A,q;do{u=0;l=f;for(h=f=null;null!=l;){u++;m=l;A=0;for(q=t;null!=m&&A<t;)A++,m=m.next;for(;0<A||0<
q&&null!=m;)0==A?(n=m,m=m.next,q--):0==q||null==m?(n=l,l=l.next,A--):(1==e?1==function(e){a=l.elt.x-e.x;b=l.elt.y-e.y;d=m.elt.x-e.x;c=m.elt.y-e.y;e=c*a-d*b;return 0<e?-1:0==e?0:1}(this):function(e){var g;a=e.prev.x-e.x;b=e.prev.y-e.y;d=l.elt.x-e.x;c=l.elt.y-e.y;g=c*a-d*b;g=0<g?-1:0==g?0:1;var f;a=e.prev.x-e.x;b=e.prev.y-e.y;d=m.elt.x-e.x;c=m.elt.y-e.y;f=c*a-d*b;f=0<f?-1:0==f?0:1;return 1==g*f||0==g*f&&(1==g||1==f)?1==function(e){a=l.elt.x-e.x;b=l.elt.y-e.y;d=m.elt.x-e.x;c=m.elt.y-e.y;e=c*a-d*b;return 0<
e?-1:0==e?0:1}(e):-1==g||-1==f?-1==f:0==g&&0==f?function(e){a=e.x-e.prev.x;b=e.y-e.prev.y;d=l.elt.x-e.x;c=l.elt.y-e.y;var g=a*d+b*c;d=m.elt.x-e.x;c=m.elt.y-e.y;e=a*d+b*c;return 0>g&&0<e?!0:0>e&&0<g?!1:!0}(e):!0}(this))?(n=l,l=l.next,A--):(n=m,m=m.next,q--),null!=h?h.next=n:f=n,h=n;l=m}h.next=null;t<<=1}while(1<u);g.head=f;g.modified=!0;g.pushmod=!0}},node:null,__class__:c.geom.ZPP_PartitionVertex};c.geom.ZPP_PartitionedPoly=function(a){this.vertices=this.next=null;this.init(a)};m["zpp_nape.geom.ZPP_PartitionedPoly"]=
c.geom.ZPP_PartitionedPoly;c.geom.ZPP_PartitionedPoly.__name__=["zpp_nape","geom","ZPP_PartitionedPoly"];c.geom.ZPP_PartitionedPoly.getSharedPP=function(){null==c.geom.ZPP_PartitionedPoly.sharedPPList&&(c.geom.ZPP_PartitionedPoly.sharedPPList=new c.util.ZNPList_ZPP_PartitionedPoly);return c.geom.ZPP_PartitionedPoly.sharedPPList};c.geom.ZPP_PartitionedPoly.getShared=function(){null==c.geom.ZPP_PartitionedPoly.sharedGVList&&(c.geom.ZPP_PartitionedPoly.sharedGVList=new c.util.ZNPList_ZPP_GeomVert);return c.geom.ZPP_PartitionedPoly.sharedGVList};
c.geom.ZPP_PartitionedPoly.prototype={vertices:null,eq:function(a,b){return c.geom.ZPP_VecMath.vec_dsq(a.x,a.y,b.x,b.y)<f.Config.epsilon*f.Config.epsilon},next:null,alloc:function(){},free:function(){},init:function(a){if(null!=a){var b;b=0;if(null!=a){var d=a;do{var k=d;b+=k.x*(k.next.y-k.prev.y);d=d.next}while(d!=a)}b=0<.5*b;d=a;do b?(k=c.geom.ZPP_PartitionVertex.get(d),null==this.vertices?this.vertices=k.prev=k.next=k:(k.prev=this.vertices,k.next=this.vertices.next,this.vertices.next.prev=k,this.vertices.next=
k)):(k=c.geom.ZPP_PartitionVertex.get(d),null==this.vertices?this.vertices=k.prev=k.next=k:(k.next=this.vertices,k.prev=this.vertices.prev,this.vertices.prev.next=k,this.vertices.prev=k)),this.vertices=k,this.vertices.forced=d.forced,d=d.next;while(d!=a);this.remove_collinear_vertices()}},remove_collinear_vertices:function(){for(var a=this.vertices,b=!0;b||a!=this.vertices;)if(b=!1,this.eq(a,a.next)){a==this.vertices&&(this.vertices=a.next,b=!0);a.forced&&(a.next.forced=!0);if(null!=a&&a.prev==a)a.next=
a.prev=null,a.helper=null,null,a.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=a,a=a=null;else{var d=a.next;a.prev.next=a.next;a.next.prev=a.prev;a.next=a.prev=null;a.helper=null;null;a.next=c.geom.ZPP_PartitionVertex.zpp_pool;c.geom.ZPP_PartitionVertex.zpp_pool=a;a=d}if(null==a){this.vertices=null;break}}else a=a.next;if(null==this.vertices)return!0;do for(d=!1,a=this.vertices,b=!0;b||a!=this.vertices;){var b=!1,k=a.prev,e=0,g=0,e=a.x-k.x,g=a.y-k.y,h=k=0,k=a.next.x-
a.x,h=a.next.y-a.y,e=h*e-k*g;if(e*e>=f.Config.epsilon*f.Config.epsilon)a=a.next;else if(a==this.vertices&&(this.vertices=a.next,b=!0),null!=a&&a.prev==a?(a.next=a.prev=null,a.helper=null,null,a.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=a,a=a=null):(d=a.next,a.prev.next=a.next,a.next.prev=a.prev,a.next=a.prev=null,a.helper=null,null,a.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=a,a=d),d=!0,null==a){d=!1;this.vertices=null;break}}while(d);
return null==this.vertices},add_diagonal:function(a,b){a.diagonals.add(b);b.diagonals.add(a);a.forced=b.forced=!0},extract_partitions:function(a){null==a&&(a=new c.util.ZNPList_ZPP_PartitionedPoly);if(null!=this.vertices){var b=this.vertices,d=this.vertices;if(null!=b){do b.sort(),b=b.next;while(b!=d)}for(this.pull_partitions(this.vertices,a);null!=this.vertices;)null!=this.vertices&&this.vertices.prev==this.vertices?(this.vertices.next=this.vertices.prev=null,d=this.vertices,d.helper=null,null,d.next=
c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=d,this.vertices=this.vertices=null):(d=this.vertices.next,this.vertices.prev.next=this.vertices.next,this.vertices.next.prev=this.vertices.prev,this.vertices.next=this.vertices.prev=null,b=this.vertices,b.helper=null,null,b.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=b,this.vertices=null,this.vertices=d);d=null;for(b=a.head;null!=b;)b.elt.remove_collinear_vertices()?a.erase(d):(d=b,b=b.next)}return a},
pull_partitions:function(a,b){var d;null==c.geom.ZPP_PartitionedPoly.zpp_pool?d=new c.geom.ZPP_PartitionedPoly:(d=c.geom.ZPP_PartitionedPoly.zpp_pool,c.geom.ZPP_PartitionedPoly.zpp_pool=d.next,d.next=null);null;var k=a;do{var e=k.copy();null==d.vertices?d.vertices=e.prev=e.next=e:(e.prev=d.vertices,e.next=d.vertices.next,d.vertices.next.prev=e,d.vertices.next=e);d.vertices=e;d.vertices.forced=k.forced;if(null!=k.diagonals.head)if(k.diagonals.inlined_pop_unsafe()==a)break;else k=this.pull_partitions(k,
b);else k=k.next}while(k!=a);var e=0,g=d.vertices,f=d.vertices;if(null!=g){do var h=g,e=e+h.x*(h.next.y-h.prev.y),g=g.next;while(g!=f)}0!=.5*e&&b.add(d);return k},extract:function(a){null==a&&(a=new c.util.ZNPList_ZPP_GeomVert);if(null!=this.vertices){var b=this.vertices,d=this.vertices;if(null!=b){do b.sort(),b=b.next;while(b!=d)}for(this.pull(this.vertices,a);null!=this.vertices;)null!=this.vertices&&this.vertices.prev==this.vertices?(this.vertices.next=this.vertices.prev=null,d=this.vertices,d.helper=
null,null,d.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=d,this.vertices=this.vertices=null):(d=this.vertices.next,this.vertices.prev.next=this.vertices.next,this.vertices.next.prev=this.vertices.prev,this.vertices.next=this.vertices.prev=null,b=this.vertices,b.helper=null,null,b.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=b,this.vertices=null,this.vertices=d)}return a},pull:function(a,b){var d=null,k=a;do{var e=c.geom.ZPP_GeomVert.get(k.x,
k.y);null==d?e.prev=e.next=e:(e.prev=d,e.next=d.next,d.next.prev=e,d.next=e);d=e;d.forced=k.forced;if(null!=k.diagonals.head)if(k.diagonals.inlined_pop_unsafe()==a)break;else k=this.pull(k,b);else k=k.next}while(k!=a);var e=0,g=d,h=d;if(null!=g){do var l=g,e=e+l.x*(l.next.y-l.prev.y),g=g.next;while(g!=h)}e*=.5;if(e*e>=f.Config.epsilon*f.Config.epsilon){e=d;for(h=!0;h||e!=d;)if(h=!1,c.geom.ZPP_VecMath.vec_dsq(e.x,e.y,e.next.x,e.next.y)<f.Config.epsilon*f.Config.epsilon){if(e==d&&(d=e.next,h=!0),e.forced&&
(e.next.forced=!0),null!=e&&e.prev==e?e=e=e.next=e.prev=null:(g=e.next,e.prev.next=e.next,e.next.prev=e.prev,e.next=e.prev=null,e=g),null==e){d=null;break}}else e=e.next;if(null!=d){do for(g=!1,e=d,h=!0;h||e!=d;){var h=!1,m=e.prev,w=l=0,l=e.x-m.x,w=e.y-m.y,n=m=0,m=e.next.x-e.x,n=e.next.y-e.y,l=n*l-m*w;if(l*l>=f.Config.epsilon*f.Config.epsilon)e=e.next;else if(e==d&&(d=e.next,h=!0),null!=e&&e.prev==e?e=e=e.next=e.prev=null:(g=e.next,e.prev.next=e.next,e.next.prev=e.prev,e.next=e.prev=null,e=g),g=!0,
null==e){g=!1;d=null;break}}while(g)}null==d||b.add(d)}return k},__class__:c.geom.ZPP_PartitionedPoly};c.geom.ZPP_Ray=function(){this.zip_dir=!1;this.originx=this.originy=this.dirx=this.diry=this.idirx=this.idiry=this.normalx=this.normaly=this.absnormalx=this.absnormaly=0;this.userData=null;this.maxdist=0;this.origin=this.direction=null;this.origin=f.geom.Vec2.get(null,null,null);this.origin.zpp_inner._invalidate=u(this,this.origin_invalidate);this.direction=f.geom.Vec2.get(null,null,null);this.direction.zpp_inner._invalidate=
u(this,this.direction_invalidate);this.diry=this.dirx=this.originy=this.originx=0;this.zip_dir=!1};m["zpp_nape.geom.ZPP_Ray"]=c.geom.ZPP_Ray;c.geom.ZPP_Ray.__name__=["zpp_nape","geom","ZPP_Ray"];c.geom.ZPP_Ray.prototype={origin:null,direction:null,maxdist:null,userData:null,originx:null,originy:null,dirx:null,diry:null,idirx:null,idiry:null,normalx:null,normaly:null,absnormalx:null,absnormaly:null,origin_invalidate:function(a){this.originx=a.x;this.originy=a.y},direction_invalidate:function(a){this.dirx=
a.x;this.diry=a.y;this.zip_dir=!0},zip_dir:null,invalidate_dir:function(){this.zip_dir=!0},validate_dir:function(){if(this.zip_dir){this.zip_dir=!1;if(this.dirx*this.dirx+this.diry*this.diry<f.Config.epsilon)throw"Error: Ray::direction is degenerate";var a=1/Math.sqrt(this.dirx*this.dirx+this.diry*this.diry);this.dirx*=a;this.diry*=a;this.idirx=1/this.dirx;this.idiry=1/this.diry;this.normalx=-this.diry;this.normaly=this.dirx;a=this.normalx;this.absnormalx=0>a?-a:a;a=this.normaly;this.absnormaly=0>
a?-a:a}},rayAABB:function(){var a=this.originx,b=a,d=this.originy,k=d;this.maxdist>=Math.POSITIVE_INFINITY?(0<this.dirx?b=Math.POSITIVE_INFINITY:0>this.dirx&&(b=Math.NEGATIVE_INFINITY),0<this.diry?k=Math.POSITIVE_INFINITY:0>this.diry&&(k=Math.NEGATIVE_INFINITY)):(b+=this.maxdist*this.dirx,k+=this.maxdist*this.diry);if(b<a)var e=a,a=b,b=e;k<d&&(e=d,d=k,k=e);return c.geom.ZPP_AABB.get(a,d,b,k)},aabbtest:function(a){var b=this.normalx*(this.originx-.5*(a.minx+a.maxx))+this.normaly*(this.originy-.5*(a.miny+
a.maxy));return(0>b?-b:b)<.5*this.absnormalx*(a.maxx-a.minx)+.5*this.absnormaly*(a.maxy-a.miny)},aabbsect:function(a){var b=this.originy>=a.miny&&this.originy<=a.maxy;if(this.originx>=a.minx&&this.originx<=a.maxx&&b)return 0;b=-1;do if(!(0<=this.dirx&&this.originx>=a.maxx||0>=this.dirx&&this.originx<=a.minx||0<=this.diry&&this.originy>=a.maxy||0>=this.diry&&this.originy<=a.miny)){if(0<this.dirx){var d=(a.minx-this.originx)*this.idirx;if(0<=d&&d<=this.maxdist){var c=this.originy+d*this.diry;if(c>=
a.miny&&c<=a.maxy){b=d;break}}}else if(0>this.dirx&&(d=(a.maxx-this.originx)*this.idirx,0<=d&&d<=this.maxdist&&(c=this.originy+d*this.diry,c>=a.miny&&c<=a.maxy))){b=d;break}0<this.diry?(d=(a.miny-this.originy)*this.idiry,0<=d&&d<=this.maxdist&&(c=this.originx+d*this.dirx,c>=a.minx&&c<=a.maxx&&(b=d))):0>this.diry&&(d=(a.maxy-this.originy)*this.idiry,0<=d&&d<=this.maxdist&&(c=this.originx+d*this.dirx,c>=a.minx&&c<=a.maxx&&(b=d)))}while(0);return b},circlesect:function(a,b,d){a.zip_worldCOM&&null!=a.body&&
(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*a.localCOMx-a.body.axisx*a.localCOMy),a.worldCOMy=a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy));var k=0,e=0,k=this.originx-a.worldCOMx,e=this.originy-a.worldCOMy,g=this.dirx*this.dirx+
this.diry*this.diry,h=2*(k*this.dirx+e*this.diry),k=k*k+e*e-a.radius*a.radius,e=h*h-4*g*k;if(0==e){if(g*=-h/2,(!b||0<k)&&0<g&&g<d&&g<=this.maxdist)return d=b=0,b=this.originx,d=this.originy,b+=this.dirx*g,d+=this.diry*g,b-=1*a.worldCOMx,d-=1*a.worldCOMy,h=1/Math.sqrt(b*b+d*d),b*=h,d*=h,0>=k&&(b=-b,d=-d),c.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(b,d,null),g,0>=k,a.outer)}else if(e=Math.sqrt(e),g=1/(2*g),k=(-h-e)*g,g*=-h+e,0<k){if(k<d&&k<=this.maxdist)return d=b=0,b=this.originx,d=this.originy,
b+=this.dirx*k,d+=this.diry*k,b-=1*a.worldCOMx,d-=1*a.worldCOMy,g=1/Math.sqrt(b*b+d*d),c.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(b*g,d*g,null),k,!1,a.outer)}else if(0<g&&b&&g<d&&g<=this.maxdist)return d=b=0,b=this.originx,d=this.originy,b+=this.dirx*g,d+=this.diry*g,b-=1*a.worldCOMx,d-=1*a.worldCOMy,k=1/Math.sqrt(b*b+d*d),b=-(b*k),d=-(d*k),c.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(b,d,null),g,!0,a.outer);return null},circlesect2:function(a,b,d){a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=
!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*a.localCOMx-a.body.axisx*a.localCOMy),a.worldCOMy=a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy));var k=0,e=0,k=this.originx-a.worldCOMx,e=this.originy-a.worldCOMy,g=this.dirx*this.dirx+this.diry*this.diry,
h=2*(k*this.dirx+e*this.diry),k=k*k+e*e-a.radius*a.radius,l=h*h-4*g*k;if(0==l){if(e=-h/2*g,(!b||0<k)&&0<e&&e<=this.maxdist){g=b=0;b=this.originx;g=this.originy;b+=this.dirx*e;g+=this.diry*e;b-=1*a.worldCOMx;g-=1*a.worldCOMy;h=1/Math.sqrt(b*b+g*g);b*=h;g*=h;0>=k&&(b=-b,g=-g);a=c.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(b,g,null),e,0>=k,a.outer);b=null;for(k=d.zpp_inner.inner.head;null!=k;){e=k.elt;if(null!=a.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";g=
a.zpp_inner.toiDistance;if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";if(g<e.zpp_inner.toiDistance)break;b=k;k=k.next}d.zpp_inner.inner.inlined_insert(b,a)}}else{l=Math.sqrt(l);g=1/(2*g);e=(-h-l)*g;k=(-h+l)*g;if(0<e&&e<=this.maxdist){h=g=0;g=this.originx;h=this.originy;g+=this.dirx*e;h+=this.diry*e;g-=1*a.worldCOMx;h-=1*a.worldCOMy;l=1/Math.sqrt(g*g+h*h);e=c.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(g*l,h*l,null),e,!1,a.outer);g=null;for(h=d.zpp_inner.inner.head;null!=
h;){l=h.elt;if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";var m=e.zpp_inner.toiDistance;if(null!=l.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";if(m<l.zpp_inner.toiDistance)break;g=h;h=h.next}d.zpp_inner.inner.inlined_insert(g,e)}if(0<k&&k<=this.maxdist&&b){e=b=0;b=this.originx;e=this.originy;b+=this.dirx*k;e+=this.diry*k;b-=1*a.worldCOMx;e-=1*a.worldCOMy;g=1/Math.sqrt(b*b+e*e);b=-(b*g);e=-(e*g);a=c.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(b,
e,null),k,!0,a.outer);b=null;for(k=d.zpp_inner.inner.head;null!=k;){e=k.elt;if(null!=a.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";g=a.zpp_inner.toiDistance;if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";if(g<e.zpp_inner.toiDistance)break;b=k;k=k.next}d.zpp_inner.inner.inlined_insert(b,a)}}},polysect:function(a,b,d){for(var k=null,e=a.edges.head,g=a.gverts.next,h=g,g=g.next;null!=g;){var l=g,m=e.elt;if(b||0>m.gnormx*
this.dirx+m.gnormy*this.diry){var w=0,n=0,w=l.x-h.x,n=l.y-h.y,t=m=0,m=h.x-this.originx,t=h.y-this.originy,h=n*this.dirx-w*this.diry;h*h>f.Config.epsilon&&(h=1/h,w=(n*m-w*t)*h,0<w&&w<d&&w<=this.maxdist&&(h*=this.diry*m-this.dirx*t,h>-f.Config.epsilon&&h<1+f.Config.epsilon&&(d=w,k=e.elt)))}e=e.next;h=l;g=g.next}l=g=a.gverts.next;g=e.elt;if(b||0>g.gnormx*this.dirx+g.gnormy*this.diry)g=b=0,b=l.x-h.x,g=l.y-h.y,m=l=0,l=h.x-this.originx,m=h.y-this.originy,h=g*this.dirx-b*this.diry,h*h>f.Config.epsilon&&
(h=1/h,b=(g*l-b*m)*h,0<b&&b<d&&b<=this.maxdist&&(h*=this.diry*l-this.dirx*m,h>-f.Config.epsilon&&h<1+f.Config.epsilon&&(d=b,k=e.elt)));if(null!=k){b=e=0;e=k.gnormx;b=k.gnormy;if(k=0<e*this.dirx+b*this.diry)e=-e,b=-b;return c.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(e,b,null),d,k,a.outer)}return null},polysect2:function(a,b,d){for(var k=Math.POSITIVE_INFINITY,e=-1,g=null,h=null,l=a.edges.head,m=a.gverts.next,w=m,m=m.next;null!=m;){var n=m,t=l.elt;if(b||0>t.gnormx*this.dirx+t.gnormy*this.diry){var u=
0,A=0,u=n.x-w.x,A=n.y-w.y,q=t=0,t=w.x-this.originx,q=w.y-this.originy,w=A*this.dirx-u*this.diry;w*w>f.Config.epsilon&&(w=1/w,u=(A*t-u*q)*w,0<u&&u<=this.maxdist&&(u<k||u>e)&&(w*=this.diry*t-this.dirx*q,w>-f.Config.epsilon&&w<1+f.Config.epsilon&&(u<k&&(k=u,g=l.elt),u>e&&(e=u,h=l.elt))))}l=l.next;w=n;m=m.next}n=m=a.gverts.next;m=l.elt;if(b||0>m.gnormx*this.dirx+m.gnormy*this.diry)m=b=0,b=n.x-w.x,m=n.y-w.y,t=n=0,n=w.x-this.originx,t=w.y-this.originy,w=m*this.dirx-b*this.diry,w*w>f.Config.epsilon&&(w=
1/w,b=(m*n-b*t)*w,0<b&&b<=this.maxdist&&(b<k||b>e)&&(w*=this.diry*n-this.dirx*t,w>-f.Config.epsilon&&w<1+f.Config.epsilon&&(b<k&&(k=b,g=l.elt),b>e&&(e=b,h=l.elt))));if(null!=g){w=l=0;l=g.gnormx;w=g.gnormy;if(b=0<l*this.dirx+w*this.diry)l=-l,w=-w;k=c.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(l,w,null),k,b,a.outer);l=null;for(w=d.zpp_inner.inner.head;null!=w;){b=w.elt;if(null!=k.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";m=k.zpp_inner.toiDistance;if(null!=
b.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";if(m<b.zpp_inner.toiDistance)break;l=w;w=w.next}d.zpp_inner.inner.inlined_insert(l,k)}if(null!=h&&g!=h){k=g=0;g=h.gnormx;k=h.gnormy;if(h=0<g*this.dirx+k*this.diry)g=-g,k=-k;a=c.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(g,k,null),e,h,a.outer);e=null;for(h=d.zpp_inner.inner.head;null!=h;){g=h.elt;if(null!=a.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";k=a.zpp_inner.toiDistance;
if(null!=g.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";if(k<g.zpp_inner.toiDistance)break;e=h;h=h.next}d.zpp_inner.inner.inlined_insert(e,a)}},__class__:c.geom.ZPP_Ray};c.geom.ZPP_SimpleVert=function(){this.next=this.node=null;this.id=0;this.links=null;this.x=this.y=0;this.forced=!1;this.id=c.ZPP_ID.ZPP_SimpleVert();null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?this.links=new c.util.ZPP_Set_ZPP_SimpleVert:(this.links=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=
this.links.next,this.links.next=null);null;this.links.lt=c.geom.ZPP_SimpleVert.less_xy};m["zpp_nape.geom.ZPP_SimpleVert"]=c.geom.ZPP_SimpleVert;c.geom.ZPP_SimpleVert.__name__=["zpp_nape","geom","ZPP_SimpleVert"];c.geom.ZPP_SimpleVert.less_xy=function(a,b){return a.y<b.y||a.y==b.y&&a.x<b.x};c.geom.ZPP_SimpleVert.swap_nodes=function(a,b){var d=a.node;a.node=b.node;b.node=d};c.geom.ZPP_SimpleVert.get=function(a,b){var d;null==c.geom.ZPP_SimpleVert.zpp_pool?d=new c.geom.ZPP_SimpleVert:(d=c.geom.ZPP_SimpleVert.zpp_pool,
c.geom.ZPP_SimpleVert.zpp_pool=d.next,d.next=null);null;d.x=a;d.y=b;return d};c.geom.ZPP_SimpleVert.prototype={forced:null,x:null,y:null,links:null,id:null,next:null,node:null,free:function(){this.links.clear();this.node=null;this.forced=!1},alloc:function(){},__class__:c.geom.ZPP_SimpleVert};c.geom.ZPP_SimpleSeg=function(){this.next=this.prev=this.node=null;this.id=0;this.left=this.right=this.vertices=null;this.id=c.ZPP_ID.ZPP_SimpleSeg();null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?this.vertices=
new c.util.ZPP_Set_ZPP_SimpleVert:(this.vertices=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=this.vertices.next,this.vertices.next=null);null;this.vertices.lt=u(this,this.less_xy)};m["zpp_nape.geom.ZPP_SimpleSeg"]=c.geom.ZPP_SimpleSeg;c.geom.ZPP_SimpleSeg.__name__=["zpp_nape","geom","ZPP_SimpleSeg"];c.geom.ZPP_SimpleSeg.get=function(a,b){var d;null==c.geom.ZPP_SimpleSeg.zpp_pool?d=new c.geom.ZPP_SimpleSeg:(d=c.geom.ZPP_SimpleSeg.zpp_pool,c.geom.ZPP_SimpleSeg.zpp_pool=
d.next,d.next=null);null;d.left=a;d.right=b;d.vertices.insert(a);d.vertices.insert(b);return d};c.geom.ZPP_SimpleSeg.prototype={left:null,right:null,vertices:null,id:null,next:null,free:function(){this.node=this.prev=this.left=this.right=null;this.vertices.clear()},alloc:function(){},prev:null,node:null,less_xy:function(a,b){return a.x<b.x||a.x==b.x&&a.y<b.y},__class__:c.geom.ZPP_SimpleSeg};c.geom.ZPP_SimpleEvent=function(){this.vertex=this.segment=this.segment2=this.node=this.next=null;this.type=
0};m["zpp_nape.geom.ZPP_SimpleEvent"]=c.geom.ZPP_SimpleEvent;c.geom.ZPP_SimpleEvent.__name__=["zpp_nape","geom","ZPP_SimpleEvent"];c.geom.ZPP_SimpleEvent.swap_nodes=function(a,b){var d=a.node;a.node=b.node;b.node=d};c.geom.ZPP_SimpleEvent.less_xy=function(a,b){return a.vertex.x<b.vertex.x?!0:a.vertex.x>b.vertex.x?!1:a.vertex.y<b.vertex.y?!0:a.vertex.y>b.vertex.y?!1:a.type<b.type};c.geom.ZPP_SimpleEvent.get=function(a){var b;null==c.geom.ZPP_SimpleEvent.zpp_pool?b=new c.geom.ZPP_SimpleEvent:(b=c.geom.ZPP_SimpleEvent.zpp_pool,
c.geom.ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.vertex=a;return b};c.geom.ZPP_SimpleEvent.prototype={type:null,vertex:null,segment:null,segment2:null,node:null,next:null,free:function(){this.node=this.segment=this.segment2=this.vertex=null},alloc:function(){},__class__:c.geom.ZPP_SimpleEvent};c.geom.ZPP_SimpleSweep=function(){this.tree=null;this.sweepx=0;null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?this.tree=new c.util.ZPP_Set_ZPP_SimpleSeg:(this.tree=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,
c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=this.tree.next,this.tree.next=null);null;this.tree.lt=u(this,this.edge_lt);this.tree.swapped=u(this,this.swap_nodes)};m["zpp_nape.geom.ZPP_SimpleSweep"]=c.geom.ZPP_SimpleSweep;c.geom.ZPP_SimpleSweep.__name__=["zpp_nape","geom","ZPP_SimpleSweep"];c.geom.ZPP_SimpleSweep.prototype={sweepx:null,tree:null,swap_nodes:function(a,b){var d=a.node;a.node=b.node;b.node=d},edge_lt:function(a,b){var d=0,c=0,e=0,g=0,f;if(a.left==b.left&&a.right==b.right)return!1;if(a.left==
b.right)return a.left.x==a.right.x?d=a.left.y<a.right.y?a.left.y>b.left.y:a.right.y>b.left.y:(f=a.right.x<a.left.x,d=a.right.x-a.left.x,c=a.right.y-a.left.y,e=b.left.x-a.left.x,g=b.left.y-a.left.y,d=0>(f?c*e-d*g:g*d-e*c)),d;if(a.right==b.left)return b.left.x==b.right.x?d=b.left.y<b.right.y?b.left.y>a.left.y:b.right.y>a.left.y:(f=b.right.x<b.left.x,d=b.right.x-b.left.x,c=b.right.y-b.left.y,e=a.left.x-b.left.x,g=a.left.y-b.left.y,d=0>(f?c*e-d*g:g*d-e*c)),!d;if(a.left==b.left)return a.left.x==a.right.x?
d=a.left.y<a.right.y?a.left.y>b.right.y:a.right.y>b.right.y:(f=a.right.x<a.left.x,d=a.right.x-a.left.x,c=a.right.y-a.left.y,e=b.right.x-a.left.x,g=b.right.y-a.left.y,d=0>(f?c*e-d*g:g*d-e*c)),d;if(a.right==b.right)return a.left.x==a.right.x?d=a.left.y<a.right.y?a.left.y>b.left.y:a.right.y>b.left.y:(f=a.right.x<a.left.x,d=a.right.x-a.left.x,c=a.right.y-a.left.y,e=b.left.x-a.left.x,g=b.left.y-a.left.y,d=0>(f?c*e-d*g:g*d-e*c)),d;if(a.left.x==a.right.x){if(b.left.x==b.right.x)return(a.left.y<a.right.y?
a.right:a.left).y>(b.left.y<b.right.y?b.right:b.left).y;var h;f=b.right.x<b.left.x;d=b.right.x-b.left.x;c=b.right.y-b.left.y;e=a.left.x-b.left.x;g=a.left.y-b.left.y;h=f?c*e-d*g:g*d-e*c;f=b.right.x<b.left.x;d=b.right.x-b.left.x;c=b.right.y-b.left.y;e=a.right.x-b.left.x;g=a.right.y-b.left.y;return 0<=h*(f?c*e-d*g:g*d-e*c)?0<=h:this.sweepx>=a.left.x}if(b.left.x==b.right.x)return f=a.right.x<a.left.x,d=a.right.x-a.left.x,c=a.right.y-a.left.y,e=b.left.x-a.left.x,g=b.left.y-a.left.y,h=f?c*e-d*g:g*d-e*c,
f=a.right.x<a.left.x,d=a.right.x-a.left.x,c=a.right.y-a.left.y,e=b.right.x-a.left.x,g=b.right.y-a.left.y,0<=h*(f?c*e-d*g:g*d-e*c)?0>h:this.sweepx<b.left.x;f=a.right.x<a.left.x;d=a.right.x-a.left.x;c=a.right.y-a.left.y;e=b.left.x-a.left.x;g=b.left.y-a.left.y;h=0>(f?c*e-d*g:g*d-e*c);f=a.right.x<a.left.x;d=a.right.x-a.left.x;c=a.right.y-a.left.y;e=b.right.x-a.left.x;g=b.right.y-a.left.y;if(h==0>(f?c*e-d*g:g*d-e*c))return h;f=b.right.x<b.left.x;d=b.right.x-b.left.x;c=b.right.y-b.left.y;e=a.left.x-b.left.x;
g=a.left.y-b.left.y;h=0<=(f?c*e-d*g:g*d-e*c);f=b.right.x<b.left.x;d=b.right.x-b.left.x;c=b.right.y-b.left.y;e=a.right.x-b.left.x;g=a.right.y-b.left.y;return h==0<=(f?c*e-d*g:g*d-e*c)?h:(this.sweepx-a.left.x)/(a.right.x-a.left.x)*(a.right.y-a.left.y)+a.left.y>(this.sweepx-b.left.x)/(b.right.x-b.left.x)*(b.right.y-b.left.y)+b.left.y},clear:function(){this.tree.clear()},add:function(a){a.node=this.tree.insert(a);var b=this.tree.successor_node(a.node),d=this.tree.predecessor_node(a.node);null!=b&&(a.next=
b.data,b.data.prev=a);null!=d&&(a.prev=d.data,d.data.next=a);return a},remove:function(a){var b=this.tree.successor_node(a.node),d=this.tree.predecessor_node(a.node);null!=b&&(b.data.prev=a.prev);null!=d&&(d.data.next=a.next);this.tree.remove_node(a.node);a.node=null},intersect:function(a,b){return null==a||null==b||a.left==b.left||a.left==b.right||a.right==b.left||a.right==b.right||0<((b.left.x-a.left.x)*(a.right.y-a.left.y)-(a.right.x-a.left.x)*(b.left.y-a.left.y))*((b.right.x-a.left.x)*(a.right.y-
a.left.y)-(a.right.x-a.left.x)*(b.right.y-a.left.y))?!1:0<((a.left.x-b.left.x)*(b.right.y-b.left.y)-(b.right.x-b.left.x)*(a.left.y-b.left.y))*((a.right.x-b.left.x)*(b.right.y-b.left.y)-(b.right.x-b.left.x)*(a.right.y-b.left.y))?!1:!0},intersection:function(a,b){if(null==a||null==b||a.left==b.left||a.left==b.right||a.right==b.left||a.right==b.right)return null;var d=0,k=0,d=a.right.x-a.left.x,k=a.right.y-a.left.y,e=0,g=0,e=b.right.x-b.left.x,g=b.right.y-b.left.y,f=g*d-e*k;if(0==f)return null;var f=
1/f,h=0,l=0,h=b.left.x-a.left.x,l=b.left.y-a.left.y,m=(g*h-e*l)*f;if(0>m||1<m)return null;f*=k*h-d*l;if(0>f||1<f)return null;if(0==f||1==f||0==m||1==m){d=0==f;if(1==f&&d)throw"corner case 1a";1==f&&(d=!0);if(0==m&&d)throw"corner case 1b";0==m&&(d=!0);if(1==m&&d)throw"corner case 1c";m=0==f?b.left:1==f?b.right:0==m?a.left:a.right}else m=c.geom.ZPP_SimpleVert.get(.5*(a.left.x+d*m+b.left.x+e*f),.5*(a.left.y+k*m+b.left.y+g*f));m=c.geom.ZPP_SimpleEvent.get(m);m.type=0;m.segment=a;m.segment2=b;return m},
__class__:c.geom.ZPP_SimpleSweep};c.geom.ZPP_Simple=function(){};m["zpp_nape.geom.ZPP_Simple"]=c.geom.ZPP_Simple;c.geom.ZPP_Simple.__name__=["zpp_nape","geom","ZPP_Simple"];c.geom.ZPP_Simple.decompose=function(a,b){null==c.geom.ZPP_Simple.sweep&&(c.geom.ZPP_Simple.sweep=new c.geom.ZPP_SimpleSweep,c.geom.ZPP_Simple.inthash=new c.util.FastHash2_Hashable2_Boolfalse);null==c.geom.ZPP_Simple.vertices&&(null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?c.geom.ZPP_Simple.vertices=new c.util.ZPP_Set_ZPP_SimpleVert:
(c.geom.ZPP_Simple.vertices=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=c.geom.ZPP_Simple.vertices.next,c.geom.ZPP_Simple.vertices.next=null),null,c.geom.ZPP_Simple.vertices.lt=c.geom.ZPP_SimpleVert.less_xy,c.geom.ZPP_Simple.vertices.swapped=c.geom.ZPP_SimpleVert.swap_nodes);null==c.geom.ZPP_Simple.queue&&(null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?c.geom.ZPP_Simple.queue=new c.util.ZPP_Set_ZPP_SimpleEvent:(c.geom.ZPP_Simple.queue=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,
c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=c.geom.ZPP_Simple.queue.next,c.geom.ZPP_Simple.queue.next=null),null,c.geom.ZPP_Simple.queue.lt=c.geom.ZPP_SimpleEvent.less_xy,c.geom.ZPP_Simple.queue.swapped=c.geom.ZPP_SimpleEvent.swap_nodes);var d=null,k=null;if(null!=a){var e=a;do{var g=e,g=c.geom.ZPP_SimpleVert.get(g.x,g.y),f;for(f=c.geom.ZPP_Simple.vertices.parent;null!=f;)if(c.geom.ZPP_Simple.vertices.lt(g,f.data))f=f.prev;else if(c.geom.ZPP_Simple.vertices.lt(f.data,g))f=f.next;else break;null!=f?(g.links.clear(),
g.node=null,g.forced=!1,g.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=g,g=f.data):g.node=c.geom.ZPP_Simple.vertices.insert(g);if(null!=k){f=c.geom.ZPP_SimpleEvent.get(k);var h=c.geom.ZPP_SimpleEvent.get(g),l;c.geom.ZPP_SimpleEvent.less_xy(f,h)?(f.type=1,h.type=2,l=c.geom.ZPP_SimpleSeg.get(k,g)):(f.type=2,h.type=1,l=c.geom.ZPP_SimpleSeg.get(g,k));f.segment=h.segment=l;c.geom.ZPP_Simple.queue.insert(f);c.geom.ZPP_Simple.queue.insert(h);k.links.insert(g);g.links.insert(k)}k=g;
null==d&&(d=g);e=e.next}while(e!=a)}e=c.geom.ZPP_SimpleEvent.get(k);g=c.geom.ZPP_SimpleEvent.get(d);c.geom.ZPP_SimpleEvent.less_xy(e,g)?(e.type=1,g.type=2,f=c.geom.ZPP_SimpleSeg.get(k,d)):(e.type=2,g.type=1,f=c.geom.ZPP_SimpleSeg.get(d,k));e.segment=g.segment=f;c.geom.ZPP_Simple.queue.insert(e);c.geom.ZPP_Simple.queue.insert(g);k.links.insert(d);d.links.insert(k);null==c.geom.ZPP_Simple.ints&&(null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?c.geom.ZPP_Simple.ints=new c.util.ZPP_Set_ZPP_SimpleEvent:
(c.geom.ZPP_Simple.ints=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=c.geom.ZPP_Simple.ints.next,c.geom.ZPP_Simple.ints.next=null),null,c.geom.ZPP_Simple.ints.lt=c.geom.ZPP_SimpleEvent.less_xy);for(;!c.geom.ZPP_Simple.queue.empty();){d=c.geom.ZPP_Simple.queue.pop_front();c.geom.ZPP_Simple.sweep.sweepx=d.vertex.x;if(1==d.type){k=d.segment;c.geom.ZPP_Simple.sweep.add(k);if(null!=k.next&&null!=k&&(k.next.id<k.id?!c.geom.ZPP_Simple.inthash.has(k.next.id,k.id):!c.geom.ZPP_Simple.inthash.has(k.id,
k.next.id))&&(e=c.geom.ZPP_Simple.sweep.intersection(k.next,k),null!=e))if(e.vertex.x>=c.geom.ZPP_Simple.sweep.sweepx){for(g=c.geom.ZPP_Simple.queue.parent;null!=g;)if(c.geom.ZPP_Simple.queue.lt(e,g.data))g=g.prev;else if(c.geom.ZPP_Simple.queue.lt(g.data,e))g=g.next;else break;if(null==g){for(g=c.geom.ZPP_Simple.ints.parent;null!=g;)if(c.geom.ZPP_Simple.ints.lt(e,g.data))g=g.prev;else if(c.geom.ZPP_Simple.ints.lt(g.data,e))g=g.next;else break;null!=g?(f=e.vertex,f.links.clear(),f.node=null,f.forced=
!1,f.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=f,e.vertex=g.data.vertex,g.data=e,c.geom.ZPP_Simple.queue.insert(e)):(c.geom.ZPP_Simple.queue.insert(e),c.geom.ZPP_Simple.ints.insert(e));k.next.id<k.id?c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(k.next.id,k.id,!0)):c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(k.id,k.next.id,!0))}else{g=g.data;if(g.segment!=e.segment||e.segment2!=g.segment2)throw"corner case 2, shiiiit.";g=e.vertex;g.links.clear();
g.node=null;g.forced=!1;g.next=c.geom.ZPP_SimpleVert.zpp_pool;c.geom.ZPP_SimpleVert.zpp_pool=g;e.vertex=null;e.segment=e.segment2=null;e.node=null;e.next=c.geom.ZPP_SimpleEvent.zpp_pool;c.geom.ZPP_SimpleEvent.zpp_pool=e}}else g=e.vertex,g.links.clear(),g.node=null,g.forced=!1,g.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=g,e.vertex=null,e.segment=e.segment2=null,e.node=null,e.next=c.geom.ZPP_SimpleEvent.zpp_pool,c.geom.ZPP_SimpleEvent.zpp_pool=e;if(null!=k&&null!=k.prev&&(k.id<
k.prev.id?!c.geom.ZPP_Simple.inthash.has(k.id,k.prev.id):!c.geom.ZPP_Simple.inthash.has(k.prev.id,k.id))&&(e=c.geom.ZPP_Simple.sweep.intersection(k,k.prev),null!=e))if(e.vertex.x>=c.geom.ZPP_Simple.sweep.sweepx){for(g=c.geom.ZPP_Simple.queue.parent;null!=g;)if(c.geom.ZPP_Simple.queue.lt(e,g.data))g=g.prev;else if(c.geom.ZPP_Simple.queue.lt(g.data,e))g=g.next;else break;if(null==g){for(g=c.geom.ZPP_Simple.ints.parent;null!=g;)if(c.geom.ZPP_Simple.ints.lt(e,g.data))g=g.prev;else if(c.geom.ZPP_Simple.ints.lt(g.data,
e))g=g.next;else break;null!=g?(f=e.vertex,f.links.clear(),f.node=null,f.forced=!1,f.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=f,e.vertex=g.data.vertex,g.data=e,c.geom.ZPP_Simple.queue.insert(e)):(c.geom.ZPP_Simple.queue.insert(e),c.geom.ZPP_Simple.ints.insert(e));k.id<k.prev.id?c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(k.id,k.prev.id,!0)):c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(k.prev.id,k.id,!0))}else{k=g.data;if(k.segment!=e.segment||
e.segment2!=k.segment2)throw"corner case 2, shiiiit.";k=e.vertex;k.links.clear();k.node=null;k.forced=!1;k.next=c.geom.ZPP_SimpleVert.zpp_pool;c.geom.ZPP_SimpleVert.zpp_pool=k;k=e;k.vertex=null;k.segment=k.segment2=null;k.node=null;k.next=c.geom.ZPP_SimpleEvent.zpp_pool;c.geom.ZPP_SimpleEvent.zpp_pool=k}}else k=e.vertex,k.links.clear(),k.node=null,k.forced=!1,k.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=k,k=e,k.vertex=null,k.segment=k.segment2=null,k.node=null,k.next=c.geom.ZPP_SimpleEvent.zpp_pool,
c.geom.ZPP_SimpleEvent.zpp_pool=k}else if(2==d.type){if(k=d.segment,null!=k.node&&(e=k.next,g=k.prev,c.geom.ZPP_Simple.sweep.remove(k),k.left=k.right=null,k.prev=null,k.node=null,k.vertices.clear(),k.next=c.geom.ZPP_SimpleSeg.zpp_pool,c.geom.ZPP_SimpleSeg.zpp_pool=k,null!=e&&null!=g&&(e.id<g.id?!c.geom.ZPP_Simple.inthash.has(e.id,g.id):!c.geom.ZPP_Simple.inthash.has(g.id,e.id))&&(k=c.geom.ZPP_Simple.sweep.intersection(e,g),null!=k)))if(k.vertex.x>=c.geom.ZPP_Simple.sweep.sweepx){for(f=c.geom.ZPP_Simple.queue.parent;null!=
f;)if(c.geom.ZPP_Simple.queue.lt(k,f.data))f=f.prev;else if(c.geom.ZPP_Simple.queue.lt(f.data,k))f=f.next;else break;if(null==f){for(f=c.geom.ZPP_Simple.ints.parent;null!=f;)if(c.geom.ZPP_Simple.ints.lt(k,f.data))f=f.prev;else if(c.geom.ZPP_Simple.ints.lt(f.data,k))f=f.next;else break;null!=f?(h=k.vertex,h.links.clear(),h.node=null,h.forced=!1,h.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=h,k.vertex=f.data.vertex,f.data=k,c.geom.ZPP_Simple.queue.insert(k)):(c.geom.ZPP_Simple.queue.insert(k),
c.geom.ZPP_Simple.ints.insert(k));e.id<g.id?c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(e.id,g.id,!0)):c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(g.id,e.id,!0))}else{e=f.data;if(e.segment!=k.segment||k.segment2!=e.segment2)throw"corner case 2, shiiiit.";e=k.vertex;e.links.clear();e.node=null;e.forced=!1;e.next=c.geom.ZPP_SimpleVert.zpp_pool;c.geom.ZPP_SimpleVert.zpp_pool=e;k.vertex=null;k.segment=k.segment2=null;k.node=null;k.next=c.geom.ZPP_SimpleEvent.zpp_pool;
c.geom.ZPP_SimpleEvent.zpp_pool=k}}else e=k.vertex,e.links.clear(),e.node=null,e.forced=!1,e.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=e,k.vertex=null,k.segment=k.segment2=null,k.node=null,k.next=c.geom.ZPP_SimpleEvent.zpp_pool,c.geom.ZPP_SimpleEvent.zpp_pool=k}else{var m=d.vertex,k=null==m.node,n=d.segment,t=d.segment2;t.next!=n&&(e=n,n=t,t=e);g=null==function(a){for(a=n.vertices.parent;null!=a;)if(n.vertices.lt(m,a.data))a=a.prev;else if(n.vertices.lt(a.data,m))a=a.next;
else break;return a}(this);e=null==function(a){for(a=t.vertices.parent;null!=a;)if(t.vertices.lt(m,a.data))a=a.prev;else if(t.vertices.lt(a.data,m))a=a.next;else break;return a}(this);g&&(f=n.vertices.insert(m),g=m==n.left?m:n.vertices.predecessor_node(f).data,f=m==n.right?m:n.vertices.successor_node(f).data,g.links.remove(f),m!=g&&g.links.insert(m),f.links.remove(g),m!=f&&f.links.insert(m),m!=g&&m.links.insert(g),m!=f&&m.links.insert(f));e&&(g=t.vertices.insert(m),e=m==t.left?m:t.vertices.predecessor_node(g).data,
g=m==t.right?m:t.vertices.successor_node(g).data,e.links.remove(g),m!=e&&e.links.insert(m),g.links.remove(e),m!=g&&g.links.insert(m),m!=e&&m.links.insert(e),m!=g&&m.links.insert(g));k&&(m.node=c.geom.ZPP_Simple.vertices.insert(m));m.forced=!0;k&&(k=n.node,e=t.node,k.data=t,e.data=n,n.node=e,t.node=k,t.next=n.next,n.next=t,n.prev=t.prev,t.prev=n,null!=n.prev&&(n.prev.next=n),null!=t.next&&(t.next.prev=t));if(null!=t.next&&null!=t&&(t.next.id<t.id?!c.geom.ZPP_Simple.inthash.has(t.next.id,t.id):!c.geom.ZPP_Simple.inthash.has(t.id,
t.next.id))&&(k=c.geom.ZPP_Simple.sweep.intersection(t.next,t),null!=k))if(k.vertex.x>=c.geom.ZPP_Simple.sweep.sweepx){for(e=c.geom.ZPP_Simple.queue.parent;null!=e;)if(c.geom.ZPP_Simple.queue.lt(k,e.data))e=e.prev;else if(c.geom.ZPP_Simple.queue.lt(e.data,k))e=e.next;else break;if(null==e){for(e=c.geom.ZPP_Simple.ints.parent;null!=e;)if(c.geom.ZPP_Simple.ints.lt(k,e.data))e=e.prev;else if(c.geom.ZPP_Simple.ints.lt(e.data,k))e=e.next;else break;null!=e?(g=k.vertex,g.links.clear(),g.node=null,g.forced=
!1,g.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=g,k.vertex=e.data.vertex,e.data=k,c.geom.ZPP_Simple.queue.insert(k)):(c.geom.ZPP_Simple.queue.insert(k),c.geom.ZPP_Simple.ints.insert(k));t.next.id<t.id?c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(t.next.id,t.id,!0)):c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(t.id,t.next.id,!0))}else{e=e.data;if(e.segment!=k.segment||k.segment2!=e.segment2)throw"corner case 2, shiiiit.";e=k.vertex;e.links.clear();
e.node=null;e.forced=!1;e.next=c.geom.ZPP_SimpleVert.zpp_pool;c.geom.ZPP_SimpleVert.zpp_pool=e;k.vertex=null;k.segment=k.segment2=null;k.node=null;k.next=c.geom.ZPP_SimpleEvent.zpp_pool;c.geom.ZPP_SimpleEvent.zpp_pool=k}}else e=k.vertex,e.links.clear(),e.node=null,e.forced=!1,e.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=e,k.vertex=null,k.segment=k.segment2=null,k.node=null,k.next=c.geom.ZPP_SimpleEvent.zpp_pool,c.geom.ZPP_SimpleEvent.zpp_pool=k;if(null!=n&&null!=n.prev&&(n.id<
n.prev.id?!c.geom.ZPP_Simple.inthash.has(n.id,n.prev.id):!c.geom.ZPP_Simple.inthash.has(n.prev.id,n.id))&&(k=c.geom.ZPP_Simple.sweep.intersection(n,n.prev),null!=k))if(k.vertex.x>=c.geom.ZPP_Simple.sweep.sweepx){for(e=c.geom.ZPP_Simple.queue.parent;null!=e;)if(c.geom.ZPP_Simple.queue.lt(k,e.data))e=e.prev;else if(c.geom.ZPP_Simple.queue.lt(e.data,k))e=e.next;else break;if(null==e){for(e=c.geom.ZPP_Simple.ints.parent;null!=e;)if(c.geom.ZPP_Simple.ints.lt(k,e.data))e=e.prev;else if(c.geom.ZPP_Simple.ints.lt(e.data,
k))e=e.next;else break;null!=e?(g=k.vertex,g.links.clear(),g.node=null,g.forced=!1,g.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=g,k.vertex=e.data.vertex,e.data=k,c.geom.ZPP_Simple.queue.insert(k)):(c.geom.ZPP_Simple.queue.insert(k),c.geom.ZPP_Simple.ints.insert(k));n.id<n.prev.id?c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(n.id,n.prev.id,!0)):c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(n.prev.id,n.id,!0))}else{e=e.data;if(e.segment!=k.segment||
k.segment2!=e.segment2)throw"corner case 2, shiiiit.";e=k.vertex;e.links.clear();e.node=null;e.forced=!1;e.next=c.geom.ZPP_SimpleVert.zpp_pool;c.geom.ZPP_SimpleVert.zpp_pool=e;k.vertex=null;k.segment=k.segment2=null;k.node=null;k.next=c.geom.ZPP_SimpleEvent.zpp_pool;c.geom.ZPP_SimpleEvent.zpp_pool=k}}else e=k.vertex,e.links.clear(),e.node=null,e.forced=!1,e.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=e,k.vertex=null,k.segment=k.segment2=null,k.node=null,k.next=c.geom.ZPP_SimpleEvent.zpp_pool,
c.geom.ZPP_SimpleEvent.zpp_pool=k;c.geom.ZPP_Simple.ints.remove(d)}d.vertex=null;d.segment=d.segment2=null;d.node=null;d.next=c.geom.ZPP_SimpleEvent.zpp_pool;c.geom.ZPP_SimpleEvent.zpp_pool=d}d=0;for(k=c.geom.ZPP_Simple.inthash.table.length;d<k;)if(e=d++,f=c.geom.ZPP_Simple.inthash.table[e],null!=f){for(;null!=f;)g=f.hnext,f.hnext=null,f.next=c.util.Hashable2_Boolfalse.zpp_pool,c.util.Hashable2_Boolfalse.zpp_pool=f,f=g;c.geom.ZPP_Simple.inthash.table[e]=null}for(null==b&&(b=new c.util.ZNPList_ZPP_GeomVert);!c.geom.ZPP_Simple.vertices.empty();)c.geom.ZPP_Simple.clip_polygon(c.geom.ZPP_Simple.vertices,
b);return b};c.geom.ZPP_Simple.clip_polygon=function(a,b){var d=null,k=a.first(),e=k,g=k.links.parent,f=g.data,g=(null==g.prev?g.next:g.prev).data,h=0,l=0,h=k.x-f.x,l=k.y-f.y,m=0,n=0,m=g.x-k.x,n=g.y-k.y;0>n*h-m*l&&(g=f);f=c.geom.ZPP_GeomVert.get(k.x,k.y);null==d?f.prev=f.next=f:(f.prev=d,f.next=d.next,d.next.prev=f,d.next=f);d=f;for(d.forced=k.forced;;){k.links.remove(g);g.links.remove(k);if(g==e){k.links.empty()&&(a.remove(k),g=k,g.links.clear(),g.node=null,g.forced=!1,g.next=c.geom.ZPP_SimpleVert.zpp_pool,
c.geom.ZPP_SimpleVert.zpp_pool=g);break}f=c.geom.ZPP_GeomVert.get(g.x,g.y);null==d?f.prev=f.next=f:(f.prev=d,f.next=d.next,d.next.prev=f,d.next=f);d=f;d.forced=g.forced;if(g.links.singular())k.links.empty()&&(a.remove(k),k.links.clear(),k.node=null,k.forced=!1,k.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=k),k=g,g=g.links.parent.data;else{f=null;m=0;if(!g.links.empty()){for(h=g.links.parent;null!=h.prev;)h=h.prev;for(;null!=h;){l=h.data;if(null==f)var f=l,n=m=0,m=g.x-k.x,n=
g.y-k.y,t=0,u=0,t=l.x-g.x,u=l.y-g.y,m=u*m-t*n;else{var t=n=0,n=g.x-k.x,t=g.y-k.y,A=u=0,u=l.x-g.x,A=l.y-g.y,n=A*n-u*t;if(0<n&&0>=m)f=l,m=n;else if(0<=m*n){var u=t=0,t=g.x-l.x,u=g.y-l.y,q=A=0,A=f.x-g.x,q=f.y-g.y;0<q*t-A*u&&(f=l,m=n)}}if(null!=h.next)for(h=h.next;null!=h.prev;)h=h.prev;else{for(;null!=h.parent&&h==h.parent.next;)h=h.parent;h=h.parent}}}k.links.empty()&&(a.remove(k),k.links.clear(),k.node=null,k.forced=!1,k.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=k);k=g;g=f}}a.remove(e);
e.links.clear();e.node=null;e.forced=!1;e.next=c.geom.ZPP_SimpleVert.zpp_pool;c.geom.ZPP_SimpleVert.zpp_pool=e;b.add(d)};c.geom.ZPP_Simple.isSimple=function(a){null==c.geom.ZPP_Simple.sweep&&(c.geom.ZPP_Simple.sweep=new c.geom.ZPP_SimpleSweep,c.geom.ZPP_Simple.inthash=new c.util.FastHash2_Hashable2_Boolfalse);var b=c.geom.ZPP_Simple.list_vertices;null==b&&(b=c.geom.ZPP_Simple.list_vertices=new c.util.ZNPList_ZPP_SimpleVert);if(null!=a){var d=a;do{var k=d;b.add(c.geom.ZPP_SimpleVert.get(k.x,k.y));
d=d.next}while(d!=a)}a=c.geom.ZPP_Simple.list_queue;null==a&&(a=c.geom.ZPP_Simple.list_queue=new c.util.ZNPList_ZPP_SimpleEvent);k=b.head;d=k.elt;for(k=k.next;null!=k;){var e=k.elt,g=a.add(c.geom.ZPP_SimpleEvent.get(d)),f=a.add(c.geom.ZPP_SimpleEvent.get(e)),h=g;c.geom.ZPP_SimpleEvent.less_xy(g,f)?(g.type=1,f.type=2,d=f.segment=c.geom.ZPP_SimpleSeg.get(d,e)):(g.type=2,f.type=1,d=f.segment=c.geom.ZPP_SimpleSeg.get(e,d));h.segment=d;d=e;k=k.next}e=b.head.elt;k=a.add(c.geom.ZPP_SimpleEvent.get(d));h=
a.add(c.geom.ZPP_SimpleEvent.get(e));c.geom.ZPP_SimpleEvent.less_xy(k,h)?(k.type=1,h.type=2,d=h.segment=c.geom.ZPP_SimpleSeg.get(d,e)):(k.type=2,h.type=1,d=h.segment=c.geom.ZPP_SimpleSeg.get(e,d));k.segment=d;d=a;if(null!=d.head&&null!=d.head.next){var k=d.head,f=g=h=e=null,l=1,m,n,t;do{m=0;h=k;for(e=k=null;null!=h;){m++;g=h;n=0;for(t=l;null!=g&&n<l;)n++,g=g.next;for(;0<n||0<t&&null!=g;)0==n?(f=g,g=g.next,t--):0==t||null==g?(f=h,h=h.next,n--):c.geom.ZPP_SimpleEvent.less_xy(h.elt,g.elt)?(f=h,h=h.next,
n--):(f=g,g=g.next,t--),null!=e?e.next=f:k=f,e=f;h=g}e.next=null;l<<=1}while(1<m);d.head=k;d.modified=!0;d.pushmod=!0}for(d=!0;null!=a.head;){k=a.pop_unsafe();e=k.segment;if(1==k.type){if(c.geom.ZPP_Simple.sweep.add(e),c.geom.ZPP_Simple.sweep.intersect(e,e.next)||c.geom.ZPP_Simple.sweep.intersect(e,e.prev)){d=!1;break}}else if(2==k.type){if(c.geom.ZPP_Simple.sweep.intersect(e.prev,e.next)){d=!1;break}c.geom.ZPP_Simple.sweep.remove(e);e.left=e.right=null;e.prev=null;e.node=null;e.vertices.clear();
e.next=c.geom.ZPP_SimpleSeg.zpp_pool;c.geom.ZPP_SimpleSeg.zpp_pool=e}k.vertex=null;k.segment=k.segment2=null;k.node=null;k.next=c.geom.ZPP_SimpleEvent.zpp_pool;c.geom.ZPP_SimpleEvent.zpp_pool=k}for(;null!=a.head;)k=a.pop_unsafe(),2==k.type&&(e=k.segment,e.left=e.right=null,e.prev=null,e.node=null,e.vertices.clear(),e.next=c.geom.ZPP_SimpleSeg.zpp_pool,c.geom.ZPP_SimpleSeg.zpp_pool=e),k.vertex=null,k.segment=k.segment2=null,k.node=null,k.next=c.geom.ZPP_SimpleEvent.zpp_pool,c.geom.ZPP_SimpleEvent.zpp_pool=
k;for(c.geom.ZPP_Simple.sweep.clear();null!=b.head;)a=b.pop_unsafe(),a.links.clear(),a.node=null,a.forced=!1,a.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=a;return d};c.geom.ZPP_SimplifyV=function(){this.flag=this.forced=!1;this.next=this.prev=null;this.x=this.y=0};m["zpp_nape.geom.ZPP_SimplifyV"]=c.geom.ZPP_SimplifyV;c.geom.ZPP_SimplifyV.__name__=["zpp_nape","geom","ZPP_SimplifyV"];c.geom.ZPP_SimplifyV.get=function(a){var b;null==c.geom.ZPP_SimplifyV.zpp_pool?b=new c.geom.ZPP_SimplifyV:
(b=c.geom.ZPP_SimplifyV.zpp_pool,c.geom.ZPP_SimplifyV.zpp_pool=b.next,b.next=null);null;b.x=a.x;b.y=a.y;b.flag=!1;return b};c.geom.ZPP_SimplifyV.prototype={x:null,y:null,next:null,prev:null,flag:null,forced:null,free:function(){},alloc:function(){},__class__:c.geom.ZPP_SimplifyV};c.geom.ZPP_SimplifyP=function(){this.next=this.min=this.max=null};m["zpp_nape.geom.ZPP_SimplifyP"]=c.geom.ZPP_SimplifyP;c.geom.ZPP_SimplifyP.__name__=["zpp_nape","geom","ZPP_SimplifyP"];c.geom.ZPP_SimplifyP.get=function(a,
b){var d;null==c.geom.ZPP_SimplifyP.zpp_pool?d=new c.geom.ZPP_SimplifyP:(d=c.geom.ZPP_SimplifyP.zpp_pool,c.geom.ZPP_SimplifyP.zpp_pool=d.next,d.next=null);null;d.min=a;d.max=b;return d};c.geom.ZPP_SimplifyP.prototype={next:null,min:null,max:null,free:function(){this.min=this.max=null},alloc:function(){},__class__:c.geom.ZPP_SimplifyP};c.geom.ZPP_Simplify=function(){};m["zpp_nape.geom.ZPP_Simplify"]=c.geom.ZPP_Simplify;c.geom.ZPP_Simplify.__name__=["zpp_nape","geom","ZPP_Simplify"];c.geom.ZPP_Simplify.lessval=
function(a,b){return a.x-b.x+(a.y-b.y)};c.geom.ZPP_Simplify.less=function(a,b){return 0>a.x-b.x+(a.y-b.y)};c.geom.ZPP_Simplify.distance=function(a,b,d){var k=0,e=0,k=d.x-b.x,e=d.y-b.y,g=0,f=0,g=a.x-b.x,f=a.y-b.y;if(0==k*k+e*e)return g*g+f*f;b=(g*k+f*e)/(k*k+e*e);if(0>=b)return g*g+f*f;if(1<=b)return c.geom.ZPP_VecMath.vec_dsq(a.x,a.y,d.x,d.y);g-=k*b;f-=e*b;return g*g+f*f};c.geom.ZPP_Simplify.simplify=function(a,b){var d=null,k=null,e=null;b*=b;null==c.geom.ZPP_Simplify.stack&&(c.geom.ZPP_Simplify.stack=
new c.util.ZNPList_ZPP_SimplifyP);var g=null,f=null,h=a;do{var l=c.geom.ZPP_SimplifyV.get(h);l.forced=h.forced;l.forced&&(l.flag=!0,null!=g?c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(g,l)):f=l,g=l);null==d?l.prev=l.next=l:(l.prev=d,l.next=d.next,d.next.prev=l,d.next=l);d=l;null==k?e=k=d:(0>d.x-k.x+(d.y-k.y)&&(k=d),0>e.x-d.x+(e.y-d.y)&&(e=d));h=h.next}while(h!=a);null==c.geom.ZPP_Simplify.stack.head?null==f?(k.flag=e.flag=!0,c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(k,e)),
c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(e,k))):(g=k.x-f.x+(k.y-f.y),0>g&&(g=-g),h=e.x-f.x+(e.y-f.y),0>h&&(h=-h),g>h?(k.flag=f.flag=!0,c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(k,f)),c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(f,k))):(e.flag=f.flag=!0,c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(e,f)),c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(f,e)))):c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(g,f));for(;null!=c.geom.ZPP_Simplify.stack.head;){f=
c.geom.ZPP_Simplify.stack.pop_unsafe();k=f.min;e=f.max;f.min=f.max=null;f.next=c.geom.ZPP_SimplifyP.zpp_pool;c.geom.ZPP_SimplifyP.zpp_pool=f;f=b;g=null;for(h=k.next;h!=e;)l=c.geom.ZPP_Simplify.distance(h,k,e),l>f&&(f=l,g=h),h=h.next;null!=g&&(g.flag=!0,c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(k,g)),c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(g,e)))}for(k=null;null!=d;)d.flag&&(e=c.geom.ZPP_GeomVert.get(d.x,d.y),null==k?e.prev=e.next=e:(e.prev=k,e.next=k.next,k.next.prev=e,
k.next=e),k=e,k.forced=d.forced),null!=d&&d.prev==d?(d.next=d.prev=null,d.next=c.geom.ZPP_SimplifyV.zpp_pool,c.geom.ZPP_SimplifyV.zpp_pool=d,d=d=null):(e=d.next,d.prev.next=d.next,d.next.prev=d.prev,d.next=d.prev=null,d.next=c.geom.ZPP_SimplifyV.zpp_pool,c.geom.ZPP_SimplifyV.zpp_pool=d,d=e);return k};c.geom.ZPP_ToiEvent=function(){this.slipped=this.failed=this.kinematic=!1;this.c1=this.c2=this.axis=null;this.frozen1=this.frozen2=!1;this.s1=this.s2=this.arbiter=null;this.toi=0;this.next=null;this.c1=
new c.geom.ZPP_Vec2;this.c2=new c.geom.ZPP_Vec2;this.axis=new c.geom.ZPP_Vec2};m["zpp_nape.geom.ZPP_ToiEvent"]=c.geom.ZPP_ToiEvent;c.geom.ZPP_ToiEvent.__name__=["zpp_nape","geom","ZPP_ToiEvent"];c.geom.ZPP_ToiEvent.prototype={next:null,alloc:function(){this.failed=!1;this.arbiter=this.s1=this.s2=null},free:function(){},toi:null,s1:null,s2:null,arbiter:null,frozen1:null,frozen2:null,c1:null,c2:null,axis:null,slipped:null,failed:null,kinematic:null,__class__:c.geom.ZPP_ToiEvent};c.geom.ZPP_SweepDistance=
function(){};m["zpp_nape.geom.ZPP_SweepDistance"]=c.geom.ZPP_SweepDistance;c.geom.ZPP_SweepDistance.__name__=["zpp_nape","geom","ZPP_SweepDistance"];c.geom.ZPP_SweepDistance.dynamicSweep=function(a,b,d,k,e){null==e&&(e=!1);var g=a.s1,h=a.s2,l=g.body,m=h.body,w=0,n=0,w=m.velx-l.velx,n=m.vely-l.vely,t=l.angvel;0>t&&(t=-t);var u=m.angvel;0>u&&(u=-u);var A=g.sweepCoef*t+h.sweepCoef*u;if(!e&&!a.kinematic&&w*w+n*n<f.Config.dynamicSweepLinearThreshold*f.Config.dynamicSweepLinearThreshold&&A<f.Config.dynamicSweepAngularThreshold)a.toi=
-1,a.failed=!0;else{for(var q=a.c1,t=a.c2,u=a.axis,v=0;;){l.sweepIntegrate(d*b);l.sweepValidate(g);m.sweepIntegrate(d*b);m.sweepValidate(h);var y=c.geom.ZPP_SweepDistance.distance(g,h,q,t,u,null)+k,C=w*u.x+n*u.y;if(y<f.Config.distanceThresholdCCD){if(e)break;var z=0,E=0,z=q.x-l.posx,E=q.y-l.posy,D=0,r=0,D=t.x-m.posx,r=t.y-m.posy,z=C-l.sweep_angvel*(u.y*z-u.x*E)+m.sweep_angvel*(u.y*D-u.x*r);0<z&&(a.slipped=!0);if(0>=z||y<.5*f.Config.distanceThresholdCCD)break}C=(A-C)*b;if(0>=C){d=-1;break}C=y/C;1E-6>
C&&(C=1E-6);d+=C;if(1<=d){d=1;l.sweepIntegrate(d*b);l.sweepValidate(g);m.sweepIntegrate(d*b);m.sweepValidate(h);b=c.geom.ZPP_SweepDistance.distance(g,h,q,t,u,null)+k;w=w*u.x+n*u.y;if(b<f.Config.distanceThresholdCCD){if(e)break;n=e=0;e=q.x-l.posx;n=q.y-l.posy;k=q=0;q=t.x-m.posx;k=t.y-m.posy;l=w-l.sweep_angvel*(u.y*e-u.x*n)+m.sweep_angvel*(u.y*q-u.x*k);0<l&&(a.slipped=!0);if(0>=l||b<.5*f.Config.distanceThresholdCCD)break}d=-1;break}if(40<=++v){y>k&&(a.failed=!0);break}}a.toi=d}};c.geom.ZPP_SweepDistance.staticSweep=
function(a,b,d,k){var e=a.s1,g=a.s2,h=e.body,l=0,m=0,l=-h.velx,m=-h.vely,w=h.sweep_angvel;0>w&&(w=-w);for(var n=e.sweepCoef*w,w=a.c1,t=a.c2,u=a.axis,A=0;;){h.sweepIntegrate(d*b);h.sweepValidate(e);var q=c.geom.ZPP_SweepDistance.distance(e,g,w,t,u,null)+k,v=l*u.x+m*u.y;if(q<f.Config.distanceThresholdCCD){var y=0,C=0,y=w.x-h.posx,C=w.y-h.posy,y=v-h.sweep_angvel*(u.y*y-u.x*C);0<y&&(a.slipped=!0);if(0>=y||q<.5*f.Config.distanceThresholdCCD)break}v=(n-v)*b;if(0>=v){d=-1;break}v=q/v;1E-6>v&&(v=1E-6);d+=
v;if(1<=d){d=1;h.sweepIntegrate(d*b);h.sweepValidate(e);b=c.geom.ZPP_SweepDistance.distance(e,g,w,t,u,null)+k;l=l*u.x+m*u.y;if(b<f.Config.distanceThresholdCCD&&(k=m=0,m=w.x-h.posx,k=w.y-h.posy,h=l-h.sweep_angvel*(u.y*m-u.x*k),0<h&&(a.slipped=!0),0>=h||b<.5*f.Config.distanceThresholdCCD))break;d=-1;break}if(40<=++A){q>k&&(a.failed=!0);break}}a.toi=d};c.geom.ZPP_SweepDistance.distanceBody=function(a,b,d,k){var e;null==c.geom.ZPP_Vec2.zpp_pool?e=new c.geom.ZPP_Vec2:(e=c.geom.ZPP_Vec2.zpp_pool,c.geom.ZPP_Vec2.zpp_pool=
e.next,e.next=null);e.weak=!1;var g;null==c.geom.ZPP_Vec2.zpp_pool?g=new c.geom.ZPP_Vec2:(g=c.geom.ZPP_Vec2.zpp_pool,c.geom.ZPP_Vec2.zpp_pool=g.next,g.next=null);g.weak=!1;var f;null==c.geom.ZPP_Vec2.zpp_pool?f=new c.geom.ZPP_Vec2:(f=c.geom.ZPP_Vec2.zpp_pool,c.geom.ZPP_Vec2.zpp_pool=f.next,f.next=null);f.weak=!1;var h=1E100;for(a=a.shapes.head;null!=a;){for(var l=a.elt,m=b.shapes.head;null!=m;){var n=c.geom.ZPP_SweepDistance.distance(l,m.elt,e,g,f,h);n<h&&(h=n,d.x=e.x,d.y=e.y,k.x=g.x,k.y=g.y);m=m.next}a=
a.next}b=e;null!=b.outer&&(b.outer.zpp_inner=null,b.outer=null);b._isimmutable=null;b._validate=null;b._invalidate=null;b.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=b;null!=g.outer&&(g.outer.zpp_inner=null,g.outer=null);g._isimmutable=null;g._validate=null;g._invalidate=null;g.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=g;null!=f.outer&&(f.outer.zpp_inner=null,f.outer=null);f._isimmutable=null;f._validate=null;f._invalidate=null;f.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=
f;return h};c.geom.ZPP_SweepDistance.distance=function(a,b,d,k,e,g){null==g&&(g=1E100);if(a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE&&b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){var h=a.circle,l=b.circle,m,n=0,u=0,n=l.worldCOMx-h.worldCOMx,u=l.worldCOMy-h.worldCOMy,t=Math.sqrt(n*n+u*u);m=t-(h.radius+l.radius);if(m<g){if(0==t)n=1,u=0;else var v=1/t,n=n*v,u=u*v;var A=h.radius;d.x=h.worldCOMx+n*A;d.y=h.worldCOMy+u*A;var q=-l.radius;k.x=l.worldCOMx+n*q;k.y=l.worldCOMy+u*q;e.x=n;e.y=u}return m}var y=
!1;if(a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE&&b.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){var C=a;a=b;b=C;var E=d;d=k;k=E;y=!0}if(a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){for(var z=b.circle,F=-1E100,D=null,r=a.polygon.edges.head;null!=r;){var G=r.elt,H=G.gnormx*z.worldCOMx+G.gnormy*z.worldCOMy-G.gprojection-z.radius;if(H>g){F=H;break}0<H?H>F&&(F=H,D=G):0>F&&H>F&&(F=H,D=G);r=r.next}if(F<g){var J=D.gp0,O=D.gp1,Q=z.worldCOMy*D.gnormx-z.worldCOMx*
D.gnormy;if(Q<=J.y*D.gnormx-J.x*D.gnormy){var V=0,P=0,V=z.worldCOMx-J.x,P=z.worldCOMy-J.y,R=Math.sqrt(V*V+P*P),F=R-z.radius;if(F<g){if(0==R)V=1,P=0;else var S=1/R,V=V*S,P=P*S;d.x=J.x+0*V;d.y=J.y+0*P;var U=-z.radius;k.x=z.worldCOMx+V*U;k.y=z.worldCOMy+P*U;e.x=V;e.y=P}}else if(Q>=O.y*D.gnormx-O.x*D.gnormy){var T=0,Y=0,T=z.worldCOMx-O.x,Y=z.worldCOMy-O.y,ca=Math.sqrt(T*T+Y*Y),F=ca-z.radius;if(F<g){if(0==ca)T=1,Y=0;else var ga=1/ca,T=T*ga,Y=Y*ga;d.x=O.x+0*T;d.y=O.y+0*Y;var ia=-z.radius;k.x=z.worldCOMx+
T*ia;k.y=z.worldCOMy+Y*ia;e.x=T;e.y=Y}}else{var ma=-z.radius;k.x=z.worldCOMx+D.gnormx*ma;k.y=z.worldCOMy+D.gnormy*ma;var aa=-F;d.x=k.x+D.gnormx*aa;d.y=k.y+D.gnormy*aa;e.x=D.gnormx;e.y=D.gnormy}}y&&(e.x=-e.x,e.y=-e.y);return F}for(var Aa=a.polygon,Bb=b.polygon,X=-1E100,Ib=null,la=null,wa=0,sa=Aa.edges.head;null!=sa;){for(var za=sa.elt,Fa=1E100,na=Bb.gverts.next;null!=na;){var Da=na,I=za.gnormx*Da.x+za.gnormy*Da.y;I<Fa&&(Fa=I);na=na.next}Fa-=za.gprojection;if(Fa>g){X=Fa;break}0<Fa?Fa>X&&(X=Fa,Ib=za,
wa=1):0>X&&Fa>X&&(X=Fa,Ib=za,wa=1);sa=sa.next}if(X<g){for(var Ea=Bb.edges.head;null!=Ea;){for(var rb=Ea.elt,ta=1E100,jb=Aa.gverts.next;null!=jb;){var Pa=jb,La=rb.gnormx*Pa.x+rb.gnormy*Pa.y;La<ta&&(ta=La);jb=jb.next}ta-=rb.gprojection;if(ta>g){X=ta;break}0<ta?ta>X&&(X=ta,la=rb,wa=2):0>X&&ta>X&&(X=ta,la=rb,wa=2);Ea=Ea.next}if(X<g){var Ub,Z;if(1==wa)Ub=Bb,Z=Ib;else{Ub=Aa;Z=la;var Va=d;d=k;k=Va;y=!y}for(var K=null,kb=1E100,xb=Ub.edges.head;null!=xb;){var Ua=xb.elt,pa=Z.gnormx*Ua.gnormx+Z.gnormy*Ua.gnormy;
pa<kb&&(kb=pa,K=Ua);xb=xb.next}y?(e.x=-Z.gnormx,e.y=-Z.gnormy):(e.x=Z.gnormx,e.y=Z.gnormy);if(0<=X){var da=Z.gp0,qa=Z.gp1,ja=K.gp0,Qa=K.gp1,Wa=0,Xa=0,Ya=0,Ra=0,Wa=qa.x-da.x,Xa=qa.y-da.y,Ya=Qa.x-ja.x,Ra=Qa.y-ja.y,ha=1/(Wa*Wa+Xa*Xa),Sa=1/(Ya*Ya+Ra*Ra),Ma=-(Wa*(da.x-ja.x)+Xa*(da.y-ja.y))*ha,ea=-(Wa*(da.x-Qa.x)+Xa*(da.y-Qa.y))*ha,Ta=-(Ya*(ja.x-da.x)+Ra*(ja.y-da.y))*Sa,yb=-(Ya*(ja.x-qa.x)+Ra*(ja.y-qa.y))*Sa;0>Ma?Ma=0:1<Ma&&(Ma=1);0>ea?ea=0:1<ea&&(ea=1);0>Ta?Ta=0:1<Ta&&(Ta=1);0>yb?yb=0:1<yb&&(yb=1);var db=
0,Oa=0,M=Ma,db=da.x+Wa*M,Oa=da.y+Xa*M,Ka=0,cb=0,Cb=ea,Ka=da.x+Wa*Cb,cb=da.y+Xa*Cb,Na=0,Db=0,xa=Ta,Na=ja.x+Ya*xa,Db=ja.y+Ra*xa,Nb=0,Ga=0,Za=yb,Nb=ja.x+Ya*Za,Ga=ja.y+Ra*Za,ka=c.geom.ZPP_VecMath.vec_dsq(db,Oa,ja.x,ja.y),Jb=c.geom.ZPP_VecMath.vec_dsq(Ka,cb,Qa.x,Qa.y),sb=c.geom.ZPP_VecMath.vec_dsq(Na,Db,da.x,da.y),oa=c.geom.ZPP_VecMath.vec_dsq(Nb,Ga,qa.x,qa.y),$a=0,lb=0,Kb=null;ka<Jb?($a=db,lb=Oa,Kb=ja):($a=Ka,lb=cb,Kb=Qa,ka=Jb);var ib=0,mb=0,nb=null;sb<oa?(ib=Na,mb=Db,nb=da):(ib=Nb,mb=Ga,nb=qa,sb=oa);
ka<sb?(d.x=$a,d.y=lb,k.x=Kb.x,k.y=Kb.y,X=Math.sqrt(ka)):(k.x=ib,k.y=mb,d.x=nb.x,d.y=nb.y,X=Math.sqrt(sb));if(0!=X){e.x=k.x-d.x;e.y=k.y-d.y;var zb=1/X;e.x*=zb;e.y*=zb;y&&(e.x=-e.x,e.y=-e.y)}return X}var eb=0,fb=0,eb=K.gp0.x,fb=K.gp0.y,gb=0,Eb=0,gb=K.gp1.x,Eb=K.gp1.y,ab=0,Ba=0,ab=gb-eb,Ba=Eb-fb,ua=Z.gnormy*eb-Z.gnormx*fb,Ca=Z.gnormy*gb-Z.gnormx*Eb,Vb=1/(Ca-ua),ya=(-Z.tp1-ua)*Vb;ya>f.Config.epsilon&&(eb+=ab*ya,fb+=Ba*ya);var tb=(-Z.tp0-Ca)*Vb;tb<-f.Config.epsilon&&(gb+=ab*tb,Eb+=Ba*tb);var qb=eb*Z.gnormx+
fb*Z.gnormy-Z.gprojection,L=gb*Z.gnormx+Eb*Z.gnormy-Z.gprojection;if(qb<L){k.x=eb;k.y=fb;var N=-qb;d.x=k.x+Z.gnormx*N;d.y=k.y+Z.gnormy*N;return qb}k.x=gb;k.y=Eb;var ub=-L;d.x=k.x+Z.gnormx*ub;d.y=k.y+Z.gnormy*ub;return L}}return g};c.geom.ZPP_PartitionPair=function(){this.node=null;this.id=this.di=0;this.a=this.b=null;this.length=0;this._inuse=this.modified=this.pushmod=!1;this.next=null};m["zpp_nape.geom.ZPP_PartitionPair"]=c.geom.ZPP_PartitionPair;c.geom.ZPP_PartitionPair.__name__=["zpp_nape","geom",
"ZPP_PartitionPair"];c.geom.ZPP_PartitionPair.get=function(a,b){var d;null==c.geom.ZPP_PartitionPair.zpp_pool?d=new c.geom.ZPP_PartitionPair:(d=c.geom.ZPP_PartitionPair.zpp_pool,c.geom.ZPP_PartitionPair.zpp_pool=d.next,d.next=null);null;d.a=a;d.b=b;a.id<b.id?(d.id=a.id,d.di=b.id):(d.id=b.id,d.di=a.id);return d};c.geom.ZPP_PartitionPair.edge_swap=function(a,b){var d=a.node;a.node=b.node;b.node=d};c.geom.ZPP_PartitionPair.edge_lt=function(a,b){return a.id<b.id||a.id==b.id&&a.di<b.di};c.geom.ZPP_PartitionPair.prototype=
{next:null,elem:function(){return this},begin:function(){return this.next},_inuse:null,modified:null,pushmod:null,length:null,setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==
a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.next,
c=!1;null!=d;){if(d==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.next,this.next=d=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));b._inuse=!1;this.modified=
!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var d=a.next;a.next=b;b=this.next=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.next;null!=d;){if(d==a){b=!0;break}d=d.next}return b},
front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},free:function(){this.node=this.a=this.b=null},alloc:function(){},a:null,b:null,id:null,di:null,node:null,__class__:c.geom.ZPP_PartitionPair};c.geom.ZPP_Triangular=function(){};m["zpp_nape.geom.ZPP_Triangular"]=c.geom.ZPP_Triangular;c.geom.ZPP_Triangular.__name__=
["zpp_nape","geom","ZPP_Triangular"];c.geom.ZPP_Triangular.lt=function(a,b){return a.y<b.y||a.y==b.y&&a.x<b.x};c.geom.ZPP_Triangular.right_turn=function(a,b,d){var c=0,e=0,c=d.x-b.x,e=d.y-b.y,g=d=0;d=b.x-a.x;g=b.y-a.y;return g*c-d*e};c.geom.ZPP_Triangular.delaunay=function(a,b,d,c){var e=0,g=0,f=0,h=0,e=d.x-b.x,g=d.y-b.y,f=b.x-a.x,h=b.y-a.y;(e=0<=h*e-f*g)||(e=c.x-d.x,g=c.y-d.y,f=d.x-b.x,h=d.y-b.y,e=0<=h*e-f*g);e||(e=a.x-c.x,g=a.y-c.y,f=c.x-d.x,h=c.y-d.y,e=0<=h*e-f*g);e||(e=b.x-a.x,g=b.y-a.y,f=a.x-
c.x,h=a.y-c.y,e=0<=h*e-f*g);return e?!0:0<b.x*(d.y*c.mag-d.mag*c.y)-d.x*(b.y*c.mag-b.mag*c.y)+c.x*(b.y*d.mag-b.mag*d.y)-(a.x*(d.y*c.mag-d.mag*c.y)-d.x*(a.y*c.mag-a.mag*c.y)+c.x*(a.y*d.mag-a.mag*d.y))+(a.x*(b.y*c.mag-b.mag*c.y)-b.x*(a.y*c.mag-a.mag*c.y)+c.x*(a.y*b.mag-a.mag*b.y))-(a.x*(b.y*d.mag-b.mag*d.y)-b.x*(a.y*d.mag-a.mag*d.y)+d.x*(a.y*b.mag-a.mag*b.y))};c.geom.ZPP_Triangular.optimise=function(a){var b=a.vertices,d=a.vertices;if(null!=b){do{var k=b;k.sort();k.mag=k.x*k.x+k.y*k.y;b=b.next}while(b!=
d)}null==c.geom.ZPP_Triangular.edgeSet&&(null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?c.geom.ZPP_Triangular.edgeSet=new c.util.ZPP_Set_ZPP_PartitionPair:(c.geom.ZPP_Triangular.edgeSet=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=c.geom.ZPP_Triangular.edgeSet.next,c.geom.ZPP_Triangular.edgeSet.next=null),null,c.geom.ZPP_Triangular.edgeSet.lt=c.geom.ZPP_PartitionPair.edge_lt,c.geom.ZPP_Triangular.edgeSet.swapped=c.geom.ZPP_PartitionPair.edge_swap);null==c.geom.ZPP_PartitionPair.zpp_pool?
d=new c.geom.ZPP_PartitionPair:(d=c.geom.ZPP_PartitionPair.zpp_pool,c.geom.ZPP_PartitionPair.zpp_pool=d.next,d.next=null);null;a=b=a.vertices;if(null!=b){do{var k=b,e=k.next;k.diagonals.reverse();for(var g=k.diagonals.head;null!=g;){var f=g.elt;f.id<k.id||c.geom.ZPP_Triangular.delaunay(k,e,f,null==g.next?k.prev:g.next.elt)||(e=c.geom.ZPP_PartitionPair.get(k,f),d.add(e),e.node=c.geom.ZPP_Triangular.edgeSet.insert(e));e=f;g=g.next}b=b.next}while(b!=a)}for(;null!=d.next;){a=d.pop_unsafe();b=a.a;f=a.b;
k=b.next;g=null;for(e=b.diagonals.head;null!=e;){var h=e.elt;if(h==f){e=e.next;g=null==e?b.prev:e.elt;break}k=h;e=e.next}b.diagonals.remove(f);f.diagonals.remove(b);if(f==k.next)k.diagonals.add(g);else for(e=k.diagonals.head;null!=e;){if(e.elt==f){k.diagonals.insert(e,g);break}e=e.next}if(b==g.next)g.diagonals.add(k);else for(f=g.diagonals.head;null!=f;){if(f.elt==b){g.diagonals.insert(f,k);break}f=f.next}c.geom.ZPP_Triangular.edgeSet.remove_node(a.node);a.a=a.b=null;a.node=null;a.next=c.geom.ZPP_PartitionPair.zpp_pool;
c.geom.ZPP_PartitionPair.zpp_pool=a}d.a=d.b=null;d.node=null;d.next=c.geom.ZPP_PartitionPair.zpp_pool;c.geom.ZPP_PartitionPair.zpp_pool=d};c.geom.ZPP_Triangular.triangulate=function(a){var b=a.vertices,d=a.vertices,k=a.vertices.next,e=a.vertices;if(null!=k){do{var g=k;if(g.y<b.y||g.y==b.y&&g.x<b.x)b=g;if(d.y<g.y||d.y==g.y&&d.x<g.x)d=g;k=k.next}while(k!=e)}null==c.geom.ZPP_Triangular.queue&&(c.geom.ZPP_Triangular.queue=new c.util.ZNPList_ZPP_PartitionVertex);e=d.prev;k=d.next;for(c.geom.ZPP_Triangular.queue.add(d);e!=
b||k!=b;)e==b||k!=b&&(e.y<k.y||e.y==k.y&&e.x<k.x)?(c.geom.ZPP_Triangular.queue.add(k),k.rightchain=!1,k=k.next):(c.geom.ZPP_Triangular.queue.add(e),e.rightchain=!0,e=e.prev);c.geom.ZPP_Triangular.queue.add(b);null==c.geom.ZPP_Triangular.stack&&(c.geom.ZPP_Triangular.stack=new c.util.ZNPList_ZPP_PartitionVertex);c.geom.ZPP_Triangular.stack.add(c.geom.ZPP_Triangular.queue.pop_unsafe());e=c.geom.ZPP_Triangular.queue.pop_unsafe();for(c.geom.ZPP_Triangular.stack.add(e);;){b=c.geom.ZPP_Triangular.queue.pop_unsafe();
if(null==c.geom.ZPP_Triangular.queue.head)break;if(b.rightchain!=c.geom.ZPP_Triangular.stack.head.elt.rightchain)for(;;){k=c.geom.ZPP_Triangular.stack.pop_unsafe();if(null==c.geom.ZPP_Triangular.stack.head)break;a.add_diagonal(k,b)}else for(e=c.geom.ZPP_Triangular.stack.pop_unsafe();null!=c.geom.ZPP_Triangular.stack.head;){k=c.geom.ZPP_Triangular.stack.head.elt;g=c.geom.ZPP_Triangular.right_turn(k,e,b);if(b.rightchain&&0<=g||!b.rightchain&&0>=g)break;a.add_diagonal(k,b);e=k;c.geom.ZPP_Triangular.stack.pop()}c.geom.ZPP_Triangular.stack.add(e);
c.geom.ZPP_Triangular.stack.add(b);e=b}if(null!=c.geom.ZPP_Triangular.stack.head)for(c.geom.ZPP_Triangular.stack.pop();null!=c.geom.ZPP_Triangular.stack.head;){b=c.geom.ZPP_Triangular.stack.pop_unsafe();if(null==c.geom.ZPP_Triangular.stack.head)break;a.add_diagonal(d,b)}return a};c.geom.ZPP_Vec2=function(){this.length=this.x=this.y=0;this._inuse=this.modified=this.pushmod=!1;this.next=null;this.weak=!1;this._isimmutable=this.outer=null;this._immutable=!1;this._invalidate=this._validate=null};m["zpp_nape.geom.ZPP_Vec2"]=
c.geom.ZPP_Vec2;c.geom.ZPP_Vec2.__name__=["zpp_nape","geom","ZPP_Vec2"];c.geom.ZPP_Vec2.get=function(a,b,d){null==d&&(d=!1);var k;null==c.geom.ZPP_Vec2.zpp_pool?k=new c.geom.ZPP_Vec2:(k=c.geom.ZPP_Vec2.zpp_pool,c.geom.ZPP_Vec2.zpp_pool=k.next,k.next=null);k.weak=!1;k._immutable=d;k.x=a;k.y=b;return k};c.geom.ZPP_Vec2.prototype={_invalidate:null,_validate:null,validate:function(){null!=this._validate&&this._validate()},invalidate:function(){null!=this._invalidate&&this._invalidate(this)},_immutable:null,
_isimmutable:null,immutable:function(){if(this._immutable)throw"Error: Vec2 is immutable";null!=this._isimmutable&&this._isimmutable()},outer:null,wrapper:function(){if(null==this.outer){this.outer=new f.geom.Vec2;var a=this.outer.zpp_inner;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},weak:null,free:function(){null!=this.outer&&(this.outer=
this.outer.zpp_inner=null);this._invalidate=this._validate=this._isimmutable=null},alloc:function(){this.weak=!1},next:null,elem:function(){return this},begin:function(){return this.next},_inuse:null,modified:null,pushmod:null,length:null,setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),
a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();
return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.next,this.next=d=b.next,null==this.next&&
(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var d=a.next;a.next=b;b=this.next=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.next;null!=d;){if(d==a){b=!0;break}d=d.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},x:null,y:null,copy:function(){return c.geom.ZPP_Vec2.get(this.x,this.y,null)},toString:function(){return"{ x: "+this.x+" y: "+this.y+" }"},__class__:c.geom.ZPP_Vec2};
c.geom.ZPP_Vec3=function(){this._validate=null;this.immutable=!1;this.x=this.y=this.z=0;this.outer=null;this.immutable=!1;this._validate=null};m["zpp_nape.geom.ZPP_Vec3"]=c.geom.ZPP_Vec3;c.geom.ZPP_Vec3.__name__=["zpp_nape","geom","ZPP_Vec3"];c.geom.ZPP_Vec3.prototype={outer:null,x:null,y:null,z:null,immutable:null,_validate:null,validate:function(){null!=this._validate&&this._validate()},__class__:c.geom.ZPP_Vec3};c.geom.ZPP_VecMath=function(){};m["zpp_nape.geom.ZPP_VecMath"]=c.geom.ZPP_VecMath;
c.geom.ZPP_VecMath.__name__=["zpp_nape","geom","ZPP_VecMath"];c.geom.ZPP_VecMath.vec_dsq=function(a,b,d,c){var e=0,g=0,e=a-d,g=b-c;return e*e+g*g};c.geom.ZPP_VecMath.vec_distance=function(a,b,d,c){var e=0,g=0,e=a-d,g=b-c;return Math.sqrt(e*e+g*g)};c.phys={};c.phys.ZPP_Interactor=function(){this.userData=this.ishape=this.ibody=this.icompound=this.cbsets=this.group=this.cbTypes=this.cbSet=this.wrap_cbTypes=null;this.id=0;this.outer_i=null;this.id=c.ZPP_ID.Interactor();this.cbsets=new c.util.ZNPList_ZPP_CallbackSet;
this.cbTypes=new c.util.ZNPList_ZPP_CbType};m["zpp_nape.phys.ZPP_Interactor"]=c.phys.ZPP_Interactor;c.phys.ZPP_Interactor.__name__=["zpp_nape","phys","ZPP_Interactor"];c.phys.ZPP_Interactor.get=function(a,b){var d;d=a.id<b.id?a.id:b.id;var c;c=a.id<b.id?b.id:a.id;for(var e=null,g=(a.cbsets.length<b.cbsets.length?a.cbsets:b.cbsets).head;null!=g;){var f=g.elt;if(f.id==d&&f.di==c){e=f;break}g=g.next}return e};c.phys.ZPP_Interactor.int_callback=function(a,b,d){var c=a.int1;a=a.int2;b.options1.compatible(c.cbTypes)&&
b.options2.compatible(a.cbTypes)?(d.int1=c,d.int2=a):(d.int1=a,d.int2=c)};c.phys.ZPP_Interactor.prototype={outer_i:null,id:null,userData:null,ishape:null,ibody:null,icompound:null,isShape:function(){return null!=this.ishape},isBody:function(){return null!=this.ibody},isCompound:function(){return null!=this.icompound},__iaddedToSpace:function(){null!=this.group&&this.group.interactors.add(this);for(var a=this.cbTypes.head;null!=a;)a.elt.interactors.add(this),a=a.next;this.alloc_cbSet()},__iremovedFromSpace:function(){null!=
this.group&&this.group.interactors.remove(this);for(var a=this.cbTypes.head;null!=a;)a.elt.interactors.remove(this),a=a.next;this.dealloc_cbSet()},wake:function(){if(null!=this.ishape){var a=this.ishape.body;null!=a&&null!=a.space&&a.space.non_inlined_wake(a);!0}else null!=this.ibody?null!=this.ibody.space?this.ibody.space.non_inlined_wake(this.ibody):!1:(null!=this.icompound.space&&this.icompound.space.wakeCompound(this.icompound),!0)},cbsets:null,getSpace:function(){return null!=this.ishape?null==
this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space},group:null,cbTypes:null,cbSet:null,wrap_cbTypes:null,setupcbTypes:function(){this.wrap_cbTypes=c.util.ZPP_CbTypeList.get(this.cbTypes);this.wrap_cbTypes.zpp_inner.adder=u(this,this.wrap_cbTypes_adder);this.wrap_cbTypes.zpp_inner.subber=u(this,this.wrap_cbTypes_subber);this.wrap_cbTypes.zpp_inner.dontremove=!0;this.wrap_cbTypes.zpp_inner._modifiable=u(this,this.immutable_cbTypes)},immutable_cbTypes:function(){this.immutable_midstep("Interactor::cbTypes")},
wrap_cbTypes_subber:function(a){a=a.zpp_inner;if(this.cbTypes.has(a)){var b;b=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space;null!=b&&(this.dealloc_cbSet(),a.interactors.remove(this));this.cbTypes.remove(a);null!=b&&(this.alloc_cbSet(),this.wake())}},wrap_cbTypes_adder:function(a){this.insert_cbtype(a.zpp_inner);return!1},insert_cbtype:function(a){if(!this.cbTypes.has(a)){var b;b=null!=this.ishape?null==this.ishape.body?
null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space;null!=b&&(this.dealloc_cbSet(),a.interactors.add(this));for(var d=null,c=this.cbTypes.head;null!=c&&!(a.id<c.elt.id);)d=c,c=c.next;this.cbTypes.inlined_insert(d,a);null!=b&&(this.alloc_cbSet(),this.wake())}},alloc_cbSet:function(){var a;a=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space;null!=(this.cbSet=a.cbsets.get(this.cbTypes))&&(this.cbSet.count++,
this.cbSet.interactors.add(this),this.cbSet.validate(),a.freshInteractorType(this))},dealloc_cbSet:function(){var a;a=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space;null!=this.cbSet&&(this.cbSet.interactors.remove(this),a.nullInteractorType(this),0==--this.cbSet.count&&(a.cbsets.remove(this.cbSet),a=this.cbSet,a.free(),a.next=c.callbacks.ZPP_CbSet.zpp_pool,c.callbacks.ZPP_CbSet.zpp_pool=a),this.cbSet=null)},setGroup:function(a){if(this.group!=
a){var b;(b=null!=(null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space))&&null!=this.group&&this.group.interactors.remove(this);this.group=a;b&&null!=a&&a.interactors.add(this);b&&(null!=this.ishape?this.ishape.body.wake():null!=this.ibody?this.ibody.wake():this.icompound.wake())}},immutable_midstep:function(a){null!=this.ibody?this.ibody.__immutable_midstep(a):null!=this.ishape?this.ishape.__immutable_midstep(a):this.icompound.__imutable_midstep(a)},
lookup_group:function(){for(var a=this;null!=a&&null==a.group;)a=null!=a.ishape?a.ishape.body:null!=a.icompound?a.icompound.compound:a.ibody.compound;return null==a?null:a.group},copyto:function(a){a.zpp_inner_i.group=this.group;for(var b=this.outer_i.get_cbTypes().iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);var c=void 0;null==a.zpp_inner_i.wrap_cbTypes&&a.zpp_inner_i.setupcbTypes();c=a.zpp_inner_i.wrap_cbTypes;c.add(d)}null!=this.userData&&(a.zpp_inner_i.userData=
J.copy(this.userData))},__class__:c.phys.ZPP_Interactor};c.phys.ZPP_Body=function(){this.wrap_localCOM=this.wrap_worldCOM=null;this.zip_worldCOM=!1;this.worldCOMx=this.worldCOMy=0;this.zip_localCOM=!1;this.localCOMx=this.localCOMy=0;this.zip_aabb=!1;this.aabb=null;this.norotate=!1;this.cinertia=this.iinertia=this.sinertia=0;this.zip_inertia=!1;this.inertiaMode=this.inertia=0;this.zip_gravMassScale=!1;this.gravMassMode=this.gravMassScale=0;this.zip_gravMass=!1;this.gravMass=0;this.nomove=!1;this.massMode=
this.imass=this.smass=this.cmass=0;this.zip_mass=!1;this.mass=0;this.zip_axis=!1;this.angvel=this.torque=this.kinangvel=this.pre_rot=this.rot=this.axisx=this.axisy=0;this.wrap_svel=this.wrapcvel=null;this.svelx=this.svely=0;this.wrap_kinvel=null;this.kinvelx=this.kinvely=0;this.wrap_force=null;this.forcex=this.forcey=0;this.wrap_vel=null;this.velx=this.vely=0;this.wrap_pos=null;this.pre_posx=this.pre_posy=this.posx=this.posy=0;this.bullet=this.bulletEnabled=this.disableCCD=!1;this.sweepRadius=0;this.sweepFrozen=
!1;this.graph_depth=this.sweepTime=this.sweep_angvel=0;this.compound=this.shapes=this.wrap_shapes=this.space=this.arbiters=this.wrap_arbiters=this.constraints=this.wrap_constraints=this.component=null;this.type=0;this.world=!1;this.outer=null;c.phys.ZPP_Interactor.call(this);this.ibody=this;this.bulletEnabled=this.world=!1;this.sweep_angvel=this.sweepTime=0;this.disableCCD=this.norotate=this.nomove=!1;this.axisx=this.rot=this.posy=this.posx=0;this.axisy=1;this.torque=this.angvel=this.kinangvel=this.forcey=
this.forcex=this.kinvely=this.kinvelx=this.vely=this.velx=this.svely=this.svelx=0;this.pre_rot=this.pre_posy=this.pre_posx=Math.POSITIVE_INFINITY;this.worldCOMy=this.worldCOMx=this.localCOMy=this.localCOMx=0;this.zip_aabb=!0;this.aabb=c.geom.ZPP_AABB.get(0,0,0,0);this.aabb._immutable=!0;this.aabb._validate=u(this,this.aabb_validate);this.massMode=c.util.ZPP_Flags.id_MassMode_DEFAULT;this.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_DEFAULT;this.gravMassScale=1;this.inertiaMode=c.util.ZPP_Flags.id_InertiaMode_DEFAULT;
this.arbiters=new c.util.ZNPList_ZPP_Arbiter;this.constraints=new c.util.ZNPList_ZPP_Constraint;this.shapes=new c.util.ZNPList_ZPP_Shape;this.wrap_shapes=c.util.ZPP_ShapeList.get(this.shapes);this.wrap_shapes.zpp_inner.adder=u(this,this.shapes_adder);this.wrap_shapes.zpp_inner.subber=u(this,this.shapes_subber);this.wrap_shapes.zpp_inner._invalidate=u(this,this.shapes_invalidate);this.wrap_shapes.zpp_inner._modifiable=u(this,this.shapes_modifiable);this.kinematicDelaySleep=!1};m["zpp_nape.phys.ZPP_Body"]=
c.phys.ZPP_Body;c.phys.ZPP_Body.__name__=["zpp_nape","phys","ZPP_Body"];c.phys.ZPP_Body.bodysetlt=function(a,b){return a.id<b.id};c.phys.ZPP_Body.__static=function(){var a=f.phys.Body;null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);var a=new a(c.util.ZPP_Flags.BodyType_STATIC),b=a.zpp_inner;b.world=!0;b.wrap_shapes.zpp_inner.immutable=!0;b.smass=b.imass=b.cmass=b.mass=b.gravMass=0;b.sinertia=b.iinertia=
b.cinertia=b.inertia=0;b.cbTypes.clear();return a};c.phys.ZPP_Body.__super__=c.phys.ZPP_Interactor;c.phys.ZPP_Body.prototype=F(c.phys.ZPP_Interactor.prototype,{outer:null,world:null,type:null,isStatic:function(){return this.type==c.util.ZPP_Flags.id_BodyType_STATIC},isDynamic:function(){return this.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC},isKinematic:function(){return this.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC},invalidate_type:function(){this.invalidate_mass();this.invalidate_inertia()},
compound:null,shapes:null,wrap_shapes:null,invalidate_shapes:function(){this.zip_worldCOM=this.zip_localCOM=this.zip_aabb=!0;this.invalidate_mass();this.invalidate_inertia()},space:null,arbiters:null,wrap_arbiters:null,constraints:null,wrap_constraints:null,component:null,graph_depth:null,init_bodysetlist:function(){null==c.phys.ZPP_Body.bodyset&&(c.phys.ZPP_Body.bodyset=new c.util.ZPP_Set_ZPP_Body,c.phys.ZPP_Body.bodyset.lt=c.phys.ZPP_Body.bodysetlt,c.phys.ZPP_Body.bodystack=new c.util.ZNPList_ZPP_Body)},
connectedBodies_cont:function(a){c.phys.ZPP_Body.bodyset.try_insert_bool(a.zpp_inner)&&(c.phys.ZPP_Body.bodystack.add(a.zpp_inner),a.zpp_inner.graph_depth=c.phys.ZPP_Body.cur_graph_depth+1)},connectedBodies:function(a,b){var d=this;null==c.phys.ZPP_Body.bodyset&&(c.phys.ZPP_Body.bodyset=new c.util.ZPP_Set_ZPP_Body,c.phys.ZPP_Body.bodyset.lt=c.phys.ZPP_Body.bodysetlt,c.phys.ZPP_Body.bodystack=new c.util.ZNPList_ZPP_Body);null;var k;k=null==b?new f.phys.BodyList:b;c.phys.ZPP_Body.bodystack.add(this);
c.phys.ZPP_Body.bodyset.insert(this);for(this.graph_depth=0;null!=c.phys.ZPP_Body.bodystack.head;){var e=c.phys.ZPP_Body.bodystack.pop_unsafe();if(e.graph_depth!=a)for(c.phys.ZPP_Body.cur_graph_depth=e.graph_depth,e=e.constraints.head;null!=e;)e.elt.outer.visitBodies(u(this,this.connectedBodies_cont)),e=e.next}c.phys.ZPP_Body.bodyset.clear_with(function(a){a!=d&&k.add(a.outer)});return k},interactingBodies:function(a,b,d){var k=this;null==c.phys.ZPP_Body.bodyset&&(c.phys.ZPP_Body.bodyset=new c.util.ZPP_Set_ZPP_Body,
c.phys.ZPP_Body.bodyset.lt=c.phys.ZPP_Body.bodysetlt,c.phys.ZPP_Body.bodystack=new c.util.ZNPList_ZPP_Body);null;var e;e=null==d?new f.phys.BodyList:d;c.phys.ZPP_Body.bodyset.insert(this);c.phys.ZPP_Body.bodystack.add(this);for(this.graph_depth=0;null!=c.phys.ZPP_Body.bodystack.head;)if(d=c.phys.ZPP_Body.bodystack.pop_unsafe(),d.graph_depth!=b)for(var g=d.arbiters.head;null!=g;){var h=g.elt;0!=(h.type&a)&&(h=h.b1==d?h.b2:h.b1,c.phys.ZPP_Body.bodyset.try_insert_bool(h)&&(c.phys.ZPP_Body.bodystack.add(h),
h.graph_depth=d.graph_depth+1));g=g.next}c.phys.ZPP_Body.bodyset.clear_with(function(a){a!=k&&e.add(a.outer)});return e},atRest:function(a){if(this.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)return this.component.sleeping;var b=f.Config.linearSleepThreshold,b=b*b;if(this.velx*this.velx+this.vely*this.vely>b)a=!1;else if(c.geom.ZPP_VecMath.vec_dsq(this.posx,this.posy,this.pre_posx,this.pre_posy)>.25*b*a*a)a=!1;else{var d=b=0,b=this.aabb.maxx-this.aabb.minx,d=this.aabb.maxy-this.aabb.miny,b=b*b+d*d,
d=f.Config.angularSleepThreshold,d=d*d;if(4*this.angvel*this.angvel*b>d)a=!1;else{var k=this.rot-this.pre_rot;a=k*k*b>d*a*a?!1:!0}}a||(this.component.waket=this.space.stamp);return this.component.waket+f.Config.sleepDelay<this.space.stamp},refreshArbiters:function(){for(var a=this.arbiters.head;null!=a;)a.elt.invalidated=!0,a=a.next},sweepTime:null,sweep_angvel:null,sweepFrozen:null,sweepRadius:null,bullet:null,bulletEnabled:null,disableCCD:null,sweepIntegrate:function(a){var b=a-this.sweepTime;0!=
b&&(this.sweepTime=a,this.posx+=this.velx*b,this.posy+=this.vely*b,0!=this.angvel&&this.delta_rot(this.sweep_angvel*b))},sweepValidate:function(a){if(a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE)a.worldCOMx=this.posx+(this.axisy*a.localCOMx-this.axisx*a.localCOMy),a.worldCOMy=this.posy+(a.localCOMx*this.axisx+a.localCOMy*this.axisy);else{a=a.polygon;for(var b=a.lverts.next,d=a.gverts.next;null!=d;){var k=d,e=b,b=b.next;k.x=this.posx+(this.axisy*e.x-this.axisx*e.y);k.y=this.posy+(e.x*this.axisx+e.y*
this.axisy);d=d.next}d=a.edges.head;b=k=a.gverts.next;for(k=k.next;null!=k;){var e=k,g=d.elt,d=d.next;g.gnormx=this.axisy*g.lnormx-this.axisx*g.lnormy;g.gnormy=g.lnormx*this.axisx+g.lnormy*this.axisy;g.gprojection=this.posx*g.gnormx+this.posy*g.gnormy+g.lprojection;g.tp0=b.y*g.gnormx-b.x*g.gnormy;g.tp1=e.y*g.gnormx-e.x*g.gnormy;b=e;k=k.next}a=a.gverts.next;d=d.elt;d.gnormx=this.axisy*d.lnormx-this.axisx*d.lnormy;d.gnormy=d.lnormx*this.axisx+d.lnormy*this.axisy;d.gprojection=this.posx*d.gnormx+this.posy*
d.gnormy+d.lprojection;d.tp0=b.y*d.gnormx-b.x*d.gnormy;d.tp1=a.y*d.gnormx-a.x*d.gnormy}},pre_posx:null,pre_posy:null,posx:null,posy:null,wrap_pos:null,velx:null,vely:null,wrap_vel:null,forcex:null,forcey:null,wrap_force:null,kinvelx:null,kinvely:null,wrap_kinvel:null,svelx:null,svely:null,wrap_svel:null,invalidate_pos:function(){for(var a=this.shapes.head;null!=a;){var b=a.elt;b.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&(b.polygon.invalidate_gverts(),b.polygon.invalidate_gaxi());b.invalidate_worldCOM();
a=a.next}this.zip_worldCOM=!0},pos_invalidate:function(a){this.immutable_midstep("Body::position");if(this.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.space)throw"Error: Cannot move a static object once inside a Space";if(this.posx!=a.x||this.posy!=a.y)this.posx=a.x,this.posy=a.y,this.invalidate_pos(),this.wake()},pos_validate:function(){this.wrap_pos.zpp_inner.x=this.posx;this.wrap_pos.zpp_inner.y=this.posy},vel_invalidate:function(a){if(this.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: Static body cannot have its velocity set.";
this.velx=a.x;this.vely=a.y;this.wake()},vel_validate:function(){this.wrap_vel.zpp_inner.x=this.velx;this.wrap_vel.zpp_inner.y=this.vely},kinvel_invalidate:function(a){this.kinvelx=a.x;this.kinvely=a.y;this.wake()},kinvel_validate:function(){this.wrap_kinvel.zpp_inner.x=this.kinvelx;this.wrap_kinvel.zpp_inner.y=this.kinvely},svel_invalidate:function(a){this.svelx=a.x;this.svely=a.y;this.wake()},svel_validate:function(){this.wrap_svel.zpp_inner.x=this.svelx;this.wrap_svel.zpp_inner.y=this.svely},force_invalidate:function(a){if(this.type!=
c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Non-dynamic body cannot have force applied.";this.forcex=a.x;this.forcey=a.y;this.wake()},force_validate:function(){this.wrap_force.zpp_inner.x=this.forcex;this.wrap_force.zpp_inner.y=this.forcey},setupPosition:function(){this.wrap_pos=f.geom.Vec2.get(this.posx,this.posy,null);this.wrap_pos.zpp_inner._inuse=!0;this.world?this.wrap_pos.zpp_inner._immutable=!0:(this.wrap_pos.zpp_inner._invalidate=u(this,this.pos_invalidate),this.wrap_pos.zpp_inner._validate=
u(this,this.pos_validate))},setupVelocity:function(){this.wrap_vel=f.geom.Vec2.get(this.velx,this.vely,null);this.wrap_vel.zpp_inner._inuse=!0;this.world?this.wrap_vel.zpp_inner._immutable=!0:(this.wrap_vel.zpp_inner._invalidate=u(this,this.vel_invalidate),this.wrap_vel.zpp_inner._validate=u(this,this.vel_validate))},setupkinvel:function(){this.wrap_kinvel=f.geom.Vec2.get(this.kinvelx,this.kinvely,null);this.wrap_kinvel.zpp_inner._inuse=!0;this.world?this.wrap_kinvel.zpp_inner._immutable=!0:(this.wrap_kinvel.zpp_inner._invalidate=
u(this,this.kinvel_invalidate),this.wrap_kinvel.zpp_inner._validate=u(this,this.kinvel_validate))},setupsvel:function(){this.wrap_svel=f.geom.Vec2.get(this.svelx,this.svely,null);this.wrap_svel.zpp_inner._inuse=!0;this.world?this.wrap_svel.zpp_inner._immutable=!0:(this.wrap_svel.zpp_inner._invalidate=u(this,this.svel_invalidate),this.wrap_svel.zpp_inner._validate=u(this,this.svel_validate))},setupForce:function(){this.wrap_force=f.geom.Vec2.get(this.forcex,this.forcey,null);this.wrap_force.zpp_inner._inuse=
!0;this.world?this.wrap_force.zpp_inner._immutable=!0:(this.wrap_force.zpp_inner._invalidate=u(this,this.force_invalidate),this.wrap_force.zpp_inner._validate=u(this,this.force_validate))},cvel_validate:function(){this.wrapcvel.zpp_inner.x=this.velx+this.kinvelx;this.wrapcvel.zpp_inner.y=this.vely+this.kinvely;this.wrapcvel.zpp_inner.z=this.angvel+this.kinangvel},wrapcvel:null,setup_cvel:function(){this.wrapcvel=f.geom.Vec3.get();this.wrapcvel.zpp_inner.immutable=!0;this.wrapcvel.zpp_inner._validate=
u(this,this.cvel_validate)},angvel:null,torque:null,kinangvel:null,pre_rot:null,rot:null,invalidate_rot:function(){this.zip_axis=!0;for(var a=this.shapes.head;null!=a;){var b=a.elt;b.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&(b.polygon.invalidate_gverts(),b.polygon.invalidate_gaxi());b.invalidate_worldCOM();a=a.next}this.zip_worldCOM=!0},axisx:null,axisy:null,zip_axis:null,validate_axis:function(){this.zip_axis&&(this.zip_axis=!1,this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot),null)},
quick_validate_axis:function(){this.axisx=Math.sin(this.rot);this.axisy=Math.cos(this.rot)},delta_rot:function(a){this.rot+=a;if(1E-4<a*a)this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot),null;else{var b=a*a,d=1-.5*b,b=1-b*b/8,c=(d*this.axisx+a*this.axisy)*b;this.axisy=(d*this.axisy-a*this.axisx)*b;this.axisx=c}},kinematicDelaySleep:null,mass:null,zip_mass:null,massMode:null,imass:null,smass:null,cmass:null,nomove:null,invalidate_mass:function(){this.zip_mass=!0;this.invalidate_gravMass()},
validate_mass:function(){if(this.zip_mass){this.zip_mass=!1;if(this.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT){this.cmass=0;for(var a=this.shapes.head;null!=a;){var b=a.elt;b.refmaterial.density=b.material.density;b.validate_area_inertia();this.cmass+=b.area*b.material.density;a=a.next}}this.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||this.nomove?(this.mass=Math.POSITIVE_INFINITY,this.imass=this.smass=0):(this.mass=this.cmass,this.imass=this.smass=1/this.mass)}},gravMass:null,zip_gravMass:null,
gravMassMode:null,gravMassScale:null,zip_gravMassScale:null,invalidate_gravMass:function(){this.gravMassMode!=c.util.ZPP_Flags.id_GravMassMode_FIXED&&(this.zip_gravMass=!0);this.gravMassMode!=c.util.ZPP_Flags.id_GravMassMode_SCALED&&(this.zip_gravMassScale=!0);this.wake()},validate_gravMass:function(){this.zip_gravMass&&(this.zip_gravMass=!1,this.validate_mass(),this.gravMassMode==c.util.ZPP_Flags.id_GravMassMode_DEFAULT?(this.validate_mass(),this.gravMass=this.cmass):this.gravMassMode==c.util.ZPP_Flags.id_GravMassMode_SCALED&&
(this.validate_mass(),this.gravMass=this.cmass*this.gravMassScale))},invalidate_gravMassScale:function(){this.gravMassMode!=c.util.ZPP_Flags.id_GravMassMode_SCALED?this.zip_gravMassScale=!0:this.invalidate_gravMass()},validate_gravMassScale:function(){this.zip_gravMassScale&&(this.zip_gravMassScale=!1,this.gravMassMode==c.util.ZPP_Flags.id_GravMassMode_DEFAULT?this.gravMassScale=1:this.gravMassMode==c.util.ZPP_Flags.id_GravMassMode_FIXED&&(this.validate_mass(),this.gravMassScale=this.gravMass/this.cmass))},
inertiaMode:null,inertia:null,zip_inertia:null,cinertia:null,iinertia:null,sinertia:null,norotate:null,invalidate_inertia:function(){this.zip_inertia=!0;this.wake()},validate_inertia:function(){if(this.zip_inertia){this.zip_inertia=!1;if(this.inertiaMode==c.util.ZPP_Flags.id_InertiaMode_DEFAULT){this.cinertia=0;for(var a=this.shapes.head;null!=a;){var b=a.elt;b.refmaterial.density=b.material.density;b.validate_area_inertia();this.cinertia+=b.inertia*b.area*b.material.density;a=a.next}}this.type!=
c.util.ZPP_Flags.id_BodyType_DYNAMIC||this.norotate?(this.inertia=Math.POSITIVE_INFINITY,this.sinertia=this.iinertia=0):(this.inertia=this.cinertia,this.sinertia=this.iinertia=1/this.inertia)}},invalidate_wake:function(){this.wake()},aabb:null,zip_aabb:null,validate_aabb:function(){if(null==this.shapes.head)throw"Error: Body bounds only makes sense if it contains shapes";if(this.zip_aabb){this.zip_aabb=!1;this.aabb.minx=Math.POSITIVE_INFINITY;this.aabb.miny=Math.POSITIVE_INFINITY;this.aabb.maxx=Math.NEGATIVE_INFINITY;
this.aabb.maxy=Math.NEGATIVE_INFINITY;for(var a=this.shapes.head;null!=a;){var b=a.elt;b.zip_aabb&&null!=b.body&&(b.zip_aabb=!1,b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?b.circle.__validate_aabb():b.polygon.__validate_aabb());this.aabb.combine(b.aabb);a=a.next}}},invalidate_aabb:function(){this.zip_aabb=!0},localCOMx:null,localCOMy:null,zip_localCOM:null,worldCOMx:null,worldCOMy:null,zip_worldCOM:null,wrap_localCOM:null,wrap_worldCOM:null,invalidate_localCOM:function(){this.zip_worldCOM=this.zip_localCOM=
!0},invalidate_worldCOM:function(){this.zip_worldCOM=!0},validate_localCOM:function(){if(this.zip_localCOM){this.zip_localCOM=!1;for(var a=0,b=0,d=0,k=this.shapes.head;null!=k;){var e=k.elt;e.zip_localCOM&&(e.zip_localCOM=!1,e.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&e.polygon.__validate_localCOM(),null!=e.wrap_localCOM&&(e.wrap_localCOM.zpp_inner.x=e.localCOMx,e.wrap_localCOM.zpp_inner.y=e.localCOMy));e.validate_area_inertia();var g=e.area*e.material.density,a=a+e.localCOMx*g,b=b+e.localCOMy*
g,d=d+e.area*e.material.density,k=k.next}0!=d&&(k=1/d,this.localCOMx=a*k,this.localCOMy=b*k);null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy);this.zip_mass&&this.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&(this.zip_mass=!1,this.cmass=d,this.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC?(this.mass=this.cmass,this.imass=this.smass=1/this.mass):(this.mass=Math.POSITIVE_INFINITY,this.imass=this.smass=0))}},validate_worldCOM:function(){this.zip_worldCOM&&
(this.zip_worldCOM=!1,this.validate_localCOM(),this.zip_axis&&(this.zip_axis=!1,this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot),null),this.worldCOMx=this.posx+(this.axisy*this.localCOMx-this.axisx*this.localCOMy),this.worldCOMy=this.posy+(this.localCOMx*this.axisx+this.localCOMy*this.axisy),null!=this.wrap_worldCOM&&(this.wrap_worldCOM.zpp_inner.x=this.worldCOMx,this.wrap_worldCOM.zpp_inner.y=this.worldCOMy))},getlocalCOM:function(){if(null==this.shapes.head)throw"Error: localCOM only makes sense when Body has Shapes";
this.validate_localCOM()},getworldCOM:function(){if(null==this.shapes.head)throw"Error: worldCOM only makes sense when Body has Shapes";this.validate_worldCOM()},__immutable_midstep:function(a){if(null!=this.space&&this.space.midstep)throw"Error: "+a+" cannot be set during a space step()";},clear:function(){if(null!=this.space)throw"Error: Cannot clear a Body if it is currently being used by a Space!";if(null!=this.constraints.head)throw"Error: Cannot clear a Body if it is currently being used by a constraint!";
for(;null!=this.shapes.head;){var a=this.shapes.pop_unsafe();a.removedFromBody();a.body=null}this.invalidate_shapes();this.angvel=this.torque=this.kinangvel=this.pre_rot=this.rot=this.svely=this.svelx=this.kinvely=this.kinvelx=this.forcey=this.forcex=this.vely=this.velx=this.posy=this.posx=this.pre_posy=this.pre_posx=0;this.invalidate_pos();this.invalidate_rot();this.axisx=0;this.axisy=1;this.zip_axis=!1;this.massMode=c.util.ZPP_Flags.id_MassMode_DEFAULT;this.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_DEFAULT;
this.gravMassScale=1;this.inertiaMode=c.util.ZPP_Flags.id_InertiaMode_DEFAULT;this.nomove=this.norotate=!1},aabb_validate:function(){if(null==this.shapes.head)throw"Error: bounds only makes sense when Body has shapes";this.validate_aabb()},shapes_adder:function(a){return a.zpp_inner.body!=this?(null!=a.zpp_inner.body&&a.zpp_inner.body.wrap_shapes.remove(a),a.zpp_inner.body=this,a.zpp_inner.addedToBody(),null!=this.space&&this.space.added_shape(a.zpp_inner,null),a.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&
(a.zpp_inner.polygon.invalidate_gaxi(),a.zpp_inner.polygon.invalidate_gverts()),!0):!1},shapes_subber:function(a){null!=this.space&&this.space.removed_shape(a.zpp_inner);a.zpp_inner.body=null;a.zpp_inner.removedFromBody()},shapes_invalidate:function(a){this.invalidate_shapes()},shapes_modifiable:function(){this.immutable_midstep("Body::shapes");if(this.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.space)throw"Error: Cannot modifiy shapes of static object once added to Space";},addedToSpace:function(){null==
c.space.ZPP_Component.zpp_pool?this.component=new c.space.ZPP_Component:(this.component=c.space.ZPP_Component.zpp_pool,c.space.ZPP_Component.zpp_pool=this.component.next,this.component.next=null);null;this.component.isBody=!0;this.component.body=this;this.__iaddedToSpace()},removedFromSpace:function(){for(;null!=this.arbiters.head;){var a=this.arbiters.pop_unsafe();a.cleared=!0;a.b2==this&&a.b1.arbiters.inlined_try_remove(a);a.b1==this&&a.b2.arbiters.inlined_try_remove(a);null!=a.pair&&(a.pair.arb=
null,a.pair=null);a.active=!1;this.space.f_arbiters.modified=!0}a=this.component;a.body=null;a.constraint=null;null;a.next=c.space.ZPP_Component.zpp_pool;c.space.ZPP_Component.zpp_pool=a;this.component=null;this.__iremovedFromSpace()},copy:function(){var a=(new f.phys.Body).zpp_inner;a.type=this.type;a.bulletEnabled=this.bulletEnabled;a.disableCCD=this.disableCCD;for(var b=this.shapes.head;null!=b;)a.outer.zpp_inner.wrap_shapes.add(b.elt.outer.copy()),b=b.next;a.posx=this.posx;a.posy=this.posy;a.velx=
this.velx;a.vely=this.vely;a.forcex=this.forcex;a.forcey=this.forcey;a.rot=this.rot;a.angvel=this.angvel;a.torque=this.torque;a.kinvelx=this.kinvelx;a.kinvely=this.kinvely;a.kinangvel=this.kinangvel;a.svelx=this.svelx;a.svely=this.svely;this.zip_axis?a.invalidate_rot():(a.axisx=this.axisx,a.axisy=this.axisy);a.rot=this.rot;a.massMode=this.massMode;a.gravMassMode=this.gravMassMode;a.inertiaMode=this.inertiaMode;a.norotate=this.norotate;a.nomove=this.nomove;a.cmass=this.cmass;a.cinertia=this.cinertia;
this.zip_mass?a.invalidate_mass():a.mass=this.mass;this.zip_gravMass?a.invalidate_gravMass():a.gravMass=this.gravMass;this.zip_gravMassScale?a.invalidate_gravMassScale():a.gravMassScale=this.gravMassScale;this.zip_inertia?a.invalidate_inertia():a.inertia=this.inertia;this.zip_aabb?a.zip_aabb=!0:(a.aabb.minx=this.aabb.minx,a.aabb.miny=this.aabb.miny,a.aabb.maxx=this.aabb.maxx,a.aabb.maxy=this.aabb.maxy);this.zip_localCOM?(a.zip_localCOM=!0,a.zip_worldCOM=!0):(a.localCOMx=this.localCOMx,a.localCOMy=
this.localCOMy);this.zip_worldCOM?a.zip_worldCOM=!0:(a.worldCOMx=this.worldCOMx,a.worldCOMy=this.worldCOMy);this.copyto(a.outer);return a.outer},__class__:c.phys.ZPP_Body});c.phys.ZPP_Compound=function(){this.compound=this.space=null;this.depth=0;this.outer=this.bodies=this.constraints=this.compounds=this.wrap_bodies=this.wrap_constraints=this.wrap_compounds=null;c.phys.ZPP_Interactor.call(this);this.icompound=this;this.depth=1;this.bodies=new c.util.ZNPList_ZPP_Body;this.wrap_bodies=c.util.ZPP_BodyList.get(this.bodies);
this.wrap_bodies.zpp_inner.adder=u(this,this.bodies_adder);this.wrap_bodies.zpp_inner.subber=u(this,this.bodies_subber);this.wrap_bodies.zpp_inner._modifiable=u(this,this.bodies_modifiable);this.constraints=new c.util.ZNPList_ZPP_Constraint;this.wrap_constraints=c.util.ZPP_ConstraintList.get(this.constraints);this.wrap_constraints.zpp_inner.adder=u(this,this.constraints_adder);this.wrap_constraints.zpp_inner.subber=u(this,this.constraints_subber);this.wrap_constraints.zpp_inner._modifiable=u(this,
this.constraints_modifiable);this.compounds=new c.util.ZNPList_ZPP_Compound;this.wrap_compounds=c.util.ZPP_CompoundList.get(this.compounds);this.wrap_compounds.zpp_inner.adder=u(this,this.compounds_adder);this.wrap_compounds.zpp_inner.subber=u(this,this.compounds_subber);this.wrap_compounds.zpp_inner._modifiable=u(this,this.compounds_modifiable)};m["zpp_nape.phys.ZPP_Compound"]=c.phys.ZPP_Compound;c.phys.ZPP_Compound.__name__=["zpp_nape","phys","ZPP_Compound"];c.phys.ZPP_Compound.__super__=c.phys.ZPP_Interactor;
c.phys.ZPP_Compound.prototype=F(c.phys.ZPP_Interactor.prototype,{outer:null,bodies:null,constraints:null,compounds:null,wrap_bodies:null,wrap_constraints:null,wrap_compounds:null,depth:null,compound:null,space:null,__imutable_midstep:function(a){if(null!=this.space&&this.space.midstep)throw"Error: "+a+" cannot be set during space step()";},addedToSpace:function(){this.__iaddedToSpace()},removedFromSpace:function(){this.__iremovedFromSpace()},breakApart:function(){null!=this.space&&(this.__iremovedFromSpace(),
this.space.nullInteractorType(this));for(null!=this.compound?this.compound.compounds.remove(this):null!=this.space&&this.space.compounds.remove(this);null!=this.bodies.head;){var a=this.bodies.pop_unsafe();null!=(a.compound=this.compound)?this.compound.bodies.add(a):null!=this.space&&this.space.bodies.add(a);null!=this.space&&this.space.freshInteractorType(a)}for(;null!=this.constraints.head;)a=this.constraints.pop_unsafe(),null!=(a.compound=this.compound)?this.compound.constraints.add(a):null!=this.space&&
this.space.constraints.add(a);for(;null!=this.compounds.head;)a=this.compounds.pop_unsafe(),null!=(a.compound=this.compound)?this.compound.compounds.add(a):null!=this.space&&this.space.compounds.add(a),null!=this.space&&this.space.freshInteractorType(a);this.space=this.compound=null},bodies_adder:function(a){return a.zpp_inner.compound!=this?(null!=a.zpp_inner.compound?a.zpp_inner.compound.wrap_bodies.remove(a):null!=a.zpp_inner.space&&a.zpp_inner.space.wrap_bodies.remove(a),a.zpp_inner.compound=
this,null!=this.space&&this.space.addBody(a.zpp_inner),!0):!1},bodies_subber:function(a){a.zpp_inner.compound=null;null!=this.space&&this.space.remBody(a.zpp_inner)},bodies_modifiable:function(){this.immutable_midstep("Compound::bodies")},constraints_adder:function(a){return a.zpp_inner.compound!=this?(null!=a.zpp_inner.compound?a.zpp_inner.compound.wrap_constraints.remove(a):null!=a.zpp_inner.space&&a.zpp_inner.space.wrap_constraints.remove(a),a.zpp_inner.compound=this,null!=this.space&&this.space.addConstraint(a.zpp_inner),
!0):!1},constraints_subber:function(a){a.zpp_inner.compound=null;null!=this.space&&this.space.remConstraint(a.zpp_inner)},constraints_modifiable:function(){this.immutable_midstep("Compound::constraints")},compounds_adder:function(a){for(var b=this;null!=b&&b!=a.zpp_inner;)b=b.compound;if(b==a.zpp_inner)throw"Error: Assignment would cause a cycle in the Compound tree: assigning "+a.toString()+".compound = "+this.outer.toString();return a.zpp_inner.compound!=this?(null!=a.zpp_inner.compound?a.zpp_inner.compound.wrap_compounds.remove(a):
null!=a.zpp_inner.space&&a.zpp_inner.space.wrap_compounds.remove(a),a.zpp_inner.compound=this,a.zpp_inner.depth=this.depth+1,null!=this.space&&this.space.addCompound(a.zpp_inner),!0):!1},compounds_subber:function(a){a.zpp_inner.compound=null;a.zpp_inner.depth=1;null!=this.space&&this.space.remCompound(a.zpp_inner)},compounds_modifiable:function(){this.immutable_midstep("Compound::compounds")},copy:function(a,b){var d=null==a;null==a&&(a=[]);null==b&&(b=[]);for(var k=new f.phys.Compound,e=this.compounds.head;null!=
e;){var g=e.elt.copy(a,b);g.zpp_inner.immutable_midstep("Compound::compound");(null==g.zpp_inner.compound?null:g.zpp_inner.compound.outer)!=k&&(null!=(null==g.zpp_inner.compound?null:g.zpp_inner.compound.outer)&&(null==g.zpp_inner.compound?null:g.zpp_inner.compound.outer).zpp_inner.wrap_compounds.remove(g),null!=k&&k.zpp_inner.wrap_compounds.add(g));null==g.zpp_inner.compound?null:g.zpp_inner.compound.outer;e=e.next}for(e=this.bodies.head;null!=e;){var g=e.elt,h=g.outer.copy();a.push(c.constraint.ZPP_CopyHelper.dict(g.id,
h));(null==h.zpp_inner.compound?null:h.zpp_inner.compound.outer)!=k&&(null!=(null==h.zpp_inner.compound?null:h.zpp_inner.compound.outer)&&(null==h.zpp_inner.compound?null:h.zpp_inner.compound.outer).zpp_inner.wrap_bodies.remove(h),null!=k&&k.zpp_inner.wrap_bodies.add(h));null==h.zpp_inner.compound?null:h.zpp_inner.compound.outer;e=e.next}for(e=this.constraints.head;null!=e;)g=e.elt.copy(a,b),(null==g.zpp_inner.compound?null:g.zpp_inner.compound.outer)!=k&&(null!=(null==g.zpp_inner.compound?null:g.zpp_inner.compound.outer)&&
(null==g.zpp_inner.compound?null:g.zpp_inner.compound.outer).zpp_inner.wrap_constraints.remove(g),null!=k&&k.zpp_inner.wrap_constraints.add(g)),null==g.zpp_inner.compound?null:g.zpp_inner.compound.outer,e=e.next;if(d)for(;0<b.length;)for(d=b.pop(),e=0;e<a.length;)if(g=a[e],++e,g.id==d.id){d.cb(g.bc);break}this.copyto(k);return k},__class__:c.phys.ZPP_Compound});c.phys.ZPP_FluidProperties=function(){this.wrap_gravity=null;this.viscosity=this.density=this.gravityx=this.gravityy=0;this.next=this.userData=
this.outer=this.shapes=this.wrap_shapes=null;this.shapes=new c.util.ZNPList_ZPP_Shape;this.density=this.viscosity=1;this.wrap_gravity=null;this.gravityy=this.gravityx=0};m["zpp_nape.phys.ZPP_FluidProperties"]=c.phys.ZPP_FluidProperties;c.phys.ZPP_FluidProperties.__name__=["zpp_nape","phys","ZPP_FluidProperties"];c.phys.ZPP_FluidProperties.prototype={next:null,userData:null,outer:null,wrapper:function(){if(null==this.outer){this.outer=new f.phys.FluidProperties;var a=this.outer.zpp_inner;a.outer=null;
a.next=c.phys.ZPP_FluidProperties.zpp_pool;c.phys.ZPP_FluidProperties.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},free:function(){this.outer=null},alloc:function(){},shapes:null,wrap_shapes:null,feature_cons:function(){this.shapes=new c.util.ZNPList_ZPP_Shape},addShape:function(a){this.shapes.add(a)},remShape:function(a){this.shapes.remove(a)},copy:function(){var a;null==c.phys.ZPP_FluidProperties.zpp_pool?a=new c.phys.ZPP_FluidProperties:(a=c.phys.ZPP_FluidProperties.zpp_pool,c.phys.ZPP_FluidProperties.zpp_pool=
a.next,a.next=null);null;a.viscosity=this.viscosity;a.density=this.density;return a},viscosity:null,density:null,gravityx:null,gravityy:null,wrap_gravity:null,gravity_invalidate:function(a){this.gravityx=a.x;this.gravityy=a.y;this.invalidate()},gravity_validate:function(){this.wrap_gravity.zpp_inner.x=this.gravityx;this.wrap_gravity.zpp_inner.y=this.gravityy},getgravity:function(){this.wrap_gravity=f.geom.Vec2.get(this.gravityx,this.gravityy,null);this.wrap_gravity.zpp_inner._inuse=!0;this.wrap_gravity.zpp_inner._invalidate=
u(this,this.gravity_invalidate);this.wrap_gravity.zpp_inner._validate=u(this,this.gravity_validate)},invalidate:function(){for(var a=this.shapes.head;null!=a;)a.elt.invalidate_fluidprops(),a=a.next},__class__:c.phys.ZPP_FluidProperties};c.phys.ZPP_Material=function(){this.dynamicFriction=this.staticFriction=this.density=this.elasticity=this.rollingFriction=0;this.next=this.userData=this.outer=this.shapes=this.wrap_shapes=null;this.shapes=new c.util.ZNPList_ZPP_Shape;this.elasticity=0;this.dynamicFriction=
1;this.staticFriction=2;this.density=.001;this.rollingFriction=.01};m["zpp_nape.phys.ZPP_Material"]=c.phys.ZPP_Material;c.phys.ZPP_Material.__name__=["zpp_nape","phys","ZPP_Material"];c.phys.ZPP_Material.prototype={next:null,userData:null,outer:null,wrapper:function(){if(null==this.outer){this.outer=new f.phys.Material;var a=this.outer.zpp_inner;a.outer=null;a.next=c.phys.ZPP_Material.zpp_pool;c.phys.ZPP_Material.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},free:function(){this.outer=null},
alloc:function(){},shapes:null,wrap_shapes:null,feature_cons:function(){this.shapes=new c.util.ZNPList_ZPP_Shape},addShape:function(a){this.shapes.add(a)},remShape:function(a){this.shapes.remove(a)},dynamicFriction:null,staticFriction:null,density:null,elasticity:null,rollingFriction:null,copy:function(){var a=new c.phys.ZPP_Material;a.dynamicFriction=this.dynamicFriction;a.staticFriction=this.staticFriction;a.density=this.density;a.elasticity=this.elasticity;a.rollingFriction=this.rollingFriction;
return a},set:function(a){this.dynamicFriction=a.dynamicFriction;this.staticFriction=a.staticFriction;this.density=a.density;this.elasticity=a.elasticity;this.rollingFriction=a.rollingFriction},invalidate:function(a){for(var b=this.shapes.head;null!=b;)b.elt.invalidate_material(a),b=b.next},__class__:c.phys.ZPP_Material};c.shape={};c.shape.ZPP_Shape=function(a){this.zip_aabb=!1;this.sweep=this.node=this.pairs=this.aabb=null;this.fluidEnabled=this.sensorEnabled=!1;this.circle=this.polygon=this.refmaterial=
this.material=this.filter=this.fluidProperties=null;this.sweepCoef=0;this.zip_sweepRadius=!1;this.sweepRadius=0;this.wrap_localCOM=this.wrap_worldCOM=null;this.zip_worldCOM=!1;this.worldCOMx=this.worldCOMy=0;this.zip_localCOM=!1;this.localCOMx=this.localCOMy=0;this.zip_angDrag=!1;this.inertia=this.angDrag=0;this.zip_area_inertia=!1;this.type=this.area=0;this.outer=this.body=null;c.phys.ZPP_Interactor.call(this);this.pairs=new c.util.ZNPList_ZPP_AABBPair;this.ishape=this;this.type=a;this.aabb=c.geom.ZPP_AABB.get(0,
0,0,0);this.aabb._immutable=!0;this.aabb._validate=u(this,this.aabb_validate);this.zip_area_inertia=this.zip_angDrag=this.zip_localCOM=this.zip_sweepRadius=!0;this.worldCOMy=this.worldCOMx=this.localCOMy=this.localCOMx=0;this.sensorEnabled=this.fluidEnabled=!1;this.body=this.fluidProperties=null;this.refmaterial=new c.phys.ZPP_Material;this.sweepRadius=this.sweepCoef=0};m["zpp_nape.shape.ZPP_Shape"]=c.shape.ZPP_Shape;c.shape.ZPP_Shape.__name__=["zpp_nape","shape","ZPP_Shape"];c.shape.ZPP_Shape.__super__=
c.phys.ZPP_Interactor;c.shape.ZPP_Shape.prototype=F(c.phys.ZPP_Interactor.prototype,{outer:null,body:null,type:null,isCircle:function(){return this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE},isPolygon:function(){return this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON},area:null,zip_area_inertia:null,inertia:null,angDrag:null,zip_angDrag:null,localCOMx:null,localCOMy:null,zip_localCOM:null,worldCOMx:null,worldCOMy:null,zip_worldCOM:null,wrap_localCOM:null,wrap_worldCOM:null,sweepRadius:null,zip_sweepRadius:null,
sweepCoef:null,invalidate_sweepRadius:function(){this.zip_sweepRadius=!0},validate_sweepRadius:function(){this.zip_sweepRadius&&(this.zip_sweepRadius=!1,this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_sweepRadius():this.polygon.__validate_sweepRadius())},circle:null,polygon:null,refmaterial:null,material:null,filter:null,fluidProperties:null,fluidEnabled:null,sensorEnabled:null,sweep:null,node:null,pairs:null,clear:function(){this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?
this.circle.__clear():this.polygon.__clear()},aabb:null,zip_aabb:null,validate_aabb:function(){this.zip_aabb&&null!=this.body&&(this.zip_aabb=!1,this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_aabb():this.polygon.__validate_aabb())},force_validate_aabb:function(){this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle._force_validate_aabb():this.polygon._force_validate_aabb()},invalidate_aabb:function(){this.zip_aabb=!0;null!=this.body&&(this.body.zip_aabb=!0)},validate_area_inertia:function(){this.zip_area_inertia&&
(this.zip_area_inertia=!1,this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_area_inertia():this.polygon.__validate_area_inertia())},validate_angDrag:function(){if(this.zip_angDrag||this.refmaterial.dynamicFriction!=this.material.dynamicFriction)this.zip_angDrag=!1,this.refmaterial.dynamicFriction=this.material.dynamicFriction,this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_angDrag():this.polygon.__validate_angDrag()},validate_localCOM:function(){this.zip_localCOM&&
(this.zip_localCOM=!1,this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy))},validate_worldCOM:function(){this.zip_worldCOM&&null!=this.body&&(this.zip_worldCOM=!1,this.zip_localCOM&&(this.zip_localCOM=!1,this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,
this.wrap_localCOM.zpp_inner.y=this.localCOMy)),this.body.validate_axis(),this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy))},getworldCOM:function(){if(null==this.body)throw"Error: worldCOM only makes sense when Shape belongs to a Body";this.zip_worldCOM&&null!=this.body&&(this.zip_worldCOM=!1,this.zip_localCOM&&(this.zip_localCOM=!1,this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&
this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)),this.body.validate_axis(),this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy));this.wrap_worldCOM.zpp_inner.x=this.worldCOMx;this.wrap_worldCOM.zpp_inner.y=this.worldCOMy},invalidate_area_inertia:function(){this.zip_area_inertia=
!0;null!=this.body&&(this.body.invalidate_localCOM(),this.body.invalidate_mass(),this.body.invalidate_inertia())},invalidate_angDrag:function(){this.zip_angDrag=!0},invalidate_localCOM:function(){this.zip_localCOM=!0;this.invalidate_area_inertia();this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE&&(this.zip_sweepRadius=!0);this.invalidate_angDrag();this.invalidate_worldCOM();null!=this.body&&this.body.invalidate_localCOM()},invalidate_worldCOM:function(){this.zip_aabb=this.zip_worldCOM=!0;null!=this.body&&
(this.body.zip_aabb=!0)},invalidate_material:function(a){0!=(a&c.phys.ZPP_Material.WAKE)&&this.wake();0!=(a&c.phys.ZPP_Material.ARBITERS)&&null!=this.body&&this.body.refreshArbiters();0!=(a&c.phys.ZPP_Material.PROPS)&&null!=this.body&&(this.body.invalidate_localCOM(),this.body.invalidate_mass(),this.body.invalidate_inertia());0!=(a&c.phys.ZPP_Material.ANGDRAG)&&this.invalidate_angDrag();this.refmaterial.set(this.material)},invalidate_filter:function(){this.wake()},invalidate_fluidprops:function(){this.fluidEnabled&&
this.wake()},aabb_validate:function(){if(null==this.body)throw"Error: bounds only makes sense when Shape belongs to a Body";this.zip_aabb&&null!=this.body&&(this.zip_aabb=!1,this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_aabb():this.polygon.__validate_aabb())},setMaterial:function(a){this.material!=a&&(null!=this.body&&null!=this.body.space&&null!=this.material&&this.material.shapes.remove(this),this.material=a,null!=this.body&&null!=this.body.space&&a.shapes.add(this),this.wake(),
null!=this.body&&this.body.refreshArbiters())},setFilter:function(a){this.filter!=a&&(null!=this.body&&null!=this.body.space&&null!=this.filter&&this.filter.shapes.remove(this),this.filter=a,null!=this.body&&null!=this.body.space&&a.shapes.add(this),this.wake())},setFluid:function(a){this.fluidProperties!=a&&(null!=this.body&&null!=this.body.space&&null!=this.fluidProperties&&this.fluidProperties.shapes.remove(this),this.fluidProperties=a,null!=this.body&&null!=this.body.space&&a.shapes.add(this),
this.fluidEnabled&&this.wake())},__immutable_midstep:function(a){if(null!=this.body&&null!=this.body.space&&this.body.space.midstep)throw"Error: "+a+" cannot be set during a space step()";},addedToBody:function(){this.invalidate_worldCOM();this.zip_aabb=!0;null!=this.body&&(this.body.zip_aabb=!0)},removedFromBody:function(){},addedToSpace:function(){this.__iaddedToSpace();this.material.shapes.add(this);this.filter.shapes.add(this);null!=this.fluidProperties&&this.fluidProperties.shapes.add(this)},
removedFromSpace:function(){this.__iremovedFromSpace();this.material.shapes.remove(this);this.filter.shapes.remove(this);null!=this.fluidProperties&&this.fluidProperties.shapes.remove(this)},copy:function(){var a=null,a=this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__copy():this.polygon.__copy();this.zip_area_inertia?a.invalidate_area_inertia():(a.area=this.area,a.inertia=this.inertia);this.zip_sweepRadius?a.zip_sweepRadius=!0:(a.sweepRadius=this.sweepRadius,a.sweepCoef=this.sweepCoef);
this.zip_angDrag?a.invalidate_angDrag():a.angDrag=this.angDrag;this.zip_aabb?(a.zip_aabb=!0,null!=a.body&&(a.body.zip_aabb=!0)):(a.aabb.minx=this.aabb.minx,a.aabb.miny=this.aabb.miny,a.aabb.maxx=this.aabb.maxx,a.aabb.maxy=this.aabb.maxy);var b=a.material;b.outer=null;b.next=c.phys.ZPP_Material.zpp_pool;c.phys.ZPP_Material.zpp_pool=b;b=a.filter;b.outer=null;b.next=c.dynamics.ZPP_InteractionFilter.zpp_pool;c.dynamics.ZPP_InteractionFilter.zpp_pool=b;a.material=this.material;a.filter=this.filter;null!=
this.fluidProperties&&(a.fluidProperties=this.fluidProperties);a.fluidEnabled=this.fluidEnabled;a.sensorEnabled=this.sensorEnabled;null!=this.userData&&(a.userData=J.copy(this.userData));this.copyto(a.outer);return a.outer},__class__:c.shape.ZPP_Shape});c.shape.ZPP_Circle=function(){this.radius=0;this.outer_zn=null;c.shape.ZPP_Shape.call(this,c.util.ZPP_Flags.id_ShapeType_CIRCLE);this.circle=this;this.zip_localCOM=!1};m["zpp_nape.shape.ZPP_Circle"]=c.shape.ZPP_Circle;c.shape.ZPP_Circle.__name__=["zpp_nape",
"shape","ZPP_Circle"];c.shape.ZPP_Circle.__super__=c.shape.ZPP_Shape;c.shape.ZPP_Circle.prototype=F(c.shape.ZPP_Shape.prototype,{outer_zn:null,radius:null,__clear:function(){},invalidate_radius:function(){this.invalidate_area_inertia();this.invalidate_angDrag();this.zip_aabb=!0;null!=this.body&&(this.body.zip_aabb=!0);null!=this.body&&this.body.wake()},localCOM_validate:function(){this.wrap_localCOM.zpp_inner.x=this.localCOMx;this.wrap_localCOM.zpp_inner.y=this.localCOMy},localCOM_invalidate:function(a){this.localCOMx=
a.x;this.localCOMy=a.y;this.invalidate_localCOM();null!=this.body&&this.body.wake()},localCOM_immutable:function(){if(null!=this.body&&this.body.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.body.space)throw"Error: Cannot modify localCOM of Circle added to a static Body whilst within a Space";},setupLocalCOM:function(){this.wrap_localCOM=f.geom.Vec2.get(this.localCOMx,this.localCOMy,null);this.wrap_localCOM.zpp_inner._inuse=!0;this.wrap_localCOM.zpp_inner._validate=u(this,this.localCOM_validate);
this.wrap_localCOM.zpp_inner._invalidate=u(this,this.localCOM_invalidate);this.wrap_localCOM.zpp_inner._isimmutable=u(this,this.localCOM_immutable)},__validate_aabb:function(){this.zip_worldCOM&&null!=this.body&&(this.zip_worldCOM=!1,this.zip_localCOM&&(this.zip_localCOM=!1,this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)),this.body.validate_axis(),
this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy));var a=this.radius,b=this.radius;this.aabb.minx=this.worldCOMx-a;this.aabb.miny=this.worldCOMy-b;this.aabb.maxx=this.worldCOMx+a;this.aabb.maxy=this.worldCOMy+b},_force_validate_aabb:function(){this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy);this.worldCOMy=this.body.posy+
(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy);this.aabb.minx=this.worldCOMx-this.radius;this.aabb.miny=this.worldCOMy-this.radius;this.aabb.maxx=this.worldCOMx+this.radius;this.aabb.maxy=this.worldCOMy+this.radius},__validate_sweepRadius:function(){this.sweepCoef=Math.sqrt(this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy);this.sweepRadius=this.sweepCoef+this.radius},__validate_area_inertia:function(){var a=this.radius*this.radius;this.area=a*Math.PI;this.inertia=.5*a+
(this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy)},__validate_angDrag:function(){var a=this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy,b=this.radius*this.radius;this.angDrag=(a+2*b)*this.material.dynamicFriction*f.Config.fluidAngularDragFriction+.5*f.Config.fluidAngularDrag*(1+f.Config.fluidVacuumDrag)*a;this.angDrag/=2*(a+.5*b)},__scale:function(a,b){var d;d=((0>a?-a:a)+(0>b?-b:b))/2;this.radius=0>d?this.radius*-d:this.radius*d;this.invalidate_radius();0<this.localCOMx*this.localCOMx+
this.localCOMy*this.localCOMy&&(this.localCOMx*=a,this.localCOMy*=b,this.invalidate_localCOM())},__translate:function(a,b){this.localCOMx+=1*a;this.localCOMy+=1*b;this.invalidate_localCOM()},__rotate:function(a,b){if(0<this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy){var d=0,c=0,d=b*this.localCOMx-a*this.localCOMy,c=this.localCOMx*a+this.localCOMy*b;this.localCOMx=d;this.localCOMy=c;this.invalidate_localCOM()}},__transform:function(a){var b=a.zpp_inner.a*a.zpp_inner.d-a.zpp_inner.b*a.zpp_inner.c;
0>b&&(b=-b);this.radius*=Math.sqrt(b);b=a.zpp_inner.a*this.localCOMx+a.zpp_inner.b*this.localCOMy+a.zpp_inner.tx;this.localCOMy=a.zpp_inner.c*this.localCOMx+a.zpp_inner.d*this.localCOMy+a.zpp_inner.ty;this.localCOMx=b;this.invalidate_radius();this.invalidate_localCOM()},__copy:function(){var a=(new f.shape.Circle(this.radius)).zpp_inner_zn;a.localCOMx=this.localCOMx;a.localCOMy=this.localCOMy;a.zip_localCOM=!1;return a},__class__:c.shape.ZPP_Circle});c.shape.ZPP_Edge=function(){this.tp0=this.tp1=
0;this.lp0=this.gp0=this.lp1=this.gp1=null;this.length=this.lprojection=this.gprojection=0;this.wrap_gnorm=null;this.gnormx=this.gnormy=0;this.wrap_lnorm=null;this.lnormx=this.lnormy=0;this.next=this.polygon=this.outer=null;this.gprojection=this.lprojection=this.length=this.gnormy=this.gnormx=this.lnormy=this.lnormx=0};m["zpp_nape.shape.ZPP_Edge"]=c.shape.ZPP_Edge;c.shape.ZPP_Edge.__name__=["zpp_nape","shape","ZPP_Edge"];c.shape.ZPP_Edge.prototype={next:null,free:function(){this.polygon=null},alloc:function(){},
polygon:null,outer:null,wrapper:function(){null==this.outer&&(c.shape.ZPP_Edge.internal=!0,this.outer=new f.shape.Edge,c.shape.ZPP_Edge.internal=!1,this.outer.zpp_inner=this);return this.outer},lnormx:null,lnormy:null,wrap_lnorm:null,gnormx:null,gnormy:null,wrap_gnorm:null,length:null,lprojection:null,gprojection:null,lp0:null,gp0:null,lp1:null,gp1:null,tp0:null,tp1:null,lnorm_validate:function(){if(null==this.polygon)throw"Error: Edge not currently in use";this.polygon.validate_laxi();this.wrap_lnorm.zpp_inner.x=
this.lnormx;this.wrap_lnorm.zpp_inner.y=this.lnormy},gnorm_validate:function(){if(null==this.polygon)throw"Error: Edge not currently in use";if(null==this.polygon.body)throw"Error: Edge worldNormal only makes sense if the parent Polygon is contained within a rigid body";this.polygon.validate_gaxi();this.wrap_gnorm.zpp_inner.x=this.gnormx;this.wrap_gnorm.zpp_inner.y=this.gnormy},getlnorm:function(){this.wrap_lnorm=f.geom.Vec2.get(this.lnormx,this.lnormy,null);this.wrap_lnorm.zpp_inner._immutable=!0;
this.wrap_lnorm.zpp_inner._validate=u(this,this.lnorm_validate)},getgnorm:function(){this.wrap_gnorm=f.geom.Vec2.get(this.gnormx,this.gnormy,null);this.wrap_gnorm.zpp_inner._immutable=!0;this.wrap_gnorm.zpp_inner._validate=u(this,this.gnorm_validate)},__class__:c.shape.ZPP_Edge};c.shape.ZPP_Polygon=function(){this.reverse_flag=this.zip_lverts=this.zip_laxi=this.zip_gverts=this.zip_gaxi=this.zip_valid=this.zip_sanitation=!1;this.edgeCnt=0;this.outer_zn=this.lverts=this.wrap_lverts=this.gverts=this.wrap_gverts=
this.edges=this.wrap_edges=null;c.shape.ZPP_Shape.call(this,c.util.ZPP_Flags.id_ShapeType_POLYGON);this.polygon=this;this.lverts=new c.geom.ZPP_Vec2;this.gverts=new c.geom.ZPP_Vec2;this.edges=new c.util.ZNPList_ZPP_Edge;this.edgeCnt=0};m["zpp_nape.shape.ZPP_Polygon"]=c.shape.ZPP_Polygon;c.shape.ZPP_Polygon.__name__=["zpp_nape","shape","ZPP_Polygon"];c.shape.ZPP_Polygon.__super__=c.shape.ZPP_Shape;c.shape.ZPP_Polygon.prototype=F(c.shape.ZPP_Shape.prototype,{outer_zn:null,lverts:null,wrap_lverts:null,
gverts:null,wrap_gverts:null,edges:null,wrap_edges:null,edgeCnt:null,reverse_flag:null,__clear:function(){},lverts_pa_invalidate:function(a){this.invalidate_lverts()},lverts_pa_immutable:function(){if(null!=this.body&&this.body.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.body.space)throw"Error: Cannot modify local vertex of Polygon added to a static body whilst within a Space";},gverts_pa_validate:function(){if(null==this.body)throw"Error: World vertex only makes sense when Polygon is contained in a rigid body";
this.validate_gverts()},lverts_post_adder:function(a){a.zpp_inner._invalidate=u(this,this.lverts_pa_invalidate);a.zpp_inner._isimmutable=u(this,this.lverts_pa_immutable);for(var b=null,d=null,k=this.lverts.next;null!=k&&k!=a.zpp_inner;)b=null==b?this.gverts.next:b.next,d=null==d?this.edges.head:d.next,k=k.next;a=c.geom.ZPP_Vec2.get(0,0,!0);this.gverts.insert(b,a);null!=this.lverts.next.next&&(null==this.lverts.next.next.next?(null==c.shape.ZPP_Edge.zpp_pool?d=new c.shape.ZPP_Edge:(d=c.shape.ZPP_Edge.zpp_pool,
c.shape.ZPP_Edge.zpp_pool=d.next,d.next=null),null,d.polygon=this,this.edges.add(d),null==c.shape.ZPP_Edge.zpp_pool?d=new c.shape.ZPP_Edge:(d=c.shape.ZPP_Edge.zpp_pool,c.shape.ZPP_Edge.zpp_pool=d.next,d.next=null),null,d.polygon=this,this.edges.add(d),this.edgeCnt+=2):(null==c.shape.ZPP_Edge.zpp_pool?b=new c.shape.ZPP_Edge:(b=c.shape.ZPP_Edge.zpp_pool,c.shape.ZPP_Edge.zpp_pool=b.next,b.next=null),null,b.polygon=this,this.edges.insert(d,b),this.edgeCnt++));a._validate=u(this,this.gverts_pa_validate)},
lverts_subber:function(a){this.cleanup_lvert(a.zpp_inner)},lverts_invalidate:function(a){this.invalidate_lverts()},lverts_validate:function(){this.validate_lverts()},lverts_modifiable:function(){this.immutable_midstep("Polygon::localVerts");if(null!=this.body&&this.body.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.body.space)throw"Error: Cannot modifiy shapes of static object once added to Space";},gverts_validate:function(){this.validate_gverts()},edges_validate:function(){this.validate_lverts()},
getlverts:function(){this.wrap_lverts=c.util.ZPP_MixVec2List.get(this.lverts);this.wrap_lverts.zpp_inner.post_adder=u(this,this.lverts_post_adder);this.wrap_lverts.zpp_inner.subber=u(this,this.lverts_subber);this.wrap_lverts.zpp_inner._invalidate=u(this,this.lverts_invalidate);this.wrap_lverts.zpp_inner._validate=u(this,this.lverts_validate);this.wrap_lverts.zpp_inner._modifiable=u(this,this.lverts_modifiable);this.wrap_lverts.zpp_inner.reverse_flag=this.reverse_flag},getgverts:function(){this.wrap_gverts=
c.util.ZPP_MixVec2List.get(this.gverts,!0);this.wrap_gverts.zpp_inner.reverse_flag=this.reverse_flag;this.wrap_gverts.zpp_inner._validate=u(this,this.gverts_validate)},getedges:function(){this.wrap_edges=c.util.ZPP_EdgeList.get(this.edges,!0);this.wrap_edges.zpp_inner.reverse_flag=this.reverse_flag;this.wrap_edges.zpp_inner._validate=u(this,this.edges_validate)},zip_lverts:null,invalidate_lverts:function(){this.invalidate_laxi();this.invalidate_area_inertia();this.invalidate_angDrag();this.invalidate_localCOM();
this.invalidate_gverts();this.zip_sanitation=this.zip_valid=this.zip_lverts=!0;null!=this.body&&this.body.wake()},zip_laxi:null,invalidate_laxi:function(){this.invalidate_gaxi();this.zip_laxi=this.zip_sweepRadius=!0},zip_gverts:null,invalidate_gverts:function(){this.zip_aabb=!0;null!=this.body&&(this.body.zip_aabb=!0);this.zip_gverts=!0},zip_gaxi:null,invalidate_gaxi:function(){this.zip_gaxi=!0},zip_valid:null,validation:null,valid:function(){if(this.zip_valid){this.zip_valid=!1;this.zip_sanitation&&
(this.zip_sanitation=!1,this.splice_collinear_real());if(3>this.lverts.length)return null==c.util.ZPP_Flags.ValidationResult_DEGENERATE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_DEGENERATE=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),this.validation=c.util.ZPP_Flags.ValidationResult_DEGENERATE;this.validate_lverts();this.validate_area_inertia();if(this.area<f.Config.epsilon)return null==c.util.ZPP_Flags.ValidationResult_DEGENERATE&&(c.util.ZPP_Flags.internal=!0,
c.util.ZPP_Flags.ValidationResult_DEGENERATE=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),this.validation=c.util.ZPP_Flags.ValidationResult_DEGENERATE;for(var a=!1,b=!1,d=!0,k=this.lverts.next,e=k,g=k=k.next,k=k.next;null!=k;){var h=k,l=0,m=0,l=h.x-g.x,m=h.y-g.y,n=0,u=0,n=g.x-e.x,u=g.y-e.y,l=u*l-n*m;l>f.Config.epsilon?b=!0:l<-f.Config.epsilon&&(a=!0);if(b&&a){d=!1;break}e=g;g=h;k=k.next}d&&(h=k=this.lverts.next,m=l=0,l=h.x-g.x,m=h.y-g.y,u=n=0,n=g.x-e.x,u=g.y-e.y,e=u*l-n*m,e>f.Config.epsilon?
b=!0:e<-f.Config.epsilon&&(a=!0),b&&a&&(d=!1),d&&(e=g,g=h,h=k=k.next,k=d=0,d=h.x-g.x,k=h.y-g.y,l=h=0,h=g.x-e.x,l=g.y-e.y,g=l*d-h*k,g>f.Config.epsilon?b=!0:g<-f.Config.epsilon&&(a=!0)));if(b&&a)return null==c.util.ZPP_Flags.ValidationResult_CONCAVE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_CONCAVE=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),this.validation=c.util.ZPP_Flags.ValidationResult_CONCAVE;g=a=!0;b=e=this.lverts.next;for(e=e.next;null!=e;){d=e;if(!a){g=
!1;break}h=!0;k=l=this.lverts.next;for(l=l.next;null!=l;){m=l;if(b!=k&&b!=m&&d!=k&&d!=m){var u=n=0,n=b.x-k.x,u=b.y-k.y,t=0,v=0,t=d.x-b.x,v=d.y-b.y,A=0,q=0,A=m.x-k.x,q=m.y-k.y,y=v*A-t*q;if(y*y>f.Config.epsilon&&(y=1/y,A=(q*n-A*u)*y,A>f.Config.epsilon&&A<1-f.Config.epsilon&&(n=(v*n-t*u)*y,n>f.Config.epsilon&&n<1-f.Config.epsilon))){h=a=!1;break}}k=m;l=l.next}h&&(u=this.lverts.next,b!=k&&b!=u&&d!=k&&d!=u&&(l=h=0,h=b.x-k.x,l=b.y-k.y,n=m=0,m=d.x-b.x,n=d.y-b.y,t=b=0,b=u.x-k.x,t=u.y-k.y,k=n*b-m*t,k*k>f.Config.epsilon&&
(k=1/k,b=(t*h-b*l)*k,b>f.Config.epsilon&&b<1-f.Config.epsilon&&(b=(n*h-m*l)*k,b>f.Config.epsilon&&b<1-f.Config.epsilon&&(a=!1)))));b=d;e=e.next}if(g){do if(e=this.lverts.next,a){d=!0;g=k=this.lverts.next;for(k=k.next;null!=k;){h=k;if(b!=g&&b!=h&&e!=g&&e!=h&&(m=l=0,l=b.x-g.x,m=b.y-g.y,u=n=0,n=e.x-b.x,u=e.y-b.y,y=v=0,v=h.x-g.x,y=h.y-g.y,t=u*v-n*y,t*t>f.Config.epsilon&&(t=1/t,v=(y*l-v*m)*t,v>f.Config.epsilon&&v<1-f.Config.epsilon&&(l=(u*l-n*m)*t,l>f.Config.epsilon&&l<1-f.Config.epsilon)))){d=a=!1;break}g=
h;k=k.next}d&&(m=this.lverts.next,b!=g&&b!=m&&e!=g&&e!=m&&(k=d=0,d=b.x-g.x,k=b.y-g.y,l=h=0,h=e.x-b.x,l=e.y-b.y,n=e=0,e=m.x-g.x,n=m.y-g.y,g=l*e-h*n,g*g>f.Config.epsilon&&(g=1/g,e=(n*d-e*k)*g,e>f.Config.epsilon&&e<1-f.Config.epsilon&&(g*=l*d-h*k,g>f.Config.epsilon&&g<1-f.Config.epsilon&&(a=!1)))))}while(0)}a?(null==c.util.ZPP_Flags.ValidationResult_VALID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),a=this.validation=
c.util.ZPP_Flags.ValidationResult_VALID):(null==c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),a=this.validation=c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING);return a}return this.validation},validate_lverts:function(){this.zip_lverts&&(this.zip_lverts=!1,2<this.lverts.length&&(this.validate_area_inertia(),0>this.area&&(this.reverse_vertices(),this.area=
-this.area)))},cleanup_lvert:function(a){for(var b=null,d=null,k=this.lverts.next;null!=k&&k!=a;)b=null==b?this.gverts.next:b.next,d=null==d?this.edges.head:d.next,k=k.next;a=null==b?this.gverts.next:b.next;this.gverts.erase(b);null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=a;2==this.edgeCnt?(d=this.edges.pop_unsafe(),d.polygon=null,d.next=c.shape.ZPP_Edge.zpp_pool,c.shape.ZPP_Edge.zpp_pool=
d,d=this.edges.pop_unsafe(),d.polygon=null,d.next=c.shape.ZPP_Edge.zpp_pool,c.shape.ZPP_Edge.zpp_pool=d,this.edgeCnt=0):0!=this.edgeCnt&&(b=null==d?this.edges.head.elt:d.next.elt,this.edges.erase(d),b.polygon=null,b.next=c.shape.ZPP_Edge.zpp_pool,c.shape.ZPP_Edge.zpp_pool=b,this.edgeCnt--)},zip_sanitation:null,splice_collinear:function(){this.zip_sanitation&&(this.zip_sanitation=!1,this.splice_collinear_real())},splice_collinear_real:function(){if(null!=this.lverts.next&&null!=this.lverts.next.next&&
null!=this.lverts.next.next.next){for(var a=null,b=this.lverts.next;null!=b;){var d=b,k=null==b.next?this.lverts.next:b.next;c.geom.ZPP_VecMath.vec_dsq(d.x,d.y,k.x,k.y)<f.Config.epsilon*f.Config.epsilon?(this.cleanup_lvert(b),b=this.lverts.erase(a)):(a=b,b=b.next)}if(null!=this.lverts.next){do for(a=!1,b=this.lverts.next;null!=b;){var d=null==b.next?this.lverts.next:b.next,e=b,k=d,g=null==d.next?this.lverts.next:d.next,h=0,l=0,h=k.x-e.x,l=k.y-e.y,m=e=0,e=g.x-k.x,m=g.y-k.y,k=m*h-e*l;k*k>=f.Config.epsilon*
f.Config.epsilon||(this.cleanup_lvert(d),this.lverts.erase(null==b.next?null:b),a=!0);b=b.next}while(a)}}},reverse_vertices:function(){this.lverts.reverse();this.gverts.reverse();this.edges.reverse();var a=this.edges.iterator_at(this.edgeCnt-1),b=this.edges.pop_unsafe();this.edges.insert(a,b);this.reverse_flag=!this.reverse_flag;null!=this.wrap_lverts&&(this.wrap_lverts.zpp_inner.reverse_flag=this.reverse_flag);null!=this.wrap_gverts&&(this.wrap_gverts.zpp_inner.reverse_flag=this.reverse_flag);null!=
this.wrap_edges&&(this.wrap_edges.zpp_inner.reverse_flag=this.reverse_flag)},validate_laxi:function(){if(this.zip_laxi){this.zip_laxi=!1;this.validate_lverts();for(var a=this.edges.head,b=this.lverts.next,d=b,b=b.next;null!=b;){var c=b,e=a.elt,a=a.next;e.lp0=d;e.lp1=c;var g=0,f=0,g=d.x-c.x,f=d.y-c.y,h=Math.sqrt(g*g+f*f);e.length=h;h=1/h;g*=h;f*=h;h=g;g=-f;f=h;e.lprojection=g*d.x+f*d.y;e.lnormx=g;e.lnormy=f;null!=e.wrap_lnorm&&(e.wrap_lnorm.zpp_inner.x=g,e.wrap_lnorm.zpp_inner.y=f);d=c;b=b.next}e=
this.lverts.next;a=a.elt;a.lp0=d;a.lp1=e;c=b=0;b=d.x-e.x;c=d.y-e.y;e=Math.sqrt(b*b+c*c);a.length=e;e=1/e;g=b*e;b=-(c*e);c=g;a.lprojection=b*d.x+c*d.y;a.lnormx=b;a.lnormy=c;null!=a.wrap_lnorm&&(a.wrap_lnorm.zpp_inner.x=b,a.wrap_lnorm.zpp_inner.y=c)}},validate_gverts:function(){if(this.zip_gverts&&null!=this.body){this.zip_gverts=!1;this.validate_lverts();this.body.validate_axis();for(var a=this.lverts.next,b=this.gverts.next;null!=b;){var d=b,c=a,a=a.next;d.x=this.body.posx+(this.body.axisy*c.x-this.body.axisx*
c.y);d.y=this.body.posy+(c.x*this.body.axisx+c.y*this.body.axisy);b=b.next}}},validate_gaxi:function(){if(this.zip_gaxi&&null!=this.body){this.zip_gaxi=!1;this.validate_laxi();this.body.validate_axis();this.validate_gverts();for(var a=this.edges.head,b=this.gverts.next,d=b,b=b.next;null!=b;){var c=b,e=a.elt,a=a.next;e.gp0=d;e.gp1=c;e.gnormx=this.body.axisy*e.lnormx-this.body.axisx*e.lnormy;e.gnormy=e.lnormx*this.body.axisx+e.lnormy*this.body.axisy;e.gprojection=this.body.posx*e.gnormx+this.body.posy*
e.gnormy+e.lprojection;null!=e.wrap_gnorm&&(e.wrap_gnorm.zpp_inner.x=e.gnormx,e.wrap_gnorm.zpp_inner.y=e.gnormy);e.tp0=e.gp0.y*e.gnormx-e.gp0.x*e.gnormy;e.tp1=e.gp1.y*e.gnormx-e.gp1.x*e.gnormy;d=c;b=b.next}b=this.gverts.next;a=a.elt;a.gp0=d;a.gp1=b;a.gnormx=this.body.axisy*a.lnormx-this.body.axisx*a.lnormy;a.gnormy=a.lnormx*this.body.axisx+a.lnormy*this.body.axisy;a.gprojection=this.body.posx*a.gnormx+this.body.posy*a.gnormy+a.lprojection;null!=a.wrap_gnorm&&(a.wrap_gnorm.zpp_inner.x=a.gnormx,a.wrap_gnorm.zpp_inner.y=
a.gnormy);a.tp0=a.gp0.y*a.gnormx-a.gp0.x*a.gnormy;a.tp1=a.gp1.y*a.gnormx-a.gp1.x*a.gnormy}},__validate_aabb:function(){this.validate_gverts();if(null==this.lverts.next)throw"Error: An empty polygon has no meaningful bounds";var a=this.gverts.next;this.aabb.minx=a.x;this.aabb.miny=a.y;this.aabb.maxx=a.x;this.aabb.maxy=a.y;for(a=this.gverts.next.next;null!=a;){var b=a;b.x<this.aabb.minx&&(this.aabb.minx=b.x);b.x>this.aabb.maxx&&(this.aabb.maxx=b.x);b.y<this.aabb.miny&&(this.aabb.miny=b.y);b.y>this.aabb.maxy&&
(this.aabb.maxy=b.y);a=a.next}},_force_validate_aabb:function(){var a=this.lverts.next,b=this.gverts.next,d=a,a=a.next;b.x=this.body.posx+(this.body.axisy*d.x-this.body.axisx*d.y);b.y=this.body.posy+(d.x*this.body.axisx+d.y*this.body.axisy);this.aabb.minx=b.x;this.aabb.miny=b.y;this.aabb.maxx=b.x;this.aabb.maxy=b.y;for(b=this.gverts.next.next;null!=b;){var d=b,c=a,a=a.next;d.x=this.body.posx+(this.body.axisy*c.x-this.body.axisx*c.y);d.y=this.body.posy+(c.x*this.body.axisx+c.y*this.body.axisy);d.x<
this.aabb.minx&&(this.aabb.minx=d.x);d.x>this.aabb.maxx&&(this.aabb.maxx=d.x);d.y<this.aabb.miny&&(this.aabb.miny=d.y);d.y>this.aabb.maxy&&(this.aabb.maxy=d.y);b=b.next}},__validate_sweepRadius:function(){var a=0,b=0;this.validate_laxi();for(var d=this.lverts.next;null!=d;){var c=d,c=c.x*c.x+c.y*c.y;c>a&&(a=c);d=d.next}for(d=this.edges.head;null!=d;){c=d.elt;if(c.lprojection<b&&(b=c.lprojection,0>b))break;d=d.next}0>b&&(b=0);this.sweepRadius=Math.sqrt(a);this.sweepCoef=this.sweepRadius-b},__validate_area_inertia:function(){if(null==
this.lverts.next||null==this.lverts.next.next||null==this.lverts.next.next.next)this.inertia=this.area=0;else{for(var a=this.area=0,b=0,d=this.lverts.next,c=d,e=d=d.next,d=d.next;null!=d;){var g=d,f=e.y*c.x-e.x*c.y,a=a+f*(e.x*e.x+e.y*e.y+(e.x*c.x+e.y*c.y)+(c.x*c.x+c.y*c.y)),b=b+f;this.area+=e.x*(g.y-c.y);c=e;e=g;d=d.next}f=d=this.lverts.next;g=e.y*c.x-e.x*c.y;a+=g*(e.x*e.x+e.y*e.y+(e.x*c.x+e.y*c.y)+(c.x*c.x+c.y*c.y));this.area+=e.x*(f.y-c.y);c=e;e=f;d=d.next;f=e.y*c.x-e.x*c.y;a+=f*(e.x*e.x+e.y*e.y+
(e.x*c.x+e.y*c.y)+(c.x*c.x+c.y*c.y));b=b+g+f;this.area+=e.x*(d.y-c.y);this.inertia=a/(6*b);this.area*=.5;0>this.area&&(this.area=-this.area,this.reverse_vertices())}},__validate_angDrag:function(){if(3>this.lverts.length)throw"Error: Polygon's with less than 3 vertices have no meaningful angDrag";this.validate_area_inertia();this.validate_laxi();for(var a=0,b=this.edges.head,d=0,c=this.lverts.next,e=c,c=c.next;null!=c;){var g=c,h=b.elt,b=b.next,d=d+h.length,l=0,m=0,l=g.x-e.x,m=g.y-e.y,a=a+h.length*
f.Config.fluidAngularDragFriction*this.material.dynamicFriction*h.lprojection*h.lprojection,n=-(e.y*h.lnormx-e.x*h.lnormy)/(m*h.lnormx-l*h.lnormy);if(0<n){var u;u=1<n?1:n;var t=0,v=0,t=e.x,v=e.y,A=u,t=t+l*A,v=v+m*A,A=h.lnormy*e.x-h.lnormx*e.y,t=h.lnormy*t-h.lnormx*v,a=a+(t*t*t-A*A*A)/(3*(t-A))*u*h.length*f.Config.fluidAngularDrag}1>n&&(n=0>n?0:n,t=u=0,u=e.x,t=e.y,e=n,u+=l*e,t+=m*e,e=h.lnormy*u-h.lnormx*t,l=h.lnormy*g.x-h.lnormx*g.y,a+=(l*l*l-e*e*e)/(3*(l-e))*f.Config.fluidVacuumDrag*(1-n)*h.length*
f.Config.fluidAngularDrag);e=g;c=c.next}c=this.lverts.next;b=b.elt;d+=b.length;h=g=0;g=c.x-e.x;h=c.y-e.y;a+=b.length*f.Config.fluidAngularDragFriction*this.material.dynamicFriction*b.lprojection*b.lprojection;l=-(e.y*b.lnormx-e.x*b.lnormy)/(h*b.lnormx-g*b.lnormy);0<l&&(m=1<l?1:l,t=u=0,u=e.x,t=e.y,n=b.lnormy*e.x-b.lnormx*e.y,u=b.lnormy*(u+g*m)-b.lnormx*(t+h*m),a+=(u*u*u-n*n*n)/(3*(u-n))*m*b.length*f.Config.fluidAngularDrag);1>l&&(l=0>l?0:l,n=m=0,m=e.x,n=e.y,e=b.lnormy*(m+g*l)-b.lnormx*(n+h*l),c=b.lnormy*
c.x-b.lnormx*c.y,a+=(c*c*c-e*e*e)/(3*(c-e))*f.Config.fluidVacuumDrag*(1-l)*b.length*f.Config.fluidAngularDrag);this.angDrag=a/(this.inertia*d)},__validate_localCOM:function(){if(null==this.lverts.next)throw"Error: An empty polygon has no meaningful localCOM";if(null==this.lverts.next.next)this.localCOMx=this.lverts.next.x,this.localCOMy=this.lverts.next.y;else if(null==this.lverts.next.next.next)this.localCOMx=this.lverts.next.x,this.localCOMy=this.lverts.next.y,this.localCOMx+=1*this.lverts.next.next.x,
this.localCOMy+=1*this.lverts.next.next.y,this.localCOMx*=.5,this.localCOMy*=.5;else{for(var a=this.localCOMy=this.localCOMx=0,b=this.lverts.next,d=b,c=b=b.next,b=b.next;null!=b;){var e=b,a=a+c.x*(e.y-d.y),d=e.y*c.x-e.x*c.y;this.localCOMx+=(c.x+e.x)*d;this.localCOMy+=(c.y+e.y)*d;d=c;c=e;b=b.next}e=b=this.lverts.next;a+=c.x*(e.y-d.y);d=e.y*c.x-e.x*c.y;this.localCOMx+=(c.x+e.x)*d;this.localCOMy+=(c.y+e.y)*d;d=c;c=e;b=b.next;a+=c.x*(b.y-d.y);d=b.y*c.x-b.x*c.y;this.localCOMx+=(c.x+b.x)*d;this.localCOMy+=
(c.y+b.y)*d;a=1/(3*a);this.localCOMx*=a;this.localCOMy*=a}},localCOM_validate:function(){if(null==this.lverts.next)throw"Error: An empty polygon does not have any meaningful localCOM";this.zip_localCOM&&(this.zip_localCOM=!1,this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy))},localCOM_invalidate:function(a){this.zip_localCOM&&(this.zip_localCOM=
!1,this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy));var b=0,d=0,b=a.x-this.localCOMx,d=a.y-this.localCOMy;for(a=this.lverts.next;null!=a;){var k=a;k.x+=1*b;k.y+=1*d;a=a.next}this.invalidate_lverts()},setupLocalCOM:function(){this.wrap_localCOM=f.geom.Vec2.get(this.localCOMx,this.localCOMy,null);this.wrap_localCOM.zpp_inner._inuse=!0;this.wrap_localCOM.zpp_inner._validate=
u(this,this.localCOM_validate);this.wrap_localCOM.zpp_inner._invalidate=u(this,this.localCOM_invalidate)},__translate:function(a,b){for(var d=this.lverts.next;null!=d;){var c=d;c.x+=1*a;c.y+=1*b;d=d.next}this.invalidate_lverts()},__scale:function(a,b){for(var d=this.lverts.next;null!=d;){var c=d;c.x*=a;c.y*=b;d=d.next}this.invalidate_lverts()},__rotate:function(a,b){for(var d=this.lverts.next;null!=d;){var c=d,e=0,g=0,e=b*c.x-a*c.y,g=c.x*a+c.y*b;c.x=e;c.y=g;d=d.next}this.invalidate_lverts()},__transform:function(a){for(var b=
this.lverts.next;null!=b;){var d=b,c=a.zpp_inner.a*d.x+a.zpp_inner.b*d.y+a.zpp_inner.tx;d.y=a.zpp_inner.c*d.x+a.zpp_inner.d*d.y+a.zpp_inner.ty;d.x=c;b=b.next}this.invalidate_lverts()},__copy:function(){return(new f.shape.Polygon(this.outer_zn.get_localVerts())).zpp_inner_zn},__class__:c.shape.ZPP_Polygon});c.space={};c.space.ZPP_Broadphase=function(){this.sweep=this.dynab=this.aabbShape=this.matrix=this.circShape=null;this.is_sweep=!1;this.space=null};m["zpp_nape.space.ZPP_Broadphase"]=c.space.ZPP_Broadphase;
c.space.ZPP_Broadphase.__name__=["zpp_nape","space","ZPP_Broadphase"];c.space.ZPP_Broadphase.prototype={space:null,is_sweep:null,sweep:null,dynab:null,insert:function(a){this.is_sweep?this.sweep.__insert(a):this.dynab.__insert(a)},remove:function(a){this.is_sweep?this.sweep.__remove(a):this.dynab.__remove(a)},sync:function(a){this.is_sweep?!this.sweep.space.continuous&&a.zip_aabb&&null!=a.body&&(a.zip_aabb=!1,a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb()):
this.dynab.__sync(a)},broadphase:function(a,b){},clear:function(){},shapesUnderPoint:function(a,b,d,c){return null},bodiesUnderPoint:function(a,b,d,c){return null},aabbShape:null,matrix:null,updateAABBShape:function(a){if(null==this.aabbShape){var b=f.phys.Body;null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);(new b(c.util.ZPP_Flags.BodyType_STATIC)).zpp_inner.wrap_shapes.add(this.aabbShape=new f.shape.Polygon(f.shape.Polygon.rect(a.minx,
a.miny,a.maxx-a.minx,a.maxy-a.miny)))}else{var b=this.aabbShape.zpp_inner.aabb,d=(a.maxx-a.minx)/(b.maxx-b.minx),k=(a.maxy-a.miny)/(b.maxy-b.miny);null==this.matrix&&(this.matrix=new f.geom.Mat23);this.matrix.set_a(d);this.matrix.set_b(this.matrix.set_c(0));this.matrix.set_d(k);this.matrix.set_tx(a.minx-d*b.minx);this.matrix.set_ty(a.miny-k*b.miny);this.aabbShape.transform(this.matrix)}this.aabbShape.zpp_inner.validate_aabb();this.aabbShape.zpp_inner.polygon.validate_gaxi()},shapesInAABB:function(a,
b,d,c,e){return null},bodiesInAABB:function(a,b,d,c,e){return null},circShape:null,updateCircShape:function(a,b,d){if(null==this.circShape){var k=f.phys.Body;null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);(new k(c.util.ZPP_Flags.BodyType_STATIC)).zpp_inner.wrap_shapes.add(this.circShape=new f.shape.Circle(d,f.geom.Vec2.get(a,b,null)))}else k=this.circShape.zpp_inner.circle,d/=k.radius,null==this.matrix&&
(this.matrix=new f.geom.Mat23),this.matrix.set_a(this.matrix.set_d(d)),this.matrix.set_b(this.matrix.set_c(0)),this.matrix.set_tx(a-d*k.localCOMx),this.matrix.set_ty(b-d*k.localCOMy),this.circShape.transform(this.matrix);this.circShape.zpp_inner.validate_aabb()},shapesInCircle:function(a,b,d,c,e,g){return null},bodiesInCircle:function(a,b,d,c,e,g){return null},validateShape:function(a){a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.validate_gaxi();a.zip_aabb&&null!=a.body&&(a.zip_aabb=!1,
a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb());a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*a.localCOMx-a.body.axisx*a.localCOMy),a.worldCOMy=a.body.posy+(a.localCOMx*
a.body.axisx+a.localCOMy*a.body.axisy))},shapesInShape:function(a,b,d,c){return null},bodiesInShape:function(a,b,d,c){return null},rayCast:function(a,b,d){return null},rayMultiCast:function(a,b,d,c){return null},__class__:c.space.ZPP_Broadphase};c.space.ZPP_AABBNode=function(){this.synced=this.first_sync=!1;this.snext=null;this.moved=!1;this.next=this.mnext=null;this.height=this.rayt=0;this.parent=this.child1=this.child2=null;this.dyn=!1;this.aabb=this.shape=null;this.height=-1};m["zpp_nape.space.ZPP_AABBNode"]=
c.space.ZPP_AABBNode;c.space.ZPP_AABBNode.__name__=["zpp_nape","space","ZPP_AABBNode"];c.space.ZPP_AABBNode.prototype={aabb:null,shape:null,dyn:null,parent:null,child1:null,child2:null,height:null,rayt:null,next:null,alloc:function(){null==c.geom.ZPP_AABB.zpp_pool?this.aabb=new c.geom.ZPP_AABB:(this.aabb=c.geom.ZPP_AABB.zpp_pool,c.geom.ZPP_AABB.zpp_pool=this.aabb.next,this.aabb.next=null);null;this.first_sync=this.synced=this.moved=!1},free:function(){this.height=-1;var a=this.aabb;null!=a.outer&&
(a.outer.zpp_inner=null,a.outer=null);a.wrap_min=a.wrap_max=null;a._invalidate=null;a._validate=null;a.next=c.geom.ZPP_AABB.zpp_pool;c.geom.ZPP_AABB.zpp_pool=a;this.mnext=this.snext=this.next=this.child1=this.child2=this.parent=null},mnext:null,moved:null,snext:null,synced:null,first_sync:null,isLeaf:function(){return null==this.child1},__class__:c.space.ZPP_AABBNode};c.space.ZPP_AABBPair=function(){this.arb=this.next=null;this.id=this.di=0;this.first=this.sleeping=!1;this.n1=this.n2=null};m["zpp_nape.space.ZPP_AABBPair"]=
c.space.ZPP_AABBPair;c.space.ZPP_AABBPair.__name__=["zpp_nape","space","ZPP_AABBPair"];c.space.ZPP_AABBPair.prototype={n1:null,n2:null,first:null,sleeping:null,id:null,di:null,arb:null,next:null,alloc:function(){},free:function(){this.n1=this.n2=null;this.sleeping=!1},__class__:c.space.ZPP_AABBPair};c.space.ZPP_AABBTree=function(){this.root=null};m["zpp_nape.space.ZPP_AABBTree"]=c.space.ZPP_AABBTree;c.space.ZPP_AABBTree.__name__=["zpp_nape","space","ZPP_AABBTree"];c.space.ZPP_AABBTree.prototype={root:null,
clear:function(){if(null!=this.root){var a;this.root.next=null;for(a=this.root;null!=a;){var b;b=a;a=b.next;b.next=null;null==b.child1?(b.shape.node=null,b.shape.removedFromSpace(),b.shape=null):(null!=b.child1&&(b.child1.next=a,a=b.child1),null!=b.child2&&(b.child2.next=a,a=b.child2));b.free();b.next=c.space.ZPP_AABBNode.zpp_pool;c.space.ZPP_AABBNode.zpp_pool=b}this.root=null}},insertLeaf:function(a){this.inlined_insertLeaf(a)},inlined_insertLeaf:function(a){if(null==this.root)this.root=a,this.root.parent=
null;else{for(var b=a.aabb,d=this.root;null!=d.child1;){var k=d.child1,e=d.child2,g=d.aabb.perimeter();c.space.ZPP_AABBTree.tmpaabb.setCombine(d.aabb,b);var f=c.space.ZPP_AABBTree.tmpaabb.perimeter(),h=2*f,g=2*(f-g);c.space.ZPP_AABBTree.tmpaabb.setCombine(b,k.aabb);null==k.child1?f=c.space.ZPP_AABBTree.tmpaabb.perimeter()+g:(f=k.aabb.perimeter(),f=c.space.ZPP_AABBTree.tmpaabb.perimeter()-f+g);c.space.ZPP_AABBTree.tmpaabb.setCombine(b,e.aabb);if(null==e.child1)g=c.space.ZPP_AABBTree.tmpaabb.perimeter()+
g;else var l=e.aabb.perimeter(),g=c.space.ZPP_AABBTree.tmpaabb.perimeter()-l+g;if(h<f&&h<g)break;else d=f<g?k:e}k=d.parent;null==c.space.ZPP_AABBNode.zpp_pool?e=new c.space.ZPP_AABBNode:(e=c.space.ZPP_AABBNode.zpp_pool,c.space.ZPP_AABBNode.zpp_pool=e.next,e.next=null);null==c.geom.ZPP_AABB.zpp_pool?e.aabb=new c.geom.ZPP_AABB:(e.aabb=c.geom.ZPP_AABB.zpp_pool,c.geom.ZPP_AABB.zpp_pool=e.aabb.next,e.aabb.next=null);null;e.moved=!1;e.synced=!1;e.first_sync=!1;e.parent=k;e.aabb.setCombine(b,d.aabb);e.height=
d.height+1;null!=k?(k.child1==d?k.child1=e:k.child2=e,e.child1=d,e.child2=a,d.parent=e,a.parent=e):(e.child1=d,e.child2=a,d.parent=e,this.root=a.parent=e);for(d=a.parent;null!=d;)d=this.balance(d),a=d.child1,b=d.child2,k=d,e=void 0,e=a.height,h=b.height,e=e>h?e:h,k.height=1+e,d.aabb.setCombine(a.aabb,b.aabb),d=d.parent}},removeLeaf:function(a){this.inlined_removeLeaf(a)},inlined_removeLeaf:function(a){if(a==this.root)this.root=null;else{var b=a.parent,d=b.parent;a=b.child1==a?b.child2:b.child1;if(null!=
d)for(d.child1==b?d.child1=a:d.child2=a,a.parent=d,b.free(),b.next=c.space.ZPP_AABBNode.zpp_pool,c.space.ZPP_AABBNode.zpp_pool=b,b=d;null!=b;){var b=this.balance(b),k=b.child1;a=b.child2;b.aabb.setCombine(k.aabb,a.aabb);var d=b,e=void 0,k=k.height;a=a.height;e=k>a?k:a;d.height=1+e;b=b.parent}else this.root=a,a.parent=null,b.free(),b.next=c.space.ZPP_AABBNode.zpp_pool,c.space.ZPP_AABBNode.zpp_pool=b}},balance:function(a){if(null==a.child1||2>a.height)return a;var b=a.child1,d=a.child2,c=d.height-b.height;
if(1<c){var e=d.child1,g=d.child2;d.child1=a;d.parent=a.parent;a.parent=d;null!=d.parent?d.parent.child1==a?d.parent.child1=d:d.parent.child2=d:this.root=d;e.height>g.height?(d.child2=e,a.child2=g,g.parent=a,a.aabb.setCombine(b.aabb,g.aabb),d.aabb.setCombine(a.aabb,e.aabb),a.height=1+function(a){a=b.height;var d=g.height;return a>d?a:d}(this),d.height=1+function(b){b=a.height;var d=e.height;return b>d?b:d}(this)):(d.child2=g,a.child2=e,e.parent=a,a.aabb.setCombine(b.aabb,e.aabb),d.aabb.setCombine(a.aabb,
g.aabb),a.height=1+function(a){a=b.height;var d=e.height;return a>d?a:d}(this),d.height=1+function(b){b=a.height;var d=g.height;return b>d?b:d}(this));return d}if(-1>c){var f=b.child1,h=b.child2;b.child1=a;b.parent=a.parent;a.parent=b;null!=b.parent?b.parent.child1==a?b.parent.child1=b:b.parent.child2=b:this.root=b;f.height>h.height?(b.child2=f,a.child1=h,h.parent=a,a.aabb.setCombine(d.aabb,h.aabb),b.aabb.setCombine(a.aabb,f.aabb),a.height=1+function(a){a=d.height;var b=h.height;return a>b?a:b}(this),
b.height=1+function(b){b=a.height;var d=f.height;return b>d?b:d}(this)):(b.child2=h,a.child1=f,f.parent=a,a.aabb.setCombine(d.aabb,f.aabb),b.aabb.setCombine(a.aabb,h.aabb),a.height=1+function(a){a=d.height;var b=f.height;return a>b?a:b}(this),b.height=1+function(b){b=a.height;var d=h.height;return b>d?b:d}(this));return b}return a},__class__:c.space.ZPP_AABBTree};c.space.ZPP_DynAABBPhase=function(a){this.stree=this.dtree=this.pairs=this.syncs=this.moves=this.treeStack=this.treeStack2=this.failed=
this.openlist=null;c.space.ZPP_Broadphase.call(this);this.space=a;this.is_sweep=!1;this.dynab=this;this.stree=new c.space.ZPP_AABBTree;this.dtree=new c.space.ZPP_AABBTree};m["zpp_nape.space.ZPP_DynAABBPhase"]=c.space.ZPP_DynAABBPhase;c.space.ZPP_DynAABBPhase.__name__=["zpp_nape","space","ZPP_DynAABBPhase"];c.space.ZPP_DynAABBPhase.__super__=c.space.ZPP_Broadphase;c.space.ZPP_DynAABBPhase.prototype=F(c.space.ZPP_Broadphase.prototype,{stree:null,dtree:null,pairs:null,syncs:null,moves:null,dyn:function(a){return a.body.type==
c.util.ZPP_Flags.id_BodyType_STATIC?!1:!a.body.component.sleeping},__insert:function(a){var b;null==c.space.ZPP_AABBNode.zpp_pool?b=new c.space.ZPP_AABBNode:(b=c.space.ZPP_AABBNode.zpp_pool,c.space.ZPP_AABBNode.zpp_pool=b.next,b.next=null);null==c.geom.ZPP_AABB.zpp_pool?b.aabb=new c.geom.ZPP_AABB:(b.aabb=c.geom.ZPP_AABB.zpp_pool,c.geom.ZPP_AABB.zpp_pool=b.aabb.next,b.aabb.next=null);null;b.moved=!1;b.synced=!1;b.first_sync=!1;b.shape=a;a.node=b;b.synced=!0;b.first_sync=!0;b.snext=this.syncs;this.syncs=
b},__remove:function(a){var b=a.node;b.first_sync||(b.dyn?this.dtree.removeLeaf(b):this.stree.removeLeaf(b));a.node=null;if(b.synced){for(var d=null,k=this.syncs;null!=k&&k!=b;)d=k,k=k.snext;null==d?this.syncs=k.snext:d.snext=k.snext;k.snext=null;b.synced=!1}if(b.moved){d=null;for(k=this.moves;null!=k&&k!=b;)d=k,k=k.mnext;null==d?this.moves=k.mnext:d.mnext=k.mnext;k.mnext=null;b.moved=!1}for(var d=null,e=this.pairs;null!=e;)k=e.next,e.n1==b||e.n2==b?(null==d?this.pairs=k:d.next=k,null!=e.arb&&(e.arb.pair=
null),e.arb=null,e.n1.shape.pairs.remove(e),e.n2.shape.pairs.remove(e),e.n1=e.n2=null,e.sleeping=!1,e.next=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=e):d=e,e=k;for(;null!=a.pairs.head;)d=a.pairs.pop_unsafe(),d.n1==b?d.n2.shape.pairs.remove(d):d.n1.shape.pairs.remove(d),null!=d.arb&&(d.arb.pair=null),d.arb=null,d.n1=d.n2=null,d.sleeping=!1,d.next=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=d;b.free();b.next=c.space.ZPP_AABBNode.zpp_pool;c.space.ZPP_AABBNode.zpp_pool=
b},__sync:function(a){var b=a.node;b.synced||(!this.space.continuous&&a.zip_aabb&&null!=a.body&&(a.zip_aabb=!1,a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb()),b.dyn==(a.body.type==c.util.ZPP_Flags.id_BodyType_STATIC?!1:!a.body.component.sleeping)&&b.aabb.contains(a.aabb)||(b.synced=!0,b.snext=this.syncs,this.syncs=b))},sync_broadphase:function(){this.space.validation();if(null!=this.syncs)if(null==this.moves){for(var a=this.syncs;null!=a;){var b=
a.shape;a.first_sync?a.first_sync=!1:(a.dyn?this.dtree:this.stree).inlined_removeLeaf(a);var d=a.aabb;!this.space.continuous&&b.zip_aabb&&null!=b.body&&(b.zip_aabb=!1,b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?b.circle.__validate_aabb():b.polygon.__validate_aabb());d.setExpand(b.aabb,3);((b.body.type==c.util.ZPP_Flags.id_BodyType_STATIC?a.dyn=!1:a.dyn=!b.body.component.sleeping)?this.dtree:this.stree).inlined_insertLeaf(a);a.synced=!1;a.moved=!0;a.mnext=a.snext;a.snext=null;a=a.mnext}a=this.syncs;
this.syncs=this.moves;this.moves=a}else for(;null!=this.syncs;)a=this.syncs,this.syncs=a.snext,a.snext=null,b=a.shape,a.first_sync?a.first_sync=!1:(a.dyn?this.dtree:this.stree).inlined_removeLeaf(a),d=a.aabb,!this.space.continuous&&b.zip_aabb&&null!=b.body&&(b.zip_aabb=!1,b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?b.circle.__validate_aabb():b.polygon.__validate_aabb()),d.setExpand(b.aabb,3),((b.body.type==c.util.ZPP_Flags.id_BodyType_STATIC?a.dyn=!1:a.dyn=!b.body.component.sleeping)?this.dtree:
this.stree).inlined_insertLeaf(a),a.synced=!1,a.moved||(a.moved=!0,a.mnext=this.moves,this.moves=a)},broadphase:function(a,b){for(var d=this.syncs;null!=d;){var k=d.shape;d.first_sync?d.first_sync=!1:(d.dyn?this.dtree:this.stree).inlined_removeLeaf(d);var e=d.aabb;!a.continuous&&k.zip_aabb&&null!=k.body&&(k.zip_aabb=!1,k.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?k.circle.__validate_aabb():k.polygon.__validate_aabb());e.setExpand(k.aabb,3);((k.body.type==c.util.ZPP_Flags.id_BodyType_STATIC?d.dyn=
!1:d.dyn=!k.body.component.sleeping)?this.dtree:this.stree).inlined_insertLeaf(d);d.synced=!1;d=d.snext}for(;null!=this.syncs;)if(d=this.syncs,this.syncs=d.snext,d.snext=null,!d.moved&&(d.moved=!1,k=d.shape,!k.body.component.sleeping)){var e=d.aabb,g=null;null!=this.dtree.root&&(this.dtree.root.next=g,g=this.dtree.root);for(;null!=g;){var f;f=g;g=f.next;f.next=null;if(f!=d)if(null==f.child1){var h=f.shape;if(h.body!=k.body&&(h.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC||k.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC)&&
e.intersect(f.aabb)){var l,m;k.id<h.id?(l=k.id,m=h.id):(l=h.id,m=k.id);for(var n=null,t=(k.pairs.length<h.pairs.length?k:h).pairs.head;null!=t;){var u=t.elt;if(u.id==l&&u.di==m){n=u;break}t=t.next}null!=n?n.sleeping&&(n.sleeping=!1,n.next=this.pairs,this.pairs=n,n.first=!0):(null==c.space.ZPP_AABBPair.zpp_pool?n=new c.space.ZPP_AABBPair:(n=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=n.next,n.next=null),null,n.n1=d,n.n2=f,n.id=l,n.di=m,n.next=this.pairs,this.pairs=n,n.first=!0,k.pairs.inlined_add(n),
h.pairs.inlined_add(n))}}else e.intersect(f.aabb)&&(null!=f.child1&&(f.child1.next=g,g=f.child1),null!=f.child2&&(f.child2.next=g,g=f.child2))}null!=this.stree.root&&(this.stree.root.next=g,g=this.stree.root);for(;null!=g;)if(f=g,g=f.next,f.next=null,f!=d)if(null==f.child1){if(h=f.shape,h.body!=k.body&&(h.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC||k.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC)&&e.intersect(f.aabb)){k.id<h.id?(l=k.id,m=h.id):(l=h.id,m=k.id);n=null;for(t=(k.pairs.length<h.pairs.length?
k:h).pairs.head;null!=t;){u=t.elt;if(u.id==l&&u.di==m){n=u;break}t=t.next}null!=n?n.sleeping&&(n.sleeping=!1,n.next=this.pairs,this.pairs=n,n.first=!0):(null==c.space.ZPP_AABBPair.zpp_pool?n=new c.space.ZPP_AABBPair:(n=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=n.next,n.next=null),null,n.n1=d,n.n2=f,n.id=l,n.di=m,n.next=this.pairs,this.pairs=n,n.first=!0,k.pairs.inlined_add(n),h.pairs.inlined_add(n))}}else e.intersect(f.aabb)&&(null!=f.child1&&(f.child1.next=g,g=f.child1),null!=f.child2&&
(f.child2.next=g,g=f.child2))}for(;null!=this.moves;)if(d=this.moves,this.moves=d.mnext,d.mnext=null,d.moved=!1,k=d.shape,!k.body.component.sleeping){e=d.aabb;g=null;null!=this.dtree.root&&(this.dtree.root.next=g,g=this.dtree.root);for(;null!=g;)if(f=g,g=f.next,f.next=null,f!=d)if(null==f.child1){if(h=f.shape,h.body!=k.body&&(h.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC||k.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC)&&e.intersect(f.aabb)){k.id<h.id?(l=k.id,m=h.id):(l=h.id,m=k.id);n=null;for(t=
(k.pairs.length<h.pairs.length?k:h).pairs.head;null!=t;){u=t.elt;if(u.id==l&&u.di==m){n=u;break}t=t.next}null!=n?n.sleeping&&(n.sleeping=!1,n.next=this.pairs,this.pairs=n,n.first=!0):(null==c.space.ZPP_AABBPair.zpp_pool?n=new c.space.ZPP_AABBPair:(n=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=n.next,n.next=null),null,n.n1=d,n.n2=f,n.id=l,n.di=m,n.next=this.pairs,this.pairs=n,n.first=!0,k.pairs.inlined_add(n),h.pairs.inlined_add(n))}}else e.intersect(f.aabb)&&(null!=f.child1&&(f.child1.next=
g,g=f.child1),null!=f.child2&&(f.child2.next=g,g=f.child2));null!=this.stree.root&&(this.stree.root.next=g,g=this.stree.root);for(;null!=g;)if(f=g,g=f.next,f.next=null,f!=d)if(null==f.child1){if(h=f.shape,h.body!=k.body&&(h.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC||k.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC)&&e.intersect(f.aabb)){k.id<h.id?(l=k.id,m=h.id):(l=h.id,m=k.id);n=null;for(t=(k.pairs.length<h.pairs.length?k:h).pairs.head;null!=t;){u=t.elt;if(u.id==l&&u.di==m){n=u;break}t=t.next}null!=
n?n.sleeping&&(n.sleeping=!1,n.next=this.pairs,this.pairs=n,n.first=!0):(null==c.space.ZPP_AABBPair.zpp_pool?n=new c.space.ZPP_AABBPair:(n=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=n.next,n.next=null),null,n.n1=d,n.n2=f,n.id=l,n.di=m,n.next=this.pairs,this.pairs=n,n.first=!0,k.pairs.inlined_add(n),h.pairs.inlined_add(n))}}else e.intersect(f.aabb)&&(null!=f.child1&&(f.child1.next=g,g=f.child1),null!=f.child2&&(f.child2.next=g,g=f.child2))}d=null;for(k=this.pairs;null!=k;)k.first||
k.n1.aabb.intersect(k.n2.aabb)?(e=k.n1.shape,g=e.body,f=k.n2.shape,h=f.body,k.first||!g.component.sleeping&&g.type!=c.util.ZPP_Flags.id_BodyType_STATIC||!h.component.sleeping&&h.type!=c.util.ZPP_Flags.id_BodyType_STATIC?(k.first=!1,e.aabb.intersect(f.aabb)&&(d=k.arb,k.arb=b?a.narrowPhase(e,f,g.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||h.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC,k.arb,!1):a.continuousEvent(e,f,g.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||h.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC,
k.arb,!1),null==k.arb?null!=d&&(d.pair=null):k.arb.pair=k),d=k):(k.sleeping=!0,null==d?this.pairs=k.next:d.next=k.next),k=k.next):(null==d?this.pairs=k.next:d.next=k.next,k.n1.shape.pairs.inlined_try_remove(k),k.n2.shape.pairs.inlined_try_remove(k),e=k.next,null!=k.arb&&(k.arb.pair=null),k.arb=null,k.n1=k.n2=null,k.sleeping=!1,k.next=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=k,k=e)},clear:function(){for(;null!=this.syncs;){var a=this.syncs.snext;this.syncs.snext=null;this.syncs.first_sync&&
(this.syncs.shape.node=null,this.syncs.shape.removedFromSpace(),this.syncs.shape=null);this.syncs=a}for(;null!=this.moves;)a=this.moves.mnext,this.moves.mnext=null,this.moves.first_sync&&(this.moves.shape.node=null,this.moves.shape.removedFromSpace(),this.moves.shape=null),this.moves=a;for(;null!=this.pairs;){a=this.pairs.next;null!=this.pairs.arb&&(this.pairs.arb.pair=null);this.pairs.arb=null;this.pairs.n1.shape.pairs.inlined_try_remove(this.pairs);this.pairs.n2.shape.pairs.inlined_try_remove(this.pairs);
var b=this.pairs;b.n1=b.n2=null;b.sleeping=!1;b.next=c.space.ZPP_AABBPair.zpp_pool;c.space.ZPP_AABBPair.zpp_pool=b;this.pairs=a}this.dtree.clear();this.stree.clear()},treeStack:null,shapesUnderPoint:function(a,b,d,k){this.sync_broadphase();a=c.geom.ZPP_Vec2.get(a,b,null);k=null==k?new f.shape.ShapeList:k;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),
b.aabb.containsPoint(a))if(null==b.child1){if(null==d||b.shape.filter.shouldCollide(d))b.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(b.shape.circle,a)&&k.push(b.shape.outer):c.geom.ZPP_Collide.polyContains(b.shape.polygon,a)&&k.push(b.shape.outer)}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2);if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=
this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.containsPoint(a))if(null==b.child1){if(null==d||b.shape.filter.shouldCollide(d))b.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(b.shape.circle,a)&&k.push(b.shape.outer):c.geom.ZPP_Collide.polyContains(b.shape.polygon,a)&&k.push(b.shape.outer)}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2);null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=
null;a._validate=null;a._invalidate=null;a.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=a;return k},bodiesUnderPoint:function(a,b,d,k){this.sync_broadphase();a=c.geom.ZPP_Vec2.get(a,b,null);k=null==k?new f.phys.BodyList:k;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.containsPoint(a))if(null==b.child1){var e=b.shape.body.outer;k.has(e)||
null!=d&&!b.shape.filter.shouldCollide(d)||(b.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(b.shape.circle,a)&&k.push(e):c.geom.ZPP_Collide.polyContains(b.shape.polygon,a)&&k.push(e))}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2);if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)b=this.treeStack.pop_unsafe(),
b.aabb.containsPoint(a)&&(null==b.child1?(e=b.shape.body.outer,k.has(e)||null!=d&&!b.shape.filter.shouldCollide(d)||(b.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(b.shape.circle,a)&&k.push(e):c.geom.ZPP_Collide.polyContains(b.shape.polygon,a)&&k.push(e))):(null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2)));null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=
c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=a;return k},treeStack2:null,shapesInAABB:function(a,b,d,k,e){this.sync_broadphase();this.updateAABBShape(a);a=this.aabbShape.zpp_inner.aabb;e=null==e?new f.shape.ShapeList:e;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var g=this.treeStack.pop_unsafe();if(a.contains(g.aabb))if(null==g.child1)(null==k||g.shape.filter.shouldCollide(k))&&
e.push(g.shape.outer);else for(null==this.treeStack2&&(this.treeStack2=new c.util.ZNPList_ZPP_AABBNode),this.treeStack2.add(g);null!=this.treeStack2.head;)g=this.treeStack2.pop_unsafe(),null==g.child1?(null==k||g.shape.filter.shouldCollide(k))&&e.push(g.shape.outer):(null!=g.child1&&this.treeStack2.add(g.child1),null!=g.child2&&this.treeStack2.add(g.child2));else if(g.aabb.intersect(a))if(null==g.child1){if(null==k||g.shape.filter.shouldCollide(k))b?d?c.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,
g.shape)&&e.push(g.shape.outer):a.contains(g.shape.aabb)?e.push(g.shape.outer):c.geom.ZPP_Collide.testCollide_safe(g.shape,this.aabbShape.zpp_inner)&&e.push(g.shape.outer):d&&!a.contains(g.shape.aabb)||e.push(g.shape.outer)}else null!=g.child1&&this.treeStack.add(g.child1),null!=g.child2&&this.treeStack.add(g.child2)}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(g=this.treeStack.pop_unsafe(),
a.contains(g.aabb))if(null==g.child1)(null==k||g.shape.filter.shouldCollide(k))&&e.push(g.shape.outer);else for(null==this.treeStack2&&(this.treeStack2=new c.util.ZNPList_ZPP_AABBNode),this.treeStack2.add(g);null!=this.treeStack2.head;)g=this.treeStack2.pop_unsafe(),null==g.child1?(null==k||g.shape.filter.shouldCollide(k))&&e.push(g.shape.outer):(null!=g.child1&&this.treeStack2.add(g.child1),null!=g.child2&&this.treeStack2.add(g.child2));else if(g.aabb.intersect(a))if(null==g.child1){if(null==k||
g.shape.filter.shouldCollide(k))b?d?c.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,g.shape)&&e.push(g.shape.outer):a.contains(g.shape.aabb)?e.push(g.shape.outer):c.geom.ZPP_Collide.testCollide_safe(g.shape,this.aabbShape.zpp_inner)&&e.push(g.shape.outer):d&&!a.contains(g.shape.aabb)||e.push(g.shape.outer)}else null!=g.child1&&this.treeStack.add(g.child1),null!=g.child2&&this.treeStack.add(g.child2);return e},failed:null,bodiesInAABB:function(a,b,d,k,e){this.sync_broadphase();this.updateAABBShape(a);
a=this.aabbShape.zpp_inner.aabb;e=null==e?new f.phys.BodyList:e;null==this.failed&&(this.failed=new f.phys.BodyList);if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var g=this.treeStack.pop_unsafe();if(a.contains(g.aabb))if(null==g.child1){if(null==k||g.shape.filter.shouldCollide(k)){var h=g.shape.body.outer;e.has(h)||e.push(h)}}else for(null==this.treeStack2&&(this.treeStack2=new c.util.ZNPList_ZPP_AABBNode),
this.treeStack2.add(g);null!=this.treeStack2.head;)if(h=this.treeStack2.pop_unsafe(),null==h.child1){if(null==k||h.shape.filter.shouldCollide(k))h=h.shape.body.outer,e.has(h)||e.push(h)}else null!=h.child1&&this.treeStack2.add(h.child1),null!=h.child2&&this.treeStack2.add(h.child2);else if(g.aabb.intersect(a))if(null==g.child1){if(h=g.shape.body.outer,null==k||g.shape.filter.shouldCollide(k))b?d?this.failed.has(h)||(g=c.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,g.shape),!e.has(h)&&g?e.push(h):
g||(e.remove(h),this.failed.push(h))):!e.has(h)&&c.geom.ZPP_Collide.testCollide_safe(g.shape,this.aabbShape.zpp_inner)&&e.push(h):d?this.failed.has(h)||(g=a.contains(g.shape.aabb),!e.has(h)&&g?e.push(h):g||(e.remove(h),this.failed.push(h))):!e.has(h)&&a.contains(g.shape.aabb)&&e.push(h)}else null!=g.child1&&this.treeStack.add(g.child1),null!=g.child2&&this.treeStack.add(g.child2)}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=
this.treeStack.head;)if(g=this.treeStack.pop_unsafe(),a.contains(g.aabb))if(null==g.child1){if(null==k||g.shape.filter.shouldCollide(k))h=g.shape.body.outer,e.has(h)||e.push(h)}else for(null==this.treeStack2&&(this.treeStack2=new c.util.ZNPList_ZPP_AABBNode),this.treeStack2.add(g);null!=this.treeStack2.head;)if(h=this.treeStack2.pop_unsafe(),null==h.child1){if(null==k||h.shape.filter.shouldCollide(k))h=h.shape.body.outer,e.has(h)||e.push(h)}else null!=h.child1&&this.treeStack2.add(h.child1),null!=
h.child2&&this.treeStack2.add(h.child2);else if(g.aabb.intersect(a))if(null==g.child1){if(h=g.shape.body.outer,null==k||g.shape.filter.shouldCollide(k))b?d?this.failed.has(h)||(g=c.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,g.shape),!e.has(h)&&g?e.push(h):g||(e.remove(h),this.failed.push(h))):!e.has(h)&&c.geom.ZPP_Collide.testCollide_safe(g.shape,this.aabbShape.zpp_inner)&&e.push(h):d?this.failed.has(h)||(g=a.contains(g.shape.aabb),!e.has(h)&&g?e.push(h):g||(e.remove(h),this.failed.push(h))):
!e.has(h)&&a.contains(g.shape.aabb)&&e.push(h)}else null!=g.child1&&this.treeStack.add(g.child1),null!=g.child2&&this.treeStack.add(g.child2);this.failed.clear();return e},shapesInCircle:function(a,b,d,k,e,g){this.sync_broadphase();this.updateCircShape(a,b,d);a=this.circShape.zpp_inner.aabb;g=null==g?new f.shape.ShapeList:g;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),
b.aabb.intersect(a))if(null==b.child1){if(null==e||b.shape.filter.shouldCollide(e))k?c.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,b.shape)&&g.push(b.shape.outer):c.geom.ZPP_Collide.testCollide_safe(b.shape,this.circShape.zpp_inner)&&g.push(b.shape.outer)}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2);if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=
this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.intersect(a))if(null==b.child1){if(null==e||b.shape.filter.shouldCollide(e))k?c.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,b.shape)&&g.push(b.shape.outer):c.geom.ZPP_Collide.testCollide_safe(b.shape,this.circShape.zpp_inner)&&g.push(b.shape.outer)}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2);return g},bodiesInCircle:function(a,b,d,k,e,g){this.sync_broadphase();this.updateCircShape(a,
b,d);a=this.circShape.zpp_inner.aabb;g=null==g?new f.phys.BodyList:g;null==this.failed&&(this.failed=new f.phys.BodyList);if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;)if(d=this.treeStack.pop_unsafe(),d.aabb.intersect(a))if(null==d.child1){if(b=d.shape.body.outer,null==e||d.shape.filter.shouldCollide(e))k?this.failed.has(b)||(d=c.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,
d.shape),!g.has(b)&&d?g.push(b):d||(g.remove(b),this.failed.push(b))):!g.has(b)&&c.geom.ZPP_Collide.testCollide_safe(d.shape,this.circShape.zpp_inner)&&g.push(b)}else null!=d.child1&&this.treeStack.add(d.child1),null!=d.child2&&this.treeStack.add(d.child2);if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(d=this.treeStack.pop_unsafe(),d.aabb.intersect(a))if(null==d.child1){if(b=d.shape.body.outer,
null==e||d.shape.filter.shouldCollide(e))k?this.failed.has(b)||(d=c.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,d.shape),!g.has(b)&&d?g.push(b):d||(g.remove(b),this.failed.push(b))):!g.has(b)&&c.geom.ZPP_Collide.testCollide_safe(d.shape,this.circShape.zpp_inner)&&g.push(b)}else null!=d.child1&&this.treeStack.add(d.child1),null!=d.child2&&this.treeStack.add(d.child2);this.failed.clear();return g},shapesInShape:function(a,b,d,k){this.sync_broadphase();this.validateShape(a);var e=a.aabb;k=
null==k?new f.shape.ShapeList:k;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var g=this.treeStack.pop_unsafe();if(g.aabb.intersect(e))if(null==g.child1){if(null==d||g.shape.filter.shouldCollide(d))b?c.geom.ZPP_Collide.containTest(a,g.shape)&&k.push(g.shape.outer):c.geom.ZPP_Collide.testCollide_safe(g.shape,a)&&k.push(g.shape.outer)}else null!=g.child1&&this.treeStack.add(g.child1),
null!=g.child2&&this.treeStack.add(g.child2)}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(g=this.treeStack.pop_unsafe(),g.aabb.intersect(e))if(null==g.child1){if(null==d||g.shape.filter.shouldCollide(d))b?c.geom.ZPP_Collide.containTest(a,g.shape)&&k.push(g.shape.outer):c.geom.ZPP_Collide.testCollide_safe(g.shape,a)&&k.push(g.shape.outer)}else null!=g.child1&&this.treeStack.add(g.child1),
null!=g.child2&&this.treeStack.add(g.child2);return k},bodiesInShape:function(a,b,d,k){this.sync_broadphase();this.validateShape(a);var e=a.aabb;k=null==k?new f.phys.BodyList:k;null==this.failed&&(this.failed=new f.phys.BodyList);if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var g=this.treeStack.pop_unsafe();if(g.aabb.intersect(e))if(null==g.child1){var h=g.shape.body.outer;if(null==
d||g.shape.filter.shouldCollide(d))b?this.failed.has(h)||(g=c.geom.ZPP_Collide.containTest(a,g.shape),!k.has(h)&&g?k.push(h):g||(k.remove(h),this.failed.push(h))):!k.has(h)&&c.geom.ZPP_Collide.testCollide_safe(g.shape,a)&&k.push(h)}else null!=g.child1&&this.treeStack.add(g.child1),null!=g.child2&&this.treeStack.add(g.child2)}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(g=this.treeStack.pop_unsafe(),
g.aabb.intersect(e))if(null==g.child1){if(h=g.shape.body.outer,null==d||g.shape.filter.shouldCollide(d))b?this.failed.has(h)||(g=c.geom.ZPP_Collide.containTest(a,g.shape),!k.has(h)&&g?k.push(h):g||(k.remove(h),this.failed.push(h))):!k.has(h)&&c.geom.ZPP_Collide.testCollide_safe(g.shape,a)&&k.push(h)}else null!=g.child1&&this.treeStack.add(g.child1),null!=g.child2&&this.treeStack.add(g.child2);this.failed.clear();return k},openlist:null,rayCast:function(a,b,d){null==this.openlist&&(this.openlist=new c.util.ZNPList_ZPP_AABBNode);
this.sync_broadphase();a.validate_dir();var k=a.maxdist;if(null!=this.dtree.root&&a.aabbtest(this.dtree.root.aabb)){var e=a.aabbsect(this.dtree.root.aabb);if(0<=e&&e<k){this.dtree.root.rayt=e;for(var e=null,g=this.openlist.head;null!=g&&!(this.dtree.root.rayt<g.elt.rayt);)e=g,g=g.next;this.openlist.inlined_insert(e,this.dtree.root)}}if(null!=this.stree.root&&a.aabbtest(this.stree.root.aabb)&&(e=a.aabbsect(this.stree.root.aabb),0<=e&&e<k)){this.stree.root.rayt=e;e=null;for(g=this.openlist.head;null!=
g&&!(this.stree.root.rayt<g.elt.rayt);)e=g,g=g.next;this.openlist.inlined_insert(e,this.stree.root)}for(e=null;null!=this.openlist.head;){g=this.openlist.pop_unsafe();if(g.rayt>=k)break;if(null==g.child1){if(g=g.shape,null==d||g.filter.shouldCollide(d))if(g=g.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect(g.circle,b,k):a.aabbtest(g.aabb)?a.polysect(g.polygon,b,k):null,null!=g){if(null!=g.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";k=g.zpp_inner.toiDistance;
if(null!=e){if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";e.zpp_inner.free()}e=g}}else{if(null!=g.child1&&a.aabbtest(g.child1.aabb)){var f=a.aabbsect(g.child1.aabb);if(0<=f&&f<k){g.child1.rayt=f;for(var f=null,h=this.openlist.head;null!=h&&!(g.child1.rayt<h.elt.rayt);)f=h,h=h.next;this.openlist.inlined_insert(f,g.child1)}}if(null!=g.child2&&a.aabbtest(g.child2.aabb)&&(f=a.aabbsect(g.child2.aabb),0<=f&&f<k)){g.child2.rayt=f;f=null;for(h=this.openlist.head;null!=
h&&!(g.child2.rayt<h.elt.rayt);)f=h,h=h.next;this.openlist.inlined_insert(f,g.child2)}}}this.openlist.clear();return e},rayMultiCast:function(a,b,d,k){null==this.openlist&&(this.openlist=new c.util.ZNPList_ZPP_AABBNode);this.sync_broadphase();a.validate_dir();var e=a.maxdist>=Math.POSITIVE_INFINITY;k=null==k?new f.geom.RayResultList:k;if(null!=this.dtree.root&&a.aabbtest(this.dtree.root.aabb))if(e)this.openlist.add(this.dtree.root);else{var g=a.aabbsect(this.dtree.root.aabb);0<=g&&g<a.maxdist&&this.openlist.add(this.dtree.root)}null!=
this.stree.root&&a.aabbtest(this.stree.root.aabb)&&(e?this.openlist.add(this.stree.root):(g=a.aabbsect(this.stree.root.aabb),0<=g&&g<a.maxdist&&this.openlist.add(this.stree.root)));for(;null!=this.openlist.head;)if(g=this.openlist.pop_unsafe(),null==g.child1){if(g=g.shape,null==d||g.filter.shouldCollide(d))g.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect2(g.circle,b,k):a.aabbtest(g.aabb)&&a.polysect2(g.polygon,b,k)}else{if(null!=g.child1&&a.aabbtest(g.child1.aabb))if(e)this.openlist.add(g.child1);
else{var h=a.aabbsect(g.child1.aabb);0<=h&&h<a.maxdist&&this.openlist.add(g.child1)}null!=g.child2&&a.aabbtest(g.child2.aabb)&&(e?this.openlist.add(g.child2):(h=a.aabbsect(g.child2.aabb),0<=h&&h<a.maxdist&&this.openlist.add(g.child2)))}this.openlist.clear();return k},__class__:c.space.ZPP_DynAABBPhase});c.space.ZPP_Island=function(){this.waket=0;this.sleep=!1;this.comps=null;this.length=0;this._inuse=this.modified=this.pushmod=!1;this.next=null;this.comps=new c.util.ZNPList_ZPP_Component};m["zpp_nape.space.ZPP_Island"]=
c.space.ZPP_Island;c.space.ZPP_Island.__name__=["zpp_nape","space","ZPP_Island"];c.space.ZPP_Island.prototype={next:null,elem:function(){return this},begin:function(){return this.next},_inuse:null,modified:null,pushmod:null,length:null,setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),
a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();
return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.next,this.next=d=b.next,null==this.next&&
(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var d=a.next;a.next=b;b=this.next=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.next;null!=d;){if(d==a){b=!0;break}d=d.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},comps:null,sleep:null,waket:null,free:function(){},alloc:function(){this.waket=0},__class__:c.space.ZPP_Island};c.space.ZPP_Component=function(){this.woken=
!1;this.waket=0;this.sleeping=!1;this.body=this.constraint=this.island=null;this.isBody=!1;this.rank=0;this.next=this.parent=null;this.sleeping=!1;this.island=null;this.parent=this;this.rank=0;this.woken=!1};m["zpp_nape.space.ZPP_Component"]=c.space.ZPP_Component;c.space.ZPP_Component.__name__=["zpp_nape","space","ZPP_Component"];c.space.ZPP_Component.prototype={next:null,parent:null,rank:null,isBody:null,body:null,constraint:null,island:null,sleeping:null,waket:null,woken:null,free:function(){this.constraint=
this.body=null},alloc:function(){},reset:function(){this.sleeping=!1;this.island=null;this.parent=this;this.rank=0},__class__:c.space.ZPP_Component};c.space.ZPP_CallbackSet=function(){this.freed=this.lazydel=!1;this.length=0;this._inuse=this.modified=this.pushmod=!1;this.int1=this.int2=this.next=null;this.id=this.di=0;this.arbiters=new c.util.ZNPList_ZPP_Arbiter};m["zpp_nape.space.ZPP_CallbackSet"]=c.space.ZPP_CallbackSet;c.space.ZPP_CallbackSet.__name__=["zpp_nape","space","ZPP_CallbackSet"];c.space.ZPP_CallbackSet.get=
function(a,b){var d;null==c.space.ZPP_CallbackSet.zpp_pool?d=new c.space.ZPP_CallbackSet:(d=c.space.ZPP_CallbackSet.zpp_pool,c.space.ZPP_CallbackSet.zpp_pool=d.next,d.next=null);d.freed=!1;d.lazydel=!1;d.COLLISIONstate=c.util.ZPP_Flags.id_PreFlag_ACCEPT;d.COLLISIONstamp=0;d.SENSORstate=c.util.ZPP_Flags.id_PreFlag_ACCEPT;d.SENSORstamp=0;d.FLUIDstate=c.util.ZPP_Flags.id_PreFlag_ACCEPT;d.FLUIDstamp=0;a.id<b.id?(d.int1=a,d.int2=b):(d.int1=b,d.int2=a);d.id=d.int1.id;d.di=d.int2.id;return d};c.space.ZPP_CallbackSet.prototype=
{id:null,di:null,int1:null,int2:null,arbiters:null,COLLISIONstate:null,COLLISIONstamp:null,SENSORstate:null,SENSORstamp:null,FLUIDstate:null,FLUIDstamp:null,next:null,elem:function(){return this},begin:function(){return this.next},_inuse:null,modified:null,pushmod:null,length:null,setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=
a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.next,this.next=
d=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var d=a.next;a.next=b;b=this.next=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.next;null!=d;){if(d==a){b=!0;break}d=d.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},freed:null,lazydel:null,free:function(){this.int1=this.int2=null;this.id=this.di=-1;this.freed=!0},alloc:function(){this.lazydel=this.freed=!1;this.COLLISIONstate=
c.util.ZPP_Flags.id_PreFlag_ACCEPT;this.COLLISIONstamp=0;this.SENSORstate=c.util.ZPP_Flags.id_PreFlag_ACCEPT;this.SENSORstamp=0;this.FLUIDstate=c.util.ZPP_Flags.id_PreFlag_ACCEPT;this.FLUIDstamp=0},add_arb:function(a){if(this.arbiters.inlined_has(a))return!1;this.arbiters.inlined_add(a);return!0},try_remove_arb:function(a){return this.arbiters.inlined_try_remove(a)},remove_arb:function(a){this.arbiters.inlined_try_remove(a)},empty_arb:function(a){var b;b=!0;for(var d=this.arbiters.head;null!=d;)if(0==
(d.elt.type&a))d=d.next;else{b=!1;break}return b},really_empty:function(){return null==this.arbiters.head},sleeping:function(){var a;a=!0;for(var b=this.arbiters.head;null!=b;)if(b.elt.sleeping)b=b.next;else{a=!1;break}return a},__class__:c.space.ZPP_CallbackSet};c.space.ZPP_CbSetManager=function(a){this.cbsets=this.space=null;null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?this.cbsets=new c.util.ZPP_Set_ZPP_CbSet:(this.cbsets=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=this.cbsets.next,
this.cbsets.next=null);null;this.cbsets.lt=c.callbacks.ZPP_CbSet.setlt;this.space=a};m["zpp_nape.space.ZPP_CbSetManager"]=c.space.ZPP_CbSetManager;c.space.ZPP_CbSetManager.__name__=["zpp_nape","space","ZPP_CbSetManager"];c.space.ZPP_CbSetManager.prototype={cbsets:null,space:null,get:function(a){if(null==a.head)return null;var b;null==c.callbacks.ZPP_CbSet.zpp_pool?b=new c.callbacks.ZPP_CbSet:(b=c.callbacks.ZPP_CbSet.zpp_pool,c.callbacks.ZPP_CbSet.zpp_pool=b.next,b.next=null);null;var d=b.cbTypes;
b.cbTypes=a;var k=this.cbsets.find_weak(b);null!=k?a=k.data:(a=c.callbacks.ZPP_CbSet.get(a),this.cbsets.insert(a),a.manager=this);b.cbTypes=d;b.free();b.next=c.callbacks.ZPP_CbSet.zpp_pool;c.callbacks.ZPP_CbSet.zpp_pool=b;return a},remove:function(a){for(this.cbsets.remove(a);null!=a.cbpairs.head;){var b=a.cbpairs.pop_unsafe();b.a!=b.b&&(a==b.a?b.b.cbpairs.remove(b):b.a.cbpairs.remove(b));b.a=b.b=null;b.listeners.clear();b.next=c.callbacks.ZPP_CbSetPair.zpp_pool;c.callbacks.ZPP_CbSetPair.zpp_pool=
b}a.manager=null},clear:function(){},validate:function(){if(!this.cbsets.empty()){for(var a=this.cbsets.parent;null!=a.prev;)a=a.prev;for(;null!=a;)if(a.data.validate(),null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}},pair:function(a,b){for(var d=null,k=(a.cbpairs.length<b.cbpairs.length?a.cbpairs:b.cbpairs).head;null!=k;){var e=k.elt;if(e.a==a&&e.b==b||e.a==b&&e.b==a){d=e;break}k=k.next}null==d&&(d=c.callbacks.ZPP_CbSetPair.get(a,
b),a.cbpairs.add(d),b!=a&&b.cbpairs.add(d));d.zip_listeners&&(d.zip_listeners=!1,d.__validate());return d},valid_listener:function(a){return a.space==this.space},__class__:c.space.ZPP_CbSetManager};c.space.ZPP_Space=function(a,b){this.precb=this.prelisteners=null;this.continuous=!1;this.toiEvents=null;this.pre_dt=0;this.c_arbiters_true=this.c_arbiters_false=this.f_arbiters=this.s_arbiters=this.wrap_arbiters=this.live=this.wrap_live=this.live_constraints=this.wrap_livecon=this.staticsleep=this.islands=
this.listeners=this.wrap_listeners=this.callbacks=this.callbackset_list=this.cbsets=this.convexShapeList=null;this.sortcontacts=!1;this.time=0;this.midstep=!1;this.global_lin_drag=this.global_ang_drag=this.stamp=0;this.wrap_gravity=this.bodies=this.wrap_bodies=this.compounds=this.wrap_compounds=this.constraints=this.wrap_constraints=this.kinematics=this.bphase=this.__static=null;this.gravityx=this.gravityy=0;this.outer=this.userData=null;this.toiEvents=new c.util.ZNPList_ZPP_ToiEvent;this.global_ang_drag=
this.global_lin_drag=.015;c.callbacks.ZPP_Callback.internal=!0;this.precb=new f.callbacks.PreCallback;this.precb.zpp_inner=new c.callbacks.ZPP_Callback;c.callbacks.ZPP_Callback.internal=!1;this.sortcontacts=!0;this.pre_dt=0;var d;(d=null==b)||(null==c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=new f.space.Broadphase,c.util.ZPP_Flags.internal=!1),d=b==c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE);d?this.bphase=new c.space.ZPP_DynAABBPhase(this):
(null==c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=new f.space.Broadphase,c.util.ZPP_Flags.internal=!1),b==c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(this.bphase=new c.space.ZPP_SweepPhase(this)));this.time=0;null!=a?(this.gravityx=a.x,this.gravityy=a.y):this.gravityy=this.gravityx=0;this.bodies=new c.util.ZNPList_ZPP_Body;this.wrap_bodies=c.util.ZPP_BodyList.get(this.bodies);this.wrap_bodies.zpp_inner.adder=u(this,this.bodies_adder);
this.wrap_bodies.zpp_inner.subber=u(this,this.bodies_subber);this.wrap_bodies.zpp_inner._modifiable=u(this,this.bodies_modifiable);this.compounds=new c.util.ZNPList_ZPP_Compound;this.wrap_compounds=c.util.ZPP_CompoundList.get(this.compounds);this.wrap_compounds.zpp_inner.adder=u(this,this.compounds_adder);this.wrap_compounds.zpp_inner.subber=u(this,this.compounds_subber);this.wrap_compounds.zpp_inner._modifiable=u(this,this.compounds_modifiable);this.kinematics=new c.util.ZNPList_ZPP_Body;this.c_arbiters_true=
new c.util.ZNPList_ZPP_ColArbiter;this.c_arbiters_false=new c.util.ZNPList_ZPP_ColArbiter;this.f_arbiters=new c.util.ZNPList_ZPP_FluidArbiter;this.s_arbiters=new c.util.ZNPList_ZPP_SensorArbiter;this.islands=new c.space.ZPP_Island;this.live=new c.util.ZNPList_ZPP_Body;this.wrap_live=c.util.ZPP_BodyList.get(this.live,!0);this.staticsleep=new c.util.ZNPList_ZPP_Body;this.constraints=new c.util.ZNPList_ZPP_Constraint;this.wrap_constraints=c.util.ZPP_ConstraintList.get(this.constraints);this.wrap_constraints.zpp_inner.adder=
u(this,this.constraints_adder);this.wrap_constraints.zpp_inner.subber=u(this,this.constraints_subber);this.wrap_constraints.zpp_inner._modifiable=u(this,this.constraints_modifiable);this.live_constraints=new c.util.ZNPList_ZPP_Constraint;this.wrap_livecon=c.util.ZPP_ConstraintList.get(this.live_constraints,!0);this.__static=c.phys.ZPP_Body.__static();this.__static.zpp_inner.space=this;this.callbacks=new c.callbacks.ZPP_Callback;this.midstep=!1;this.listeners=new c.util.ZNPList_ZPP_Listener;this.wrap_listeners=
c.util.ZPP_ListenerList.get(this.listeners);this.wrap_listeners.zpp_inner.adder=u(this,this.listeners_adder);this.wrap_listeners.zpp_inner.subber=u(this,this.listeners_subber);this.wrap_listeners.zpp_inner._modifiable=u(this,this.listeners_modifiable);this.callbackset_list=new c.space.ZPP_CallbackSet;this.mrca1=new c.util.ZNPList_ZPP_Interactor;this.mrca2=new c.util.ZNPList_ZPP_Interactor;this.prelisteners=new c.util.ZNPList_ZPP_InteractionListener;this.cbsets=new c.space.ZPP_CbSetManager(this)};
m["zpp_nape.space.ZPP_Space"]=c.space.ZPP_Space;c.space.ZPP_Space.__name__=["zpp_nape","space","ZPP_Space"];c.space.ZPP_Space.prototype={outer:null,userData:null,gravityx:null,gravityy:null,wrap_gravity:null,getgravity:function(){this.wrap_gravity=f.geom.Vec2.get(this.gravityx,this.gravityy,null);this.wrap_gravity.zpp_inner._inuse=!0;this.wrap_gravity.zpp_inner._invalidate=u(this,this.gravity_invalidate);this.wrap_gravity.zpp_inner._validate=u(this,this.gravity_validate)},gravity_invalidate:function(a){if(this.midstep)throw"Error: Space::gravity cannot be set during space step";
this.gravityx=a.x;this.gravityy=a.y;a=new c.util.ZNPList_ZPP_Compound;for(var b=this.bodies.head;null!=b;){var d=b.elt;d.world||(d.component.waket=this.stamp+(this.midstep?0:1),d.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(d.kinematicDelaySleep=!0),d.component.sleeping&&this.really_wake(d,!1));b=b.next}for(b=this.compounds.head;null!=b;)a.add(b.elt),b=b.next;for(;null!=a.head;){b=a.pop_unsafe();for(d=b.bodies.head;null!=d;){var k=d.elt;k.world||(k.component.waket=this.stamp+(this.midstep?0:1),
k.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(k.kinematicDelaySleep=!0),k.component.sleeping&&this.really_wake(k,!1));d=d.next}for(b=b.compounds.head;null!=b;)a.add(b.elt),b=b.next}},gravity_validate:function(){this.wrap_gravity.zpp_inner.x=this.gravityx;this.wrap_gravity.zpp_inner.y=this.gravityy},bodies:null,wrap_bodies:null,compounds:null,wrap_compounds:null,constraints:null,wrap_constraints:null,kinematics:null,bphase:null,__static:null,global_lin_drag:null,global_ang_drag:null,stamp:null,
midstep:null,time:null,sortcontacts:null,c_arbiters_true:null,c_arbiters_false:null,f_arbiters:null,s_arbiters:null,wrap_arbiters:null,live:null,wrap_live:null,live_constraints:null,wrap_livecon:null,staticsleep:null,islands:null,listeners:null,wrap_listeners:null,callbacks:null,callbackset_list:null,cbsets:null,clear:function(){for(;null!=this.listeners.head;){var a=this.listeners.pop_unsafe();this.remListener(a)}for(;null!=this.callbackset_list.next;)a=this.callbackset_list.pop_unsafe(),a.arbiters.clear(),
a.int1=a.int2=null,a.id=a.di=-1,a.freed=!0,null,a.next=c.space.ZPP_CallbackSet.zpp_pool,c.space.ZPP_CallbackSet.zpp_pool=a;for(;null!=this.c_arbiters_true.head;)this.c_arbiters_true.pop_unsafe().retire();for(;null!=this.c_arbiters_false.head;)this.c_arbiters_false.pop_unsafe().retire();for(;null!=this.s_arbiters.head;)this.s_arbiters.pop_unsafe().retire();for(;null!=this.f_arbiters.head;)this.f_arbiters.pop_unsafe().retire();for(this.bphase.clear();null!=this.bodies.head;){a=this.bodies.pop_unsafe();
if(null!=a.component){var b=a.component.island;if(null!=b){for(;null!=b.comps.head;){var d=b.comps.pop_unsafe();d.sleeping=!1;d.island=null;d.parent=d;d.rank=0}b.next=c.space.ZPP_Island.zpp_pool;c.space.ZPP_Island.zpp_pool=b}}a.removedFromSpace();a.space=null}for(;null!=this.constraints.head;){a=this.constraints.pop_unsafe();if(null!=a.component&&(b=a.component.island,null!=b)){for(;null!=b.comps.head;)d=b.comps.pop_unsafe(),d.sleeping=!1,d.island=null,d.parent=d,d.rank=0;b.next=c.space.ZPP_Island.zpp_pool;
c.space.ZPP_Island.zpp_pool=b}a.removedFromSpace();a.space=null}this.kinematics.clear();for(a=new c.util.ZNPList_ZPP_Compound;null!=this.compounds.head;)b=this.compounds.pop_unsafe(),a.add(b);for(;null!=a.head;){b=a.pop_unsafe();b.removedFromSpace();b.space=null;for(d=b.bodies.head;null!=d;){var k=d.elt;if(null!=k.component){var e=k.component.island;if(null!=e){for(;null!=e.comps.head;){var g=e.comps.pop_unsafe();g.sleeping=!1;g.island=null;g.parent=g;g.rank=0}e.next=c.space.ZPP_Island.zpp_pool;c.space.ZPP_Island.zpp_pool=
e}}k.removedFromSpace();k.space=null;d=d.next}for(d=b.constraints.head;null!=d;){k=d.elt;if(null!=k.component&&(e=k.component.island,null!=e)){for(;null!=e.comps.head;)g=e.comps.pop_unsafe(),g.sleeping=!1,g.island=null,g.parent=g,g.rank=0;e.next=c.space.ZPP_Island.zpp_pool;c.space.ZPP_Island.zpp_pool=e}k.removedFromSpace();k.space=null;d=d.next}for(b=b.compounds.head;null!=b;)a.add(b.elt),b=b.next}this.staticsleep.clear();this.live.clear();this.live_constraints.clear();this.time=this.stamp=0;this.mrca1.clear();
this.mrca2.clear();this.prelisteners.clear();this.cbsets.clear()},bodies_adder:function(a){if(null!=a.zpp_inner.compound)throw"Error: Cannot set the space of a Body belonging to a Compound, only the root Compound space can be set";return a.zpp_inner.space!=this?(null!=a.zpp_inner.space&&a.zpp_inner.space.outer.zpp_inner.wrap_bodies.remove(a),this.addBody(a.zpp_inner),!0):!1},bodies_subber:function(a){this.remBody(a.zpp_inner)},bodies_modifiable:function(){if(this.midstep)throw"Error: Space::bodies cannot be set during space step()";
},compounds_adder:function(a){if(null!=a.zpp_inner.compound)throw"Error: Cannot set the space of an inner Compound, only the root Compound space can be set";return a.zpp_inner.space!=this?(null!=a.zpp_inner.space&&a.zpp_inner.space.wrap_compounds.remove(a),this.addCompound(a.zpp_inner),!0):!1},compounds_subber:function(a){this.remCompound(a.zpp_inner)},compounds_modifiable:function(){if(this.midstep)throw"Error: Space::compounds cannot be set during space step()";},constraints_adder:function(a){if(null!=
a.zpp_inner.compound)throw"Error: Cannot set the space of a Constraint belonging to a Compound, only the root Compound space can be set";return a.zpp_inner.space!=this?(null!=a.zpp_inner.space&&a.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(a),this.addConstraint(a.zpp_inner),!0):!1},constraints_subber:function(a){this.remConstraint(a.zpp_inner)},constraints_modifiable:function(){if(this.midstep)throw"Error: Space::constraints cannot be set during space step()";},listeners_adder:function(a){return a.zpp_inner.space!=
this?(null!=a.zpp_inner.space&&a.zpp_inner.space.outer.zpp_inner.wrap_listeners.remove(a),this.addListener(a.zpp_inner),!0):!1},listeners_subber:function(a){this.remListener(a.zpp_inner)},listeners_modifiable:function(){if(this.midstep)throw"Error: Space::listeners cannot be set during space step()";},revoke_listener:function(a){},unrevoke_listener:function(a){},addListener:function(a){a.space=this;a.addedToSpace();null!=a.interaction&&null},remListener:function(a){null!=a.interaction&&null;a.removedFromSpace();
a.space=null},add_callbackset:function(a){a.int1.cbsets.inlined_add(a);a.int2.cbsets.inlined_add(a);this.callbackset_list.inlined_add(a)},remove_callbackset:function(a){a.lazydel=!0;a.int1.cbsets.inlined_try_remove(a);a.int2.cbsets.inlined_try_remove(a)},transmitType:function(a,b){a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!1));a.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC?
this.live.remove(a):a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC?(this.kinematics.remove(a),this.staticsleep.remove(a)):a.type==c.util.ZPP_Flags.id_BodyType_STATIC&&this.staticsleep.remove(a);a.type=b;a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&this.kinematics.add(a);a.type==c.util.ZPP_Flags.id_BodyType_STATIC&&this.static_validation(a);a.component.sleeping=!0;a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),
a.component.sleeping&&this.really_wake(a,!0))},added_shape:function(a,b){null==b&&(b=!1);if(!b){var d=a.body;d.world||(d.component.waket=this.stamp+(this.midstep?0:1),d.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(d.kinematicDelaySleep=!0),d.component.sleeping&&this.really_wake(d,!1))}this.bphase.insert(a);a.addedToSpace()},removed_shape:function(a,b){null==b&&(b=!1);var d=this,k=a.body;b||k.wake();for(var e=null,g=k.arbiters.head;null!=g;){var f=[g.elt];if(f[0].ws1==a||f[0].ws2==a){if(0!=f[0].present)for(this.MRCA_chains(f[0].ws1,
f[0].ws2),g=this.mrca1.head;null!=g;){for(var h=g.elt,l=this.mrca2.head;null!=l;){var m=l.elt,n=h.cbSet,t=m.cbSet;n.validate();t.validate();n.manager.pair(n,t).empty_intersection()||(m=[c.phys.ZPP_Interactor.get(h,m)],m[0].remove_arb(f[0]),f[0].present--,n.manager.pair(n,t).forall(c.util.ZPP_Flags.id_CbEvent_END,function(a,b){return function(e){if(0!=(e.itype&b[0].type)&&a[0].empty_arb(e.itype)){var g=d.push_callback(e);g.event=c.util.ZPP_Flags.id_CbEvent_END;c.phys.ZPP_Interactor.int_callback(a[0],
e,g);g.set=a[0]}}}(m,f)),null==m[0].arbiters.head&&this.remove_callbackset(m[0]));l=l.next}g=g.next}f[0].b1!=k&&f[0].b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&(g=f[0].b1,g.world||(g.component.waket=this.stamp+(this.midstep?0:1),g.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(g.kinematicDelaySleep=!0),g.component.sleeping&&this.really_wake(g,!1)));f[0].b2!=k&&f[0].b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&(g=f[0].b2,g.world||(g.component.waket=this.stamp+(this.midstep?0:1),g.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&
(g.kinematicDelaySleep=!0),g.component.sleeping&&this.really_wake(g,!1)));f[0].cleared=!0;null!=k&&f[0].b2!=k||f[0].b1.arbiters.inlined_try_remove(f[0]);null!=k&&f[0].b1!=k||f[0].b2.arbiters.inlined_try_remove(f[0]);null!=f[0].pair&&(f[0].pair.arb=null,f[0].pair=null);f[0].active=!1;this.f_arbiters.modified=!0;g=k.arbiters.erase(e)}else e=g,g=g.next}this.bphase.remove(a);a.removedFromSpace()},addConstraint:function(a){a.space=this;a.addedToSpace();a.active&&(a.component.sleeping=!0,this.wake_constraint(a,
!0))},remConstraint:function(a){a.active&&(this.wake_constraint(a,!0),this.live_constraints.remove(a));a.removedFromSpace();a.space=null},addCompound:function(a){a.space=this;a.addedToSpace();for(var b=a.bodies.head;null!=b;)this.addBody(b.elt),b=b.next;for(b=a.constraints.head;null!=b;)this.addConstraint(b.elt),b=b.next;for(a=a.compounds.head;null!=a;)this.addCompound(a.elt),a=a.next},remCompound:function(a){for(var b=a.bodies.head;null!=b;)this.remBody(b.elt),b=b.next;for(b=a.constraints.head;null!=
b;)this.remConstraint(b.elt),b=b.next;for(b=a.compounds.head;null!=b;)this.remCompound(b.elt),b=b.next;a.removedFromSpace();a.space=null},addBody:function(a,b){null==b&&(b=-1);a.space=this;a.addedToSpace();a.component.sleeping=!0;a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!0));for(var d=a.shapes.head;null!=d;)this.added_shape(d.elt,!0),d=d.next;a.type==c.util.ZPP_Flags.id_BodyType_STATIC?
this.static_validation(a):a.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&b!=c.util.ZPP_Flags.id_BodyType_KINEMATIC&&this.kinematics.add(a)},remBody:function(a,b){null==b&&(b=-1);a.type==c.util.ZPP_Flags.id_BodyType_STATIC?(a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!0)),this.staticsleep.remove(a)):a.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC?(a.world||(a.component.waket=
this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!0)),this.live.remove(a)):(b!=c.util.ZPP_Flags.id_BodyType_KINEMATIC&&this.kinematics.remove(a),a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!0)),this.staticsleep.remove(a));for(var d=a.shapes.head;null!=d;)this.removed_shape(d.elt,
!0),d=d.next;a.removedFromSpace();a.space=null},shapesUnderPoint:function(a,b,d,c){return this.bphase.shapesUnderPoint(a,b,d,c)},bodiesUnderPoint:function(a,b,d,c){return this.bphase.bodiesUnderPoint(a,b,d,c)},shapesInAABB:function(a,b,d,c,e){return this.bphase.shapesInAABB(a.zpp_inner,b,d,c,e)},bodiesInAABB:function(a,b,d,c,e){return this.bphase.bodiesInAABB(a.zpp_inner,b,d,c,e)},shapesInCircle:function(a,b,d,c,e){return this.bphase.shapesInCircle(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),b,d,c,e)},bodiesInCircle:function(a,b,d,c,e){return this.bphase.bodiesInCircle(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this),b,d,c,e)},shapesInShape:function(a,b,d,c){return this.bphase.shapesInShape(a,b,d,c)},bodiesInShape:function(a,b,d,c){return this.bphase.bodiesInShape(a,b,d,c)},rayCast:function(a,b,d){return this.bphase.rayCast(a.zpp_inner,b,null==d?null:d.zpp_inner)},rayMultiCast:function(a,b,d,c){return this.bphase.rayMultiCast(a.zpp_inner,b,null==d?null:d.zpp_inner,c)},convexShapeList:null,convexCast:function(a,b,d,k){var e;null==c.geom.ZPP_ToiEvent.zpp_pool?e=
new c.geom.ZPP_ToiEvent:(e=c.geom.ZPP_ToiEvent.zpp_pool,c.geom.ZPP_ToiEvent.zpp_pool=e.next,e.next=null);e.failed=!1;e.s1=e.s2=null;e.arbiter=null;a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.validate_worldCOM():a.polygon.validate_gaxi();var g=a.body,h=g.posx,l=g.posy;g.sweepTime=0;g.sweep_angvel=g.angvel;g.sweepIntegrate(b);var m=g.posx,n=g.posy;a.validate_sweepRadius();var u=a.sweepRadius,t;null==c.geom.ZPP_AABB.zpp_pool?t=new c.geom.ZPP_AABB:(t=c.geom.ZPP_AABB.zpp_pool,c.geom.ZPP_AABB.zpp_pool=
t.next,t.next=null);null;t.minx=(h<m?h:m)-u;t.maxx=(h>m?h:m)+u;t.miny=(l<n?l:n)-u;t.maxy=(l>n?l:n)+u;d=this.convexShapeList=this.bphase.shapesInAABB(t,!1,!1,null==d?null:d.zpp_inner,this.convexShapeList);null!=t.outer&&(t.outer.zpp_inner=null,t.outer=null);t.wrap_min=t.wrap_max=null;t._invalidate=null;t._validate=null;t.next=c.geom.ZPP_AABB.zpp_pool;c.geom.ZPP_AABB.zpp_pool=t;var m=l=m=l=h=t=h=t=0,n=null,u=b+1,v;d.zpp_inner.valmod();for(v=f.shape.ShapeIterator.get(d);v.hasNext();){var A;v.zpp_critical=
!1;A=v.zpp_inner.at(v.zpp_i++);A!=a.outer&&(null!=A.zpp_inner.body?A.zpp_inner.body.outer:null)!=g.outer&&(e.s1=a,e.s2=A.zpp_inner,k?(A.zpp_inner.validate_sweepRadius(),(null!=A.zpp_inner.body?A.zpp_inner.body.outer:null).zpp_inner.sweep_angvel=(null!=A.zpp_inner.body?A.zpp_inner.body.outer:null).zpp_inner.angvel,(null!=A.zpp_inner.body?A.zpp_inner.body.outer:null).zpp_inner.sweepTime=0,c.geom.ZPP_SweepDistance.dynamicSweep(e,b,0,0,!0),(null!=A.zpp_inner.body?A.zpp_inner.body.outer:null).zpp_inner.sweepIntegrate(0),
(null!=A.zpp_inner.body?A.zpp_inner.body.outer:null).zpp_inner.sweepValidate(A.zpp_inner)):c.geom.ZPP_SweepDistance.staticSweep(e,b,0,0),e.toi*=b,0<e.toi&&e.toi<u&&(u=e.toi,t=e.axis.x,h=e.axis.y,l=e.c2.x,m=e.c2.y,n=A))}d.clear();k=e;k.next=c.geom.ZPP_ToiEvent.zpp_pool;c.geom.ZPP_ToiEvent.zpp_pool=k;g.sweepIntegrate(0);g.sweepValidate(a);return u<=b?c.geom.ZPP_ConvexRayResult.getConvex(f.geom.Vec2.get(-t,-h,null),f.geom.Vec2.get(l,m,null),u,n):null},prepareCast:function(a){a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?
a.circle.validate_worldCOM():a.polygon.validate_gaxi()},convexMultiCast:function(a,b,d,k,e){var g;null==c.geom.ZPP_ToiEvent.zpp_pool?g=new c.geom.ZPP_ToiEvent:(g=c.geom.ZPP_ToiEvent.zpp_pool,c.geom.ZPP_ToiEvent.zpp_pool=g.next,g.next=null);g.failed=!1;g.s1=g.s2=null;g.arbiter=null;a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.validate_worldCOM():a.polygon.validate_gaxi();var h=a.body,l=h.posx,m=h.posy;h.sweepTime=0;h.sweep_angvel=h.angvel;h.sweepIntegrate(b);var n=h.posx,u=h.posy;a.validate_sweepRadius();
var t=a.sweepRadius,v;null==c.geom.ZPP_AABB.zpp_pool?v=new c.geom.ZPP_AABB:(v=c.geom.ZPP_AABB.zpp_pool,c.geom.ZPP_AABB.zpp_pool=v.next,v.next=null);null;v.minx=(l<n?l:n)-t;v.maxx=(l>n?l:n)+t;v.miny=(m<u?m:u)-t;v.maxy=(m>u?m:u)+t;d=this.convexShapeList=this.bphase.shapesInAABB(v,!1,!1,null==d?null:d.zpp_inner,this.convexShapeList);null!=v.outer&&(v.outer.zpp_inner=null,v.outer=null);v.wrap_min=v.wrap_max=null;v._invalidate=null;v._validate=null;v.next=c.geom.ZPP_AABB.zpp_pool;c.geom.ZPP_AABB.zpp_pool=
v;e=null==e?new f.geom.ConvexResultList:e;d.zpp_inner.valmod();for(v=f.shape.ShapeIterator.get(d);v.hasNext();)if(v.zpp_critical=!1,l=v.zpp_inner.at(v.zpp_i++),l!=a.outer&&(null!=l.zpp_inner.body?l.zpp_inner.body.outer:null)!=h.outer&&(g.s1=a,g.s2=l.zpp_inner,k?(l.zpp_inner.validate_sweepRadius(),(null!=l.zpp_inner.body?l.zpp_inner.body.outer:null).zpp_inner.sweep_angvel=(null!=l.zpp_inner.body?l.zpp_inner.body.outer:null).zpp_inner.angvel,(null!=l.zpp_inner.body?l.zpp_inner.body.outer:null).zpp_inner.sweepTime=
0,c.geom.ZPP_SweepDistance.dynamicSweep(g,b,0,0,!0),(null!=l.zpp_inner.body?l.zpp_inner.body.outer:null).zpp_inner.sweepIntegrate(0),(null!=l.zpp_inner.body?l.zpp_inner.body.outer:null).zpp_inner.sweepValidate(l.zpp_inner)):c.geom.ZPP_SweepDistance.staticSweep(g,b,0,0),g.toi*=b,0<g.toi)){l=c.geom.ZPP_ConvexRayResult.getConvex(f.geom.Vec2.get(-g.axis.x,-g.axis.y,null),f.geom.Vec2.get(g.c2.x,g.c2.y,null),g.toi,l);m=null;for(n=e.zpp_inner.inner.head;null!=n;){u=n.elt;if(null!=l.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
t=l.zpp_inner.toiDistance;if(null!=u.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";if(t<u.zpp_inner.toiDistance)break;m=n;n=n.next}e.zpp_inner.inner.inlined_insert(m,l)}d.clear();b=g;b.next=c.geom.ZPP_ToiEvent.zpp_pool;c.geom.ZPP_ToiEvent.zpp_pool=b;h.sweepIntegrate(0);h.sweepValidate(a);return e},push_callback:function(a){var b;null==c.callbacks.ZPP_Callback.zpp_pool?b=new c.callbacks.ZPP_Callback:(b=c.callbacks.ZPP_Callback.zpp_pool,c.callbacks.ZPP_Callback.zpp_pool=
b.next,b.next=null);null;this.callbacks.push(b);b.listener=a;return b},pre_dt:null,step:function(a,b,d){var k=this;if(this.midstep)throw"Error: ... REALLY?? you're going to call space.step() inside of space.step()? COME ON!!";this.time+=a;this.pre_dt=a;this.midstep=!0;this.stamp++;this.validation();this.bphase.broadphase(this,!0);this.prestep(a);if(this.sortcontacts){var e=this.c_arbiters_false;if(null!=e.head&&null!=e.head.next){var g=e.head,f=null,h=null,l=null,m=null,n=1,t,u,v;do{t=0;h=g;for(f=
g=null;null!=h;){t++;l=h;u=0;for(v=n;null!=l&&u<n;)u++,l=l.next;for(;0<u||0<v&&null!=l;)0==u?(m=l,l=l.next,v--):0==v||null==l?(m=h,h=h.next,u--):(h.elt.active&&l.elt.active?h.elt.oc1.dist<l.elt.oc1.dist:1)?(m=h,h=h.next,u--):(m=l,l=l.next,v--),null!=f?f.next=m:g=m,f=m;h=l}f.next=null;n<<=1}while(1<t);e.head=g;e.modified=!0;e.pushmod=!0}}this.updateVel(a);this.warmStart();this.iterateVel(b);for(b=this.kinematics.head;null!=b;)e=b.elt,e.pre_posx=e.posx,e.pre_posy=e.posy,e.pre_rot=e.rot,b=b.next;for(b=
this.live.head;null!=b;)e=b.elt,e.pre_posx=e.posx,e.pre_posy=e.posy,e.pre_rot=e.rot,b=b.next;this.updatePos(a);this.continuous=!0;this.continuousCollisions(a);this.continuous=!1;this.iteratePos(d);for(d=this.kinematics.head;null!=d;)b=d.elt,e=b.pre_rot!=b.rot,b.posx==b.pre_posx&&b.posy==b.pre_posy||b.invalidate_pos(),e&&b.invalidate_rot(),d=d.next;for(d=this.live.head;null!=d;)b=d.elt,e=b.pre_rot!=b.rot,b.posx==b.pre_posx&&b.posy==b.pre_posy||b.invalidate_pos(),e&&b.invalidate_rot(),d=d.next;d=null;
for(b=this.staticsleep.head;null!=b;)e=b.elt,e.type!=c.util.ZPP_Flags.id_BodyType_KINEMATIC||0==e.velx&&0==e.vely&&0==e.angvel?e.kinematicDelaySleep?(e.kinematicDelaySleep=!1,b=b.next):(e.component.sleeping=!0,b=this.staticsleep.inlined_erase(d)):(d=b,b=b.next);this.doForests(a);this.sleepArbiters();this.midstep=!1;d=null;for(a=this.callbackset_list.next;null!=a;)b=[a],null==b[0].arbiters.head?(a=this.callbackset_list.inlined_erase(d),b=b[0],b.int1=b.int2=null,b.id=b.di=-1,b.freed=!0,null,b.next=
c.space.ZPP_CallbackSet.zpp_pool,c.space.ZPP_CallbackSet.zpp_pool=b):(d=[b[0].sleeping()],c.callbacks.ZPP_CbSet.find_all(b[0].int1.cbSet,b[0].int2.cbSet,c.util.ZPP_Flags.id_CbEvent_ONGOING,function(a,b){return function(d){if((!a[0]||d.allowSleepingCallbacks)&&!b[0].empty_arb(d.itype)){var e=k.push_callback(d);e.event=c.util.ZPP_Flags.id_CbEvent_ONGOING;c.phys.ZPP_Interactor.int_callback(b[0],d,e);e.set=b[0]}}}(d,b)),d=a,a=a.next);for(;!this.callbacks.empty();)a=this.callbacks.pop(),a.listener.type==
c.util.ZPP_Flags.id_ListenerType_BODY?a.listener.body.handler(a.wrapper_body()):a.listener.type==c.util.ZPP_Flags.id_ListenerType_CONSTRAINT?a.listener.constraint.handler(a.wrapper_con()):a.listener.type==c.util.ZPP_Flags.id_ListenerType_INTERACTION&&a.listener.interaction.handleri(a.wrapper_int()),a.int1=a.int2=null,a.body=null,a.constraint=null,a.listener=null,null!=a.wrap_arbiters&&(a.wrap_arbiters.zpp_inner.inner=null),a.set=null,a.next=c.callbacks.ZPP_Callback.zpp_pool,c.callbacks.ZPP_Callback.zpp_pool=
a},toiEvents:null,continuousCollisions:function(a){var b=2*Math.PI/a;this.bphase.broadphase(this,!1);for(var d=0;1>d&&null!=this.toiEvents.head;){for(var k=null,d=2,e=!1,g=null,h=null,l=this.toiEvents.head;null!=l;){var m=l.elt,n=m.s1.body,u=m.s2.body;if(n.sweepFrozen&&u.sweepFrozen)if(0!=m.toi&&c.geom.ZPP_Collide.testCollide_safe(m.s1,m.s2))m.toi=0;else{l=this.toiEvents.erase(h);m.next=c.geom.ZPP_ToiEvent.zpp_pool;c.geom.ZPP_ToiEvent.zpp_pool=m;continue}if(m.frozen1!=n.sweepFrozen||m.frozen2!=u.sweepFrozen)if(m.kinematic){l=
this.toiEvents.erase(h);m.next=c.geom.ZPP_ToiEvent.zpp_pool;c.geom.ZPP_ToiEvent.zpp_pool=m;continue}else if(m.frozen1=n.sweepFrozen,m.frozen2=u.sweepFrozen,m.frozen1&&(n=m.s1,m.s1=m.s2,m.s2=n,m.frozen1=!1,m.frozen2=!0),c.geom.ZPP_SweepDistance.staticSweep(m,a,0,f.Config.collisionSlopCCD),0>m.toi){l=this.toiEvents.erase(h);m.next=c.geom.ZPP_ToiEvent.zpp_pool;c.geom.ZPP_ToiEvent.zpp_pool=m;continue}0<=m.toi&&(m.toi<d||!e&&m.kinematic)&&(k=m,d=m.toi,e=m.kinematic,g=h);h=l;l=l.next}if(null==k)break;this.toiEvents.erase(g);
d=k.toi;e=k.s1.body;g=k.s2.body;e.sweepFrozen||(e.sweepIntegrate(d*a),e.sweepValidate(k.s1));g.sweepFrozen||(g.sweepIntegrate(d*a),g.sweepValidate(k.s2));h=this.narrowPhase(k.s1,k.s2,!0,k.arbiter,!0);null==h?null!=k.arbiter&&null!=k.arbiter.pair&&(k.arbiter.pair.arb=null,k.arbiter.pair=null):!this.presteparb(h,a,!0)&&h.type==c.dynamics.ZPP_Arbiter.COL&&h.active&&0!=(h.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&(h.colarb.warmStart(),h.colarb.applyImpulseVel(),h.colarb.applyImpulseVel(),h.colarb.applyImpulseVel(),
h.colarb.applyImpulseVel(),e.sweep_angvel=e.angvel%b,g.sweep_angvel=g.angvel%b);null!=h&&h.active&&0!=(h.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&h.type==c.dynamics.ZPP_Arbiter.COL&&(e.sweepFrozen||e.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC||(e.sweepFrozen=!0,e.angvel=k.failed?e.sweep_angvel=0:k.slipped?e.sweep_angvel*=f.Config.angularCCDSlipScale:e.sweep_angvel),g.sweepFrozen||g.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC||(g.sweepFrozen=!0,g.angvel=k.failed?g.sweep_angvel=0:k.slipped?
g.sweep_angvel*=f.Config.angularCCDSlipScale:g.sweep_angvel));k.next=c.geom.ZPP_ToiEvent.zpp_pool;c.geom.ZPP_ToiEvent.zpp_pool=k}for(;null!=this.toiEvents.head;)b=this.toiEvents.pop_unsafe(),b.next=c.geom.ZPP_ToiEvent.zpp_pool,c.geom.ZPP_ToiEvent.zpp_pool=b;for(b=this.kinematics.head;null!=b;)k=b.elt,k.sweepIntegrate(a),k.sweepTime=0,b=b.next;for(b=this.live.head;null!=b;)k=b.elt,k.sweepFrozen||k.sweepIntegrate(a),k.sweepTime=0,b=b.next},continuousEvent:function(a,b,d,k,e){if(a.body.sweepFrozen&&
b.body.sweepFrozen||a.body.disableCCD||b.body.disableCCD||null!=k&&null==k.colarb||0>=this.interactionType(a,b,a.body,b.body))return k;var g=a.body,h=b.body;if(d||g.bullet||h.bullet)null==c.geom.ZPP_ToiEvent.zpp_pool?e=new c.geom.ZPP_ToiEvent:(e=c.geom.ZPP_ToiEvent.zpp_pool,c.geom.ZPP_ToiEvent.zpp_pool=e.next,e.next=null),e.failed=!1,e.s1=e.s2=null,e.arbiter=null,g=g.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC||h.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC,d&&!g?(a.body.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC?
(e.s2=a,e.s1=b):(e.s1=a,e.s2=b),e.kinematic=!1,c.geom.ZPP_SweepDistance.staticSweep(e,this.pre_dt,0,f.Config.collisionSlopCCD)):(e.s1=a,e.s2=b,e.kinematic=g,e.s1.body.sweepFrozen||e.s2.body.sweepFrozen?(e.s1.body.sweepFrozen&&(a=e.s1,e.s1=e.s2,e.s2=a,e.frozen1=!1,e.frozen2=!0),c.geom.ZPP_SweepDistance.staticSweep(e,this.pre_dt,0,f.Config.collisionSlopCCD)):c.geom.ZPP_SweepDistance.dynamicSweep(e,this.pre_dt,0,f.Config.collisionSlopCCD)),d&&0>e.toi||e.failed?(d=e,d.next=c.geom.ZPP_ToiEvent.zpp_pool,
c.geom.ZPP_ToiEvent.zpp_pool=d):(this.toiEvents.add(e),e.frozen1=e.s1.body.sweepFrozen,e.frozen2=e.s2.body.sweepFrozen,e.arbiter=null!=k?k.colarb:null);return k},bodyCbWake:function(a){if(a.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&null!=a.cbSet)if(this.midstep)for(var b=a.cbSet.bodylisteners.head;null!=b;){var d=b.elt;d.event==c.util.ZPP_Flags.id_CbEvent_WAKE&&(d=this.push_callback(d),d.event=c.util.ZPP_Flags.id_CbEvent_WAKE,d.body=a);b=b.next}else a.component.woken=!0},bodyCbSleep:function(a){if(a.type==
c.util.ZPP_Flags.id_BodyType_DYNAMIC&&null!=a.cbSet)for(var b=a.cbSet.bodylisteners.head;null!=b;){var d=b.elt;d.event==c.util.ZPP_Flags.id_CbEvent_SLEEP&&(d=this.push_callback(d),d.event=c.util.ZPP_Flags.id_CbEvent_SLEEP,d.body=a);b=b.next}},constraintCbWake:function(a){if(null!=a.cbSet)if(this.midstep)for(var b=a.cbSet.conlisteners.head;null!=b;){var d=b.elt;d.event==c.util.ZPP_Flags.id_CbEvent_WAKE&&(d=this.push_callback(d),d.event=c.util.ZPP_Flags.id_CbEvent_WAKE,d.constraint=a);b=b.next}else a.component.woken=
!0},constraintCbSleep:function(a){if(null!=a.cbSet)for(var b=a.cbSet.conlisteners.head;null!=b;){var d=b.elt;d.event==c.util.ZPP_Flags.id_CbEvent_SLEEP&&(d=this.push_callback(d),d.event=c.util.ZPP_Flags.id_CbEvent_SLEEP,d.constraint=a);b=b.next}},constraintCbBreak:function(a){if(null!=a.cbSet)for(var b=a.cbSet.conlisteners.head;null!=b;){var d=b.elt;d.event==c.util.ZPP_Flags.id_CbEvent_BREAK&&(d=this.push_callback(d),d.event=c.util.ZPP_Flags.id_CbEvent_BREAK,d.constraint=a);b=b.next}},nullListenerType:function(a,
b){for(var d=new c.util.ZNPList_ZPP_Interactor,k=a.interactors.head;null!=k;)d.add(k.elt),k=k.next;if(a!=b)for(k=b.interactors.head;null!=k;)d.add(k.elt),k=k.next;for(;null!=d.head;)if(k=d.pop_unsafe(),null!=k.icompound){for(var k=k.icompound,e=k.bodies.head;null!=e;)d.add(e.elt),e=e.next;for(k=k.compounds.head;null!=k;)d.add(k.elt),k=k.next}else for(e=null!=k.ibody?k.ibody:k.ishape.body,k=null!=k.ishape?k.ishape:null,e=e.arbiters.head;null!=e;){var g=e.elt;if(0!=g.present&&(null==k||g.ws1==k||g.ws2==
k))for(this.MRCA_chains(g.ws1,g.ws2),g=this.mrca1.head;null!=g;){var f=g.elt;if(f.cbSet==a||f.cbSet==b)for(var h=this.mrca2.head;null!=h;){var l=h.elt;if(!(f.cbSet==a&&l.cbSet!=b||f.cbSet==b&&l.cbSet!=a)&&(l=c.phys.ZPP_Interactor.get(f,l),null!=l)){for(;null!=l.arbiters.head;)l.arbiters.pop_unsafe().present--;this.remove_callbackset(l)}h=h.next}g=g.next}e=e.next}},nullInteractorType:function(a,b){null==b&&(b=a);if(null!=a.icompound){for(var d=a.icompound,k=d.bodies.head;null!=k;)this.nullInteractorType(k.elt,
b),k=k.next;for(d=d.compounds.head;null!=d;)this.nullInteractorType(d.elt,b),d=d.next}else for(k=null!=a.ibody?a.ibody:a.ishape.body,d=null!=a.ishape?a.ishape:null,k=k.arbiters.head;null!=k;){var e=k.elt;if(0!=e.present&&(null==d||e.ws1==d||e.ws2==d)){this.MRCA_chains(e.ws1,e.ws2);for(var g=this.mrca1.head;null!=g;){for(var f=g.elt,h=this.mrca2.head;null!=h;){var l=h.elt;if(f==b||l==b)l=c.phys.ZPP_Interactor.get(f,l),null!=l&&(e.present--,l.remove_arb(e),null==l.arbiters.head&&this.remove_callbackset(l));
h=h.next}g=g.next}}k=k.next}},freshListenerType:function(a,b){for(var d=new c.util.ZNPList_ZPP_Interactor,k=a.interactors.head;null!=k;)d.add(k.elt),k=k.next;if(a!=b)for(k=b.interactors.head;null!=k;)d.add(k.elt),k=k.next;for(;null!=d.head;)if(k=d.pop_unsafe(),null!=k.icompound){for(var k=k.icompound,e=k.bodies.head;null!=e;)d.add(e.elt),e=e.next;for(k=k.compounds.head;null!=k;)d.add(k.elt),k=k.next}else for(e=null!=k.ibody?k.ibody:k.ishape.body,k=null!=k.ishape?k.ishape:null,e=e.arbiters.head;null!=
e;){var g=e.elt;if(g.presentable&&(null==k||g.ws1==k||g.ws2==k)){this.MRCA_chains(g.ws1,g.ws2);for(var f=this.mrca1.head;null!=f;){var h=f.elt;if(h.cbSet==a||h.cbSet==b)for(var l=this.mrca2.head;null!=l;){var m=l.elt;if(!(h.cbSet==a&&m.cbSet!=b||h.cbSet==b&&m.cbSet!=a)){var n=c.phys.ZPP_Interactor.get(h,m);null==n&&(n=c.space.ZPP_CallbackSet.get(h,m),this.add_callbackset(n));n.arbiters.inlined_has(g)?n=!1:(m=void 0,n.arbiters.inlined_add(g),n=m=!0);n&&g.present++}l=l.next}f=f.next}}e=e.next}},freshInteractorType:function(a,
b){null==b&&(b=a);if(null!=a.icompound){for(var d=a.icompound,k=d.bodies.head;null!=k;)this.freshInteractorType(k.elt,b),k=k.next;for(d=d.compounds.head;null!=d;)this.freshInteractorType(d.elt,b),d=d.next}else for(k=null!=a.ibody?a.ibody:a.ishape.body,d=null!=a.ishape?a.ishape:null,k=k.arbiters.head;null!=k;){var e=k.elt;if(e.presentable&&(null==d||e.ws1==d||e.ws2==d)){this.MRCA_chains(e.ws1,e.ws2);for(var g=this.mrca1.head;null!=g;){for(var f=g.elt,h=this.mrca2.head;null!=h;){var l=h.elt;if(f==b||
l==b){var m=f.cbSet,n=l.cbSet;m.validate();n.validate();m.manager.pair(m,n).empty_intersection()||(m=c.phys.ZPP_Interactor.get(f,l),null==m&&(m=c.space.ZPP_CallbackSet.get(f,l),this.add_callbackset(m)),m.arbiters.inlined_has(e)?l=!1:(l=void 0,m.arbiters.inlined_add(e),l=!0),l&&e.present++)}h=h.next}g=g.next}}k=k.next}},wakeCompound:function(a){for(var b=a.bodies.head;null!=b;){var d=b.elt;d.world||(d.component.waket=this.stamp+(this.midstep?0:1),d.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(d.kinematicDelaySleep=
!0),d.component.sleeping&&this.really_wake(d,!1));b=b.next}for(b=a.constraints.head;null!=b;)this.wake_constraint(b.elt),b=b.next;for(a=a.compounds.head;null!=a;)this.wakeCompound(a.elt),a=a.next},wakeIsland:function(a){for(;null!=a.comps.head;){var b=a.comps.pop_unsafe();b.waket=this.stamp+(this.midstep?0:1);if(b.isBody){var d=b.body;this.live.add(d);for(var k=d.arbiters.head;null!=k;){var e=k.elt;e.sleeping&&(e.sleeping=!1,e.up_stamp+=this.stamp-e.sleep_stamp,e.type==c.dynamics.ZPP_Arbiter.COL?
(e=e.colarb,e.stat?this.c_arbiters_true.inlined_add(e):this.c_arbiters_false.inlined_add(e)):e.type==c.dynamics.ZPP_Arbiter.FLUID?this.f_arbiters.inlined_add(e.fluidarb):this.s_arbiters.inlined_add(e.sensorarb));k=k.next}this.bodyCbWake(d);b.sleeping=!1;b.island=null;b.parent=b;b.rank=0;if(d.type!=c.util.ZPP_Flags.id_BodyType_STATIC)for(b=d.shapes.head;null!=b;)d=b.elt,null!=d.node&&this.bphase.sync(d),b=b.next}else d=b.constraint,this.live_constraints.inlined_add(d),this.constraintCbWake(d),b.sleeping=
!1,b.island=null,b.parent=b,b.rank=0}a.next=c.space.ZPP_Island.zpp_pool;c.space.ZPP_Island.zpp_pool=a},non_inlined_wake:function(a,b){null==b&&(b=!1);a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,b))},really_wake:function(a,b){null==b&&(b=!1);if(null==a.component.island){a.component.sleeping=!1;a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC||a.type==c.util.ZPP_Flags.id_BodyType_STATIC?
this.staticsleep.inlined_add(a):this.live.inlined_add(a);for(var d=a.constraints.head;null!=d;){var k=d.elt;k.space==this&&this.wake_constraint(k);d=d.next}for(d=a.arbiters.head;null!=d;){k=d.elt;if(k.sleeping)if(k.sleeping=!1,k.up_stamp+=this.stamp+(this.midstep?0:1)-k.sleep_stamp,k.type==c.dynamics.ZPP_Arbiter.COL){var e=k.colarb;e.stat?this.c_arbiters_true.inlined_add(e):this.c_arbiters_false.inlined_add(e)}else k.type==c.dynamics.ZPP_Arbiter.FLUID?this.f_arbiters.inlined_add(k.fluidarb):this.s_arbiters.inlined_add(k.sensorarb);
k.type!=c.dynamics.ZPP_Arbiter.SENSOR&&!k.cleared&&k.up_stamp>=this.stamp&&0!=(k.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&(k.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&k.b1.component.sleeping&&(e=k.b1,e.world||(e.component.waket=this.stamp+(this.midstep?0:1),e.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(e.kinematicDelaySleep=!0),e.component.sleeping&&this.really_wake(e,!1))),k.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&k.b2.component.sleeping&&(k=k.b2,k.world||(k.component.waket=
this.stamp+(this.midstep?0:1),k.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(k.kinematicDelaySleep=!0),k.component.sleeping&&this.really_wake(k,!1))));d=d.next}b||a.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||this.bodyCbWake(a);if(!b&&!this.bphase.is_sweep&&a.type!=c.util.ZPP_Flags.id_BodyType_STATIC)for(d=a.shapes.head;null!=d;)k=d.elt,null!=k.node&&this.bphase.sync(k),d=d.next}else this.wakeIsland(a.component.island)},wake_constraint:function(a,b){null==b&&(b=!1);return a.active&&(a.component.waket=
this.stamp+(this.midstep?0:1),a.component.sleeping)?(null==a.component.island?(a.component.sleeping=!1,this.live_constraints.inlined_add(a),a.wake_connected(),b||this.constraintCbWake(a)):this.wakeIsland(a.component.island),!0):!1},doForests:function(a){for(var b=this.c_arbiters_false.head;null!=b;){var d=b.elt;if(!d.cleared&&d.up_stamp==this.stamp&&0!=(d.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&d.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&d.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var k;
if(d.b1.component==d.b1.component.parent)k=d.b1.component;else{k=d.b1.component;for(var e=null;k!=k.parent;){var g=k.parent;k.parent=e;e=k;k=g}for(;null!=e;)g=e.parent,e.parent=k,e=g}if(d.b2.component==d.b2.component.parent)d=d.b2.component;else{d=d.b2.component;for(e=null;d!=d.parent;)g=d.parent,d.parent=e,e=d,d=g;for(;null!=e;)g=e.parent,e.parent=d,e=g}k!=d&&(k.rank<d.rank?k.parent=d:k.rank>d.rank?d.parent=k:(d.parent=k,k.rank++))}b=b.next}for(b=this.f_arbiters.head;null!=b;){d=b.elt;if(!d.cleared&&
d.up_stamp==this.stamp&&0!=(d.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&d.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&d.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(d.b1.component==d.b1.component.parent)k=d.b1.component;else{k=d.b1.component;for(e=null;k!=k.parent;)g=k.parent,k.parent=e,e=k,k=g;for(;null!=e;)g=e.parent,e.parent=k,e=g}if(d.b2.component==d.b2.component.parent)d=d.b2.component;else{d=d.b2.component;for(e=null;d!=d.parent;)g=d.parent,d.parent=e,e=d,d=g;for(;null!=e;)g=e.parent,
e.parent=d,e=g}k!=d&&(k.rank<d.rank?k.parent=d:k.rank>d.rank?d.parent=k:(d.parent=k,k.rank++))}b=b.next}for(b=this.live_constraints.head;null!=b;)b.elt.forest(),b=b.next;for(;null!=this.live.head;){k=this.live.inlined_pop_unsafe();b=k.component;if(b==b.parent)d=b;else{d=b;for(e=null;d!=d.parent;)g=d.parent,d.parent=e,e=d,d=g;for(;null!=e;)g=e.parent,e.parent=d,e=g}null==d.island&&(null==c.space.ZPP_Island.zpp_pool?d.island=new c.space.ZPP_Island:(d.island=c.space.ZPP_Island.zpp_pool,c.space.ZPP_Island.zpp_pool=
d.island.next,d.island.next=null),d.island.waket=0,this.islands.inlined_add(d.island),d.island.sleep=!0);b.island=d.island;b.island.comps.inlined_add(b);k=k.atRest(a);b.island.sleep=b.island.sleep&&k;b.waket>b.island.waket&&(b.island.waket=b.waket)}for(;null!=this.live_constraints.head;){a=this.live_constraints.inlined_pop_unsafe().component;if(a==a.parent)b=a;else{b=a;for(k=null;b!=b.parent;)d=b.parent,b.parent=k,k=b,b=d;for(;null!=k;)d=k.parent,k.parent=b,k=d}a.island=b.island;a.island.comps.inlined_add(a);
a.waket>a.island.waket&&(a.island.waket=a.waket)}for(;null!=this.islands.next;)if(a=this.islands.inlined_pop_unsafe(),a.sleep)for(a=a.comps.head;null!=a;){k=a.elt;if(k.isBody){b=k.body;b.velx=0;b.vely=0;b.angvel=0;k.sleeping=!0;for(k=b.shapes.head;null!=k;)this.bphase.sync(k.elt),k=k.next;this.bodyCbSleep(b)}else this.constraintCbSleep(k.constraint),k.sleeping=!0;a=a.next}else{for(;null!=a.comps.head;)b=a.comps.inlined_pop_unsafe(),b.waket=a.waket,b.isBody?this.live.inlined_add(b.body):this.live_constraints.inlined_add(b.constraint),
b.sleeping=!1,b.island=null,b.parent=b,b.rank=0;a.next=c.space.ZPP_Island.zpp_pool;c.space.ZPP_Island.zpp_pool=a}},sleepArbiters:function(){var a=null,b=this.c_arbiters_true,d=b.head,c=null!=this.c_arbiters_false;c&&null==d&&(c=!1,d=this.c_arbiters_false.head,b=this.c_arbiters_false,a=null);for(;null!=d;){var e=d.elt;e.b1.component.sleeping&&e.b2.component.sleeping?(e.sleep_stamp=this.stamp,e.sleeping=!0,d=b.inlined_erase(a)):(a=d,d=d.next);c&&null==d&&(c=!1,d=this.c_arbiters_false.head,b=this.c_arbiters_false,
a=null)}a=null;b=this.f_arbiters;d=b.head;c=!1;for(;null!=d;)e=d.elt,e.b1.component.sleeping&&e.b2.component.sleeping?(e.sleep_stamp=this.stamp,e.sleeping=!0,d=b.inlined_erase(a)):(a=d,d=d.next),c&&null==d&&(c=!1,a=b=null);a=null;b=this.s_arbiters;d=b.head;c=!1;for(;null!=d;)e=d.elt,e.b1.component.sleeping&&e.b2.component.sleeping?(e.sleep_stamp=this.stamp,e.sleeping=!0,d=b.inlined_erase(a)):(a=d,d=d.next),c&&null==d&&(c=!1,a=b=null)},static_validation:function(a){null!=a.shapes.head&&a.validate_aabb();
a.validate_mass();a.validate_inertia();if(0!=a.velx||0!=a.vely||0!=a.angvel)throw"Error: Static body cannot have any real velocity, only kinematic or surface velocities";for(var b=a.shapes.head;null!=b;){var d=b.elt;if(d.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){d.polygon.splice_collinear();var k=d.polygon.valid(),e=k,g=void 0;null==c.util.ZPP_Flags.ValidationResult_VALID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=
!1);g=c.util.ZPP_Flags.ValidationResult_VALID;if(e!=g)throw"Error: Cannot simulate with an invalid Polygon : "+d.polygon.outer.toString()+" is invalid : "+k.toString();d.polygon.validate_gaxi()}b=b.next}a.sweepFrozen=!0},validation:function(){this.cbsets.validate();for(var a=this.live.head;null!=a;){var b=a.elt;b.sweepRadius=0;for(var d=b.shapes.head;null!=d;){var k=d.elt;if(k.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){k.polygon.splice_collinear();var e=k.polygon.valid(),g=e;null==c.util.ZPP_Flags.ValidationResult_VALID&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);if(g!=c.util.ZPP_Flags.ValidationResult_VALID)throw"Error: Cannot simulate with an invalid Polygon : "+k.polygon.outer.toString()+" is invalid : "+e.toString();k.polygon.validate_gaxi()}k.validate_sweepRadius();k.sweepRadius>b.sweepRadius&&(b.sweepRadius=k.sweepRadius);d=d.next}b.validate_mass();b.validate_inertia();null!=b.shapes.head&&(b.validate_aabb(),b.validate_worldCOM());
b.validate_gravMass();b.zip_axis&&(b.zip_axis=!1,b.axisx=Math.sin(b.rot),b.axisy=Math.cos(b.rot),null);if(!b.nomove&&b.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&0==b.mass)throw"Error: Dynamic Body cannot be simulated with 0 mass unless allowMovement is false";if(!b.norotate&&b.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&0==b.inertia)throw"Error: Dynamic Body cannot be simulated with 0 inertia unless allowRotation is false";if(b.component.woken&&null!=b.cbSet)for(d=b.cbSet.bodylisteners.head;null!=
d;)k=d.elt,k.event==c.util.ZPP_Flags.id_CbEvent_WAKE&&(k=this.push_callback(k),k.event=c.util.ZPP_Flags.id_CbEvent_WAKE,k.body=b),d=d.next;b.component.woken=!1;for(b=b.shapes.head;null!=b;)this.bphase.sync(b.elt),b=b.next;a=a.next}for(a=this.kinematics.head;null!=a;){b=a.elt;b.sweepRadius=0;for(d=b.shapes.head;null!=d;){k=d.elt;if(k.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){k.polygon.splice_collinear();g=e=k.polygon.valid();null==c.util.ZPP_Flags.ValidationResult_VALID&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.ValidationResult_VALID=new f.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);if(g!=c.util.ZPP_Flags.ValidationResult_VALID)throw"Error: Cannot simulate with an invalid Polygon : "+k.polygon.outer.toString()+" is invalid : "+e.toString();k.polygon.validate_gaxi()}k.validate_sweepRadius();k.sweepRadius>b.sweepRadius&&(b.sweepRadius=k.sweepRadius);d=d.next}b.validate_mass();b.validate_inertia();null!=b.shapes.head&&(b.validate_aabb(),b.validate_worldCOM());b.validate_gravMass();
b.zip_axis&&(b.zip_axis=!1,b.axisx=Math.sin(b.rot),b.axisy=Math.cos(b.rot),null);if(!b.nomove&&b.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&0==b.mass)throw"Error: Dynamic Body cannot be simulated with 0 mass unless allowMovement is false";if(!b.norotate&&b.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&0==b.inertia)throw"Error: Dynamic Body cannot be simulated with 0 inertia unless allowRotation is false";for(b=b.shapes.head;null!=b;)this.bphase.sync(b.elt),b=b.next;a=a.next}for(a=this.live_constraints.head;null!=
a;){b=a.elt;if(b.active){b.validate();if(b.component.woken&&null!=b.cbSet)for(d=b.cbSet.conlisteners.head;null!=d;)k=d.elt,k.event==c.util.ZPP_Flags.id_CbEvent_WAKE&&(k=this.push_callback(k),k.event=c.util.ZPP_Flags.id_CbEvent_WAKE,k.constraint=b),d=d.next;b.component.woken=!1}a=a.next}},updateVel:function(a){for(var b=1-a*this.global_lin_drag,d=1-a*this.global_ang_drag,c=this.live.head;null!=c;){var e=c.elt;if(0!=e.smass){var g=a*e.imass;e.velx=b*e.velx+(e.forcex+this.gravityx*e.gravMass)*g;e.vely=
b*e.vely+(e.forcey+this.gravityy*e.gravMass)*g}if(0!=e.sinertia){var f=g=0,g=e.worldCOMx-e.posx,f=e.worldCOMy-e.posy;e.angvel=d*e.angvel+(e.torque+(this.gravityy*g-this.gravityx*f)*e.gravMass)*a*e.iinertia}c=c.next}},updatePos:function(a){for(var b=2*Math.PI/a,d=this.live.head;null!=d;){var k=d.elt;k.pre_posx=k.posx;k.pre_posy=k.posy;k.pre_rot=k.rot;k.sweepTime=0;k.sweep_angvel=k.angvel%b;k.sweepIntegrate(a);if(k.disableCCD)k.sweepFrozen=!0,k.bullet=!1;else{var e=f.Config.staticCCDLinearThreshold*
k.sweepRadius,g=f.Config.staticCCDAngularThreshold;if((k.velx*k.velx+k.vely*k.vely)*a*a>e*e||k.angvel*k.angvel*a*a>g*g||k.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC){e=k.sweep_angvel;0>e&&(e=-e);for(var g=1/e,h=k.shapes.head;null!=h;){var l=h.elt,m=l.aabb,n=m.minx,u=m.miny,t=m.maxx,v=m.maxy,A=e*a*l.sweepCoef*.008333333333333333|0;8<A&&(A=8);var q=e*a/A;k.sweepIntegrate(a);l.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?l.circle._force_validate_aabb():l.polygon._force_validate_aabb();n<m.minx?m.minx=
n:n=m.minx;u<m.miny?m.miny=u:u=m.miny;t>m.maxx?m.maxx=t:t=m.maxx;v>m.maxy?m.maxy=v:v=m.maxy;for(var y=1;y<A;){var C=y++;k.sweepIntegrate(q*C*g);l.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?l.circle._force_validate_aabb():l.polygon._force_validate_aabb();n<m.minx?m.minx=n:n=m.minx;u<m.miny?m.miny=u:u=m.miny;t>m.maxx?m.maxx=t:t=m.maxx;v>m.maxy?m.maxy=v:v=m.maxy}this.bphase.sync(l);h=h.next}k.sweepFrozen=!1;k.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&k.bulletEnabled&&(e=f.Config.bulletCCDLinearThreshold*
k.sweepRadius,g=f.Config.bulletCCDAngularThreshold,(k.velx*k.velx+k.vely*k.vely)*a*a>e*e||k.angvel*k.angvel*a*a>g*g)&&(k.bullet=!0)}else k.sweepFrozen=!0,k.bullet=!1}d=d.next}for(d=this.kinematics.head;null!=d;){k=d.elt;k.pre_posx=k.posx;k.pre_posy=k.posy;k.pre_rot=k.rot;k.sweepTime=0;k.sweep_angvel=k.angvel%b;k.sweepIntegrate(a);if(k.disableCCD)k.sweepFrozen=!0,k.bullet=!1;else if(e=f.Config.staticCCDLinearThreshold*k.sweepRadius,g=f.Config.staticCCDAngularThreshold,(k.velx*k.velx+k.vely*k.vely)*
a*a>e*e||k.angvel*k.angvel*a*a>g*g||k.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC){e=k.sweep_angvel;0>e&&(e=-e);g=1/e;for(h=k.shapes.head;null!=h;){l=h.elt;m=l.aabb;n=m.minx;u=m.miny;t=m.maxx;v=m.maxy;A=e*a*l.sweepCoef*.008333333333333333|0;8<A&&(A=8);q=e*a/A;k.sweepIntegrate(a);l.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?l.circle._force_validate_aabb():l.polygon._force_validate_aabb();n<m.minx?m.minx=n:n=m.minx;u<m.miny?m.miny=u:u=m.miny;t>m.maxx?m.maxx=t:t=m.maxx;v>m.maxy?m.maxy=v:v=m.maxy;for(y=
1;y<A;)C=y++,k.sweepIntegrate(q*C*g),l.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?l.circle._force_validate_aabb():l.polygon._force_validate_aabb(),n<m.minx?m.minx=n:n=m.minx,u<m.miny?m.miny=u:u=m.miny,t>m.maxx?m.maxx=t:t=m.maxx,v>m.maxy?m.maxy=v:v=m.maxy;this.bphase.sync(l);h=h.next}k.sweepFrozen=!1;k.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&k.bulletEnabled&&(e=f.Config.bulletCCDLinearThreshold*k.sweepRadius,g=f.Config.bulletCCDAngularThreshold,(k.velx*k.velx+k.vely*k.vely)*a*a>e*e||k.angvel*k.angvel*
a*a>g*g)&&(k.bullet=!0)}else k.sweepFrozen=!0,k.bullet=!1;d=d.next}},continuous:null,presteparb:function(a,b,d){null==d&&(d=!1);var k=this;if(!a.cleared&&a.b1.component.sleeping&&a.b2.component.sleeping)return a.sleep_stamp=this.stamp,a.sleeping=!0;if(!a.cleared||0!=a.present||a.intchange){var e=!d&&a.up_stamp==this.stamp-1&&!a.cleared&&!a.intchange;d=a.fresh&&!a.cleared&&!a.intchange;e&&(a.endGenerated=this.stamp);if(d||e||a.cleared||a.intchange)for(this.inlined_MRCA_chains(a.ws1,a.ws2),e=this.mrca1.head;null!=
e;){for(var g=e.elt,h=this.mrca2.head;null!=h;){var l=h.elt,m=g.cbSet,n=l.cbSet;if(!m.manager.pair(m,n).empty_intersection()){var u=[c.phys.ZPP_Interactor.get(g,l)];d||a.intchange?(null==u[0]&&(u[0]=c.space.ZPP_CallbackSet.get(g,l),this.add_callbackset(u[0])),m.manager.pair(m,n).forall(c.util.ZPP_Flags.id_CbEvent_BEGIN,function(b){return function(d){if(0!=(d.itype&a.type)&&b[0].empty_arb(d.itype)){var e=k.push_callback(d);e.event=c.util.ZPP_Flags.id_CbEvent_BEGIN;c.phys.ZPP_Interactor.int_callback(b[0],
d,e);e.set=b[0]}}}(u)),u[0].arbiters.inlined_has(a)?l=0:(u[0].arbiters.inlined_add(a),l=!0),l&&a.present++):(a.present--,u[0].remove_arb(a),m.manager.pair(m,n).forall(c.util.ZPP_Flags.id_CbEvent_END,function(b){return function(d){if(0!=(d.itype&a.type)&&b[0].empty_arb(d.itype)){var e=k.push_callback(d);e.event=c.util.ZPP_Flags.id_CbEvent_END;c.phys.ZPP_Interactor.int_callback(b[0],d,e);e.set=b[0]}}}(u)),null==u[0].arbiters.head&&this.remove_callbackset(u[0]))}h=h.next}e=e.next}a.fresh=!1;a.intchange=
!1}if(a.cleared||a.up_stamp+(a.type==c.dynamics.ZPP_Arbiter.COL?f.Config.arbiterExpirationDelay:0)<this.stamp)return a.type==c.dynamics.ZPP_Arbiter.SENSOR?a.sensorarb.retire():a.type==c.dynamics.ZPP_Arbiter.FLUID?a.fluidarb.retire():a.colarb.retire(),!0;d=a.active;a.active=a.presentable=a.up_stamp==this.stamp;0!=(a.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)?a.active&&a.type!=c.dynamics.ZPP_Arbiter.SENSOR&&(null!=a.colarb?a.colarb.preStep(b)&&(a.active=!1):a.fluidarb.preStep(this,b)):null!=a.colarb&&
a.colarb.cleanupContacts()&&(a.active=!1);d!=a.active&&(a.b1.arbiters.modified=!0,a.b2.arbiters.modified=!0,this.c_arbiters_true.modified=this.c_arbiters_false.modified=!0,this.s_arbiters.modified=this.f_arbiters.modified=!0);return!1},prestep:function(a){for(var b=null,d=this.live_constraints.head;null!=d;){var c=d.elt;c.preStep(a)?(d=this.live_constraints.erase(b),c.broken(),this.constraintCbBreak(c),c.removeOnBreak?(c.component.sleeping=!0,this.midstep=!1,null!=c.compound?c.compound.wrap_constraints.remove(c.outer):
this.wrap_constraints.remove(c.outer),this.midstep=!0):c.active=!1,c.clearcache()):(b=d,d=d.next)}var b=null,d=this.c_arbiters_true,c=d.head,e=null!=this.c_arbiters_false;e&&null==c&&(e=!1,c=this.c_arbiters_false.head,d=this.c_arbiters_false,b=null);for(;null!=c;)this.presteparb(c.elt,a)?c=d.inlined_erase(b):(b=c,c=c.next),e&&null==c&&(e=!1,c=this.c_arbiters_false.head,d=this.c_arbiters_false,b=null);b=null;d=this.f_arbiters;c=d.head;e=!1;for(;null!=c;)this.presteparb(c.elt,a)?c=d.inlined_erase(b):
(b=c,c=c.next),e&&null==c&&(e=!1,b=d=null);b=null;d=this.s_arbiters;c=d.head;e=!1;for(;null!=c;)this.presteparb(c.elt,a)?c=d.inlined_erase(b):(b=c,c=c.next),e&&null==c&&(e=!1,b=d=null)},warmStart:function(){for(var a=this.f_arbiters.head;null!=a;){var b=a.elt;b.active&&0!=(b.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&b.warmStart();a=a.next}a=this.c_arbiters_false.head;b=!0;null==a&&(a=this.c_arbiters_true.head,b=!1);for(;null!=a;){var d=a.elt;d.active&&0!=(d.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&
d.warmStart();a=a.next;b&&null==a&&(a=this.c_arbiters_true.head,b=!1)}for(a=this.live_constraints.head;null!=a;)a.elt.warmStart(),a=a.next},iterateVel:function(a){for(var b=0;b<a;){b++;for(var d=this.f_arbiters.head;null!=d;){var k=d.elt;k.active&&0!=(k.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&k.applyImpulseVel();d=d.next}d=null;for(k=this.live_constraints.head;null!=k;){var e=k.elt;e.applyImpulseVel()?(k=this.live_constraints.erase(d),e.broken(),this.constraintCbBreak(e),e.removeOnBreak?(e.component.sleeping=
!0,this.midstep=!1,null!=e.compound?e.compound.wrap_constraints.remove(e.outer):this.wrap_constraints.remove(e.outer),this.midstep=!0):e.active=!1,e.clearcache()):(d=k,k=k.next)}d=this.c_arbiters_false.head;k=!0;null==d&&(d=this.c_arbiters_true.head,k=!1);for(;null!=d;)e=d.elt,e.active&&0!=(e.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&e.applyImpulseVel(),d=d.next,k&&null==d&&(d=this.c_arbiters_true.head,k=!1)}},iteratePos:function(a){for(var b=0;b<a;){b++;for(var d=null,k=this.live_constraints.head;null!=
k;){var e=k.elt;!e.__velocity&&e.stiff&&e.applyImpulsePos()?(k=this.live_constraints.erase(d),e.broken(),this.constraintCbBreak(e),e.removeOnBreak?(e.component.sleeping=!0,this.midstep=!1,null!=e.compound?e.compound.wrap_constraints.remove(e.outer):this.wrap_constraints.remove(e.outer),this.midstep=!0):e.active=!1,e.clearcache()):(d=k,k=k.next)}d=this.c_arbiters_false.head;k=!0;null==d&&(d=this.c_arbiters_true.head,k=!1);for(;null!=d;)e=d.elt,e.active&&0!=(e.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&
e.applyImpulsePos(),d=d.next,k&&null==d&&(d=this.c_arbiters_true.head,k=!1)}},group_ignore:function(a,b){var d=a.lookup_group();if(null==d)return!1;var c=b.lookup_group();if(null==c)return!1;for(var e=!1;null!=d&&null!=c;){if(d==c){e=d.ignore;break}d.depth<c.depth?c=c.group:d=d.group}return e},interactionType:function(a,b,d,c){var e;e=!1;for(var g=d.constraints.head;null!=g;){var f=g.elt;if(f.ignore&&f.pair_exists(d.id,c.id)){e=!0;break}g=g.next}return e||this.group_ignore(a,b)?-1:(a.sensorEnabled||
b.sensorEnabled)&&a.filter.shouldSense(b.filter)?2:!a.fluidEnabled&&!b.fluidEnabled||!a.filter.shouldFlow(b.filter)||0==d.imass&&0==c.imass&&0==d.iinertia&&0==c.iinertia?!a.filter.shouldCollide(b.filter)||0==d.imass&&0==c.imass&&0==d.iinertia&&0==c.iinertia?-1:1:0},precb:null,prelisteners:null,narrowPhase:function(a,b,d,k,e){var g=this,h=null,l=a.body,m=b.body,n=this.interactionType(a,b,l,m);if(-1!=n){var u,t;a.type>b.type?(u=b,t=a):a.type==b.type?a.id<b.id?(u=a,t=b):(t=a,u=b):(u=a,t=b);var v=u==
b;if(0==n){var y;if(null==k){for(var q=null,C=(l.arbiters.length<m.arbiters.length?l:m).arbiters.head;null!=C;){var E=C.elt;if(E.id==u.id&&E.di==t.id){q=E;break}C=C.next}y=q}else y=k;var F=null==y,z,G=!1;F?(null==c.dynamics.ZPP_FluidArbiter.zpp_pool?z=new c.dynamics.ZPP_FluidArbiter:(z=c.dynamics.ZPP_FluidArbiter.zpp_pool,c.dynamics.ZPP_FluidArbiter.zpp_pool=z.next,z.next=null),null):null==y.fluidarb?(y.cleared=!0,y.b1.arbiters.inlined_try_remove(y),y.b2.arbiters.inlined_try_remove(y),null!=y.pair&&
(y.pair.arb=null,y.pair=null),y.active=!1,this.f_arbiters.modified=!0,null==c.dynamics.ZPP_FluidArbiter.zpp_pool?z=new c.dynamics.ZPP_FluidArbiter:(z=c.dynamics.ZPP_FluidArbiter.zpp_pool,c.dynamics.ZPP_FluidArbiter.zpp_pool=z.next,z.next=null),null,G=F=z.intchange=!0):z=y.fluidarb;var D=c.util.ZPP_Flags.id_InteractionType_FLUID;if(F||z.stamp!=this.stamp||e)if(z.stamp=this.stamp,c.geom.ZPP_Collide.flowCollide(u,t,z)){F?(z.b1=a.body,z.ws1=a,z.b2=b.body,z.ws2=b,z.id=u.id,z.di=t.id,z.b1.arbiters.inlined_add(z),
z.b2.arbiters.inlined_add(z),z.active=!0,z.present=0,z.cleared=!1,z.sleeping=!1,z.fresh=!1,z.presentable=!1,z.nx=0,z.ny=1,z.dampx=0,z.dampy=0,z.adamp=0,this.f_arbiters.inlined_add(z),z.fresh=!G):z.fresh=z.up_stamp<this.stamp-1||z.endGenerated==this.stamp&&e;z.up_stamp=z.stamp;if(z.fresh||0==(z.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)){z.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT;var r=!1;this.inlined_MRCA_chains(z.ws1.id>z.ws2.id?z.ws2:z.ws1,z.ws1.id>z.ws2.id?z.ws1:z.ws2);for(var H=this.mrca1.head;null!=
H;){for(var J=H.elt,O=this.mrca2.head;null!=O;){var R=O.elt,Q=J.cbSet,S=R.cbSet;if(!Q.manager.pair(Q,S).empty_intersection()){var P=null,T=null;this.prelisteners.inlined_clear();Q.manager.pair(Q,S).forall(c.util.ZPP_Flags.id_CbEvent_PRE,function(a){return function(b){0!=(b.itype&D)&&(a[0]=g.prelisteners.inlined_insert(a[0],b),r=r||!b.pure)}}([null]));if(null!=this.prelisteners.head)if(P=c.phys.ZPP_Interactor.get(J,R),null==P&&(T=c.space.ZPP_CallbackSet.get(J,R),this.add_callbackset(T)),null==P||(P.FLUIDstamp!=
this.stamp||e)&&0==(P.FLUIDstate&c.util.ZPP_Flags.id_ImmState_ALWAYS)){null!=T&&(P=T);if(null!=P)for(var U=this.prelisteners.head;null!=U;)U.elt.itype==c.util.ZPP_Flags.id_InteractionType_ANY&&(P.COLLISIONstamp=this.stamp,P.SENSORstamp=this.stamp),P.FLUIDstamp=this.stamp,U=U.next;z.mutable=!0;null!=z.wrap_position&&(z.wrap_position.zpp_inner._immutable=!1);var Y=z.active;z.active=!0;this.precb.zpp_inner.pre_arbiter=z;this.precb.zpp_inner.set=P;for(var ca=this.prelisteners.head;null!=ca;){var ga=ca.elt;
this.precb.zpp_inner.listener=ga;c.phys.ZPP_Interactor.int_callback(P,ga,this.precb.zpp_inner);this.precb.zpp_inner.pre_swapped=J!=this.precb.zpp_inner.int1;var ia=ga.handlerp(this.precb);if(null!=ia){var wa=ia;null==c.util.ZPP_Flags.PreFlag_ACCEPT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);if(wa==c.util.ZPP_Flags.PreFlag_ACCEPT)z.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT|c.util.ZPP_Flags.id_ImmState_ALWAYS;else{var za=ia;
null==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);if(za==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE)z.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT;else{var Aa=ia;null==c.util.ZPP_Flags.PreFlag_IGNORE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);Aa==c.util.ZPP_Flags.PreFlag_IGNORE?z.immState=c.util.ZPP_Flags.id_ImmState_IGNORE|
c.util.ZPP_Flags.id_ImmState_ALWAYS:z.immState=c.util.ZPP_Flags.id_ImmState_IGNORE}}}ca=ca.next}z.mutable=!1;null!=z.wrap_position&&(z.wrap_position.zpp_inner._immutable=!0);z.active=Y;if(null!=P)for(var aa=this.prelisteners.head;null!=aa;)aa.elt.itype==c.util.ZPP_Flags.id_InteractionType_ANY&&(P.COLLISIONstate=z.immState,P.SENSORstate=z.immState),P.FLUIDstate=z.immState,aa=aa.next}else null==P?0==(z.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)&&(z.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT):z.immState=
P.FLUIDstate}O=O.next}H=H.next}if(r&&0==(z.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)){if(z.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var la=z.b1;la.world||(la.component.waket=this.stamp+(this.midstep?0:1),la.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(la.kinematicDelaySleep=!0),la.component.sleeping&&this.really_wake(la,!1))}if(z.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var ma=z.b2;ma.world||(ma.component.waket=this.stamp+(this.midstep?0:1),ma.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&
(ma.kinematicDelaySleep=!0),ma.component.sleeping&&this.really_wake(ma,!1))}}}if(0!=(z.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)){if(z.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&z.b1.component.sleeping){var X=z.b1;X.world||(X.component.waket=this.stamp+(this.midstep?0:1),X.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(X.kinematicDelaySleep=!0),X.component.sleeping&&this.really_wake(X,!1))}if(z.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&z.b2.component.sleeping){var na=z.b2;na.world||(na.component.waket=
this.stamp+(this.midstep?0:1),na.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(na.kinematicDelaySleep=!0),na.component.sleeping&&this.really_wake(na,!1))}}z.sleeping&&(z.sleeping=!1,this.f_arbiters.inlined_add(z));h=z}else if(F){var Ea=z;Ea.next=c.dynamics.ZPP_FluidArbiter.zpp_pool;c.dynamics.ZPP_FluidArbiter.zpp_pool=Ea;h=null}else h=z;else h=z}else if(1==n){var Da;Da=d?this.c_arbiters_true:this.c_arbiters_false;var sa;if(null==k){for(var Ua=null,Fa=(l.arbiters.length<m.arbiters.length?l:m).arbiters.head;null!=
Fa;){var Oa=Fa.elt;if(Oa.id==u.id&&Oa.di==t.id){Ua=Oa;break}Fa=Fa.next}sa=Ua}else sa=k;var Ka=null==sa,I,cb=!1;Ka?(null==c.dynamics.ZPP_ColArbiter.zpp_pool?I=new c.dynamics.ZPP_ColArbiter:(I=c.dynamics.ZPP_ColArbiter.zpp_pool,c.dynamics.ZPP_ColArbiter.zpp_pool=I.next,I.next=null),null,I.stat=d):null==sa.colarb?(sa.cleared=!0,sa.b1.arbiters.inlined_try_remove(sa),sa.b2.arbiters.inlined_try_remove(sa),null!=sa.pair&&(sa.pair.arb=null,sa.pair=null),sa.active=!1,this.f_arbiters.modified=!0,null==c.dynamics.ZPP_ColArbiter.zpp_pool?
I=new c.dynamics.ZPP_ColArbiter:(I=c.dynamics.ZPP_ColArbiter.zpp_pool,c.dynamics.ZPP_ColArbiter.zpp_pool=I.next,I.next=null),null,I.intchange=!0,I.stat=d,cb=Ka=!0):(I=sa.colarb,v=u!=I.s1,I.stat!=d&&(I.stat=d,I.sleeping||((d?this.c_arbiters_false:this.c_arbiters_true).remove(I),Da.add(I))));var rb=c.util.ZPP_Flags.id_InteractionType_COLLISION;if(Ka||I.stamp!=this.stamp||e)if(I.stamp=this.stamp,c.geom.ZPP_Collide.contactCollide(u,t,I,v)){Ka?(I.b1=a.body,I.ws1=a,I.b2=b.body,I.ws2=b,I.id=u.id,I.di=t.id,
I.b1.arbiters.inlined_add(I),I.b2.arbiters.inlined_add(I),I.active=!0,I.present=0,I.cleared=!1,I.sleeping=!1,I.fresh=!1,I.presentable=!1,I.s1=a,I.s2=b,I.userdef_restitution||(I.restitution=I.s1.material.elasticity<=Math.NEGATIVE_INFINITY||I.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:I.s1.material.elasticity>=Math.POSITIVE_INFINITY||I.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(I.s1.material.elasticity+I.s2.material.elasticity)/2,0>I.restitution&&(I.restitution=0),1<I.restitution&&(I.restitution=
1)),I.userdef_dyn_fric||(I.dyn_fric=Math.sqrt(I.s1.material.dynamicFriction*I.s2.material.dynamicFriction)),I.userdef_stat_fric||(I.stat_fric=Math.sqrt(I.s1.material.staticFriction*I.s2.material.staticFriction)),I.userdef_rfric||(I.rfric=Math.sqrt(I.s1.material.rollingFriction*I.s2.material.rollingFriction)),Da.inlined_add(I),I.fresh=!cb):I.fresh=I.up_stamp<this.stamp-1||I.endGenerated==this.stamp&&e;I.up_stamp=I.stamp;if(I.fresh||0==(I.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)){I.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT;
var ta=!1;this.inlined_MRCA_chains(I.ws1.id>I.ws2.id?I.ws2:I.ws1,I.ws1.id>I.ws2.id?I.ws1:I.ws2);for(var jb=this.mrca1.head;null!=jb;){for(var Pa=jb.elt,La=this.mrca2.head;null!=La;){var Va=La.elt,Z=Pa.cbSet,ib=Va.cbSet;if(!Z.manager.pair(Z,ib).empty_intersection()){var K=null,kb=null;this.prelisteners.inlined_clear();Z.manager.pair(Z,ib).forall(c.util.ZPP_Flags.id_CbEvent_PRE,function(a){return function(b){0!=(b.itype&rb)&&(a[0]=g.prelisteners.inlined_insert(a[0],b),ta=ta||!b.pure)}}([null]));if(null!=
this.prelisteners.head)if(K=c.phys.ZPP_Interactor.get(Pa,Va),null==K&&(kb=c.space.ZPP_CallbackSet.get(Pa,Va),this.add_callbackset(kb)),null==K||(K.COLLISIONstamp!=this.stamp||e)&&0==(K.COLLISIONstate&c.util.ZPP_Flags.id_ImmState_ALWAYS)){null!=kb&&(K=kb);if(null!=K)for(var xb=this.prelisteners.head;null!=xb;)xb.elt.itype==c.util.ZPP_Flags.id_InteractionType_ANY?(K.COLLISIONstamp=this.stamp,K.SENSORstamp=this.stamp,K.FLUIDstamp=this.stamp):K.COLLISIONstamp=this.stamp,xb=xb.next;I.mutable=!0;null!=
I.wrap_normal&&(I.wrap_normal.zpp_inner._immutable=!1);null!=I.wrap_contacts&&(I.wrap_contacts.zpp_inner.immutable=!1);var qb=I.active;I.active=!0;I.cleanupContacts();this.precb.zpp_inner.pre_arbiter=I;this.precb.zpp_inner.set=K;for(var pa=this.prelisteners.head;null!=pa;){var da=pa.elt;this.precb.zpp_inner.listener=da;c.phys.ZPP_Interactor.int_callback(K,da,this.precb.zpp_inner);this.precb.zpp_inner.pre_swapped=Pa!=this.precb.zpp_inner.int1;var qa=da.handlerp(this.precb);if(null!=qa){var ja=qa;null==
c.util.ZPP_Flags.PreFlag_ACCEPT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);if(ja==c.util.ZPP_Flags.PreFlag_ACCEPT)I.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT|c.util.ZPP_Flags.id_ImmState_ALWAYS;else{var Qa=qa;null==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);if(Qa==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE)I.immState=
c.util.ZPP_Flags.id_ImmState_ACCEPT;else{var Wa=qa;null==c.util.ZPP_Flags.PreFlag_IGNORE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);Wa==c.util.ZPP_Flags.PreFlag_IGNORE?I.immState=c.util.ZPP_Flags.id_ImmState_IGNORE|c.util.ZPP_Flags.id_ImmState_ALWAYS:I.immState=c.util.ZPP_Flags.id_ImmState_IGNORE}}}pa=pa.next}I.mutable=!1;null!=I.wrap_normal&&(I.wrap_normal.zpp_inner._immutable=!0);null!=I.wrap_contacts&&(I.wrap_contacts.zpp_inner.immutable=
!0);I.active=qb;if(null!=K)for(var Xa=this.prelisteners.head;null!=Xa;)Xa.elt.itype==c.util.ZPP_Flags.id_InteractionType_ANY?(K.COLLISIONstate=I.immState,K.SENSORstate=I.immState,K.FLUIDstate=I.immState):K.COLLISIONstate=I.immState,Xa=Xa.next}else null==K?0==(I.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)&&(I.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT):I.immState=K.COLLISIONstate}La=La.next}jb=jb.next}if(ta&&0==(I.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)){if(I.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var Ya=
I.b1;Ya.world||(Ya.component.waket=this.stamp+(this.midstep?0:1),Ya.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(Ya.kinematicDelaySleep=!0),Ya.component.sleeping&&this.really_wake(Ya,!1))}if(I.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var Ra=I.b2;Ra.world||(Ra.component.waket=this.stamp+(this.midstep?0:1),Ra.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(Ra.kinematicDelaySleep=!0),Ra.component.sleeping&&this.really_wake(Ra,!1))}}}if(0!=(I.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)){if(I.b1.type==
c.util.ZPP_Flags.id_BodyType_DYNAMIC&&I.b1.component.sleeping){var ha=I.b1;ha.world||(ha.component.waket=this.stamp+(this.midstep?0:1),ha.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(ha.kinematicDelaySleep=!0),ha.component.sleeping&&this.really_wake(ha,!1))}if(I.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&I.b2.component.sleeping){var Sa=I.b2;Sa.world||(Sa.component.waket=this.stamp+(this.midstep?0:1),Sa.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(Sa.kinematicDelaySleep=!0),Sa.component.sleeping&&
this.really_wake(Sa,!1))}}I.sleeping&&(I.sleeping=!1,Da.inlined_add(I));h=I}else if(Ka){var Ma=I;Ma.userdef_dyn_fric=!1;Ma.userdef_stat_fric=!1;Ma.userdef_restitution=!1;Ma.userdef_rfric=!1;Ma.__ref_edge1=Ma.__ref_edge2=null;Ma.next=c.dynamics.ZPP_ColArbiter.zpp_pool;c.dynamics.ZPP_ColArbiter.zpp_pool=Ma;h=null}else h=I;else h=I}else{var ea;if(null==k){for(var Ta=null,yb=(l.arbiters.length<m.arbiters.length?l:m).arbiters.head;null!=yb;){var db=yb.elt;if(db.id==u.id&&db.di==t.id){Ta=db;break}yb=yb.next}ea=
Ta}else ea=k;var wb=null==ea,M,Mb=!1;wb?(null==c.dynamics.ZPP_SensorArbiter.zpp_pool?M=new c.dynamics.ZPP_SensorArbiter:(M=c.dynamics.ZPP_SensorArbiter.zpp_pool,c.dynamics.ZPP_SensorArbiter.zpp_pool=M.next,M.next=null),null):null==ea.sensorarb?(ea.cleared=!0,ea.b1.arbiters.inlined_try_remove(ea),ea.b2.arbiters.inlined_try_remove(ea),null!=ea.pair&&(ea.pair.arb=null,ea.pair=null),ea.active=!1,this.f_arbiters.modified=!0,null==c.dynamics.ZPP_SensorArbiter.zpp_pool?M=new c.dynamics.ZPP_SensorArbiter:
(M=c.dynamics.ZPP_SensorArbiter.zpp_pool,c.dynamics.ZPP_SensorArbiter.zpp_pool=M.next,M.next=null),null,Mb=wb=M.intchange=!0):M=ea.sensorarb;var Sb=c.util.ZPP_Flags.id_InteractionType_SENSOR;if(wb||M.stamp!=this.stamp||e)if(M.stamp=this.stamp,c.geom.ZPP_Collide.testCollide(u,t)){wb?(M.b1=a.body,M.ws1=a,M.b2=b.body,M.ws2=b,M.id=u.id,M.di=t.id,M.b1.arbiters.inlined_add(M),M.b2.arbiters.inlined_add(M),M.active=!0,M.present=0,M.cleared=!1,M.sleeping=!1,M.fresh=!1,M.presentable=!1,this.s_arbiters.inlined_add(M),
M.fresh=!Mb):M.fresh=M.up_stamp<this.stamp-1||M.endGenerated==this.stamp&&e;M.up_stamp=M.stamp;if(M.fresh||0==(M.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)){M.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT;var Cb=!1;this.inlined_MRCA_chains(M.ws1.id>M.ws2.id?M.ws2:M.ws1,M.ws1.id>M.ws2.id?M.ws1:M.ws2);for(var Na=this.mrca1.head;null!=Na;){for(var Db=Na.elt,xa=this.mrca2.head;null!=xa;){var Nb=xa.elt,Ga=Db.cbSet,Za=Nb.cbSet;if(!Ga.manager.pair(Ga,Za).empty_intersection()){var ka=null,Jb=null;this.prelisteners.inlined_clear();
Ga.manager.pair(Ga,Za).forall(c.util.ZPP_Flags.id_CbEvent_PRE,function(a){return function(b){0!=(b.itype&Sb)&&(a[0]=g.prelisteners.inlined_insert(a[0],b),Cb=Cb||!b.pure)}}([null]));if(null!=this.prelisteners.head)if(ka=c.phys.ZPP_Interactor.get(Db,Nb),null==ka&&(Jb=c.space.ZPP_CallbackSet.get(Db,Nb),this.add_callbackset(Jb)),null==ka||(ka.SENSORstamp!=this.stamp||e)&&0==(ka.SENSORstate&c.util.ZPP_Flags.id_ImmState_ALWAYS)){null!=Jb&&(ka=Jb);if(null!=ka)for(var sb=this.prelisteners.head;null!=sb;)sb.elt.itype==
c.util.ZPP_Flags.id_InteractionType_ANY?(ka.COLLISIONstamp=this.stamp,ka.SENSORstamp=this.stamp,ka.FLUIDstamp=this.stamp):ka.SENSORstamp=this.stamp,sb=sb.next;var oa=M.active;M.active=!0;this.precb.zpp_inner.pre_arbiter=M;this.precb.zpp_inner.set=ka;for(var $a=this.prelisteners.head;null!=$a;){var lb=$a.elt;this.precb.zpp_inner.listener=lb;c.phys.ZPP_Interactor.int_callback(ka,lb,this.precb.zpp_inner);this.precb.zpp_inner.pre_swapped=Db!=this.precb.zpp_inner.int1;var Kb=lb.handlerp(this.precb);if(null!=
Kb){var Tb=Kb;null==c.util.ZPP_Flags.PreFlag_ACCEPT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);if(Tb==c.util.ZPP_Flags.PreFlag_ACCEPT)M.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT|c.util.ZPP_Flags.id_ImmState_ALWAYS;else{var mb=Kb;null==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);if(mb==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE)M.immState=
c.util.ZPP_Flags.id_ImmState_ACCEPT;else{var nb=Kb;null==c.util.ZPP_Flags.PreFlag_IGNORE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new f.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);nb==c.util.ZPP_Flags.PreFlag_IGNORE?M.immState=c.util.ZPP_Flags.id_ImmState_IGNORE|c.util.ZPP_Flags.id_ImmState_ALWAYS:M.immState=c.util.ZPP_Flags.id_ImmState_IGNORE}}}$a=$a.next}M.active=oa;if(null!=ka)for(var zb=this.prelisteners.head;null!=zb;)zb.elt.itype==c.util.ZPP_Flags.id_InteractionType_ANY?
(ka.COLLISIONstate=M.immState,ka.SENSORstate=M.immState,ka.FLUIDstate=M.immState):ka.SENSORstate=M.immState,zb=zb.next}else null==ka?0==(M.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)&&(M.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT):M.immState=ka.SENSORstate}xa=xa.next}Na=Na.next}if(Cb&&0==(M.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)){if(M.b1.type!=c.util.ZPP_Flags.id_BodyType_STATIC){var eb=M.b1;eb.world||(eb.component.waket=this.stamp+(this.midstep?0:1),eb.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&
(eb.kinematicDelaySleep=!0),eb.component.sleeping&&this.really_wake(eb,!1))}if(M.b2.type!=c.util.ZPP_Flags.id_BodyType_STATIC){var fb=M.b2;fb.world||(fb.component.waket=this.stamp+(this.midstep?0:1),fb.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(fb.kinematicDelaySleep=!0),fb.component.sleeping&&this.really_wake(fb,!1))}}}M.sleeping&&(M.sleeping=!1,this.s_arbiters.inlined_add(M));h=M}else if(wb){var gb=M;gb.next=c.dynamics.ZPP_SensorArbiter.zpp_pool;c.dynamics.ZPP_SensorArbiter.zpp_pool=gb;h=null}else h=
M;else h=M}}return h},mrca1:null,mrca2:null,MRCA_chains:function(a,b){this.inlined_MRCA_chains(a,b)},inlined_MRCA_chains:function(a,b){this.mrca1.inlined_clear();this.mrca2.inlined_clear();null!=a.cbSet&&this.mrca1.inlined_add(a);null!=a.body.cbSet&&this.mrca1.inlined_add(a.body);null!=b.cbSet&&this.mrca2.inlined_add(b);null!=b.body.cbSet&&this.mrca2.inlined_add(b.body);for(var d=a.body.compound,c=b.body.compound;d!=c;)(null==d?0:d.depth)<(null==c?0:c.depth)?(null!=c.cbSet&&this.mrca2.inlined_add(c),
c=c.compound):(null!=d.cbSet&&this.mrca1.inlined_add(d),d=d.compound)},__class__:c.space.ZPP_Space};c.space.ZPP_SweepData=function(){this.next=this.prev=this.shape=this.aabb=null};m["zpp_nape.space.ZPP_SweepData"]=c.space.ZPP_SweepData;c.space.ZPP_SweepData.__name__=["zpp_nape","space","ZPP_SweepData"];c.space.ZPP_SweepData.prototype={next:null,prev:null,shape:null,aabb:null,free:function(){this.aabb=this.shape=this.prev=null},alloc:function(){},gt:function(a){return this.aabb.minx>a.aabb.minx},__class__:c.space.ZPP_SweepData};
c.space.ZPP_SweepPhase=function(a){this.list=this.failed=null;c.space.ZPP_Broadphase.call(this);this.space=a;this.is_sweep=!0;this.sweep=this};m["zpp_nape.space.ZPP_SweepPhase"]=c.space.ZPP_SweepPhase;c.space.ZPP_SweepPhase.__name__=["zpp_nape","space","ZPP_SweepPhase"];c.space.ZPP_SweepPhase.__super__=c.space.ZPP_Broadphase;c.space.ZPP_SweepPhase.prototype=F(c.space.ZPP_Broadphase.prototype,{list:null,__insert:function(a){var b;null==c.space.ZPP_SweepData.zpp_pool?b=new c.space.ZPP_SweepData:(b=
c.space.ZPP_SweepData.zpp_pool,c.space.ZPP_SweepData.zpp_pool=b.next,b.next=null);null;a.sweep=b;b.shape=a;b.aabb=a.aabb;b.next=this.list;null!=this.list&&(this.list.prev=b);this.list=b},__remove:function(a){var b=a.sweep;null==b.prev?this.list=b.next:b.prev.next=b.next;null!=b.next&&(b.next.prev=b.prev);a.sweep=null;b.prev=null;b.shape=null;b.aabb=null;b.next=c.space.ZPP_SweepData.zpp_pool;c.space.ZPP_SweepData.zpp_pool=b},__sync:function(a){!this.space.continuous&&a.zip_aabb&&null!=a.body&&(a.zip_aabb=
!1,a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb())},sync_broadphase:function(){this.space.validation();null!=this.list&&this.sync_broadphase_fast()},sync_broadphase_fast:function(){for(var a=this.list.next;null!=a;){var b=a.next,d=a.prev;if(!(a.aabb.minx>d.aabb.minx)){for(;null!=d.prev&&d.prev.aabb.minx>a.aabb.minx;)d=d.prev;var c=a.prev;c.next=a.next;null!=a.next&&(a.next.prev=c);null==d.prev?(a.prev=null,this.list=a,a.next=d,d.prev=a):(a.prev=
d.prev,d.prev=a,a.prev.next=a,a.next=d)}a=b}},broadphase:function(a,b){if(null!=this.list){this.sync_broadphase_fast();for(var d=this.list;null!=d;){for(var k=d.next,e=d.shape,g=e.body,f=d.aabb.maxx;null!=k&&!(k.aabb.minx>f);){var h=k.shape,l=h.body;l==g||g.type==c.util.ZPP_Flags.id_BodyType_STATIC&&l.type==c.util.ZPP_Flags.id_BodyType_STATIC||g.component.sleeping&&l.component.sleeping||e.aabb.intersectY(h.aabb)&&(b?a.narrowPhase(e,h,g.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||l.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC,
null,!1):a.continuousEvent(e,h,g.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||l.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC,null,!1));k=k.next}d=d.next}}},clear:function(){for(;null!=this.list;)this.list.shape.removedFromSpace(),this.__remove(this.list.shape)},shapesUnderPoint:function(a,b,d,k){this.sync_broadphase();var e=c.geom.ZPP_Vec2.get(a,b,null);k=null==k?new f.shape.ShapeList:k;for(var g=this.list;null!=g&&g.aabb.minx>a;)g=g.next;for(;null!=g&&g.aabb.minx<=a;){if(g.aabb.maxx>=a&&g.aabb.miny<=
b&&g.aabb.maxy>=b){var h=g.shape;if(null==d||h.filter.shouldCollide(d))h.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(h.circle,e)&&k.push(h.outer):c.geom.ZPP_Collide.polyContains(h.polygon,e)&&k.push(h.outer)}g=g.next}null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null);e._isimmutable=null;e._validate=null;e._invalidate=null;e.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=e;return k},bodiesUnderPoint:function(a,b,d,k){this.sync_broadphase();var e=c.geom.ZPP_Vec2.get(a,
b,null);k=null==k?new f.phys.BodyList:k;for(var g=this.list;null!=g&&g.aabb.minx>a;)g=g.next;for(;null!=g&&g.aabb.minx<=a;){if(g.aabb.maxx>=a&&g.aabb.miny<=b&&g.aabb.maxy>=b){var h=g.shape,l=h.body.outer;k.has(l)||null!=d&&!h.filter.shouldCollide(d)||(h.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(h.circle,e)&&k.push(l):c.geom.ZPP_Collide.polyContains(h.polygon,e)&&k.push(l))}g=g.next}null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null);e._isimmutable=null;e._validate=
null;e._invalidate=null;e.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=e;return k},shapesInAABB:function(a,b,d,k,e){this.sync_broadphase();this.updateAABBShape(a);a=this.aabbShape.zpp_inner.aabb;e=null==e?new f.shape.ShapeList:e;for(var g=this.list;null!=g&&g.aabb.maxx<a.minx;)g=g.next;for(;null!=g&&g.aabb.minx<=a.maxx;){var h=g.shape;if(null==k||h.filter.shouldCollide(k))b?d?c.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,h)&&e.push(h.outer):a.contains(g.aabb)?e.push(h.outer):g.aabb.intersect(a)&&
c.geom.ZPP_Collide.testCollide_safe(h,this.aabbShape.zpp_inner)&&e.push(h.outer):(d?a.contains(g.aabb):g.aabb.intersect(a))&&e.push(h.outer);g=g.next}return e},failed:null,bodiesInAABB:function(a,b,d,k,e){this.sync_broadphase();this.updateAABBShape(a);a=this.aabbShape.zpp_inner.aabb;e=null==e?new f.phys.BodyList:e;null==this.failed&&(this.failed=new f.phys.BodyList);for(var g=this.list;null!=g&&g.aabb.maxx<a.minx;)g=g.next;for(;null!=g&&g.aabb.minx<=a.maxx;){var h=g.shape,l=h.body.outer;g.aabb.intersect(a)&&
(null==k||h.filter.shouldCollide(k))&&(b?d?this.failed.has(l)||(h=c.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,h),!e.has(l)&&h?e.push(l):h||(e.remove(l),this.failed.push(l))):!e.has(l)&&c.geom.ZPP_Collide.testCollide_safe(h,this.aabbShape.zpp_inner)&&e.push(l):d?this.failed.has(l)||(h=a.contains(h.aabb),!e.has(l)&&h?e.push(l):h||(e.remove(l),this.failed.push(l))):!e.has(l)&&a.contains(h.aabb)&&e.push(l));g=g.next}this.failed.clear();return e},shapesInCircle:function(a,b,d,k,e,g){this.sync_broadphase();
this.updateCircShape(a,b,d);a=this.circShape.zpp_inner.aabb;g=null==g?new f.shape.ShapeList:g;for(b=this.list;null!=b&&b.aabb.maxx<a.minx;)b=b.next;for(;null!=b&&b.aabb.minx<=a.maxx;)b.aabb.intersect(a)&&(d=b.shape,null==e||d.filter.shouldCollide(e))&&(k?c.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,d)&&g.push(d.outer):c.geom.ZPP_Collide.testCollide_safe(d,this.circShape.zpp_inner)&&g.push(d.outer)),b=b.next;return g},bodiesInCircle:function(a,b,d,k,e,g){this.sync_broadphase();this.updateCircShape(a,
b,d);a=this.circShape.zpp_inner.aabb;g=null==g?new f.phys.BodyList:g;null==this.failed&&(this.failed=new f.phys.BodyList);for(b=this.list;null!=b&&b.aabb.maxx<a.minx;)b=b.next;for(;null!=b&&b.aabb.minx<=a.maxx;){if(b.aabb.intersect(a)){var h=b.shape;d=h.body.outer;if(null==e||h.filter.shouldCollide(e))k?this.failed.has(d)||(h=c.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,h),!g.has(d)&&h?g.push(d):h||(g.remove(d),this.failed.push(d))):!g.has(d)&&c.geom.ZPP_Collide.testCollide_safe(h,this.circShape.zpp_inner)&&
g.push(d)}b=b.next}this.failed.clear();return g},shapesInShape:function(a,b,d,k){this.sync_broadphase();this.validateShape(a);var e=a.aabb;k=null==k?new f.shape.ShapeList:k;for(var g=this.list;null!=g&&g.aabb.maxx<e.minx;)g=g.next;for(;null!=g&&g.aabb.minx<=e.maxx;){if(g.aabb.intersect(e)){var h=g.shape;if(null==d||h.filter.shouldCollide(d))b?c.geom.ZPP_Collide.containTest(a,h)&&k.push(h.outer):c.geom.ZPP_Collide.testCollide_safe(h,a)&&k.push(h.outer)}g=g.next}return k},bodiesInShape:function(a,b,
d,k){this.sync_broadphase();this.validateShape(a);var e=a.aabb;k=null==k?new f.phys.BodyList:k;null==this.failed&&(this.failed=new f.phys.BodyList);for(var g=this.list;null!=g&&g.aabb.maxx<e.minx;)g=g.next;for(;null!=g&&g.aabb.minx<=e.maxx;){if(g.aabb.intersect(e)){var h=g.shape,l=h.body.outer;if(null==d||h.filter.shouldCollide(d))b?this.failed.has(l)||(h=c.geom.ZPP_Collide.containTest(a,h),!k.has(l)&&h?k.push(l):h||(k.remove(l),this.failed.push(l))):!k.has(l)&&c.geom.ZPP_Collide.testCollide_safe(a,
h)&&k.push(l)}g=g.next}this.failed.clear();return k},rayCast:function(a,b,d){this.sync_broadphase();a.validate_dir();var k=a.rayAABB(),e=a.maxdist,g=null;if(0==a.dirx)for(var f=this.list;null!=f&&f.aabb.minx<=k.minx;){if(f.aabb.intersect(k)&&(null==d||f.shape.filter.shouldCollide(d))){var h=a.aabbsect(f.aabb);if(0<=h&&h<e&&(h=f.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect(f.shape.circle,b,e):a.polysect(f.shape.polygon,b,e),null!=h)){if(null!=h.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
e=h.zpp_inner.toiDistance;if(null!=g){if(null!=g.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";g.zpp_inner.free()}g=h}}f=f.next}else if(0>a.dirx){f=this.list;for(h=null;null!=f&&f.aabb.minx<=k.maxx;)h=f,f=f.next;for(f=h;null!=f;){if(f.aabb.intersect(k)&&(null==d||f.shape.filter.shouldCollide(d))&&(h=a.aabbsect(f.aabb),0<=h&&h<e&&(h=f.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect(f.shape.circle,b,e):a.polysect(f.shape.polygon,b,e),null!=h))){if(null!=
h.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";e=h.zpp_inner.toiDistance;if(null!=g){if(null!=g.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";g.zpp_inner.free()}g=h}f=f.prev}}else for(f=this.list;null!=f&&f.aabb.minx<=k.maxx&&f.aabb.minx<a.originx+a.dirx*e;){if(f.aabb.intersect(k)&&(null==d||f.shape.filter.shouldCollide(d))&&(h=a.aabbsect(f.aabb),0<=h&&h<e&&(h=f.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect(f.shape.circle,
b,e):a.polysect(f.shape.polygon,b,e),null!=h))){if(null!=h.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";e=h.zpp_inner.toiDistance;if(null!=g){if(null!=g.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";g.zpp_inner.free()}g=h}f=f.next}null!=k.outer&&(k.outer.zpp_inner=null,k.outer=null);k.wrap_min=k.wrap_max=null;k._invalidate=null;k._validate=null;k.next=c.geom.ZPP_AABB.zpp_pool;c.geom.ZPP_AABB.zpp_pool=k;return g},rayMultiCast:function(a,
b,d,k){this.sync_broadphase();a.validate_dir();var e=a.rayAABB();k=null==k?new f.geom.RayResultList:k;if(0==a.dirx)for(var g=this.list;null!=g&&g.aabb.minx<=e.minx;)g.aabb.intersect(e)&&(null==d||g.shape.filter.shouldCollide(d))&&0<=a.aabbsect(g.aabb)&&(g.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect2(g.shape.circle,b,k):a.polysect2(g.shape.polygon,b,k)),g=g.next;else if(0>a.dirx){for(var g=this.list,h=null;null!=g&&g.aabb.minx<=e.maxx;)h=g,g=g.next;for(g=h;null!=g;)g.aabb.intersect(e)&&
(null==d||g.shape.filter.shouldCollide(d))&&0<=a.aabbsect(g.aabb)&&(g.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect2(g.shape.circle,b,k):a.polysect2(g.shape.polygon,b,k)),g=g.prev}else for(g=this.list;null!=g&&g.aabb.minx<=e.maxx;)g.aabb.intersect(e)&&(null==d||g.shape.filter.shouldCollide(d))&&0<=a.aabbsect(g.aabb)&&(g.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect2(g.shape.circle,b,k):a.polysect2(g.shape.polygon,b,k)),g=g.next;null!=e.outer&&(e.outer.zpp_inner=null,
e.outer=null);e.wrap_min=e.wrap_max=null;e._invalidate=null;e._validate=null;e.next=c.geom.ZPP_AABB.zpp_pool;c.geom.ZPP_AABB.zpp_pool=e;return k},__class__:c.space.ZPP_SweepPhase});c.util.ZNPArray2_Float=function(a,b){this.width=0;this.list=null;this.width=a;this.list=[]};m["zpp_nape.util.ZNPArray2_Float"]=c.util.ZNPArray2_Float;c.util.ZNPArray2_Float.__name__=["zpp_nape","util","ZNPArray2_Float"];c.util.ZNPArray2_Float.prototype={list:null,width:null,resize:function(a,b,d){this.width=a;var c=0;for(a*=
b;c<a;)b=c++,this.list[b]=d},get:function(a,b){return this.list[b*this.width+a]},set:function(a,b,d){return this.list[b*this.width+a]=d},__class__:c.util.ZNPArray2_Float};c.util.ZNPArray2_ZPP_GeomVert=function(a,b){this.width=0;this.list=null;this.width=a;this.list=[]};m["zpp_nape.util.ZNPArray2_ZPP_GeomVert"]=c.util.ZNPArray2_ZPP_GeomVert;c.util.ZNPArray2_ZPP_GeomVert.__name__=["zpp_nape","util","ZNPArray2_ZPP_GeomVert"];c.util.ZNPArray2_ZPP_GeomVert.prototype={list:null,width:null,resize:function(a,
b,d){this.width=a;var c=0;for(a*=b;c<a;)b=c++,this.list[b]=d},get:function(a,b){return this.list[b*this.width+a]},set:function(a,b,d){return this.list[b*this.width+a]=d},__class__:c.util.ZNPArray2_ZPP_GeomVert};c.util.ZNPArray2_ZPP_MarchPair=function(a,b){this.width=0;this.list=null;this.width=a;this.list=[]};m["zpp_nape.util.ZNPArray2_ZPP_MarchPair"]=c.util.ZNPArray2_ZPP_MarchPair;c.util.ZNPArray2_ZPP_MarchPair.__name__=["zpp_nape","util","ZNPArray2_ZPP_MarchPair"];c.util.ZNPArray2_ZPP_MarchPair.prototype=
{list:null,width:null,resize:function(a,b,d){this.width=a;var c=0;for(a*=b;c<a;)b=c++,this.list[b]=d},get:function(a,b){return this.list[b*this.width+a]},set:function(a,b,d){return this.list[b*this.width+a]=d},__class__:c.util.ZNPArray2_ZPP_MarchPair};c.util.ZPP_Debug=function(a,b){this.viewport=this.iport=this.tmpab=null;this.xdet=this.width=this.height=0;this.xnull=!1;this.xform=null;this.bg_r=this.bg_g=this.bg_b=this.bg_col=0;this.d_shape=null;this.isbmp=!1;this.outer=null;this.xnull=!0;this.xdet=
1;this.width=a;this.height=b;this.viewport=c.geom.ZPP_AABB.get(0,0,a,b);this.iport=c.geom.ZPP_AABB.get(0,0,a,b);this.tmpab=new c.geom.ZPP_AABB};m["zpp_nape.util.ZPP_Debug"]=c.util.ZPP_Debug;c.util.ZPP_Debug.__name__=["zpp_nape","util","ZPP_Debug"];c.util.ZPP_Debug.prototype={outer:null,isbmp:null,d_shape:null,bg_r:null,bg_g:null,bg_b:null,bg_col:null,xform:null,xnull:null,xdet:null,width:null,height:null,viewport:null,iport:null,xform_invalidate:function(){this.xdet=c.util.ZPP_Math.sqrt(function(a){a=
a.xform.outer.get_determinant();return 0>a?-a:a}(this));this.xnull=1==this.xform.a&&0==this.xform.b&&0==this.xform.c&&1==this.xform.d&&0==this.xform.tx&&0==this.xform.ty;var a=this.xform.outer.inverse(),b=f.geom.Vec2.get(null,null,null),d=a.transform(b);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();this.iport.minx=d.zpp_inner.x;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();this.iport.miny=
d.zpp_inner.y;this.iport.maxx=this.iport.minx;this.iport.maxy=this.iport.miny;d.dispose();b.set_x(this.width);d=a.transform(b);this.iport.setExpandPoint(function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.x}(this),function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.y}(this));d.dispose();b.set_y(this.height);d=a.transform(b);this.iport.setExpandPoint(function(a){if(null!=
d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.x}(this),function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.y}(this));d.dispose();if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.immutable();if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();0!=b.zpp_inner.x&&
(b.zpp_inner.x=0,b.zpp_inner.invalidate());if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();b.zpp_inner.x;d=a.transform(b);this.iport.setExpandPoint(function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.x}(this),function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.y}(this));d.dispose();
b.dispose()},setform:function(){this.xform=(new f.geom.Mat23).zpp_inner;this.xform._invalidate=u(this,this.xform_invalidate)},tmpab:null,cull:function(a){if(this.xnull)return a.intersect(this.viewport);var b=0,d=0,c=0,e=0,c=a.minx,e=a.miny;this.tmpab.minx=this.xform.a*c+this.xform.b*e+this.xform.tx;this.tmpab.miny=this.xform.c*c+this.xform.d*e+this.xform.ty;this.tmpab.maxx=this.tmpab.minx;this.tmpab.maxy=this.tmpab.miny;c=a.maxx;b=this.xform.a*c+this.xform.b*e+this.xform.tx;d=this.xform.c*c+this.xform.d*
e+this.xform.ty;this.tmpab.setExpandPoint(b,d);e=a.maxy;b=this.xform.a*c+this.xform.b*e+this.xform.tx;d=this.xform.c*c+this.xform.d*e+this.xform.ty;this.tmpab.setExpandPoint(b,d);c=a.minx;b=this.xform.a*c+this.xform.b*e+this.xform.tx;d=this.xform.c*c+this.xform.d*e+this.xform.ty;this.tmpab.setExpandPoint(b,d);return this.tmpab.intersect(this.viewport)},sup_setbg:function(a){this.bg_r=a>>16&255;this.bg_g=a>>8&255;this.bg_b=a&255;this.bg_col=a},__class__:c.util.ZPP_Debug};c.util.ZPP_ShapeDebug=function(a,
b){this.outer_zn=this.shape=this.graphics=this.compoundstack=this.shapeList=this.bodyList=null;c.util.ZPP_Debug.call(this,a,b);this.shape=new h.display.Shape;this.shape.set_scrollRect(new h.geom.Rectangle(0,0,a,b));this.graphics=this.shape.graphics;this.isbmp=!1;this.d_shape=this};m["zpp_nape.util.ZPP_ShapeDebug"]=c.util.ZPP_ShapeDebug;c.util.ZPP_ShapeDebug.__name__=["zpp_nape","util","ZPP_ShapeDebug"];c.util.ZPP_ShapeDebug.__super__=c.util.ZPP_Debug;c.util.ZPP_ShapeDebug.prototype=F(c.util.ZPP_Debug.prototype,
{outer_zn:null,shape:null,graphics:null,setbg:function(a){this.sup_setbg(a)},compoundstack:null,draw_compound:function(a,b,d,c){for(var e=a.compounds.head;null!=e;)this.draw_compound(e.elt,b,d,c),e=e.next;for(e=a.bodies.head;null!=e;){var g=e.elt;g.outer.debugDraw&&this.draw_body(g,b,d,c);e=e.next}for(a=a.constraints.head;null!=a;)b=a.elt,b.active&&b.outer.debugDraw&&b.draw(this.outer),a=a.next},shapeList:null,bodyList:null,draw_space:function(a,b,d,k){if(this.outer.cullingEnabled){if(this.outer.drawBodies)if(this.outer.drawBodyDetail)for(var e=
this.bodyList=a.bphase.bodiesInAABB(this.iport,!1,!1,null,this.bodyList);null!=e.zpp_inner.inner.head;){var g=e.shift();g.debugDraw&&this.draw_body(g.zpp_inner,b,d,k)}else for(e=this.shapeList=a.bphase.shapesInAABB(this.iport,!1,!1,null,this.shapeList);null!=e.zpp_inner.inner.head;)g=e.shift(),(null!=g.zpp_inner.body?g.zpp_inner.body.outer:null).debugDraw&&this.draw_shape(g.zpp_inner,b,d,k)}else if(this.outer.drawBodies){null==this.compoundstack&&(this.compoundstack=new c.util.ZNPList_ZPP_Compound);
for(e=a.bodies.head;null!=e;)g=e.elt,g.outer.debugDraw&&this.draw_body(g,b,d,k),e=e.next;for(e=a.compounds.head;null!=e;)this.compoundstack.add(e.elt),e=e.next;for(;null!=this.compoundstack.head;){e=this.compoundstack.pop_unsafe();for(g=e.bodies.head;null!=g;){var f=g.elt;f.outer.debugDraw&&this.draw_body(f,b,d,k);g=g.next}for(e=e.compounds.head;null!=e;)this.compoundstack.add(e.elt),e=e.next}}if(this.outer.drawCollisionArbiters||this.outer.drawFluidArbiters||this.outer.drawSensorArbiters)for(e=a.outer.get_arbiters().iterator();e.hasNext();)e.zpp_critical=
!1,g=e.zpp_inner.at(e.zpp_i++),this.draw_arbiter(g.zpp_inner,b,d,k);if(this.outer.drawConstraints){null==this.compoundstack&&(this.compoundstack=new c.util.ZNPList_ZPP_Compound);for(b=a.constraints.head;null!=b;)d=b.elt,d.active&&d.outer.debugDraw&&d.draw(this.outer),b=b.next;for(a=a.compounds.head;null!=a;)this.compoundstack.add(a.elt),a=a.next;for(;null!=this.compoundstack.head;){a=this.compoundstack.pop_unsafe();for(b=a.constraints.head;null!=b;)d=b.elt,d.active&&d.outer.debugDraw&&d.draw(this.outer),
b=b.next;for(a=a.compounds.head;null!=a;)this.compoundstack.add(a.elt),a=a.next}}},draw_body:function(a,b,d,c){for(var e=a.shapes.head;null!=e;)this.draw_shape(e.elt,b,d,c),e=e.next;if(this.outer.drawBodyDetail){var g;g=null==this.outer.colour?H["int"](16777215*Math.exp(-(a.id%500)/1500)):this.outer.colour(a.id);d=.7*((g&16711680)>>16);e=.7*((g&65280)>>8);g=.7*(g&255);null!=a.space&&a.outer.get_isSleeping()&&(d=.4*d+.6*this.bg_r,e=.4*e+.6*this.bg_g,g=.4*g+.6*this.bg_b);d=-16777216|(d|0)<<16|(e|0)<<
8|g|0;this.graphics.lineStyle(this.outer_zn.thickness,-16777216|(.8*(d>>16&255)+255*(1-.8)|0)<<16|(.8*(d>>8&255)+0*(1-.8)|0)<<8|.8*(d&255)+0*(1-.8)|0,1);var f=g=e=d=0;if(null!=a.shapes.head)if(a.validate_worldCOM(),c?(d=a.worldCOMx,e=a.worldCOMy):(d=b.a*a.worldCOMx+b.b*a.worldCOMy+b.tx,e=b.c*a.worldCOMx+b.d*a.worldCOMy+b.ty),this.graphics.drawCircle(d,e,1),a.validate_aabb(),c)this.graphics.drawRect(a.aabb.minx,a.aabb.miny,a.aabb.width(),a.aabb.height());else{e=d=0;d=b.a*a.aabb.minx+b.b*a.aabb.miny+
b.tx;e=b.c*a.aabb.minx+b.d*a.aabb.miny+b.ty;g=a.aabb.width();var f=0,h=b.a*g+b.b*f,f=b.c*g+b.d*f;g=h;var h=0,l=a.aabb.height(),m=b.a*h+b.b*l,l=b.c*h+b.d*l,h=m;this.graphics.moveTo(d,e);this.graphics.lineTo(d+g,e+f);this.graphics.lineTo(d+g+h,e+f+l);this.graphics.lineTo(d+h,e+l);this.graphics.lineTo(d,e)}c?(g=a.pre_posx,f=a.pre_posy):(g=b.a*a.pre_posx+b.b*a.pre_posy+b.tx,f=b.c*a.pre_posx+b.d*a.pre_posy+b.ty);c?(d=a.posx,e=a.posy):(d=b.a*a.posx+b.b*a.posy+b.tx,e=b.c*a.posx+b.d*a.posy+b.ty);this.graphics.moveTo(g,
f);this.graphics.lineTo(d,e);this.graphics.drawCircle(d,e,1)}},draw_shape:function(a,b,d,k){var e,g;g=null==this.outer.colour?H["int"](16777215*Math.exp(-(a.id%500)/1500)):this.outer.colour(a.id);e=-16777216|(.7*((g&16711680)>>16)|0)<<16|(.7*((g&65280)>>8)|0)<<8|.7*(g&255)|0;g=a.body;if(null!=g){var f;f=null==this.outer.colour?H["int"](16777215*Math.exp(-(g.id%500)/1500)):this.outer.colour(g.id);var h=.7*((f&16711680)>>16),l=.7*((f&65280)>>8),m=.7*(f&255);null!=g.space&&g.outer.get_isSleeping()&&
(h=.4*h+.6*this.bg_r,l=.4*l+.6*this.bg_g,m=.4*m+.6*this.bg_b);f=e;h=-16777216|(h|0)<<16|(l|0)<<8|m|0;e=-16777216|(.2*(f>>16&255)+.8*(h>>16&255)|0)<<16|(.2*(f>>8&255)+.8*(h>>8&255)|0)<<8|.2*(f&255)+.8*(h&255)|0;this.graphics.lineStyle(this.outer_zn.thickness,e,1);if(a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE)h=a.circle,h.zip_worldCOM&&null!=h.body&&(h.zip_worldCOM=!1,h.zip_localCOM&&(h.zip_localCOM=!1,h.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&h.polygon.__validate_localCOM(),null!=h.wrap_localCOM&&
(h.wrap_localCOM.zpp_inner.x=h.localCOMx,h.wrap_localCOM.zpp_inner.y=h.localCOMy)),h.body.validate_axis(),h.worldCOMx=h.body.posx+(h.body.axisy*h.localCOMx-h.body.axisx*h.localCOMy),h.worldCOMy=h.body.posy+(h.localCOMx*h.body.axisx+h.localCOMy*h.body.axisy)),l=h.worldCOMx,f=h.worldCOMy,k||(m=b.a*l+b.b*f+b.tx,f=b.c*l+b.d*f+b.ty,l=m),this.graphics.drawCircle(l,f,h.radius*d),this.outer.drawShapeAngleIndicators&&(d=h.worldCOMx+.3*h.radius*g.axisy,l=h.worldCOMy+.3*h.radius*g.axisx,f=h.worldCOMx+h.radius*
g.axisy,g=h.worldCOMy+h.radius*g.axisx,k||(h=b.a*d+b.b*l+b.tx,l=b.c*d+b.d*l+b.ty,d=h),k||(h=b.a*f+b.b*g+b.tx,g=b.c*f+b.d*g+b.ty,f=h),this.graphics.moveTo(d,l),this.graphics.lineTo(f,g));else{g=a.polygon;g.validate_gverts();h=g.gverts.next;d=h.x;h=h.y;k||(l=b.a*d+b.b*h+b.tx,h=b.c*d+b.d*h+b.ty,d=l);this.graphics.moveTo(d,h);l=d;f=h;for(m=g.gverts.next.next;null!=m;){h=m;d=h.x;h=h.y;if(!k){var n=b.a*d+b.b*h+b.tx,h=b.c*d+b.d*h+b.ty;d=n}this.graphics.lineTo(d,h);m=m.next}this.graphics.lineTo(l,f);this.outer.drawShapeAngleIndicators&&
(g.zip_worldCOM&&null!=g.body&&(g.zip_worldCOM=!1,g.zip_localCOM&&(g.zip_localCOM=!1,g.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&g.polygon.__validate_localCOM(),null!=g.wrap_localCOM&&(g.wrap_localCOM.zpp_inner.x=g.localCOMx,g.wrap_localCOM.zpp_inner.y=g.localCOMy)),g.body.validate_axis(),g.worldCOMx=g.body.posx+(g.body.axisy*g.localCOMx-g.body.axisx*g.localCOMy),g.worldCOMy=g.body.posy+(g.localCOMx*g.body.axisx+g.localCOMy*g.body.axisy)),k?(d=g.worldCOMx,h=g.worldCOMy):(d=b.a*g.worldCOMx+b.b*
g.worldCOMy+b.tx,h=b.c*g.worldCOMx+b.d*g.worldCOMy+b.ty),this.graphics.moveTo(d,h),this.graphics.lineTo(l,f))}this.outer.drawShapeDetail&&(a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*a.localCOMx-a.body.axisx*a.localCOMy),
a.worldCOMy=a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy)),this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=e;return-16777216|(.8*(a>>16&255)+255*(1-.8)|0)<<16|(.8*(a>>8&255)+0*(1-.8)|0)<<8|.8*(a&255)+0*(1-.8)|0}(this),1),d=g=0,k?(g=a.worldCOMx,d=a.worldCOMy):(g=b.a*a.worldCOMx+b.b*a.worldCOMy+b.tx,d=b.c*a.worldCOMx+b.d*a.worldCOMy+b.ty),this.graphics.drawCircle(g,d,1),a.zip_aabb&&null!=a.body&&(a.zip_aabb=!1,a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():
a.polygon.__validate_aabb()),k?this.graphics.drawRect(a.aabb.minx,a.aabb.miny,a.aabb.width(),a.aabb.height()):(g=k=0,k=b.a*a.aabb.minx+b.b*a.aabb.miny+b.tx,g=b.c*a.aabb.minx+b.d*a.aabb.miny+b.ty,d=a.aabb.width(),h=0,l=b.a*d+b.b*h,h=b.c*d+b.d*h,d=l,l=0,a=a.aabb.height(),f=b.a*l+b.b*a,a=b.c*l+b.d*a,l=f,this.graphics.moveTo(k,g),this.graphics.lineTo(k+d,g+h),this.graphics.lineTo(k+d+l,g+h+a),this.graphics.lineTo(k+l,g+a),this.graphics.lineTo(k,g)))}},draw_arbiter:function(a,b,d,k){var e=0,g=0;if(a.outer.zpp_inner.type==
c.dynamics.ZPP_Arbiter.SENSOR){if(this.outer.drawSensorArbiters){a=a.outer;this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=~a.bg_col;return-16777216|(0+(a>>16&255)*(1-.7)|0)<<16|(178.5+(a>>8&255)*(1-.7)|0)<<8|0+(a&255)*(1-.7)|0}(this),1);if(k){if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";e=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_x();if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";g=
(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_y()}else{d=b.a;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";d*=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_x();var f=b.b;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";e=d+f*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_y()+b.tx;d=b.c;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";
d*=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_x();f=b.d;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";g=d+f*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_y()+b.ty}this.graphics.moveTo(e,g);if(k){if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";e=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_x();
if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";g=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_y()}else{k=b.a;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";k*=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_x();d=b.b;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";e=k+d*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:
a.zpp_inner.ws2.outer).get_worldCOM().get_y()+b.tx;k=b.c;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";k*=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_x();d=b.d;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";g=k+d*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_y()+b.ty}this.graphics.lineTo(e,g)}}else if(a.outer.zpp_inner.type==c.dynamics.ZPP_Arbiter.FLUID){if(this.outer.drawFluidArbiters){a=
a.outer.get_fluidArbiter();this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=~a.bg_col;return-16777216|(0+(a>>16&255)*(1-.7)|0)<<16|(0+(a>>8&255)*(1-.7)|0)<<8|178.5+(a&255)*(1-.7)|0}(this),1);if(k){if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition();e=a.zpp_inner.fluidarb.wrap_position.get_x();if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.fluidarb.wrap_position&&
a.zpp_inner.fluidarb.getposition();g=a.zpp_inner.fluidarb.wrap_position.get_y()}else{k=b.a;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition();k*=a.zpp_inner.fluidarb.wrap_position.get_x();d=b.b;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition();e=k+d*a.zpp_inner.fluidarb.wrap_position.get_y()+b.tx;k=b.c;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";
null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition();k*=a.zpp_inner.fluidarb.wrap_position.get_x();d=b.d;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition();g=k+d*a.zpp_inner.fluidarb.wrap_position.get_y()+b.ty}this.graphics.drawCircle(e,g,.75)}}else if(this.outer.drawCollisionArbiters){a=a.outer.get_collisionArbiter();if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";
null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();if(!a.zpp_inner.colarb.wrap_contacts.empty()){var h=0;d=0;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();if(2==a.zpp_inner.colarb.wrap_contacts.get_length()){if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();f=a.zpp_inner.colarb.wrap_contacts.at(0).get_position();
if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();d=a.zpp_inner.colarb.wrap_contacts.at(1).get_position();if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_normal&&a.zpp_inner.colarb.getnormal();var h=a.zpp_inner.colarb.wrap_normal,l=.661437828,m=.75;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();e=h.zpp_inner.y;
if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();e*=f.zpp_inner.x;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();g=h.zpp_inner.x;if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();e-=g*f.zpp_inner.y;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();g=h.zpp_inner.y;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
d.zpp_inner.validate();g*=d.zpp_inner.x;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();var n=h.zpp_inner.x;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();e<g-n*d.zpp_inner.y&&(l=-l,m=-m);this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=~a.bg_col;return-16777216|(0+(a>>16&255)*(1-.7)|0)<<16|(0+(a>>8&255)*(1-.7)|0)<<8|178.5+(a&255)*(1-.7)|0}(this),1);if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
f.zpp_inner.validate();e=f.zpp_inner.x;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();e+=h.zpp_inner.x*m;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();e-=h.zpp_inner.y*l;if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();g=f.zpp_inner.y;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();
g+=h.zpp_inner.y*m;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();g+=h.zpp_inner.x*l;k||(n=b.a*e+b.b*g+b.tx,g=b.c*e+b.d*g+b.ty,e=n);this.graphics.moveTo(e,g);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();e=d.zpp_inner.x;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();e+=h.zpp_inner.x*m;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
h.zpp_inner.validate();e+=h.zpp_inner.y*l;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();g=d.zpp_inner.y;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();g+=h.zpp_inner.y*m;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();g-=h.zpp_inner.x*l;k||(n=b.a*e+b.b*g+b.tx,g=b.c*e+b.d*g+b.ty,e=n);this.graphics.lineTo(e,g);this.graphics.lineStyle(this.outer_zn.thickness,
function(a){a=~a.bg_col;return-16777216|(178.5+(a>>16&255)*(1-.7)|0)<<16|(0+(a>>8&255)*(1-.7)|0)<<8|0+(a&255)*(1-.7)|0}(this),1);if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();e=f.zpp_inner.x;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();e-=h.zpp_inner.x*m;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();e-=h.zpp_inner.y*l;if(null!=
f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();g=f.zpp_inner.y;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();g-=h.zpp_inner.y*m;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();g+=h.zpp_inner.x*l;k||(n=b.a*e+b.b*g+b.tx,g=b.c*e+b.d*g+b.ty,e=n);this.graphics.moveTo(e,g);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
d.zpp_inner.validate();e=d.zpp_inner.x;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();e-=h.zpp_inner.x*m;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();e+=h.zpp_inner.y*l;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();g=d.zpp_inner.y;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();
m=g-h.zpp_inner.y*m;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();g=m-h.zpp_inner.x*l;k||(h=b.a*e+b.b*g+b.tx,g=b.c*e+b.d*g+b.ty,e=h);this.graphics.lineTo(e,g);if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();e=f.zpp_inner.x;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();h=.5*(e+d.zpp_inner.x);if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
f.zpp_inner.validate();f=f.zpp_inner.y;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();d=.5*(f+d.zpp_inner.y);k||(f=b.a*h+b.b*d+b.tx,d=b.c*h+b.d*d+b.ty,h=f)}else{if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();h=a.zpp_inner.colarb.wrap_contacts.at(0).get_position().get_x();if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_contacts&&
a.zpp_inner.colarb.setupcontacts();d=a.zpp_inner.colarb.wrap_contacts.at(0).get_position().get_y();k||(f=b.a*h+b.b*d+b.tx,d=b.c*h+b.d*d+b.ty,h=f);this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=~a.bg_col;return-16777216|(178.5+(a>>16&255)*(1-.7)|0)<<16|(0+(a>>8&255)*(1-.7)|0)<<8|178.5+(a&255)*(1-.7)|0}(this),1);this.graphics.drawCircle(h,d,1)}this.graphics.lineStyle(this.outer_zn.thickness,function(a){var b=~a.bg_col;a=a.bg_col;return-16777216|(.7*(b>>16&255)+(a>>16&255)*(1-.7)|0)<<
16|(.7*(b>>8&255)+(a>>8&255)*(1-.7)|0)<<8|.7*(b&255)+(a&255)*(1-.7)|0}(this),1);this.graphics.moveTo(h,d);if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_normal&&a.zpp_inner.colarb.getnormal();e=5*a.zpp_inner.colarb.wrap_normal.get_x();if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_normal&&a.zpp_inner.colarb.getnormal();g=5*a.zpp_inner.colarb.wrap_normal.get_y();k||(k=b.a*e+b.b*g,g=b.c*e+b.d*g,e=k);this.graphics.lineTo(h+
e,d+g)}}},__class__:c.util.ZPP_ShapeDebug});c.util.Hashable2_Boolfalse=function(){this.id=this.di=0;this.next=this.hnext=null;this.value=!1};m["zpp_nape.util.Hashable2_Boolfalse"]=c.util.Hashable2_Boolfalse;c.util.Hashable2_Boolfalse.__name__=["zpp_nape","util","Hashable2_Boolfalse"];c.util.Hashable2_Boolfalse.get=function(a,b,d){a=c.util.Hashable2_Boolfalse.getpersist(a,b);a.value=d;return a};c.util.Hashable2_Boolfalse.getpersist=function(a,b){var d;null==c.util.Hashable2_Boolfalse.zpp_pool?d=new c.util.Hashable2_Boolfalse:
(d=c.util.Hashable2_Boolfalse.zpp_pool,c.util.Hashable2_Boolfalse.zpp_pool=d.next,d.next=null);null;d.id=a;d.di=b;return d};c.util.Hashable2_Boolfalse.ordered_get=function(a,b,d){return a<=b?c.util.Hashable2_Boolfalse.get(a,b,d):c.util.Hashable2_Boolfalse.get(b,a,d)};c.util.Hashable2_Boolfalse.ordered_get_persist=function(a,b){return a<=b?c.util.Hashable2_Boolfalse.getpersist(a,b):c.util.Hashable2_Boolfalse.getpersist(b,a)};c.util.Hashable2_Boolfalse.prototype={value:null,next:null,hnext:null,id:null,
di:null,free:function(){},alloc:function(){},__class__:c.util.Hashable2_Boolfalse};c.util.FastHash2_Hashable2_Boolfalse=function(){this.cnt=0;this.table=null;this.cnt=0;this.table=[];for(var a=0;1048576>a;)a++,this.table.push(null)};m["zpp_nape.util.FastHash2_Hashable2_Boolfalse"]=c.util.FastHash2_Hashable2_Boolfalse;c.util.FastHash2_Hashable2_Boolfalse.__name__=["zpp_nape","util","FastHash2_Hashable2_Boolfalse"];c.util.FastHash2_Hashable2_Boolfalse.prototype={table:null,cnt:null,empty:function(){return 0==
this.cnt},clear:function(){for(var a=0,b=this.table.length;a<b;){var d=a++,c=this.table[d];if(null!=c){for(;null!=c;){var e=c.hnext;c.hnext=null;c;c=e}this.table[d]=null}}},get:function(a,b){var d=this.table[106039*a+b&1048575];if(null==d)return null;if(d.id!=a||d.di!=b){do d=d.hnext;while(null!=d&&(d.id!=a||d.di!=b))}return d},ordered_get:function(a,b){if(a>b){var d=a;a=b;b=d}return this.get(a,b)},has:function(a,b){var d=this.table[106039*a+b&1048575];if(null==d)return!1;if(d.id==a&&d.di==b)return!0;
do d=d.hnext;while(null!=d&&(d.id!=a||d.di!=b));return null!=d},maybeAdd:function(a){var b=106039*a.id+a.di&1048575,d=this.table[b];null==d?(this.table[b]=a,a.hnext=null):(a.hnext=d.hnext,d.hnext=a);this.cnt++},add:function(a){var b=106039*a.id+a.di&1048575,d=this.table[b];null==d?(this.table[b]=a,a.hnext=null):(a.hnext=d.hnext,d.hnext=a);this.cnt++},remove:function(a){var b=106039*a.id+a.di&1048575,d=this.table[b];if(d==a)this.table[b]=d.hnext;else if(null!=d){do b=d,d=d.hnext;while(null!=d&&d!=
a);b.hnext=d.hnext}a.hnext=null;this.cnt--},hash:function(a,b){return 106039*a+b&1048575},__class__:c.util.FastHash2_Hashable2_Boolfalse};c.util.ZNPList_ZPP_CallbackSet=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_CallbackSet"]=c.util.ZNPList_ZPP_CallbackSet;c.util.ZNPList_ZPP_CallbackSet.__name__=["zpp_nape","util","ZNPList_ZPP_CallbackSet"];c.util.ZNPList_ZPP_CallbackSet.prototype={head:null,begin:function(){return this.head},modified:null,
pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_CallbackSet.zpp_pool?b=new c.util.ZNPNode_ZPP_CallbackSet:(b=c.util.ZNPNode_ZPP_CallbackSet.zpp_pool,c.util.ZNPNode_ZPP_CallbackSet.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,
b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_CallbackSet.zpp_pool?d=new c.util.ZNPNode_ZPP_CallbackSet:(d=c.util.ZNPNode_ZPP_CallbackSet.zpp_pool,c.util.ZNPNode_ZPP_CallbackSet.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_CallbackSet.zpp_pool;
c.util.ZNPNode_ZPP_CallbackSet.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=
null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_CallbackSet.zpp_pool;c.util.ZNPNode_ZPP_CallbackSet.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<
b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=
d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_CallbackSet};c.util.ZNPList_ZPP_Body=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_Body"]=c.util.ZNPList_ZPP_Body;
c.util.ZNPList_ZPP_Body.__name__=["zpp_nape","util","ZNPList_ZPP_Body"];c.util.ZNPList_ZPP_Body.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Body.zpp_pool?b=new c.util.ZNPNode_ZPP_Body:(b=c.util.ZNPNode_ZPP_Body.zpp_pool,c.util.ZNPNode_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=
this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Body.zpp_pool?d=new c.util.ZNPNode_ZPP_Body:(d=c.util.ZNPNode_ZPP_Body.zpp_pool,c.util.ZNPNode_ZPP_Body.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},
pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Body.zpp_pool;c.util.ZNPNode_ZPP_Body.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);
c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Body.zpp_pool;c.util.ZNPNode_ZPP_Body.zpp_pool=
a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Body};c.util.ZNPList_ZPP_Compound=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_Compound"]=
c.util.ZNPList_ZPP_Compound;c.util.ZNPList_ZPP_Compound.__name__=["zpp_nape","util","ZNPList_ZPP_Compound"];c.util.ZNPList_ZPP_Compound.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Compound.zpp_pool?b=new c.util.ZNPNode_ZPP_Compound:(b=c.util.ZNPNode_ZPP_Compound.zpp_pool,c.util.ZNPNode_ZPP_Compound.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Compound.zpp_pool?d=new c.util.ZNPNode_ZPP_Compound:(d=c.util.ZNPNode_ZPP_Compound.zpp_pool,c.util.ZNPNode_ZPP_Compound.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=
d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Compound.zpp_pool;c.util.ZNPNode_ZPP_Compound.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=
null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));
a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Compound.zpp_pool;c.util.ZNPNode_ZPP_Compound.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=
!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Compound};
c.util.ZNPList_ZPP_Arbiter=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_Arbiter"]=c.util.ZNPList_ZPP_Arbiter;c.util.ZNPList_ZPP_Arbiter.__name__=["zpp_nape","util","ZNPList_ZPP_Arbiter"];c.util.ZNPList_ZPP_Arbiter.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;
null==c.util.ZNPNode_ZPP_Arbiter.zpp_pool?b=new c.util.ZNPNode_ZPP_Arbiter:(b=c.util.ZNPNode_ZPP_Arbiter.zpp_pool,c.util.ZNPNode_ZPP_Arbiter.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Arbiter.zpp_pool?d=new c.util.ZNPNode_ZPP_Arbiter:(d=c.util.ZNPNode_ZPP_Arbiter.zpp_pool,
c.util.ZNPNode_ZPP_Arbiter.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Arbiter.zpp_pool;c.util.ZNPNode_ZPP_Arbiter.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,
this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Arbiter.zpp_pool;c.util.ZNPNode_ZPP_Arbiter.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=
this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=
b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Arbiter};c.util.ZNPList_ZPP_CbSetPair=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_CbSetPair"]=c.util.ZNPList_ZPP_CbSetPair;c.util.ZNPList_ZPP_CbSetPair.__name__=["zpp_nape","util","ZNPList_ZPP_CbSetPair"];c.util.ZNPList_ZPP_CbSetPair.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=
a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_CbSetPair.zpp_pool?b=new c.util.ZNPNode_ZPP_CbSetPair:(b=c.util.ZNPNode_ZPP_CbSetPair.zpp_pool,c.util.ZNPNode_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,
b){var d;null==c.util.ZNPNode_ZPP_CbSetPair.zpp_pool?d=new c.util.ZNPNode_ZPP_CbSetPair:(d=c.util.ZNPNode_ZPP_CbSetPair.zpp_pool,c.util.ZNPNode_ZPP_CbSetPair.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_CbSetPair.zpp_pool;c.util.ZNPNode_ZPP_CbSetPair.zpp_pool=
a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==
a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_CbSetPair.zpp_pool;c.util.ZNPNode_ZPP_CbSetPair.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},
clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},
front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_CbSetPair};c.util.ZNPList_ZPP_CutInt=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_CutInt"]=c.util.ZNPList_ZPP_CutInt;c.util.ZNPList_ZPP_CutInt.__name__=["zpp_nape",
"util","ZNPList_ZPP_CutInt"];c.util.ZNPList_ZPP_CutInt.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_CutInt.zpp_pool?b=new c.util.ZNPNode_ZPP_CutInt:(b=c.util.ZNPNode_ZPP_CutInt.zpp_pool,c.util.ZNPNode_ZPP_CutInt.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=
!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_CutInt.zpp_pool?d=new c.util.ZNPNode_ZPP_CutInt:(d=c.util.ZNPNode_ZPP_CutInt.zpp_pool,c.util.ZNPNode_ZPP_CutInt.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},
inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_CutInt.zpp_pool;c.util.ZNPNode_ZPP_CutInt.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},
inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_CutInt.zpp_pool;c.util.ZNPNode_ZPP_CutInt.zpp_pool=
a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_CutInt};c.util.ZNPList_ZPP_CutVert=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};
m["zpp_nape.util.ZNPList_ZPP_CutVert"]=c.util.ZNPList_ZPP_CutVert;c.util.ZNPList_ZPP_CutVert.__name__=["zpp_nape","util","ZNPList_ZPP_CutVert"];c.util.ZNPList_ZPP_CutVert.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_CutVert.zpp_pool?b=new c.util.ZNPNode_ZPP_CutVert:(b=c.util.ZNPNode_ZPP_CutVert.zpp_pool,
c.util.ZNPNode_ZPP_CutVert.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_CutVert.zpp_pool?d=new c.util.ZNPNode_ZPP_CutVert:(d=c.util.ZNPNode_ZPP_CutVert.zpp_pool,c.util.ZNPNode_ZPP_CutVert.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,
this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_CutVert.zpp_pool;c.util.ZNPNode_ZPP_CutVert.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},
try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=
d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_CutVert.zpp_pool;c.util.ZNPNode_ZPP_CutVert.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=
a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=
a?a.elt:null},__class__:c.util.ZNPList_ZPP_CutVert};c.util.ZNPList_ZPP_PartitionVertex=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_PartitionVertex"]=c.util.ZNPList_ZPP_PartitionVertex;c.util.ZNPList_ZPP_PartitionVertex.__name__=["zpp_nape","util","ZNPList_ZPP_PartitionVertex"];c.util.ZNPList_ZPP_PartitionVertex.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=
this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool?b=new c.util.ZNPNode_ZPP_PartitionVertex:(b=c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool,c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,
b){var d;null==c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool?d=new c.util.ZNPNode_ZPP_PartitionVertex:(d=c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool,c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool;c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=
a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==
a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool;c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);
return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=
!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_PartitionVertex};c.util.ZNPList_ZPP_PartitionedPoly=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_PartitionedPoly"]=c.util.ZNPList_ZPP_PartitionedPoly;
c.util.ZNPList_ZPP_PartitionedPoly.__name__=["zpp_nape","util","ZNPList_ZPP_PartitionedPoly"];c.util.ZNPList_ZPP_PartitionedPoly.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool?b=new c.util.ZNPNode_ZPP_PartitionedPoly:(b=c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool,c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool?d=new c.util.ZNPNode_ZPP_PartitionedPoly:(d=c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool,c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=
d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool;c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},
try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=
d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool;c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;
a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);
return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_PartitionedPoly};c.util.ZNPList_ZPP_GeomVert=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_GeomVert"]=c.util.ZNPList_ZPP_GeomVert;c.util.ZNPList_ZPP_GeomVert.__name__=["zpp_nape","util","ZNPList_ZPP_GeomVert"];c.util.ZNPList_ZPP_GeomVert.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=
!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_GeomVert.zpp_pool?b=new c.util.ZNPNode_ZPP_GeomVert:(b=c.util.ZNPNode_ZPP_GeomVert.zpp_pool,c.util.ZNPNode_ZPP_GeomVert.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_GeomVert.zpp_pool?
d=new c.util.ZNPNode_ZPP_GeomVert:(d=c.util.ZNPNode_ZPP_GeomVert.zpp_pool,c.util.ZNPNode_ZPP_GeomVert.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_GeomVert.zpp_pool;c.util.ZNPNode_ZPP_GeomVert.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},
pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},
inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_GeomVert.zpp_pool;c.util.ZNPNode_ZPP_GeomVert.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=
this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;
return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_GeomVert};c.util.ZNPList_ZPP_SimplifyP=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_SimplifyP"]=c.util.ZNPList_ZPP_SimplifyP;c.util.ZNPList_ZPP_SimplifyP.__name__=["zpp_nape","util","ZNPList_ZPP_SimplifyP"];c.util.ZNPList_ZPP_SimplifyP.prototype={head:null,begin:function(){return this.head},
modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_SimplifyP.zpp_pool?b=new c.util.ZNPNode_ZPP_SimplifyP:(b=c.util.ZNPNode_ZPP_SimplifyP.zpp_pool,c.util.ZNPNode_ZPP_SimplifyP.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},
insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_SimplifyP.zpp_pool?d=new c.util.ZNPNode_ZPP_SimplifyP:(d=c.util.ZNPNode_ZPP_SimplifyP.zpp_pool,c.util.ZNPNode_ZPP_SimplifyP.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=
c.util.ZNPNode_ZPP_SimplifyP.zpp_pool;c.util.ZNPNode_ZPP_SimplifyP.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=
null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_SimplifyP.zpp_pool;c.util.ZNPNode_ZPP_SimplifyP.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&
null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=
d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_SimplifyP};c.util.ZNPList_ZPP_SimpleVert=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_SimpleVert"]=c.util.ZNPList_ZPP_SimpleVert;
c.util.ZNPList_ZPP_SimpleVert.__name__=["zpp_nape","util","ZNPList_ZPP_SimpleVert"];c.util.ZNPList_ZPP_SimpleVert.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_SimpleVert.zpp_pool?b=new c.util.ZNPNode_ZPP_SimpleVert:(b=c.util.ZNPNode_ZPP_SimpleVert.zpp_pool,c.util.ZNPNode_ZPP_SimpleVert.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_SimpleVert.zpp_pool?d=new c.util.ZNPNode_ZPP_SimpleVert:(d=c.util.ZNPNode_ZPP_SimpleVert.zpp_pool,c.util.ZNPNode_ZPP_SimpleVert.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=
a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_SimpleVert.zpp_pool;c.util.ZNPNode_ZPP_SimpleVert.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},
try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=
d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_SimpleVert.zpp_pool;c.util.ZNPNode_ZPP_SimpleVert.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;
b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);
return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_SimpleVert};c.util.ZNPList_ZPP_SimpleEvent=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_SimpleEvent"]=c.util.ZNPList_ZPP_SimpleEvent;c.util.ZNPList_ZPP_SimpleEvent.__name__=["zpp_nape","util","ZNPList_ZPP_SimpleEvent"];c.util.ZNPList_ZPP_SimpleEvent.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=
this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZNPNode_ZPP_SimpleEvent:(b=c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool,c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,
b){var d;null==c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool?d=new c.util.ZNPNode_ZPP_SimpleEvent:(d=c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool,c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool;c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=
a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==
a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool;c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},
clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},
front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_SimpleEvent};c.util.ZNPList_ZPP_AABBPair=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_AABBPair"]=c.util.ZNPList_ZPP_AABBPair;c.util.ZNPList_ZPP_AABBPair.__name__=
["zpp_nape","util","ZNPList_ZPP_AABBPair"];c.util.ZNPList_ZPP_AABBPair.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_AABBPair.zpp_pool?b=new c.util.ZNPNode_ZPP_AABBPair:(b=c.util.ZNPNode_ZPP_AABBPair.zpp_pool,c.util.ZNPNode_ZPP_AABBPair.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;
this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_AABBPair.zpp_pool?d=new c.util.ZNPNode_ZPP_AABBPair:(d=c.util.ZNPNode_ZPP_AABBPair.zpp_pool,c.util.ZNPNode_ZPP_AABBPair.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;
return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_AABBPair.zpp_pool;c.util.ZNPNode_ZPP_AABBPair.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==
a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_AABBPair.zpp_pool;
c.util.ZNPNode_ZPP_AABBPair.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},
has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_AABBPair};c.util.ZNPList_ZPP_Edge=function(){this.length=0;this.modified=
this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_Edge"]=c.util.ZNPList_ZPP_Edge;c.util.ZNPList_ZPP_Edge.__name__=["zpp_nape","util","ZNPList_ZPP_Edge"];c.util.ZNPList_ZPP_Edge.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Edge.zpp_pool?b=new c.util.ZNPNode_ZPP_Edge:(b=c.util.ZNPNode_ZPP_Edge.zpp_pool,
c.util.ZNPNode_ZPP_Edge.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Edge.zpp_pool?d=new c.util.ZNPNode_ZPP_Edge:(d=c.util.ZNPNode_ZPP_Edge.zpp_pool,c.util.ZNPNode_ZPP_Edge.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):
(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Edge.zpp_pool;c.util.ZNPNode_ZPP_Edge.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=
null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));
a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Edge.zpp_pool;c.util.ZNPNode_ZPP_Edge.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=
!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Edge};
c.util.ZNPList_ZPP_Component=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_Component"]=c.util.ZNPList_ZPP_Component;c.util.ZNPList_ZPP_Component.__name__=["zpp_nape","util","ZNPList_ZPP_Component"];c.util.ZNPList_ZPP_Component.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;
null==c.util.ZNPNode_ZPP_Component.zpp_pool?b=new c.util.ZNPNode_ZPP_Component:(b=c.util.ZNPNode_ZPP_Component.zpp_pool,c.util.ZNPNode_ZPP_Component.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Component.zpp_pool?d=new c.util.ZNPNode_ZPP_Component:(d=c.util.ZNPNode_ZPP_Component.zpp_pool,
c.util.ZNPNode_ZPP_Component.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Component.zpp_pool;c.util.ZNPNode_ZPP_Component.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,
this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Component.zpp_pool;c.util.ZNPNode_ZPP_Component.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},
reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Component};c.util.ZNPList_ZPP_AABBNode=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_AABBNode"]=c.util.ZNPList_ZPP_AABBNode;c.util.ZNPList_ZPP_AABBNode.__name__=["zpp_nape","util","ZNPList_ZPP_AABBNode"];c.util.ZNPList_ZPP_AABBNode.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,
length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_AABBNode.zpp_pool?b=new c.util.ZNPNode_ZPP_AABBNode:(b=c.util.ZNPNode_ZPP_AABBNode.zpp_pool,c.util.ZNPNode_ZPP_AABBNode.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,
b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_AABBNode.zpp_pool?d=new c.util.ZNPNode_ZPP_AABBNode:(d=c.util.ZNPNode_ZPP_AABBNode.zpp_pool,c.util.ZNPNode_ZPP_AABBNode.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_AABBNode.zpp_pool;c.util.ZNPNode_ZPP_AABBNode.zpp_pool=
a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==
a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_AABBNode.zpp_pool;c.util.ZNPNode_ZPP_AABBNode.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},
clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},
front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_AABBNode};c.util.ZNPList_ZPP_InteractionGroup=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_InteractionGroup"]=c.util.ZNPList_ZPP_InteractionGroup;c.util.ZNPList_ZPP_InteractionGroup.__name__=
["zpp_nape","util","ZNPList_ZPP_InteractionGroup"];c.util.ZNPList_ZPP_InteractionGroup.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool?b=new c.util.ZNPNode_ZPP_InteractionGroup:(b=c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool,c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool?d=new c.util.ZNPNode_ZPP_InteractionGroup:(d=c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool,c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,
this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool;c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},
try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=
d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool;c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;
a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);
return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_InteractionGroup};c.util.ZNPList_ZPP_FluidArbiter=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_FluidArbiter"]=c.util.ZNPList_ZPP_FluidArbiter;c.util.ZNPList_ZPP_FluidArbiter.__name__=["zpp_nape","util","ZNPList_ZPP_FluidArbiter"];c.util.ZNPList_ZPP_FluidArbiter.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;
this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool?b=new c.util.ZNPNode_ZPP_FluidArbiter:(b=c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool,c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,
b){var d;null==c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool?d=new c.util.ZNPNode_ZPP_FluidArbiter:(d=c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool,c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool;c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=
a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==
a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool;c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},
clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},
front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_FluidArbiter};c.util.ZNPList_ZPP_SensorArbiter=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_SensorArbiter"]=c.util.ZNPList_ZPP_SensorArbiter;c.util.ZNPList_ZPP_SensorArbiter.__name__=
["zpp_nape","util","ZNPList_ZPP_SensorArbiter"];c.util.ZNPList_ZPP_SensorArbiter.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool?b=new c.util.ZNPNode_ZPP_SensorArbiter:(b=c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool,c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=b.next,b.next=
null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool?d=new c.util.ZNPNode_ZPP_SensorArbiter:(d=c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool,c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,
a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool;c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=
null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));
a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool;c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=
this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},
__class__:c.util.ZNPList_ZPP_SensorArbiter};c.util.ZNPList_ZPP_ColArbiter=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_ColArbiter"]=c.util.ZNPList_ZPP_ColArbiter;c.util.ZNPList_ZPP_ColArbiter.__name__=["zpp_nape","util","ZNPList_ZPP_ColArbiter"];c.util.ZNPList_ZPP_ColArbiter.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},
inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_ColArbiter.zpp_pool?b=new c.util.ZNPNode_ZPP_ColArbiter:(b=c.util.ZNPNode_ZPP_ColArbiter.zpp_pool,c.util.ZNPNode_ZPP_ColArbiter.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_ColArbiter.zpp_pool?d=new c.util.ZNPNode_ZPP_ColArbiter:
(d=c.util.ZNPNode_ZPP_ColArbiter.zpp_pool,c.util.ZNPNode_ZPP_ColArbiter.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_ColArbiter.zpp_pool;c.util.ZNPNode_ZPP_ColArbiter.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_ColArbiter.zpp_pool;c.util.ZNPNode_ZPP_ColArbiter.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_ColArbiter};c.util.ZNPList_ZPP_Listener=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_Listener"]=c.util.ZNPList_ZPP_Listener;c.util.ZNPList_ZPP_Listener.__name__=["zpp_nape","util","ZNPList_ZPP_Listener"];c.util.ZNPList_ZPP_Listener.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,
length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Listener.zpp_pool?b=new c.util.ZNPNode_ZPP_Listener:(b=c.util.ZNPNode_ZPP_Listener.zpp_pool,c.util.ZNPNode_ZPP_Listener.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,
b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Listener.zpp_pool?d=new c.util.ZNPNode_ZPP_Listener:(d=c.util.ZNPNode_ZPP_Listener.zpp_pool,c.util.ZNPNode_ZPP_Listener.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Listener.zpp_pool;c.util.ZNPNode_ZPP_Listener.zpp_pool=
a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==
a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Listener.zpp_pool;c.util.ZNPNode_ZPP_Listener.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},
clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},
front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Listener};c.util.ZNPList_ZPP_ToiEvent=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_ToiEvent"]=c.util.ZNPList_ZPP_ToiEvent;c.util.ZNPList_ZPP_ToiEvent.__name__=
["zpp_nape","util","ZNPList_ZPP_ToiEvent"];c.util.ZNPList_ZPP_ToiEvent.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_ToiEvent.zpp_pool?b=new c.util.ZNPNode_ZPP_ToiEvent:(b=c.util.ZNPNode_ZPP_ToiEvent.zpp_pool,c.util.ZNPNode_ZPP_ToiEvent.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;
this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_ToiEvent.zpp_pool?d=new c.util.ZNPNode_ZPP_ToiEvent:(d=c.util.ZNPNode_ZPP_ToiEvent.zpp_pool,c.util.ZNPNode_ZPP_ToiEvent.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;
return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_ToiEvent.zpp_pool;c.util.ZNPNode_ZPP_ToiEvent.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==
a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_ToiEvent.zpp_pool;
c.util.ZNPNode_ZPP_ToiEvent.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},
has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_ToiEvent};c.util.ZNPList_ConvexResult=function(){this.length=0;
this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ConvexResult"]=c.util.ZNPList_ConvexResult;c.util.ZNPList_ConvexResult.__name__=["zpp_nape","util","ZNPList_ConvexResult"];c.util.ZNPList_ConvexResult.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ConvexResult.zpp_pool?b=new c.util.ZNPNode_ConvexResult:
(b=c.util.ZNPNode_ConvexResult.zpp_pool,c.util.ZNPNode_ConvexResult.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ConvexResult.zpp_pool?d=new c.util.ZNPNode_ConvexResult:(d=c.util.ZNPNode_ConvexResult.zpp_pool,c.util.ZNPNode_ConvexResult.zpp_pool=d.next,d.next=
null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ConvexResult.zpp_pool;c.util.ZNPNode_ConvexResult.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();
return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,
null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ConvexResult.zpp_pool;c.util.ZNPNode_ConvexResult.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=
this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=
b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ConvexResult};c.util.ZNPList_ZPP_GeomPoly=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_ZPP_GeomPoly"]=c.util.ZNPList_ZPP_GeomPoly;c.util.ZNPList_ZPP_GeomPoly.__name__=["zpp_nape","util","ZNPList_ZPP_GeomPoly"];c.util.ZNPList_ZPP_GeomPoly.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=
a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_GeomPoly.zpp_pool?b=new c.util.ZNPNode_ZPP_GeomPoly:(b=c.util.ZNPNode_ZPP_GeomPoly.zpp_pool,c.util.ZNPNode_ZPP_GeomPoly.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,
b){var d;null==c.util.ZNPNode_ZPP_GeomPoly.zpp_pool?d=new c.util.ZNPNode_ZPP_GeomPoly:(d=c.util.ZNPNode_ZPP_GeomPoly.zpp_pool,c.util.ZNPNode_ZPP_GeomPoly.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_GeomPoly.zpp_pool;c.util.ZNPNode_ZPP_GeomPoly.zpp_pool=a;null==
this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);
c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_GeomPoly.zpp_pool;c.util.ZNPNode_ZPP_GeomPoly.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=
this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},
back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_GeomPoly};c.util.ZNPList_RayResult=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};m["zpp_nape.util.ZNPList_RayResult"]=c.util.ZNPList_RayResult;c.util.ZNPList_RayResult.__name__=["zpp_nape","util","ZNPList_RayResult"];c.util.ZNPList_RayResult.prototype=
{head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_RayResult.zpp_pool?b=new c.util.ZNPNode_RayResult:(b=c.util.ZNPNode_RayResult.zpp_pool,c.util.ZNPNode_RayResult.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=
a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_RayResult.zpp_pool?d=new c.util.ZNPNode_RayResult:(d=c.util.ZNPNode_RayResult.zpp_pool,c.util.ZNPNode_RayResult.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;
a.elt=null;a.next=c.util.ZNPNode_RayResult.zpp_pool;c.util.ZNPNode_RayResult.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_RayResult.zpp_pool;c.util.ZNPNode_RayResult.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},
splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;
b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_RayResult};c.util.ZNPNode_ZPP_CbType=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_CbType"]=c.util.ZNPNode_ZPP_CbType;c.util.ZNPNode_ZPP_CbType.__name__=
["zpp_nape","util","ZNPNode_ZPP_CbType"];c.util.ZNPNode_ZPP_CbType.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_CbType};c.util.ZNPNode_ZPP_CallbackSet=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_CallbackSet"]=c.util.ZNPNode_ZPP_CallbackSet;c.util.ZNPNode_ZPP_CallbackSet.__name__=["zpp_nape","util","ZNPNode_ZPP_CallbackSet"];c.util.ZNPNode_ZPP_CallbackSet.prototype={next:null,alloc:function(){},
free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_CallbackSet};c.util.ZNPNode_ZPP_Shape=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_Shape"]=c.util.ZNPNode_ZPP_Shape;c.util.ZNPNode_ZPP_Shape.__name__=["zpp_nape","util","ZNPNode_ZPP_Shape"];c.util.ZNPNode_ZPP_Shape.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Shape};c.util.ZNPNode_ZPP_Body=
function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_Body"]=c.util.ZNPNode_ZPP_Body;c.util.ZNPNode_ZPP_Body.__name__=["zpp_nape","util","ZNPNode_ZPP_Body"];c.util.ZNPNode_ZPP_Body.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Body};c.util.ZNPNode_ZPP_Constraint=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_Constraint"]=c.util.ZNPNode_ZPP_Constraint;c.util.ZNPNode_ZPP_Constraint.__name__=
["zpp_nape","util","ZNPNode_ZPP_Constraint"];c.util.ZNPNode_ZPP_Constraint.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Constraint};c.util.ZNPNode_ZPP_Compound=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_Compound"]=c.util.ZNPNode_ZPP_Compound;c.util.ZNPNode_ZPP_Compound.__name__=["zpp_nape","util","ZNPNode_ZPP_Compound"];c.util.ZNPNode_ZPP_Compound.prototype={next:null,alloc:function(){},
free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Compound};c.util.ZNPNode_ZPP_InteractionListener=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_InteractionListener"]=c.util.ZNPNode_ZPP_InteractionListener;c.util.ZNPNode_ZPP_InteractionListener.__name__=["zpp_nape","util","ZNPNode_ZPP_InteractionListener"];c.util.ZNPNode_ZPP_InteractionListener.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},
__class__:c.util.ZNPNode_ZPP_InteractionListener};c.util.ZNPNode_ZPP_CbSet=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_CbSet"]=c.util.ZNPNode_ZPP_CbSet;c.util.ZNPNode_ZPP_CbSet.__name__=["zpp_nape","util","ZNPNode_ZPP_CbSet"];c.util.ZNPNode_ZPP_CbSet.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_CbSet};c.util.ZNPNode_ZPP_Interactor=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_Interactor"]=
c.util.ZNPNode_ZPP_Interactor;c.util.ZNPNode_ZPP_Interactor.__name__=["zpp_nape","util","ZNPNode_ZPP_Interactor"];c.util.ZNPNode_ZPP_Interactor.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Interactor};c.util.ZNPNode_ZPP_BodyListener=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_BodyListener"]=c.util.ZNPNode_ZPP_BodyListener;c.util.ZNPNode_ZPP_BodyListener.__name__=["zpp_nape","util",
"ZNPNode_ZPP_BodyListener"];c.util.ZNPNode_ZPP_BodyListener.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_BodyListener};c.util.ZNPNode_ZPP_Arbiter=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_Arbiter"]=c.util.ZNPNode_ZPP_Arbiter;c.util.ZNPNode_ZPP_Arbiter.__name__=["zpp_nape","util","ZNPNode_ZPP_Arbiter"];c.util.ZNPNode_ZPP_Arbiter.prototype={next:null,alloc:function(){},free:function(){this.elt=
null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Arbiter};c.util.ZNPNode_ZPP_ConstraintListener=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_ConstraintListener"]=c.util.ZNPNode_ZPP_ConstraintListener;c.util.ZNPNode_ZPP_ConstraintListener.__name__=["zpp_nape","util","ZNPNode_ZPP_ConstraintListener"];c.util.ZNPNode_ZPP_ConstraintListener.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_ConstraintListener};
c.util.ZNPNode_ZPP_CbSetPair=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_CbSetPair"]=c.util.ZNPNode_ZPP_CbSetPair;c.util.ZNPNode_ZPP_CbSetPair.__name__=["zpp_nape","util","ZNPNode_ZPP_CbSetPair"];c.util.ZNPNode_ZPP_CbSetPair.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_CbSetPair};c.util.ZNPNode_ZPP_CutInt=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_CutInt"]=c.util.ZNPNode_ZPP_CutInt;
c.util.ZNPNode_ZPP_CutInt.__name__=["zpp_nape","util","ZNPNode_ZPP_CutInt"];c.util.ZNPNode_ZPP_CutInt.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_CutInt};c.util.ZNPNode_ZPP_CutVert=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_CutVert"]=c.util.ZNPNode_ZPP_CutVert;c.util.ZNPNode_ZPP_CutVert.__name__=["zpp_nape","util","ZNPNode_ZPP_CutVert"];c.util.ZNPNode_ZPP_CutVert.prototype={next:null,
alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_CutVert};c.util.ZNPNode_ZPP_PartitionVertex=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_PartitionVertex"]=c.util.ZNPNode_ZPP_PartitionVertex;c.util.ZNPNode_ZPP_PartitionVertex.__name__=["zpp_nape","util","ZNPNode_ZPP_PartitionVertex"];c.util.ZNPNode_ZPP_PartitionVertex.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},
__class__:c.util.ZNPNode_ZPP_PartitionVertex};c.util.ZNPNode_ZPP_PartitionedPoly=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_PartitionedPoly"]=c.util.ZNPNode_ZPP_PartitionedPoly;c.util.ZNPNode_ZPP_PartitionedPoly.__name__=["zpp_nape","util","ZNPNode_ZPP_PartitionedPoly"];c.util.ZNPNode_ZPP_PartitionedPoly.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_PartitionedPoly};c.util.ZNPNode_ZPP_GeomVert=
function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_GeomVert"]=c.util.ZNPNode_ZPP_GeomVert;c.util.ZNPNode_ZPP_GeomVert.__name__=["zpp_nape","util","ZNPNode_ZPP_GeomVert"];c.util.ZNPNode_ZPP_GeomVert.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_GeomVert};c.util.ZNPNode_ZPP_SimplifyP=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_SimplifyP"]=c.util.ZNPNode_ZPP_SimplifyP;c.util.ZNPNode_ZPP_SimplifyP.__name__=
["zpp_nape","util","ZNPNode_ZPP_SimplifyP"];c.util.ZNPNode_ZPP_SimplifyP.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_SimplifyP};c.util.ZNPNode_ZPP_SimpleVert=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_SimpleVert"]=c.util.ZNPNode_ZPP_SimpleVert;c.util.ZNPNode_ZPP_SimpleVert.__name__=["zpp_nape","util","ZNPNode_ZPP_SimpleVert"];c.util.ZNPNode_ZPP_SimpleVert.prototype={next:null,alloc:function(){},
free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_SimpleVert};c.util.ZNPNode_ZPP_SimpleEvent=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_SimpleEvent"]=c.util.ZNPNode_ZPP_SimpleEvent;c.util.ZNPNode_ZPP_SimpleEvent.__name__=["zpp_nape","util","ZNPNode_ZPP_SimpleEvent"];c.util.ZNPNode_ZPP_SimpleEvent.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_SimpleEvent};
c.util.ZNPNode_ZPP_AABBPair=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_AABBPair"]=c.util.ZNPNode_ZPP_AABBPair;c.util.ZNPNode_ZPP_AABBPair.__name__=["zpp_nape","util","ZNPNode_ZPP_AABBPair"];c.util.ZNPNode_ZPP_AABBPair.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_AABBPair};c.util.ZNPNode_ZPP_Edge=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_Edge"]=c.util.ZNPNode_ZPP_Edge;
c.util.ZNPNode_ZPP_Edge.__name__=["zpp_nape","util","ZNPNode_ZPP_Edge"];c.util.ZNPNode_ZPP_Edge.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Edge};c.util.ZNPNode_ZPP_Vec2=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_Vec2"]=c.util.ZNPNode_ZPP_Vec2;c.util.ZNPNode_ZPP_Vec2.__name__=["zpp_nape","util","ZNPNode_ZPP_Vec2"];c.util.ZNPNode_ZPP_Vec2.prototype={next:null,alloc:function(){},free:function(){this.elt=
null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Vec2};c.util.ZNPNode_ZPP_Component=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_Component"]=c.util.ZNPNode_ZPP_Component;c.util.ZNPNode_ZPP_Component.__name__=["zpp_nape","util","ZNPNode_ZPP_Component"];c.util.ZNPNode_ZPP_Component.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Component};c.util.ZNPNode_ZPP_AABBNode=
function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_AABBNode"]=c.util.ZNPNode_ZPP_AABBNode;c.util.ZNPNode_ZPP_AABBNode.__name__=["zpp_nape","util","ZNPNode_ZPP_AABBNode"];c.util.ZNPNode_ZPP_AABBNode.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_AABBNode};c.util.ZNPNode_ZPP_InteractionGroup=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_InteractionGroup"]=c.util.ZNPNode_ZPP_InteractionGroup;
c.util.ZNPNode_ZPP_InteractionGroup.__name__=["zpp_nape","util","ZNPNode_ZPP_InteractionGroup"];c.util.ZNPNode_ZPP_InteractionGroup.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_InteractionGroup};c.util.ZNPNode_ZPP_FluidArbiter=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_FluidArbiter"]=c.util.ZNPNode_ZPP_FluidArbiter;c.util.ZNPNode_ZPP_FluidArbiter.__name__=["zpp_nape","util","ZNPNode_ZPP_FluidArbiter"];
c.util.ZNPNode_ZPP_FluidArbiter.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_FluidArbiter};c.util.ZNPNode_ZPP_SensorArbiter=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_SensorArbiter"]=c.util.ZNPNode_ZPP_SensorArbiter;c.util.ZNPNode_ZPP_SensorArbiter.__name__=["zpp_nape","util","ZNPNode_ZPP_SensorArbiter"];c.util.ZNPNode_ZPP_SensorArbiter.prototype={next:null,alloc:function(){},free:function(){this.elt=
null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_SensorArbiter};c.util.ZNPNode_ZPP_ColArbiter=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_ColArbiter"]=c.util.ZNPNode_ZPP_ColArbiter;c.util.ZNPNode_ZPP_ColArbiter.__name__=["zpp_nape","util","ZNPNode_ZPP_ColArbiter"];c.util.ZNPNode_ZPP_ColArbiter.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_ColArbiter};c.util.ZNPNode_ZPP_Listener=
function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_Listener"]=c.util.ZNPNode_ZPP_Listener;c.util.ZNPNode_ZPP_Listener.__name__=["zpp_nape","util","ZNPNode_ZPP_Listener"];c.util.ZNPNode_ZPP_Listener.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Listener};c.util.ZNPNode_ZPP_ToiEvent=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_ToiEvent"]=c.util.ZNPNode_ZPP_ToiEvent;c.util.ZNPNode_ZPP_ToiEvent.__name__=
["zpp_nape","util","ZNPNode_ZPP_ToiEvent"];c.util.ZNPNode_ZPP_ToiEvent.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_ToiEvent};c.util.ZNPNode_ConvexResult=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ConvexResult"]=c.util.ZNPNode_ConvexResult;c.util.ZNPNode_ConvexResult.__name__=["zpp_nape","util","ZNPNode_ConvexResult"];c.util.ZNPNode_ConvexResult.prototype={next:null,alloc:function(){},
free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ConvexResult};c.util.ZNPNode_ZPP_GeomPoly=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_ZPP_GeomPoly"]=c.util.ZNPNode_ZPP_GeomPoly;c.util.ZNPNode_ZPP_GeomPoly.__name__=["zpp_nape","util","ZNPNode_ZPP_GeomPoly"];c.util.ZNPNode_ZPP_GeomPoly.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_GeomPoly};
c.util.ZNPNode_RayResult=function(){this.next=this.elt=null};m["zpp_nape.util.ZNPNode_RayResult"]=c.util.ZNPNode_RayResult;c.util.ZNPNode_RayResult.__name__=["zpp_nape","util","ZNPNode_RayResult"];c.util.ZNPNode_RayResult.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:c.util.ZNPNode_RayResult};c.util.ZPP_MixVec2List=function(){this.at_index=0;this.at_ite=null;this.zip_length=!1;this._length=0;this.inner=null;f.geom.Vec2List.call(this);
this.at_ite=null;this.at_index=0;this.zip_length=!0;this._length=0};m["zpp_nape.util.ZPP_MixVec2List"]=c.util.ZPP_MixVec2List;c.util.ZPP_MixVec2List.__name__=["zpp_nape","util","ZPP_MixVec2List"];c.util.ZPP_MixVec2List.get=function(a,b){null==b&&(b=!1);var d=new c.util.ZPP_MixVec2List;d.inner=a;d.zpp_inner.immutable=b;return d};c.util.ZPP_MixVec2List.__super__=f.geom.Vec2List;c.util.ZPP_MixVec2List.prototype=F(f.geom.Vec2List.prototype,{inner:null,_length:null,zip_length:null,at_ite:null,at_index:null,
zpp_gl:function(){this.zpp_vm();if(this.zip_length){this._length=0;for(var a=this.inner.next;null!=a;)this._length++,a=a.next;this.zip_length=!1}return this._length},zpp_vm:function(){this.zpp_inner.validate();this.inner.modified&&(this.zip_length=!0,this._length=0,this.at_ite=null)},at:function(a){this.zpp_vm();if(0>a||a>=this.zpp_gl())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-a);if(a<this.at_index||null==this.at_ite)for(this.at_index=0,this.at_ite=this.inner.next;;)break;
for(;this.at_index!=a;)for(this.at_index++,this.at_ite=this.at_ite.next;;)break;return this.at_ite.wrapper()},push:function(a){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();this.zpp_vm();if(a.zpp_inner._inuse)throw"Error: Vec2 is already in use";var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0){if(this.zpp_inner.reverse_flag)this.inner.add(a.zpp_inner);else{var d=this.inner.iterator_at(this.zpp_gl()-1);this.inner.insert(d,a.zpp_inner)}this.zpp_inner.invalidate();
null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a)}return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();this.zpp_vm();if(a.zpp_inner._inuse)throw"Error: Vec2 is already in use";var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0){if(this.zpp_inner.reverse_flag){var d=this.inner.iterator_at(this.zpp_gl()-1);this.inner.insert(d,a.zpp_inner)}else this.inner.add(a.zpp_inner);this.zpp_inner.invalidate();null!=
this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a)}return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();if(this.empty())throw"Error: Cannot remove from empty list";this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){var a=this.inner.next,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.inner.pop()}else{null!=this.at_ite&&null==this.at_ite.next&&(this.at_ite=null);var b=1==
this.zpp_gl()?null:this.inner.iterator_at(this.zpp_gl()-2),a=null==b?this.inner.next:b.next,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();if(this.empty())throw"Error: Cannot remove from empty list";this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){null!=this.at_ite&&
null==this.at_ite.next&&(this.at_ite=null);var b;b=1==this.zpp_gl()?null:this.inner.iterator_at(this.zpp_gl()-2);var a=null==b?this.inner.next:b.next,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.inner.erase(b)}else a=this.inner.next,b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},remove:function(a){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";
this.zpp_inner.modify_test();this.zpp_vm();var b;b=!1;for(var d=this.inner.next;null!=d;){if(a.zpp_inner==d){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";if(this.zpp_inner.reverse_flag)for(;!this.empty();)this.pop();else for(;!this.empty();)this.shift()},__class__:c.util.ZPP_MixVec2List});
c.util.ZPP_ConstraintList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Constraint;this._invalidated=!0};m["zpp_nape.util.ZPP_ConstraintList"]=c.util.ZPP_ConstraintList;c.util.ZPP_ConstraintList.__name__=["zpp_nape","util","ZPP_ConstraintList"];
c.util.ZPP_ConstraintList.get=function(a,b){null==b&&(b=!1);var d=new f.constraint.ConstraintList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_ConstraintList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=
null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_ConstraintList};
c.util.ZPP_BodyList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Body;this._invalidated=!0};m["zpp_nape.util.ZPP_BodyList"]=c.util.ZPP_BodyList;c.util.ZPP_BodyList.__name__=["zpp_nape","util","ZPP_BodyList"];c.util.ZPP_BodyList.get=
function(a,b){null==b&&(b=!1);var d=new f.phys.BodyList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_BodyList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=
!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_BodyList};c.util.ZPP_InteractorList=function(){this.user_length=
0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Interactor;this._invalidated=!0};m["zpp_nape.util.ZPP_InteractorList"]=c.util.ZPP_InteractorList;c.util.ZPP_InteractorList.__name__=["zpp_nape","util","ZPP_InteractorList"];c.util.ZPP_InteractorList.get=function(a,
b){null==b&&(b=!1);var d=new f.phys.InteractorList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_InteractorList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=
!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_InteractorList};c.util.ZPP_CompoundList=function(){this.user_length=
0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Compound;this._invalidated=!0};m["zpp_nape.util.ZPP_CompoundList"]=c.util.ZPP_CompoundList;c.util.ZPP_CompoundList.__name__=["zpp_nape","util","ZPP_CompoundList"];c.util.ZPP_CompoundList.get=function(a,b){null==
b&&(b=!1);var d=new f.phys.CompoundList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_CompoundList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=
!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_CompoundList};c.util.ZPP_ListenerList=function(){this.user_length=0;this.zip_length=
!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Listener;this._invalidated=!0};m["zpp_nape.util.ZPP_ListenerList"]=c.util.ZPP_ListenerList;c.util.ZPP_ListenerList.__name__=["zpp_nape","util","ZPP_ListenerList"];c.util.ZPP_ListenerList.get=function(a,b){null==b&&(b=!1);var d=
new f.callbacks.ListenerList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_ListenerList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=
!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_ListenerList};c.util.ZPP_CbTypeList=function(){this.user_length=0;this.zip_length=
!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_CbType;this._invalidated=!0};m["zpp_nape.util.ZPP_CbTypeList"]=c.util.ZPP_CbTypeList;c.util.ZPP_CbTypeList.__name__=["zpp_nape","util","ZPP_CbTypeList"];c.util.ZPP_CbTypeList.get=function(a,b){null==b&&(b=!1);var d=new f.callbacks.CbTypeList;
d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_CbTypeList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=
!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_CbTypeList};c.util.ZPP_Vec2List=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;
this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Vec2;this._invalidated=!0};m["zpp_nape.util.ZPP_Vec2List"]=c.util.ZPP_Vec2List;c.util.ZPP_Vec2List.__name__=["zpp_nape","util","ZPP_Vec2List"];c.util.ZPP_Vec2List.get=function(a,b){null==b&&(b=!1);var d=new f.geom.Vec2List;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=
!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_Vec2List.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=
this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_Vec2List};c.util.ZPP_GeomPolyList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=
this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_GeomPoly;this._invalidated=!0};m["zpp_nape.util.ZPP_GeomPolyList"]=c.util.ZPP_GeomPolyList;c.util.ZPP_GeomPolyList.__name__=["zpp_nape","util","ZPP_GeomPolyList"];c.util.ZPP_GeomPolyList.get=function(a,b){null==b&&(b=!1);var d=new f.geom.GeomPolyList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};
c.util.ZPP_GeomPolyList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&
this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_GeomPolyList};c.util.ZPP_RayResultList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=
this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_RayResult;this._invalidated=!0};m["zpp_nape.util.ZPP_RayResultList"]=c.util.ZPP_RayResultList;c.util.ZPP_RayResultList.__name__=["zpp_nape","util","ZPP_RayResultList"];c.util.ZPP_RayResultList.get=function(a,b){null==b&&(b=!1);var d=new f.geom.RayResultList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_RayResultList.prototype=
{outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&
(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_RayResultList};c.util.ZPP_ConvexResultList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=
null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ConvexResult;this._invalidated=!0};m["zpp_nape.util.ZPP_ConvexResultList"]=c.util.ZPP_ConvexResultList;c.util.ZPP_ConvexResultList.__name__=["zpp_nape","util","ZPP_ConvexResultList"];c.util.ZPP_ConvexResultList.get=function(a,b){null==b&&(b=!1);var d=new f.geom.ConvexResultList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_ConvexResultList.prototype=
{outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&
(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_ConvexResultList};c.util.ZPP_EdgeList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=
null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Edge;this._invalidated=!0};m["zpp_nape.util.ZPP_EdgeList"]=c.util.ZPP_EdgeList;c.util.ZPP_EdgeList.__name__=["zpp_nape","util","ZPP_EdgeList"];c.util.ZPP_EdgeList.get=function(a,b){null==b&&(b=!1);var d=new f.shape.EdgeList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_EdgeList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,
_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&
this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_EdgeList};c.util.ZPP_ShapeList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=
this.inner=null;this.inner=new c.util.ZNPList_ZPP_Shape;this._invalidated=!0};m["zpp_nape.util.ZPP_ShapeList"]=c.util.ZPP_ShapeList;c.util.ZPP_ShapeList.__name__=["zpp_nape","util","ZPP_ShapeList"];c.util.ZPP_ShapeList.get=function(a,b){null==b&&(b=!1);var d=new f.shape.ShapeList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_ShapeList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,
adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=
!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_ShapeList};c.util.ZPP_InteractionGroupList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_InteractionGroup;
this._invalidated=!0};m["zpp_nape.util.ZPP_InteractionGroupList"]=c.util.ZPP_InteractionGroupList;c.util.ZPP_InteractionGroupList.__name__=["zpp_nape","util","ZPP_InteractionGroupList"];c.util.ZPP_InteractionGroupList.get=function(a,b){null==b&&(b=!1);var d=new f.dynamics.InteractionGroupList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_InteractionGroupList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,
_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},
invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_InteractionGroupList};c.util.ZPP_ArbiterList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=
this.inner=null;this.inner=new c.util.ZNPList_ZPP_Arbiter;this._invalidated=!0};m["zpp_nape.util.ZPP_ArbiterList"]=c.util.ZPP_ArbiterList;c.util.ZPP_ArbiterList.__name__=["zpp_nape","util","ZPP_ArbiterList"];c.util.ZPP_ArbiterList.get=function(a,b){null==b&&(b=!1);var d=new f.dynamics.ArbiterList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_ArbiterList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,
_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},
invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_ArbiterList};c.util.ZPP_ContactList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=
null;this.inner=new c.dynamics.ZPP_Contact;this._invalidated=!0};m["zpp_nape.util.ZPP_ContactList"]=c.util.ZPP_ContactList;c.util.ZPP_ContactList.__name__=["zpp_nape","util","ZPP_ContactList"];c.util.ZPP_ContactList.get=function(a,b){null==b&&(b=!1);var d=new f.dynamics.ContactList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_ContactList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,
adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=
!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:c.util.ZPP_ContactList};c.util.ZPP_Math=function(){};m["zpp_nape.util.ZPP_Math"]=c.util.ZPP_Math;c.util.ZPP_Math.__name__=["zpp_nape","util","ZPP_Math"];c.util.ZPP_Math.sqrt=function(a){return Math.sqrt(a)};c.util.ZPP_Math.invsqrt=function(a){return 1/Math.sqrt(a)};c.util.ZPP_Math.sqr=function(a){return a*a};c.util.ZPP_Math.clamp2=function(a,b){return c.util.ZPP_Math.clamp(a,
-b,b)};c.util.ZPP_Math.clamp=function(a,b,d){return a<b?b:a>d?d:a};c.util.ZPP_PubPool=function(){};m["zpp_nape.util.ZPP_PubPool"]=c.util.ZPP_PubPool;c.util.ZPP_PubPool.__name__=["zpp_nape","util","ZPP_PubPool"];c.util.ZPP_Set_ZPP_Body=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};m["zpp_nape.util.ZPP_Set_ZPP_Body"]=c.util.ZPP_Set_ZPP_Body;c.util.ZPP_Set_ZPP_Body.__name__=["zpp_nape","util","ZPP_Set_ZPP_Body"];c.util.ZPP_Set_ZPP_Body.prototype={free:function(){this.swapped=
this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,d=!0;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var e=c.data;if(!d){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)d=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=
c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&
b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var c=
d.data;if(!this.lt(c,a)){b=c;break}if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=
a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=b.data;
b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var f=d.prev;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}f=d.next;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==
f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_Body.zpp_pool;c.util.ZPP_Set_ZPP_Body.zpp_pool=a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=
this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_Body.zpp_pool;c.util.ZPP_Set_ZPP_Body.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var d=a.prev,c=a.next,e=c.prev,g=c.next;d.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&
(e.parent=a);a=b.data;b.data=c.data;c.data=a;null!=this.swapped&&this.swapped(b.data,c.data);c.prev=g;null!=g&&(g.parent=c);c.next=b.next;null!=b.next&&(b.next.parent=c);b.next=c}else d=a.next,c=a.prev,e=c.next,g=c.prev,d.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=c.data,c.data=a,null!=this.swapped&&this.swapped(b.data,c.data),c.next=g,null!=g&&(g.parent=c),c.prev=b.prev,null!=b.prev&&(b.prev.parent=c),b.prev=c;null!=c&&(c.parent=b);b=d;null!=b.prev&&0==b.prev.colour?
this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,d=b.parent;if(null==d){b.colour=1;break}var c,e,g,f,h,l,m;b==d.prev?(g=d,m=d.next,a==b.prev?(c=a,e=b,f=a.prev,h=a.next,l=b.next):(c=b,e=a,f=b.prev,h=a.prev,l=a.next)):(c=d,f=d.prev,a==b.prev?(e=a,g=b,h=a.prev,l=a.next,m=b.next):(e=b,g=a,h=b.prev,l=a.prev,m=a.next));a=d.parent;null==a?this.parent=e:a.prev==d?a.prev=e:a.next=e;null!=e&&(e.parent=a);c.prev=f;null!=f&&
(f.parent=c);c.next=h;null!=h&&(h.parent=c);e.prev=c;null!=c&&(c.parent=e);e.next=g;null!=g&&(g.parent=e);g.prev=l;null!=l&&(l.parent=g);g.next=m;null!=m&&(m.parent=g);e.colour=d.colour-1;c.colour=1;g.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=
b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=
b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==
c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?
b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=
1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_Body};c.util.ZPP_Set_ZPP_CbSetPair=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};m["zpp_nape.util.ZPP_Set_ZPP_CbSetPair"]=c.util.ZPP_Set_ZPP_CbSetPair;c.util.ZPP_Set_ZPP_CbSetPair.__name__=["zpp_nape","util","ZPP_Set_ZPP_CbSetPair"];c.util.ZPP_Set_ZPP_CbSetPair.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,
data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,d=!0;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var e=c.data;if(!d){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)d=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}if(null!=a.next)for(a=
a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=
this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var c=d.data;if(!this.lt(c,a)){b=c;break}if(null!=d.next)for(d=d.next;null!=d.prev;)d=
d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=
a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;
if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var f=d.prev;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}f=d.next;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=
f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool;c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=
b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool;c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var d=a.prev,c=a.next,e=c.prev,g=c.next;d.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=c.data;c.data=
a;null!=this.swapped&&this.swapped(b.data,c.data);c.prev=g;null!=g&&(g.parent=c);c.next=b.next;null!=b.next&&(b.next.parent=c);b.next=c}else d=a.next,c=a.prev,e=c.next,g=c.prev,d.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=c.data,c.data=a,null!=this.swapped&&this.swapped(b.data,c.data),c.next=g,null!=g&&(g.parent=c),c.prev=b.prev,null!=b.prev&&(b.prev.parent=c),b.prev=c;null!=c&&(c.parent=b);b=d;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&
0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,d=b.parent;if(null==d){b.colour=1;break}var c,e,g,f,h,l,m;b==d.prev?(g=d,m=d.next,a==b.prev?(c=a,e=b,f=a.prev,h=a.next,l=b.next):(c=b,e=a,f=b.prev,h=a.prev,l=a.next)):(c=d,f=d.prev,a==b.prev?(e=a,g=b,h=a.prev,l=a.next,m=b.next):(e=b,g=a,h=b.prev,l=a.prev,m=a.next));a=d.parent;null==a?this.parent=e:a.prev==d?a.prev=e:a.next=e;null!=e&&(e.parent=a);c.prev=f;null!=f&&(f.parent=c);c.next=h;null!=h&&(h.parent=
c);e.prev=c;null!=c&&(c.parent=e);e.next=g;null!=g&&(g.parent=e);g.prev=l;null!=l&&(l.parent=g);g.next=m;null!=m&&(m.parent=g);e.colour=d.colour-1;c.colour=1;g.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,
b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=
b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,
d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;
b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=
a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_CbSetPair};c.util.ZPP_Set_ZPP_PartitionVertex=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};m["zpp_nape.util.ZPP_Set_ZPP_PartitionVertex"]=c.util.ZPP_Set_ZPP_PartitionVertex;c.util.ZPP_Set_ZPP_PartitionVertex.__name__=["zpp_nape","util","ZPP_Set_ZPP_PartitionVertex"];
c.util.ZPP_Set_ZPP_PartitionVertex.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,d=!0;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var e=c.data;if(!d){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)d=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;
if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=
b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var d=
this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var c=d.data;if(!this.lt(c,a)){b=c;break}if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=
a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=
b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var f=d.prev;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}f=d.next;if(-1==
f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool;c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=
a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool;c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;
if(b.prev==a){var d=a.prev,c=a.next,e=c.prev,g=c.next;d.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=c.data;c.data=a;null!=this.swapped&&this.swapped(b.data,c.data);c.prev=g;null!=g&&(g.parent=c);c.next=b.next;null!=b.next&&(b.next.parent=c);b.next=c}else d=a.next,c=a.prev,e=c.next,g=c.prev,d.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=c.data,c.data=a,null!=this.swapped&&this.swapped(b.data,c.data),c.next=g,null!=g&&(g.parent=c),c.prev=
b.prev,null!=b.prev&&(b.prev.parent=c),b.prev=c;null!=c&&(c.parent=b);b=d;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,d=b.parent;if(null==d){b.colour=1;break}var c,e,g,f,h,l,m;b==d.prev?(g=d,m=d.next,a==b.prev?(c=a,e=b,f=a.prev,h=a.next,l=b.next):(c=b,e=a,f=b.prev,h=a.prev,l=a.next)):(c=d,f=d.prev,a==b.prev?(e=a,g=b,h=a.prev,l=a.next,m=b.next):(e=b,g=a,h=b.prev,l=a.prev,m=a.next));
a=d.parent;null==a?this.parent=e:a.prev==d?a.prev=e:a.next=e;null!=e&&(e.parent=a);c.prev=f;null!=f&&(f.parent=c);c.next=h;null!=h&&(h.parent=c);e.prev=c;null!=c&&(c.parent=e);e.next=g;null!=g&&(g.parent=e);g.prev=l;null!=l&&(l.parent=g);g.next=m;null!=m&&(m.parent=g);e.colour=d.colour-1;c.colour=1;g.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?
b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,
a))if(null==d.next){null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?
b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,
a))if(null==d.next){null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionVertex:
(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_PartitionVertex};c.util.ZPP_Set_ZPP_PartitionPair=function(){this.colour=
0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};m["zpp_nape.util.ZPP_Set_ZPP_PartitionPair"]=c.util.ZPP_Set_ZPP_PartitionPair;c.util.ZPP_Set_ZPP_PartitionPair.__name__=["zpp_nape","util","ZPP_Set_ZPP_PartitionPair"];c.util.ZPP_Set_ZPP_PartitionPair.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=
a.prev;for(;null!=a;){var b=a.data,d=!0;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var e=c.data;if(!d){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)d=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==
this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=
this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var c=d.data;if(!this.lt(c,a)){b=c;break}if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;
return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=
this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;
var f=d.prev;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}f=d.next;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=
a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool;c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=
d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool;c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var d=a.prev,c=a.next,e=c.prev,g=c.next;d.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=c.data;c.data=a;null!=this.swapped&&this.swapped(b.data,c.data);c.prev=g;null!=g&&(g.parent=c);c.next=b.next;null!=b.next&&(b.next.parent=
c);b.next=c}else d=a.next,c=a.prev,e=c.next,g=c.prev,d.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=c.data,c.data=a,null!=this.swapped&&this.swapped(b.data,c.data),c.next=g,null!=g&&(g.parent=c),c.prev=b.prev,null!=b.prev&&(b.prev.parent=c),b.prev=c;null!=c&&(c.parent=b);b=d;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,d=b.parent;if(null==d){b.colour=
1;break}var c,e,g,f,h,l,m;b==d.prev?(g=d,m=d.next,a==b.prev?(c=a,e=b,f=a.prev,h=a.next,l=b.next):(c=b,e=a,f=b.prev,h=a.prev,l=a.next)):(c=d,f=d.prev,a==b.prev?(e=a,g=b,h=a.prev,l=a.next,m=b.next):(e=b,g=a,h=b.prev,l=a.prev,m=a.next));a=d.parent;null==a?this.parent=e:a.prev==d?a.prev=e:a.next=e;null!=e&&(e.parent=a);c.prev=f;null!=f&&(f.parent=c);c.next=h;null!=h&&(h.parent=c);e.prev=c;null!=c&&(c.parent=e);e.next=g;null!=g&&(g.parent=e);g.prev=l;null!=l&&(l.parent=g);g.next=m;null!=m&&(m.parent=g);
e.colour=d.colour-1;c.colour=1;g.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==
c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;
b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==
c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;
b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=
a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_PartitionPair};c.util.ZPP_Set_ZPP_SimpleVert=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};m["zpp_nape.util.ZPP_Set_ZPP_SimpleVert"]=c.util.ZPP_Set_ZPP_SimpleVert;c.util.ZPP_Set_ZPP_SimpleVert.__name__=["zpp_nape","util","ZPP_Set_ZPP_SimpleVert"];c.util.ZPP_Set_ZPP_SimpleVert.prototype=
{free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,d=!0;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var e=c.data;if(!d){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)d=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=c.next)for(c=c.next;null!=c.prev;)c=
c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=
b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=
c;){var f=c.data;if(!this.lt(f,a)){b=f;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=
a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=
b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var f=d.prev;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}f=d.next;if(-1==f.colour){this.__fix_neg_red(f);
break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool;c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=a},clear:function(){this.clear_with(function(a){})},
clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool;c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,f=a.next,e=f.prev,g=f.next;c.colour=
0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=f.data;f.data=a;null!=this.swapped&&this.swapped(b.data,f.data);f.prev=g;null!=g&&(g.parent=f);f.next=b.next;null!=b.next&&(b.next.parent=f);b.next=f}else c=a.next,f=a.prev,e=f.next,g=f.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=f.data,f.data=a,null!=this.swapped&&this.swapped(b.data,f.data),f.next=g,null!=g&&(g.parent=f),f.prev=b.prev,null!=b.prev&&(b.prev.parent=f),b.prev=f;null!=f&&(f.parent=
b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var f,e,g,h,l,m,n;b==c.prev?(g=c,n=c.next,a==b.prev?(f=a,e=b,h=a.prev,l=a.next,m=b.next):(f=b,e=a,h=b.prev,l=a.prev,m=a.next)):(f=c,h=c.prev,a==b.prev?(e=a,g=b,l=a.prev,m=a.next,n=b.next):(e=b,g=a,l=b.prev,m=a.prev,n=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;
null!=e&&(e.parent=a);f.prev=h;null!=h&&(h.parent=f);f.next=l;null!=l&&(l.parent=f);e.prev=f;null!=f&&(f.parent=e);e.next=g;null!=g&&(g.parent=e);g.prev=m;null!=m&&(m.parent=g);g.next=n;null!=n&&(n.parent=g);e.colour=c.colour-1;f.colour=1;g.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=
c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?
b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=
b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,
c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=
this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_SimpleVert};c.util.ZPP_Set_ZPP_SimpleSeg=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};m["zpp_nape.util.ZPP_Set_ZPP_SimpleSeg"]=c.util.ZPP_Set_ZPP_SimpleSeg;c.util.ZPP_Set_ZPP_SimpleSeg.__name__=
["zpp_nape","util","ZPP_Set_ZPP_SimpleSeg"];c.util.ZPP_Set_ZPP_SimpleSeg.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;if(!this.empty()){for(var f=this.parent;null!=f.prev;)f=f.prev;for(;null!=f;){var e=f.data;if(!c){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)c=!1;
else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=f.next)for(f=f.next;null!=f.prev;)f=f.prev;else{for(;null!=f.parent&&f==f.parent.next;)f=f.parent;f=f.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=
b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},
lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var f=c.data;if(!this.lt(f,a)){b=f;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);
this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},
remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var f=d.prev;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=
f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}f=d.next;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=
c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool;c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool;c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=
a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,f=a.next,e=f.prev,g=f.next;c.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=f.data;f.data=a;null!=this.swapped&&this.swapped(b.data,f.data);f.prev=g;null!=g&&(g.parent=f);f.next=b.next;null!=b.next&&(b.next.parent=f);b.next=f}else c=a.next,f=a.prev,e=f.next,g=f.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=f.data,f.data=a,null!=this.swapped&&this.swapped(b.data,
f.data),f.next=g,null!=g&&(g.parent=f),f.prev=b.prev,null!=b.prev&&(b.prev.parent=f),b.prev=f;null!=f&&(f.parent=b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var f,e,g,h,l,m,n;b==c.prev?(g=c,n=c.next,a==b.prev?(f=a,e=b,h=a.prev,l=a.next,m=b.next):(f=b,e=a,h=b.prev,l=a.prev,m=a.next)):(f=c,h=c.prev,a==b.prev?(e=a,g=b,l=a.prev,m=a.next,
n=b.next):(e=b,g=a,l=b.prev,m=a.prev,n=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);f.prev=h;null!=h&&(h.parent=f);f.next=l;null!=l&&(l.parent=f);e.prev=f;null!=f&&(f.parent=e);e.next=g;null!=g&&(g.parent=e);g.prev=m;null!=m&&(m.parent=g);g.next=n;null!=n&&(n.parent=g);e.colour=c.colour-1;f.colour=1;g.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=
null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=
d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?
b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==
c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=
b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_SimpleSeg};c.util.ZPP_Set_ZPP_SimpleEvent=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};m["zpp_nape.util.ZPP_Set_ZPP_SimpleEvent"]=
c.util.ZPP_Set_ZPP_SimpleEvent;c.util.ZPP_Set_ZPP_SimpleEvent.__name__=["zpp_nape","util","ZPP_Set_ZPP_SimpleEvent"];c.util.ZPP_Set_ZPP_SimpleEvent.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;if(!this.empty()){for(var f=this.parent;null!=f.prev;)f=f.prev;for(;null!=f;){var e=
f.data;if(!c){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)c=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=f.next)for(f=f.next;null!=f.prev;)f=f.prev;else{for(;null!=f.parent&&f==f.parent.next;)f=f.parent;f=f.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},
size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=
b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var f=c.data;if(!this.lt(f,a)){b=f;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;
this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=
this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var f=d.prev;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=
f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}f=d.next;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=
a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool;c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=
c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool;c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,f=a.next,e=f.prev,g=f.next;c.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=f.data;f.data=a;null!=this.swapped&&this.swapped(b.data,f.data);f.prev=g;null!=g&&(g.parent=f);f.next=b.next;null!=b.next&&(b.next.parent=f);b.next=f}else c=a.next,f=a.prev,e=f.next,g=f.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=
e&&(e.parent=a),a=b.data,b.data=f.data,f.data=a,null!=this.swapped&&this.swapped(b.data,f.data),f.next=g,null!=g&&(g.parent=f),f.prev=b.prev,null!=b.prev&&(b.prev.parent=f),b.prev=f;null!=f&&(f.parent=b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var f,e,g,h,l,m,n;b==c.prev?(g=c,n=c.next,a==b.prev?(f=a,e=b,h=a.prev,l=a.next,m=b.next):
(f=b,e=a,h=b.prev,l=a.prev,m=a.next)):(f=c,h=c.prev,a==b.prev?(e=a,g=b,l=a.prev,m=a.next,n=b.next):(e=b,g=a,l=b.prev,m=a.prev,n=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);f.prev=h;null!=h&&(h.parent=f);f.next=l;null!=l&&(l.parent=f);e.prev=f;null!=f&&(f.parent=e);e.next=g;null!=g&&(g.parent=e);g.prev=m;null!=m&&(m.parent=g);g.next=n;null!=n&&(n.parent=g);e.colour=c.colour-1;f.colour=1;g.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&
0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,
c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));
return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=
b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;
null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_SimpleEvent};
c.util.ZPP_Set_ZPP_CbSet=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};m["zpp_nape.util.ZPP_Set_ZPP_CbSet"]=c.util.ZPP_Set_ZPP_CbSet;c.util.ZPP_Set_ZPP_CbSet.__name__=["zpp_nape","util","ZPP_Set_ZPP_CbSet"];c.util.ZPP_Set_ZPP_CbSet.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=
a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;if(!this.empty()){for(var f=this.parent;null!=f.prev;)f=f.prev;for(;null!=f;){var e=f.data;if(!c){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)c=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=f.next)for(f=f.next;null!=f.prev;)f=f.prev;else{for(;null!=f.parent&&f==f.parent.next;)f=f.parent;f=f.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},
empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;
return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var f=c.data;if(!this.lt(f,a)){b=f;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=
this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=
a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;
d.prev.colour--;d.next.colour--;var f=d.prev;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}f=d.next;if(-1==f.colour){this.__fix_neg_red(f);break}else if(0==f.colour){if(null!=f.prev&&0==f.prev.colour){this.__fix_dbl_red(f.prev);break}if(null!=f.next&&0==f.next.colour){this.__fix_dbl_red(f.next);break}}if(2==d.colour)if(null==d.parent)d.colour=
1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_CbSet.zpp_pool;c.util.ZPP_Set_ZPP_CbSet.zpp_pool=a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);
var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_CbSet.zpp_pool;c.util.ZPP_Set_ZPP_CbSet.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,f=a.next,e=f.prev,g=f.next;c.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=f.data;f.data=a;null!=this.swapped&&this.swapped(b.data,f.data);f.prev=g;null!=g&&(g.parent=f);f.next=b.next;null!=b.next&&(b.next.parent=
f);b.next=f}else c=a.next,f=a.prev,e=f.next,g=f.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=f.data,f.data=a,null!=this.swapped&&this.swapped(b.data,f.data),f.next=g,null!=g&&(g.parent=f),f.prev=b.prev,null!=b.prev&&(b.prev.parent=f),b.prev=f;null!=f&&(f.parent=b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=
1;break}var f,e,g,h,l,m,n;b==c.prev?(g=c,n=c.next,a==b.prev?(f=a,e=b,h=a.prev,l=a.next,m=b.next):(f=b,e=a,h=b.prev,l=a.prev,m=a.next)):(f=c,h=c.prev,a==b.prev?(e=a,g=b,l=a.prev,m=a.next,n=b.next):(e=b,g=a,l=b.prev,m=a.prev,n=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);f.prev=h;null!=h&&(h.parent=f);f.next=l;null!=l&&(l.parent=f);e.prev=f;null!=f&&(f.parent=e);e.next=g;null!=g&&(g.parent=e);g.prev=m;null!=m&&(m.parent=g);g.next=n;null!=n&&(n.parent=g);
e.colour=c.colour-1;f.colour=1;g.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?
b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=
0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=
b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?
b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_CbSet};var ga,Pd=0;Array.prototype.indexOf&&
(Q.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)});Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;m.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=m.String=String;String.__name__=["String"];m.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=m.Date=Date;Date.__name__=["Date"];var Qd=m.Int={__name__:["Int"]},Ie=m.Dynamic={__name__:["Dynamic"]},
Pc=m.Float=Number;Pc.__name__=["Float"];var Qc=m.Bool=Boolean;Qc.__ename__=["Bool"];var Rc=m.Class={__name__:["Class"]},Je={};h.Lib.__init();v.Resource.content=[{name:"__ASSET__fonts_grobold_ttf",data:"b3k0Omhhc2hxOjExMW95Njphc2NlbnRkMTAxMy43Nnk0OmRhdGFhZDYzNy45NTJkNjcxLjc0M2Q2MjcuNzEyZDYwMS4wODhkNTk0Ljk0NGQ1NDYuODE2ZDU2Mi4xNzZkNDkyLjU0NGQ1MTMuMDI0ZDQ1OC4yNGQ0NjMuODcyZDQyMy45MzZkNDAxLjkyZDQxMC42MjRkMzM5Ljk2OGQzOTcuMzEyZDI3MS4zNmQ0MDYuNTI4ZDIwMi43NTJkNDE1Ljc0NGQxNDYuOTQ0ZDQ0NS45NTJkOTEuMTM2ZDQ3Ni4xNTlkNTMuNzZkNTIzLjI2NGQxNi4zODRkNTcwLjM2N2QtMC41MTJkNjMxLjI5NmQtMTcuNDA4ZDY5Mi4yMjNkLTcuMTY4ZDc2Mi44OGQyLjA0OGQ4MzMuNTM2ZDM0LjgxNmQ4ODcuMjk2ZDY3LjU4NGQ5NDEuMDU2ZDExNi43MzZkOTc1LjM2ZDE2NS44ODhkMTAwOS42NjRkMjI4LjM1MmQxMDIyLjk3NmQyOTAuODE2ZDEwMzYuMjg4ZDM1OS40MjRkMTAyNy4wNzFkNDI4LjAzMmQxMDE3Ljg1NmQ0ODMuODRkOTg3LjY0OGQ1MzkuNjQ4ZDk1Ny40NGQ1NzcuMDI0ZDkxMC44NDhkNjE0LjRkODY0LjI1NmQ2MzEuMjk2ZDgwMy4zMjhkNjQ4LjE5MmQ3NDIuNGQ2MzcuOTUyZDY3MS43NDNkMjA3Ljg3MmQ3NTguNzg0ZDE5MS40ODhkNzE5Ljg3MmQyMDkuNDA4ZDY4NC4wMzFkMjI3LjMyOGQ2NDguMTkyZDI3NS40NTZkNjI3LjcxMmQzMjIuNTZkNjA3LjIzMmQzNjAuNDQ4ZDYyMC4wMzFkMzk4LjMzNmQ2MzIuODMyZDQxNS43NDRkNjcxLjc0M2Q0MzIuMTI4ZDcxMS42OGQ0MTQuMjA4ZDc0Ny4wMDhkMzk2LjI4OGQ3ODIuMzM2ZDM0OS4xODRkODAyLjgxNmQzMDEuMDU2ZDgyMy4yOTZkMjYzLjE2OGQ4MTEuMDA4ZDIyNS4yOGQ3OTguNzJkMjA3Ljg3MmQ3NTguNzg0aHk2Ol93aWR0aGQ2MzEuODA4eTQ6eE1heGQ2NDguMTkyeTQ6eE1pbmQtMTcuNDA4eTQ6eU1heGQ2MjYuNjg4eTQ6eU1pbmQtMTIuMjg4eTc6X2hlaWdodGQ2NDQuMDk2eTc6bGVhZGluZ2QxOTYuNjA4eTc6ZGVzY2VudGQyMDYuODQ4eTg6Y2hhckNvZGVpMTExeTE1OmxlZnRzaWRlQmVhcmluZ2QtMTcuNDA4eTEyOmFkdmFuY2VXaWR0aGQ2MzEuODA4eTg6Y29tbWFuZHNhaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kxaTNpM2kzaTNpM2kzaTNpM2hnOjIyM29SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMjNSMTJkMFIxM2QxMDI0UjE0YWhnOjExMG9SMWQxMDEzLjc2UjJhZDI0MS42NjRkNDE4LjgxNmQyOC42NzJkNDM2LjIyM2QzNi44NjRkMTAxOC44OGQyNTQuOTc2ZDEwMzQuMjRkMjUwLjg4ZDY2NC41NzZkMjUwLjg4ZDY0NC4wOTZkMjY2Ljc1MmQ2MzIuMzE5ZDI4Mi42MjRkNjIwLjU0NGQzMDIuMDhkNjIwLjU0NGQzMjIuNTZkNjIwLjU0NGQzMzcuNDA4ZDYzMi44MzJkMzUyLjI1NmQ2NDUuMTJkMzUxLjIzMmQ2NjMuNTUyZDM0OC4xNmQxMDM2LjI4OGQ1NjkuMzQ0ZDEwMTcuODU2ZDU2OS4zNDRkNjIxLjU2OGQ1NjkuMzQ0ZDU3OC41NmQ1NTcuNTY4ZDU0MS42OTVkNTQ1Ljc5MmQ1MDQuODMyZDUyMy4yNjRkNDc3LjE4M2Q1MDAuNzM2ZDQ0OS41MzVkNDY3Ljk2OGQ0MzQuMTc1ZDQzNS4yZDQxOC44MTZkMzkyLjE5MmQ0MTguODE2ZDM1MC4yMDhkNDE4LjgxNmQzMTQuODhkNDM1LjE5OWQyNzkuNTUyZDQ1MS41ODNkMjQ1Ljc2ZDQ5Ny42NjRkMjQxLjY2NGQ0OTcuNjY0ZDI0MS42NjRkNDE4LjgxNmhSM2Q2MDUuMTg0UjRkNTY5LjM0NFI1ZDI4LjY3MlI2ZDYwNS4xODRSN2QtMTIuMjg4UjhkNTc2LjUxMlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxMTBSMTJkMjguNjcyUjEzZDYwNS4xODRSMTRhaTFpMmkyaTJpMmkzaTNpM2kzaTJpMmkyaTNpM2kzaTNpM2kzaTJpMmhnOjIyMm9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMjJSMTJkMFIxM2QxMDI0UjE0YWhnOjEwOW9SMWQxMDEzLjc2UjJhZDY2My41NTJkMTAzMS4xNjdkODg1Ljc2ZDEwMTIuNzM2ZDg3OS42MTZkNjIyLjU5MmQ4NzguNTkyZDU3OC41NmQ4NjUuNzkyZDU0MC4xNmQ4NTIuOTkyZDUwMS43NmQ4MjguOTI4ZDQ3My4wODdkODA0Ljg2NGQ0NDQuNDE1ZDc2OS41MzZkNDI4LjU0NGQ3MzQuMjA4ZDQxMi42NzJkNjg4LjEyOGQ0MTIuNjcyZDY0Ny4xNjhkNDEyLjY3MmQ2MTMuMzc2ZDQyOS41NjhkNTc5LjU4NGQ0NDYuNDYzZDU1Mi45NmQ0NzQuMTExZDUyNi4zMzZkNDQyLjM2N2Q0OTQuMDhkNDI3LjUyZDQ2MS44MjRkNDEyLjY3MmQ0MTMuNjk2ZDQxMi42NzJkMzU1LjMyOGQ0MTIuNjcyZDMxMy44NTZkNDM3Ljc2ZDI3Mi4zODRkNDYyLjg0N2QyMzkuNjE2ZDUwNi44OGQyMzcuNTY4ZDUwNi44OGQyMzcuNTY4ZDQxMi42NzJkMjguNjcyZDQzMS4xMDRkNDAuOTZkMTAxMy43NmQyNTZkMTAzMi4xOTJkMjQ1Ljc2ZDY2Mi41MjhkMjQ0LjczNmQ2NDBkMjYxLjYzMmQ2MjcuNzEyZDI3OC41MjhkNjE1LjQyNGQyOTcuOTg0ZDYxNS40MjRkMzIyLjU2ZDYxNS40MjRkMzM3LjkyZDYyOC4yMjNkMzUzLjI4ZDY0MS4wMjRkMzUyLjI1NmQ2NjEuNTA0ZDM0OC4xNmQxMDMxLjE2N2Q1NzAuMzY4ZDEwMTIuNzM2ZDU2NC4yMjRkNjYyLjUyOGQ1NjQuMjI0ZDY0Ni4xNDRkNTc4LjU2ZDYzMC43ODRkNTkyLjg5NmQ2MTUuNDI0ZDYxNy40NzJkNjE1LjQyNGQ2NDEuMDI0ZDYxNS40MjRkNjU1LjM2ZDYyNy43MTJkNjY5LjY5NmQ2NDBkNjY5LjY5NmQ2NTkuNDU2ZDY2My41NTJkMTAzMS4xNjdoUjNkOTEyLjM4NFI0ZDg4NS43NlI1ZDI4LjY3MlI2ZDYxMS4zMjhSN2QtOC4xOTJSOGQ1ODIuNjU2UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTEwOVIxMmQyOC42NzJSMTNkOTEyLjM4NFIxNGFpMWkyaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaTJpMmkyaTJpMmkzaTNpM2kzaTJpMmkyaTNpM2kzaTNpMmhnOjIyMW9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMjFSMTJkMFIxM2QxMDI0UjE0YWhnOjEwOG9SMWQxMDEzLjc2UjJhZDQzLjAwOGQxMDM0LjI0ZDI1OC4wNDhkMTAxNS44MDhkMjY3LjI2NGQxOTEuNDg3ZDM1Ljg0ZDIwOS45MTlkNDMuMDA4ZDEwMzQuMjRoUjNkMzA2LjE3NlI0ZDI2Ny4yNjRSNWQzNS44NFI2ZDgzMi41MTJSN2QtMTAuMjRSOGQ3OTYuNjcyUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTEwOFIxMmQzNS44NFIxM2QzMDYuMTc2UjE0YWkxaTJpMmkyaTJoZzoyMjBvUjFkMTAxMy43NlIyYWQ2NTIuMjg4ZDE5NS41ODNkNjU3LjQwOGQzMTkuNDg3ZDY1OS45NjhkNDA2LjUyOGQ2NjIuNTI4ZDQ5My41NjhkNjY0LjA2NGQ1NDYuMzA0ZDY2NS42ZDU5OS4wNGQ2NjUuNmQ2MjkuNzZkNjY1LjZkNjU5LjQ1NmQ2NjUuNmQ2NjguNjcyZDY2NS42ZDY3Ny44ODdkNjY1LjZkNjc4LjkxMmQ2NjYuNjI0ZDc0MC4zNTJkNjU2LjM4NGQ3OTcuNjk2ZDY0Ni4xNDRkODU1LjA0ZDYxOS4wMDhkOTAxLjYzMmQ1OTEuODcyZDk0OC4yMjRkNTQ1Ljc5MmQ5ODEuNTA0ZDQ5OS43MTJkMTAxNC43ODRkNDMwLjA4ZDEwMjguMDk2ZDMyMy41ODRkMTA0OS42ZDI0Ni43ODRkMTAzMi43MDRkMTY5Ljk4NGQxMDE1LjgwOGQxMjAuMzJkOTcwLjc1MmQ3MC42NTZkOTI1LjY5NmQ0Ny42MTZkODU2LjU3NmQyNC41NzZkNzg3LjQ1NmQyNi42MjRkNzA0LjUxMmQyNi42MjRkNzA0LjUxMmQyNy4xMzZkNjg3LjEwNGQyNy42NDhkNjY5LjY5NWQyOS4xODRkNjEyLjg2NGQzMC43MmQ1NTYuMDMxZDMzLjI4ZDQ0OGQzNS44NGQzMzkuOTY3ZDQwLjk2ZDE1OS43NDRkMzM0Ljg0OGQyMDkuOTE5ZDMwNy4yZDY5MS4yZDMwMy4xMDRkNzE3LjgyNGQzMDcuNzEyZDczOC4zMDRkMzEyLjMyZDc1OC43ODRkMzE3LjQ0ZDc2OGQzMjIuNTZkNzc3LjIxNmQzMjMuNTg0ZDc3OC4yNGQzMzMuODI0ZDc4OS41MDRkMzQ3LjY0OGQ3OTEuNTUyZDM2MS40NzJkNzkzLjZkMzc3Ljg1NmQ3NjYuOTc2ZDM3OC44OGQ3NjUuOTUyZDM4NGQ3NTQuMTc1ZDM4OS4xMmQ3NDIuNGQzOTMuNzI4ZDcxMi43MDRkMzk4LjMzNmQ2ODMuMDA4ZDM5Ni4yODhkNjQwZDM3NC43ODRkMjQ2Ljc4NGQ2NTIuMjg4ZDE5NS41ODNkMTY1Ljg4OGQ3My43MjdkMzM0Ljg0OGQ2MS40MzlkMzUyLjI1NmQxNDMuMzZkMzM1Ljg3MmQxNDUuNDA4ZDMwOC4yMjRkMTQ3LjQ1NmQyODAuNTc2ZDE0OS41MDRkMjU0LjQ2NGQxNTEuMDM5ZDIyOC4zNTJkMTUyLjU3NmQyMDguODk2ZDE1Mi41NzZkMTkwLjQ2NGQxNTIuNTc2ZDE5MC40NjRkMTUwLjUyOGQxOTAuNDY0ZDE0OS41MDRkMTg5LjQ0ZDE0NC4zODRkMTg4LjQxNmQxMzkuMjY0ZDE4My4yOTZkMTIxLjM0M2QxNzguMTc2ZDEwMy40MjNkMTY1Ljg4OGQ3My43MjdkNTY5LjM0NGQxMDUuNDcxZDQ4OS40NzJkMTE0LjY4N2Q0NDMuMzkyZDEyMS44NTZkMzk3LjMxMmQxMjkuMDI0ZDM5Ny4zMTJkMTI5LjAyNGQ0MDAuMzg0ZDQ4LjEyN2Q1NjAuMTI4ZDEzLjMxMmQ1NjkuMzQ0ZDEwNS40NzFoUjNkNjk1LjI5NlI0ZDY2Ni42MjRSNWQyNC41NzZSNmQxMDEwLjY4OFI3ZC0yNS42UjhkOTg2LjExMlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMjBSMTJkMjQuNTc2UjEzZDY5NS4yOTZSMTRhaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTJpMmkzaTNpM2kzaTNpM2kzaTNpMmkyaTFpMmkyaTNpM2kzaTNpM2kzaTNpMWkzaTNpMmkyaTJoZzoxMDdvUjFkMTAxMy43NlIyYWQzNC44MTZkMTAzNC4yNGQyNDcuODA4ZDEwMTUuODA4ZDIzOS42MTZkNzc3LjIxNmQyNDEuNjY0ZDc3Ny4yMTZkMzc0Ljc4NGQxMDM0LjI0ZDU4Ny43NzZkOTI4Ljc2OGQ0MzQuMTc2ZDY5Mi4yMjNkNTY3LjI5NmQ0MzQuMTc1ZDM0MC45OTJkNDE1Ljc0NGQyNDMuNzEyZDYyMy42MTZkMjQxLjY2NGQ2MjMuNjE2ZDI2Mi4xNDRkMTkxLjQ4N2QyOS42OTZkMjA5LjkxOWQzNC44MTZkMTAzNC4yNGhSM2Q1OTEuODcyUjRkNTg3Ljc3NlI1ZDI5LjY5NlI2ZDgzMi41MTJSN2QtMTAuMjRSOGQ4MDIuODE2UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTEwN1IxMmQyOS42OTZSMTNkNTkxLjg3MlIxNGFpMWkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaGc6MjE5b1IxZDEwMTMuNzZSMmFkMTc4LjE3NmQxMTAuNTkxZDIzMC40ZDE2MS43OTJkMzYzLjUyZDcyLjcwM2Q1MjEuMjE2ZDE0Ny40NTZkNTU1LjAwOGQ4MS45MTlkMzQ1LjA4OGQxMC4yNGQxNzguMTc2ZDExMC41OTFkNjQ5LjIxNmQxOTYuNjA3ZDY1NC4zMzZkMzIwLjUxMWQ2NTYuODk2ZDQwNy41NTJkNjU5LjQ1NmQ0OTQuNTkyZDY2MC45OTJkNTQ3LjMyOGQ2NjIuNTI4ZDYwMC4wNjRkNjYzLjA0ZDYyOS43NmQ2NjMuNTUyZDY1OS40NTZkNjYzLjU1MmQ2NjguNjcyZDY2My41NTJkNjc3Ljg4N2Q2NjMuNTUyZDY3OC45MTJkNjY0LjU3NmQ3NDAuMzUyZDY1NC4zMzZkNzk3LjY5NmQ2NDQuMDk2ZDg1NS4wNGQ2MTYuNDQ4ZDkwMS42MzJkNTg4LjhkOTQ4LjIyNGQ1NDIuNzJkOTgxLjUwNGQ0OTYuNjRkMTAxNC43ODRkNDI3LjAwOGQxMDI4LjA5NmQzMjAuNTEyZDEwNDkuNmQyNDMuNzEyZDEwMzIuNzA0ZDE2Ni45MTJkMTAxNS44MDhkMTE3LjI0OGQ5NzAuNzUyZDY3LjU4NGQ5MjUuNjk2ZDQ1LjA1NmQ4NTYuNTc2ZDIyLjUyOGQ3ODcuNDU2ZDI0LjU3NmQ3MDQuNTEyZDI0LjU3NmQ3MDQuNTEyZDI0LjU3NmQ2OTQuMjcxZDI0LjU3NmQ2ODQuMDMxZDI1LjZkNjUxLjI2NGQyNi42MjRkNjE4LjQ5NmQyNy42NDhkNTU5LjEwNGQyOC42NzJkNDk5LjcxMmQzMS43NDRkNDAwLjg5NWQzNC44MTZkMzAyLjA4ZDM4LjkxMmQxNTkuNzQ0ZDMzMS43NzZkMjA5LjkxOWQzMDUuMTUyZDY5MS4yZDMwMS4wNTZkNzE3LjgyNGQzMDUuNjY0ZDczOC4zMDRkMzEwLjI3MmQ3NTguNzg0ZDMxNC44OGQ3NjhkMzE5LjQ4OGQ3NzcuMjE2ZDMyMC41MTJkNzc4LjI0ZDMzMS43NzZkNzg5LjUwNGQzNDUuMDg4ZDc5MS41NTJkMzU4LjRkNzkzLjZkMzc0Ljc4NGQ3NjYuOTc2ZDM3NS44MDhkNzY1Ljk1MmQzODAuOTI4ZDc1NC4xNzVkMzg2LjA0OGQ3NDIuNGQzOTEuMTY4ZDcxMy4yMTZkMzk2LjI4OGQ2ODQuMDMxZDM5NC4yNGQ2NDEuMDI0ZDM3Mi43MzZkMjQ2Ljc4NGQ2NDkuMjE2ZDE5Ni42MDdoUjNkNjkwLjE3NlI0ZDY2NC41NzZSNWQyMi41MjhSNmQxMDEzLjc2UjdkLTI1LjZSOGQ5OTEuMjMyUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIxOVIxMmQyMi41MjhSMTNkNjkwLjE3NlIxNGFpMWkyaTJpMmkyaTJpMmkxaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTJpMmkzaTNpM2kzaTNpM2kzaTNpMmkyaGc6MTA2b1IxZDEwMTMuNzZSMmFkMzQzLjA0ZDQyOC4wMzJkMTIwLjgzMmQ0NDYuNDYzZDEyMC44MzJkOTQ4LjIyNGQxMjAuODMyZDk5NS4zMjhkOTcuMjhkMTAxNC43ODRkNzMuNzI4ZDEwMzQuMjRkMjcuNjQ4ZDEwMzQuMjRkNC4wOTZkMTAzNC4yNGQ2MC40MTZkMTIyMS42MzJkMTA4LjU0NGQxMjIxLjYzMmQxNjEuNzkyZDEyMjEuNjMyZDIwNS4zMTJkMTIwNS4yNDhkMjQ4LjgzMmQxMTg4Ljg2NGQyNzkuNTUyZDExNTcuMTJkMzEwLjI3MmQxMTI1LjM3NmQzMjYuNjU2ZDEwNzcuNzZkMzQzLjA0ZDEwMzAuMTQ0ZDM0My4wNGQ5NjYuNjU2ZDM0My4wNGQ0MjguMDMyZDM1NC4zMDRkMTc2LjEyN2QxMTkuODA4ZDE4Ni4zNjdkMTE4Ljc4NGQzNzMuNzZkMzQyLjAxNmQzNTYuMzUyZDM1NC4zMDRkMTc2LjEyN2hSM2Q0MDEuNDA4UjRkMzU0LjMwNFI1ZDQuMDk2UjZkODQ3Ljg3MlI3ZC0xOTcuNjMyUjhkODQzLjc3NlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxMDZSMTJkNC4wOTZSMTNkNDAxLjQwOFIxNGFpMWkyaTJpM2kzaTJpMmkyaTNpM2kzaTNpMmkxaTJpMmkyaTJoZzoyMThvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjE4UjEyZDBSMTNkMTAyNFIxNGFoZzoxMDVvUjFkMTAxMy43NlIyYWQ0MC45NmQxMDM0LjI0ZDI1OC4wNDhkMTAxNS44MDhkMjY5LjMxMmQ0MjQuOTZkNDAuOTZkNDQzLjM5MWQ0MC45NmQxMDM0LjI0ZDM4LjkxMmQzNzAuNjg4ZDI2Mi4xNDRkMzU0LjMwNGQyNzQuNDMyZDE3NC4wNzlkMzkuOTM2ZDE4NC4zMTlkMzguOTEyZDM3MC42ODhoUjNkMzEyLjMyUjRkMjc0LjQzMlI1ZDM4LjkxMlI2ZDg0OS45MlI3ZC0xMC4yNFI4ZDgxMS4wMDhSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTA1UjEyZDM4LjkxMlIxM2QzMTIuMzJSMTRhaTFpMmkyaTJpMmkxaTJpMmkyaTJoZzoyMTdvUjFkMTAxMy43NlIyYWQ2NTEuMjY0ZDE5OC42NTVkNjU1LjM2ZDMyMi41NTlkNjU4LjQzMmQ0MDkuNmQ2NjEuNTA0ZDQ5Ni42NGQ2NjIuNTI4ZDU0OS4zNzZkNjYzLjU1MmQ2MDIuMTEyZDY2NC4wNjRkNjMyLjMxOWQ2NjQuNTc2ZDY2Mi41MjhkNjY0LjU3NmQ2NzEuNzQzZDY2NC41NzZkNjgwLjk2ZDY2NC41NzZkNjgxLjk4M2Q2NjUuNmQ3NDMuNDI0ZDY1NS4zNmQ4MDAuNzY4ZDY0NS4xMmQ4NTguMTEyZDYxNy45ODRkOTA0LjcwNGQ1OTAuODQ4ZDk1MS4yOTZkNTQ0LjI1NmQ5ODQuNTc2ZDQ5Ny42NjRkMTAxNy44NTZkNDI4LjAzMmQxMDMxLjE2N2QzMjIuNTZkMTA1Mi42NzJkMjQ1Ljc2ZDEwMzUuNzc2ZDE2OC45NmQxMDE4Ljg4ZDExOS4yOTZkOTczLjgyNGQ2OS42MzJkOTI4Ljc2OGQ0Ni41OTJkODU5LjY0OGQyMy41NTJkNzkwLjUyOGQyNS42ZDcwNy41ODRkMjUuNmQ3MDcuNTg0ZDI2LjExMmQ2OTAuMTc1ZDI2LjYyNGQ2NzIuNzY4ZDI4LjE2ZDYxNS45MzVkMjkuNjk2ZDU1OS4xMDRkMzIuMjU2ZDQ1MS4wNzJkMzQuODE2ZDM0My4wMzlkMzkuOTM2ZDE2Mi44MTZkMzMyLjhkMjEyLjk5MWQzMDYuMTc2ZDY5NC4yNzFkMzAyLjA4ZDcyMC44OTZkMzA2LjY4OGQ3NDEuMzc2ZDMxMS4yOTZkNzYxLjg1NmQzMTYuNDE2ZDc3MS4wNzJkMzIxLjUzNmQ3ODAuMjg4ZDMyMi41NmQ3ODEuMzEyZDMzMi44ZDc5Mi41NzZkMzQ2LjExMmQ3OTQuNjI0ZDM1OS40MjRkNzk2LjY3MmQzNzUuODA4ZDc3MC4wNDhkMzc2LjgzMmQ3NjkuMDI0ZDM4MS45NTJkNzU3LjI0OGQzODcuMDcyZDc0NS40NzJkMzkyLjE5MmQ3MTUuNzc2ZDM5Ny4zMTJkNjg2LjA3OWQzOTUuMjY0ZDY0My4wNzJkMzczLjc2ZDI0OS44NTZkNjUxLjI2NGQxOTguNjU1ZDMyMy41ODRkODIuOTQzZDQ0NS40NGQyMzkuNjE2ZDQ4OC40NDhkMjI1LjI3OWQ0MDIuNDMyZDE4LjQzMmQzMjMuNTg0ZDgyLjk0M2hSM2Q2OTguMzY4UjRkNjY1LjZSNWQyMy41NTJSNmQxMDA1LjU2OFI3ZC0yOC42NzJSOGQ5ODIuMDE2UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIxN1IxMmQyMy41NTJSMTNkNjk4LjM2OFIxNGFpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkyaTNpM2kzaTNpM2kzaTNpM2kyaTJpMWkyaTJpMmkyaGc6MTA0b1IxZDEwMTMuNzZSMmFkMjYxLjEyZDE4OS40MzlkMzEuNzQ0ZDIwNy44NzFkMzguOTEyZDEwMTQuNzg0ZDI1My45NTJkMTAzMy4yMTVkMjUzLjk1MmQ2NjAuNDhkMjUzLjk1MmQ2NDBkMjY3Ljc3NmQ2MjguMjIzZDI4MS42ZDYxNi40NDhkMzAxLjA1NmQ2MTYuNDQ4ZDMyMS41MzZkNjE2LjQ0OGQzMzMuODI0ZDYyOC43MzZkMzQ2LjExMmQ2NDEuMDI0ZDM0Ni4xMTJkNjU4LjQzMmQzNDYuMTEyZDEwMzIuMTkyZDU2Mi4xNzZkMTAxMy43NmQ1NjguMzJkNjE3LjQ3MmQ1NjkuMzQ0ZDU3NC40NjRkNTU3LjU2OGQ1MzcuMDg4ZDU0NS43OTJkNDk5LjcxMmQ1MjMuMjY0ZDQ3Mi4wNjNkNTAwLjczNmQ0NDQuNDE1ZDQ2Ny40NTZkNDI5LjA1NmQ0MzQuMTc2ZDQxMy42OTZkMzkxLjE2OGQ0MTMuNjk2ZDM0OS4xODRkNDEzLjY5NmQzMTUuMzkyZDQyOC41NDRkMjgxLjZkNDQzLjM5MWQyNTZkNDc3LjE4M2QyNTMuOTUyZDQ3Ny4xODNkMjYxLjEyZDE4OS40MzloUjNkNjAxLjA4OFI0ZDU2OS4zNDRSNWQzMS43NDRSNmQ4MzQuNTZSN2QtOS4yMTZSOGQ4MDIuODE2UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTEwNFIxMmQzMS43NDRSMTNkNjAxLjA4OFIxNGFpMWkyaTJpMmkyaTNpM2kzaTNpMmkyaTJpM2kzaTNpM2kzaTNpMmkyaGc6MjE2b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIxNlIxMmQwUjEzZDEwMjRSMTRhaGc6MTAzb1IxZDEwMTMuNzZSMmFkOTguMzA0ZDEwMDcuNjE2ZC0xLjAyNGQxMTg3Ljg0ZDM1Ljg0ZDEyMDAuMTI4ZDk1LjIzMmQxMjE1LjQ4OGQxNTQuNjI0ZDEyMzAuODQ4ZDI0NC43MzZkMTIzMC44NDhkMzE5LjQ4OGQxMjMwLjg0OGQzODAuNDE2ZDEyMTZkNDQxLjM0NGQxMjAxLjE1MmQ0ODQuODY0ZDExNzIuNDhkNTI4LjM4NGQxMTQzLjgwOGQ1NTEuOTM2ZDExMDEuMzEyZDU3NS40ODhkMTA1OC44MTZkNTc1LjQ4OGQxMDA0LjU0NGQ1NzUuNDg4ZDg5MC44OGQ0NzUuMTM2ZDgzNC41NmQ1MjYuMzM2ZDgwMC43NjhkNTUyLjQ0OGQ3NTUuMmQ1NzguNTZkNzA5LjYzMmQ1NzguNTZkNjQ1LjEyZDU3OC41NmQ1OTguMDE2ZDU2MS42NjRkNTU2LjU0NGQ1NDQuNzY4ZDUxNS4wNzJkNTEyZDQ4My4zMjhkNTY1LjI0OGQzNzguODhkNDAxLjQwOGQzMDguMjIzZDM4NGQ0MTUuNzQ0ZDM1OS40MjRkNDA3LjU1MmQzMzEuNzc2ZDQwMi40MzJkMzA0LjEyOGQzOTcuMzEyZDI2Ny4yNjRkMzk3LjMxMmQxOTQuNTZkMzk3LjMxMmQxNDIuMzM2ZDQyMC44NjRkOTAuMTEyZDQ0NC40MTVkNTYuMzJkNDgxLjI4ZDIyLjUyOGQ1MTguMTQ0ZDYuNjU2ZDU2Mi42ODhkLTkuMjE2ZDYwNy4yMzJkLTkuMjE2ZDY0OS4yMTZkLTkuMjE2ZDczMC4xMTJkMjguMTZkNzg2Ljk0NGQ2NS41MzZkODQzLjc3NmQxMzMuMTJkODc2LjU0NGQxMTMuNjY0ZDkzNy45ODRkMTM3LjIxNmQ5MjUuNjk2ZDE2NC44NjRkOTE4LjAxNmQxOTIuNTEyZDkxMC4zMzZkMjE5LjEzNmQ5MTAuMzM2ZDI0MS42NjRkOTEwLjMzNmQyNjMuMTY4ZDkxMi44OTZkMjg0LjY3MmQ5MTUuNDU2ZDMwMS41NjhkOTIzLjEzNmQzMTguNDY0ZDkzMC44MTZkMzI4LjE5MmQ5NDMuNjE2ZDMzNy45MmQ5NTYuNDE1ZDMzNy45MmQ5NzUuODcyZDMzNy45MmQ5OTUuMzI4ZDMyOS43MjhkMTAwNy4xMDRkMzIxLjUzNmQxMDE4Ljg4ZDMwOC4yMjRkMTAyNS41MzZkMjk0LjkxMmQxMDMyLjE5MmQyNzguNTI4ZDEwMzQuMjRkMjYyLjE0NGQxMDM2LjI4OGQyNDUuNzZkMTAzNi4yODhkMjA2Ljg0OGQxMDM2LjI4OGQxNzAuNDk2ZDEwMjguMDk2ZDEzNC4xNDRkMTAxOS45MDRkOTguMzA0ZDEwMDcuNjE2ZDI5NS45MzZkNzE5Ljg3MmQyNjEuMTJkNzI4LjA2NGQyMzYuMDMyZDcxNS4yNjRkMjEwLjk0NGQ3MDIuNDY0ZDIwNS44MjRkNjc1LjgzOWQyMDAuNzA0ZDY1MC4yNGQyMTguMTEyZDYyOC43MzZkMjM1LjUyZDYwNy4yMzJkMjcwLjMzNmQ1OTkuMDRkMzA0LjEyOGQ1OTEuODcyZDMyOS4yMTZkNjA0LjE2ZDM1NC4zMDRkNjE2LjQ0OGQzNjAuNDQ4ZDY0My4wNzJkMzY1LjU2OGQ2NjkuNjk1ZDM0OC4xNmQ2OTEuMmQzMzAuNzUyZDcxMi43MDRkMjk1LjkzNmQ3MTkuODcyaFIzZDYwNi4yMDhSNGQ1NzguNTZSNWQtOS4yMTZSNmQ3MTUuNzc2UjdkLTIwNi44NDhSOGQ3MjQuOTkyUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTEwM1IxMmQtOS4yMTZSMTNkNjA2LjIwOFIxNGFpMWkyaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaTJpMmkzaTNpM2kzaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kxaTNpM2kzaTNpM2kzaTNpM2hnOjIxNW9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMTVSMTJkMFIxM2QxMDI0UjE0YWhnOjEwMm9SMWQxMDEzLjc2UjJhZDgxLjkyZDEwMzQuMjRkMzExLjI5NmQxMDE1LjgwOGQzMDUuMTUyZDYxMC4zMDRkMzkzLjIxNmQ2MTAuMzA0ZDM5My4yMTZkNDM0LjE3NWQzMDUuMTUyZDQzNC4xNzVkMzA1LjE1MmQ0MDMuNDU2ZDMyMy4wNzJkMzg2LjA0OGQzNDAuOTkyZDM2OC42NGQzNzQuNzg0ZDM2OC42NGQ0MDkuNmQzNjguNjRkMzgyLjk3NmQxOTguNjU1ZDM2Ny42MTZkMTk2LjYwN2QzNTMuNzkyZDE5NC4wNDhkMzM5Ljk2OGQxOTEuNDg3ZDMyMi41NmQxOTEuNDg3ZDI2MC4wOTZkMTkxLjQ4N2QyMTUuMDRkMjA4Ljg5NWQxNjkuOTg0ZDIyNi4zMDNkMTQwLjhkMjU3LjUzNWQxMTEuNjE2ZDI4OC43NjhkOTcuMjhkMzMzLjgyM2Q4Mi45NDRkMzc4Ljg4ZDgyLjk0NGQ0MzQuMTc1ZDQ1LjA1NmQ0MzQuMTc1ZDEyLjI4OGQ2MTAuMzA0ZDgyLjk0NGQ2MTAuMzA0ZDgxLjkyZDEwMzQuMjRoUjNkNDI1Ljk4NFI0ZDQwOS42UjVkMTIuMjg4UjZkODMyLjUxMlI3ZC0xMC4yNFI4ZDgyMC4yMjRSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTAyUjEyZDEyLjI4OFIxM2Q0MjUuOTg0UjE0YWkxaTJpMmkyaTJpMmkzaTNpMmkyaTNpM2kzaTNpM2kzaTJpMmkyaTJoZzoyMTRvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjE0UjEyZDBSMTNkMTAyNFIxNGFoZzoxMDFvUjFkMTAxMy43NlIyYWQ1ODMuNjhkOTQ4LjIyNGQ0ODIuMzA0ZDc4MS4zMTJkNDU1LjY4ZDgwNC44NjRkNDIzLjQyNGQ4MjEuNzZkMzkxLjE2OGQ4MzguNjU2ZDM0NC4wNjRkODM4LjY1NmQzMjguNzA0ZDgzOC42NTZkMzEwLjI3MmQ4MzYuNjA4ZDI5MS44NGQ4MzQuNTZkMjgwLjU3NmQ4MjguNDE1ZDU4Ni43NTJkNTk4LjAxNmQ1NDkuODg4ZDUxMC45NzZkNDc0LjYyNGQ0NTguNzUxZDM5OS4zNmQ0MDYuNTI4ZDI5Ni45NmQ0MDYuNTI4ZDIzMy40NzJkNDA2LjUyOGQxNzcuNjY0ZDQyOC41NDRkMTIxLjg1NmQ0NTAuNTU5ZDc5Ljg3MmQ0OTIuNTQ0ZDM3Ljg4OGQ1MzQuNTI4ZDEzLjMxMmQ1OTQuOTQ0ZC0xMS4yNjRkNjU1LjM2ZC0xMS4yNjRkNzMyLjE2ZC0xMS4yNjRkNzkzLjZkMTIuMjg4ZDg0OC4zODRkMzUuODRkOTAzLjE2OGQ3Ny44MjRkOTQ0LjEyOGQxMTkuODA4ZDk4NS4wODhkMTc3LjY2NGQxMDA5LjE1MmQyMzUuNTJkMTAzMy4yMTVkMzA1LjE1MmQxMDMzLjIxNWQzOTAuMTQ0ZDEwMzMuMjE1ZDQ1NS42OGQxMDEzLjI0OGQ1MjEuMjE2ZDk5My4yOGQ1ODMuNjhkOTQ4LjIyNGQzNjQuNTQ0ZDYxMi4zNTJkMjExLjk2OGQ3MjguMDY0ZDIwNy44NzJkNzE5Ljg3MmQyMDUuMzEyZDcxMi4xOTJkMjAyLjc1MmQ3MDQuNTEyZDIwMi43NTJkNjg2LjA3OWQyMDIuNzUyZDY2Ni42MjRkMjA5LjQwOGQ2NDguMTkyZDIxNi4wNjRkNjI5Ljc2ZDIyOC4zNTJkNjE0LjkxMmQyNDAuNjRkNjAwLjA2NGQyNTcuNTM2ZDU5MS4zNmQyNzQuNDMyZDU4Mi42NTZkMjk0LjkxMmQ1ODIuNjU2ZDMxNi40MTZkNTgyLjY1NmQzMzMuMzEyZDU4OC44ZDM1MC4yMDhkNTk0Ljk0NGQzNjQuNTQ0ZDYxMi4zNTJoUjNkNTg1LjcyOFI0ZDU4Ni43NTJSNWQtMTEuMjY0UjZkNjE3LjQ3MlI3ZC05LjIxNlI4ZDYyOC43MzZSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTAxUjEyZC0xMS4yNjRSMTNkNTg1LjcyOFIxNGFpMWkyaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kxaTJpM2kzaTNpM2kzaTNpM2kzaGc6MjEzb1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIxM1IxMmQwUjEzZDEwMjRSMTRhaGc6MTAwb1IxZDEwMTMuNzZSMmFkNjIwLjU0NGQxODMuMjk1ZDM4NS4wMjRkMjAxLjcyN2QzOTQuMjRkNDQ1LjQzOWQzNzAuNjg4ZDQyNC45NmQzMzguOTQ0ZDQxNi4yNTZkMzA3LjJkNDA3LjU1MmQyNzMuNDA4ZDQwNy41NTJkMjA1LjgyNGQ0MDcuNTUyZDE1My4wODhkNDMyLjY0ZDEwMC4zNTJkNDU3LjcyN2Q2NC41MTJkNTAxLjI0N2QyOC42NzJkNTQ0Ljc2OGQ5LjcyOGQ2MDIuNjI0ZC05LjIxNmQ2NjAuNDhkLTkuMjE2ZDcyNi4wMTZkLTkuMjE2ZDc5OC43MmQxMy4zMTJkODU2LjA2NGQzNS44NGQ5MTMuNDA4ZDczLjcyOGQ5NTIuODMyZDExMS42MTZkOTkyLjI1NmQxNjAuMjU2ZDEwMTMuMjQ4ZDIwOC44OTZkMTAzNC4yNGQyNjEuMTJkMTAzNC4yNGQzMDQuMTI4ZDEwMzQuMjRkMzQ2LjYyNGQxMDE5LjM5MmQzODkuMTJkMTAwNC41NDRkNDEzLjY5NmQ5NzEuNzc2ZDQxNS43NDRkOTcxLjc3NmQ0MTUuNzQ0ZDEwMzAuMTQ0ZDYxNi40NDhkMTAxNi44MzJkNjIwLjU0NGQxODMuMjk1ZDMzMi44ZDgxNC4wNzlkMzA5LjI0OGQ4MjIuMjcxZDI4OC4yNTZkODIxLjc2ZDI2Ny4yNjRkODIxLjI0OGQyNDkuODU2ZDgxMy41NjhkMjMyLjQ0OGQ4MDUuODg4ZDIxOS42NDhkNzkzLjA4OGQyMDYuODQ4ZDc4MC4yODhkMjAwLjcwNGQ3NjIuODhkMTk0LjU2ZDc0Ni40OTZkMTk1LjU4NGQ3MjcuNTUyZDE5Ni42MDhkNzA4LjYwOGQyMDUuMzEyZDY5MS43MTJkMjE0LjAxNmQ2NzQuODE2ZDIyOS4zNzZkNjYwLjQ4ZDI0NC43MzZkNjQ2LjE0NGQyNjguMjg4ZDYzNy45NTJkMjkwLjgxNmQ2MjkuNzZkMzExLjgwOGQ2MzAuNzg0ZDMzMi44ZDYzMS44MDhkMzUwLjIwOGQ2MzkuNDg4ZDM2Ny42MTZkNjQ3LjE2OGQzODAuNDE2ZDY2MC40OGQzOTMuMjE2ZDY3My43OTFkMzk5LjM2ZDY5MC4xNzVkNDA1LjUwNGQ3MDcuNTg0ZDQwNC40OGQ3MjYuMDE2ZDQwMy40NTZkNzQ0LjQ0OGQzOTQuNzUyZDc2MS4zNDRkMzg2LjA0OGQ3NzguMjRkMzcwLjY4OGQ3OTIuMDY0ZDM1NS4zMjhkODA1Ljg4OGQzMzIuOGQ4MTQuMDc5aFIzZDY3OS45MzZSNGQ2MjAuNTQ0UjVkLTkuMjE2UjZkODQwLjcwNFI3ZC0xMC4yNFI4ZDg0OS45MlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxMDBSMTJkLTkuMjE2UjEzZDY3OS45MzZSMTRhaTFpMmkyaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTJpMmkyaTJpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaGc6MjEyb1IxZDEwMTMuNzZSMmFkMjQ0LjczNmQxMTAuNTkxZDI5Ny45ODRkMTYxLjc5MmQ0MzEuMTA0ZDcyLjcwM2Q1ODguOGQxNDcuNDU2ZDYyMi41OTJkODEuOTE5ZDQxMS42NDhkMTAuMjRkMjQ0LjczNmQxMTAuNTkxZDY1MS4yNjRkOTM0LjkxMmQ3MjYuMDE2ZDg1OC4xMTJkNzYzLjkwNGQ3NzMuNjMyZDgwMS43OTJkNjg5LjE1MmQ4MTAuNDk2ZDYwNi4yMDhkODE5LjJkNTIzLjI2NGQ4MDMuMzI4ZDQ0Ni40NjNkNzg3LjQ1NmQzNjkuNjY0ZDc1NS43MTJkMzA4LjIyM2Q3MzguMzA0ZDI3NC40MzJkNzA0ZDI0Mi4xNzVkNjY5LjY5NmQyMDkuOTE5ZDYyMC41NDRkMTg3LjkwNGQ1NzEuMzkyZDE2NS44ODhkNTA5Ljk1MmQxNTguNzJkNDQ4LjUxMmQxNTEuNTUyZDM3OC44OGQxNjkuOTg0ZDMwNi4xNzZkMTg4LjQxNWQyNDEuMTUyZDIyNS4yNzlkMTc2LjEyOGQyNjIuMTQ0ZDEyMy45MDRkMzEyLjgzMmQ3MS42OGQzNjMuNTJkMzQuODE2ZDQyNS45ODRkLTIuMDQ4ZDQ4OC40NDhkLTE4LjQzMmQ1NTguNTkyZC0zNC44MTZkNjI4LjczNmQtMjguNjcyZDcwNC41MTJkLTIyLjUyOGQ3ODAuMjg4ZDEyLjI4OGQ4NTcuMDg4ZDQzLjAwOGQ5MjUuNjk2ZDkyLjY3MmQ5NjguNzA0ZDE0Mi4zMzZkMTAxMS43MTJkMjAwLjcwNGQxMDMyLjcwNGQyNTkuMDcyZDEwNTMuNjk2ZDMyMy41ODRkMTA1NC43MmQzODguMDk2ZDEwNTUuNzQ0ZDQ0OC41MTJkMTA0MS40MDdkNTA4LjkyOGQxMDI3LjA3MWQ1NjIuMTc2ZDk5OS40MjRkNjE1LjQyNGQ5NzEuNzc2ZDY1MS4yNjRkOTM0LjkxMmQ1MTUuMDcyZDQ5OC42ODhkNTI0LjI4OGQ1MTcuMTJkNTI5LjQwOGQ1NDEuMTg0ZDUzNC41MjhkNTY1LjI0OGQ1MzEuOTY4ZDU5My45MmQ1MjkuNDA4ZDYyMi41OTJkNTE3LjYzMmQ2NTYuMzg0ZDUwNS44NTZkNjkwLjE3NWQ0ODAuMjU2ZDczMC4xMTJkNDYyLjg0OGQ3NTYuNzM2ZDQzNy4yNDhkNzc2LjcwNGQ0MTEuNjQ4ZDc5Ni42NzJkMzgyLjQ2NGQ4MDYuOTEyZDM1My4yOGQ4MTcuMTUyZDMyMy41ODRkODE1LjYxNmQyOTMuODg4ZDgxNC4wNzlkMjcwLjg0OGQ3OTkuMjMyZDI0Ny44MDhkNzg0LjM4NGQyMzMuNDcyZDc1My42NjRkMjE5LjEzNmQ3MjIuOTQ0ZDIxOS4xMzZkNjczLjc5MWQyMTkuMTM2ZDYyMS41NjhkMjM3LjA1NmQ1NzkuMDcyZDI1NC45NzZkNTM2LjU3NmQyODIuNjI0ZDUwNi4zNjdkMzEwLjI3MmQ0NzYuMTU5ZDM0NC4wNjRkNDU5LjI2NGQzNzcuODU2ZDQ0Mi4zNjdkNDEwLjYyNGQ0NDAuMzE5ZDQ0My4zOTJkNDM4LjI3MWQ0NzEuNTUyZDQ1Mi42MDdkNDk5LjcxMmQ0NjYuOTQzZDUxNS4wNzJkNDk4LjY4OGhSM2Q3NzYuMTkyUjRkODE5LjJSNWQtMzQuODE2UjZkMTAxMy43NlI3ZC0zMS43NDRSOGQxMDQ4LjU3NlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMTJSMTJkLTM0LjgxNlIxM2Q3NzYuMTkyUjE0YWkxaTJpMmkyaTJpMmkyaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2hnOjk5b1IxZDEwMTMuNzZSMmFkNTU1LjAwOGQ5NTEuMjk2ZDQxNS43NDRkNzY2Ljk3NmQzNjMuNTJkNzkzLjZkMzIxLjUzNmQ4MTQuMDc5ZDI4My42NDhkODA0Ljg2NGQyNDUuNzZkNzk1LjY0OGQyMjUuMjhkNzU0LjY4OGQyMTUuMDRkNzM1LjIzMmQyMTQuNTI4ZDcxNi4yODhkMjE0LjAxNmQ2OTcuMzQ0ZDIyMS42OTZkNjgwLjk2ZDIyOS4zNzZkNjY0LjU3NmQyNDMuMmQ2NTAuNzUyZDI1Ny4wMjRkNjM2LjkyOGQyNzYuNDhkNjI2LjY4OGQyODcuNzQ0ZDYyMC41NDRkMzA1LjY2NGQ2MTkuNTJkMzIzLjU4NGQ2MTguNDk2ZDM0My4wNGQ2MjEuNTY4ZDM2Mi40OTZkNjI0LjY0ZDM4MS40NGQ2MzEuODA4ZDQwMC4zODRkNjM4Ljk3NmQ0MTQuNzJkNjUwLjI0ZDU0OS44ODhkNDczLjA4N2Q1MTMuMDI0ZDQ0OC41MTFkNDU5LjI2NGQ0MjQuOTZkNDA1LjUwNGQ0MDEuNDA4ZDMzMi44ZDQwMS40MDhkMjYwLjA5NmQ0MDEuNDA4ZDE5Ny42MzJkNDIzLjQyNGQxMzUuMTY4ZDQ0NS40MzlkODkuNmQ0ODYuOTEyZDQ0LjAzMmQ1MjguMzg0ZDE4LjQzMmQ1ODguMjg4ZC03LjE2OGQ2NDguMTkyZC03LjE2OGQ3MjIuOTQ0ZC03LjE2OGQ3ODcuNDU2ZDE3LjQwOGQ4NDMuMjY0ZDQxLjk4NGQ4OTkuMDcyZDg1LjUwNGQ5NDAuNTQ0ZDEyOS4wMjRkOTgyLjAxNmQxODcuOTA0ZDEwMDUuNTY4ZDI0Ni43ODRkMTAyOS4xMTlkMzE2LjQxNmQxMDI5LjExOWQzNDYuMTEyZDEwMjkuMTE5ZDM3Ny44NTZkMTAyNS41MzZkNDA5LjZkMTAyMS45NTJkNDQwLjMyZDEwMTIuNzM2ZDQ3MS4wNGQxMDAzLjUyZDUwMC4yMjRkOTg4LjY3MmQ1MjkuNDA4ZDk3My44MjRkNTU1LjAwOGQ5NTEuMjk2aFIzZDU0MC42NzJSNGQ1NTUuMDA4UjVkLTcuMTY4UjZkNjIyLjU5MlI3ZC01LjEyUjhkNjI5Ljc2UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTk5UjEyZC03LjE2OFIxM2Q1NDAuNjcyUjE0YWkxaTJpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaGc6MjExb1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIxMVIxMmQwUjEzZDEwMjRSMTRhaGc6OThvUjFkMTAxMy43NlIyYWQzOTguMzM2ZDQwMi40MzJkNDU5Ljc3NmQ0MDIuNDMyZDUxMC45NzZkNDI5LjA1NmQ1NjIuMTc2ZDQ1NS42NzlkNjAwLjA2NGQ0OTkuMmQ2MzcuOTUyZDU0Mi43MmQ2NTguOTQ0ZDU5OC4wMTZkNjc5LjkzNmQ2NTMuMzEyZDY3OS45MzZkNzEwLjY1NmQ2NzkuOTM2ZDc4Ny40NTZkNjUzLjgyNGQ4NDYuODQ4ZDYyNy43MTJkOTA2LjI0ZDU4NC43MDRkOTQ2LjY4OGQ1NDEuNjk2ZDk4Ny4xMzZkNDg0Ljg2NGQxMDA4LjEyOGQ0MjguMDMyZDEwMjkuMTE5ZDM2Ni41OTJkMTAyOS4xMTlkMzE5LjQ4OGQxMDI5LjExOWQyNzguMDE2ZDEwMTIuNzM2ZDIzNi41NDRkOTk2LjM1MmQyMDAuNzA0ZDk3Ny45MmQyMDAuNzA0ZDEwMjEuOTUyZDM4LjkxMmQxMDIxLjk1MmQzMi43NjhkMTk2LjYwN2QyNjkuMzEyZDE3OC4xNzVkMjYwLjA5NmQ0NDQuNDE1ZDI5MS44NGQ0MjcuMDA4ZDMyMS41MzZkNDE0LjcyZDM1MS4yMzJkNDAyLjQzMmQzOTguMzM2ZDQwMi40MzJkMzc5LjkwNGQ4MTUuMTA0ZDQwNC40OGQ4MDcuOTM2ZDQyMS44ODhkNzk1LjEzNmQ0MzkuMjk2ZDc4Mi4zMzZkNDUwLjA0OGQ3NjUuOTUyZDQ2MC44ZDc0OS41NjhkNDYzLjg3MmQ3MzEuMTM2ZDQ2Ni45NDRkNzEyLjcwNGQ0NjEuODI0ZDY5NC4yNzFkNDU2LjcwNGQ2NzUuODM5ZDQ0NC40MTZkNjYyLjAxNmQ0MzIuMTI4ZDY0OC4xOTJkNDE0LjIwOGQ2MzkuNDg4ZDM5Ni4yODhkNjMwLjc4NGQzNzQuMjcyZDYyOS4yNDhkMzUyLjI1NmQ2MjcuNzEyZDMyNy42OGQ2MzQuODhkMzAzLjEwNGQ2NDIuMDQ4ZDI4NS4xODRkNjU1LjM2ZDI2Ny4yNjRkNjY4LjY3MmQyNTYuNTEyZDY4NS4wNTZkMjQ1Ljc2ZDcwMS40NGQyNDIuNjg4ZDcxOS44NzJkMjM5LjYxNmQ3MzguMzA0ZDI0NC43MzZkNzU2LjczNmQyNDkuODU2ZDc3NS4xNjhkMjYyLjE0NGQ3ODguOTkyZDI3NC40MzJkODAyLjgxNmQyOTIuMzUyZDgxMS4wMDhkMzEwLjI3MmQ4MTkuMmQzMzIuOGQ4MjAuNzM2ZDM1NS4zMjhkODIyLjI3MWQzNzkuOTA0ZDgxNS4xMDRoUjNkNjU1LjM2UjRkNjc5LjkzNlI1ZDMyLjc2OFI2ZDg0NS44MjRSN2QtNS4xMlI4ZDgxMy4wNTZSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpOThSMTJkMzIuNzY4UjEzZDY1NS4zNlIxNGFpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTJpMmkyaTJpMmkzaTNpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaGc6MjEwb1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIxMFIxMmQwUjEzZDEwMjRSMTRhaGc6OTdvUjFkMTAxMy43NlIyYWQzNTcuMzc2ZDEwMjRkNTYzLjJkMTAwNi41OTJkNTc0LjQ2NGQ2MTkuNTJkNTc1LjQ4OGQ1NTguMDc5ZDU1My45ODRkNTE2LjA5NmQ1MzIuNDhkNDc0LjExMWQ0OTYuMTI4ZDQ0Ny40ODdkNDU5Ljc3NmQ0MjAuODY0ZDQxMS42NDhkNDA5LjA4N2QzNjMuNTJkMzk3LjMxMmQzMTMuMzQ0ZDM5Ny4zMTJkMjU4LjA0OGQzOTcuMzEyZDIwNC44ZDQwMi45NDNkMTUxLjU1MmQ0MDguNTc2ZDEwMi40ZDQyMi45MTJkNjIuNDY0ZDU4NS43MjhkMTAyLjRkNTczLjQ0ZDE0MS4zMTJkNTY0LjIyM2QxODAuMjI0ZDU1NS4wMDhkMjI1LjI4ZDU1NS4wMDhkMjc0LjQzMmQ1NTUuMDA4ZDMwNS4xNTJkNTcwLjM2N2QzMzUuODcyZDU4NS43MjhkMzM1Ljg3MmQ2MzIuODMyZDMzNS44NzJkNjYzLjU1MmQzMTMuMzQ0ZDY0Ni4xNDRkMjgxLjA4OGQ2MzIuMzE5ZDI0OC44MzJkNjE4LjQ5NmQyMDEuNzI4ZDYxOC40OTZkMTU2LjY3MmQ2MTguNDk2ZDExOC4yNzJkNjMzLjM0NGQ3OS44NzJkNjQ4LjE5MmQ1MS43MTJkNjc0LjMwNGQyMy41NTJkNzAwLjQxNWQ3LjE2OGQ3MzUuNzQzZC05LjIxNmQ3NzEuMDcyZC05LjIxNmQ4MTMuMDU2ZC05LjIxNmQ4NjEuMTg0ZDcuMTY4ZDkwMC4wOTZkMjMuNTUyZDkzOS4wMDhkNTEuMmQ5NjYuNjU2ZDc4Ljg0OGQ5OTQuMzA0ZDExNS43MTJkMTAwOS4xNTJkMTUyLjU3NmQxMDI0ZDE5My41MzZkMTAyNGQyNDIuNjg4ZDEwMjRkMjg1LjE4NGQxMDA4LjY0ZDMyNy42OGQ5OTMuMjhkMzU1LjMyOGQ5NTQuMzY3ZDM1Ny4zNzZkOTU0LjM2N2QzNTcuMzc2ZDEwMjRkMjI3LjMyOGQ3NjQuOTI4ZDI3MC4zMzZkNzU3Ljc2ZDI5My4zNzZkNzcxLjU4NGQzMTYuNDE2ZDc4NS40MDhkMzE5LjQ4OGQ4MDQuODY0ZDMyMy41ODRkODI3LjM5MmQzMDQuMTI4ZDg0Ni44NDhkMjg0LjY3MmQ4NjYuMzA0ZDI0NC43MzZkODcyLjQ0OGQyMDQuOGQ4NzguNTkyZDE3OS43MTJkODY2LjgxNmQxNTQuNjI0ZDg1NS4wNGQxNTAuNTI4ZDgzMS40ODhkMTQ3LjQ1NmQ4MDcuOTM2ZDE2OS45ODRkNzg4Ljk5MmQxOTIuNTEyZDc3MC4wNDhkMjI3LjMyOGQ3NjQuOTI4aFIzZDYxNy40NzJSNGQ1NzUuNDg4UjVkLTkuMjE2UjZkNjI2LjY4OFI3ZDBSOGQ2MzUuOTA0UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTk3UjEyZC05LjIxNlIxM2Q2MTcuNDcyUjE0YWkxaTJpMmkzaTNpM2kzaTNpM2kyaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaTJpMWkzaTNpM2kzaTNpM2kzaTNoZzoyMDlvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjA5UjEyZDBSMTNkMTAyNFIxNGFoZzo5Nm9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk5NlIxMmQwUjEzZDEwMjRSMTRhaGc6MjA4b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIwOFIxMmQwUjEzZDEwMjRSMTRhaGc6OTVvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpOTVSMTJkMFIxM2QxMDI0UjE0YWhnOjIwN29SMWQxMDEzLjc2UjJhZDY3LjU4NGQyNzAuMzM2ZDU3LjM0NGQxMDQxLjQwN2QzMjUuNjMyZDEwMTEuNzEyZDM2Ny42MTZkMjM0LjQ5NWQ2Ny41ODRkMjcwLjMzNmQ1LjEyZDE0OC40OGQxNzQuMDhkMTM2LjE5MmQxOTEuNDg4ZDIxOC4xMTFkMTc1LjEwNGQyMjAuMTU5ZDE0Ny40NTZkMjIyLjIwN2QxMTkuODA4ZDIyNC4yNTVkOTMuNjk2ZDIyNS4yNzlkNjcuNTg0ZDIyNi4zMDNkNDguNjRkMjI2LjgxNmQyOS42OTZkMjI3LjMyN2QyOS42OTZkMjI1LjI3OWQyOS42OTZkMjI0LjI1NWQyOC42NzJkMjE5LjEzNWQyNy42NDhkMjE0LjAxNWQyMi41MjhkMTk2LjA5NmQxNy40MDhkMTc4LjE3NWQ1LjEyZDE0OC40OGQ0MDguNTc2ZDE4MC4yMjNkMzI4LjcwNGQxODkuNDM5ZDI4Mi42MjRkMTk2LjYwN2QyMzYuNTQ0ZDIwMy43NzVkMjM2LjU0NGQyMDMuNzc1ZDIzOS42MTZkMTIyLjg4ZDM5OS4zNmQ4OC4wNjNkNDA4LjU3NmQxODAuMjIzaFIzZDQxNy43OTJSNGQ0MDguNTc2UjVkNS4xMlI2ZDkzNS45MzZSN2QtMTcuNDA4UjhkOTMwLjgxNlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMDdSMTJkNS4xMlIxM2Q0MTcuNzkyUjE0YWkxaTJpMmkyaTJpMWkyaTJpM2kzaTNpM2kzaTNpM2kxaTNpM2kyaTJpMmhnOjk0b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTk0UjEyZDBSMTNkMTAyNFIxNGFoZzoyMDZvUjFkMTAxMy43NlIyYWQxMS4yNjRkMTYzLjg0ZDYzLjQ4OGQyMTYuMDYzZDE5Ny42MzJkMTI1Ljk1MmQzNTUuMzI4ZDIwMS43MjdkMzg4LjA5NmQxMzUuMTY4ZDE3OC4xNzZkNjMuNDg3ZDExLjI2NGQxNjMuODRkNTcuMzQ0ZDI2Ni4yNGQ0Ny4xMDRkMTAzNy4zMTFkMzE1LjM5MmQxMDA3LjYxNmQzNTcuMzc2ZDIzMC4zOTlkNTcuMzQ0ZDI2Ni4yNGhSM2QzOTguMzM2UjRkMzg4LjA5NlI1ZDExLjI2NFI2ZDk2MC41MTJSN2QtMTMuMzEyUjhkOTQ5LjI0OFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMDZSMTJkMTEuMjY0UjEzZDM5OC4zMzZSMTRhaTFpMmkyaTJpMmkyaTJpMWkyaTJpMmkyaGc6OTNvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpOTNSMTJkMFIxM2QxMDI0UjE0YWhnOjIwNW9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMDVSMTJkMFIxM2QxMDI0UjE0YWhnOjkyb1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTkyUjEyZDBSMTNkMTAyNFIxNGFoZzoyMDRvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjA0UjEyZDBSMTNkMTAyNFIxNGFoZzo5MW9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk5MVIxMmQwUjEzZDEwMjRSMTRhaGc6MjAzb1IxZDEwMTMuNzZSMmFkODAuODk2ZDk3LjI3OWQyNDkuODU2ZDg0Ljk5MWQyNjcuMjY0ZDE2Ni45MTJkMjUwLjg4ZDE2OC45NmQyMjMuMjMyZDE3MS4wMDhkMTk1LjU4NGQxNzMuMDU1ZDE2OS40NzJkMTc0LjA3OWQxNDMuMzZkMTc1LjEwM2QxMjQuNDE2ZDE3NS42MTZkMTA1LjQ3MmQxNzYuMTI3ZDEwNS40NzJkMTc0LjA3OWQxMDUuNDcyZDE3My4wNTVkMTA0LjQ0OGQxNjcuOTM2ZDEwMy40MjRkMTYyLjgxNmQ5OC4zMDRkMTQ0Ljg5NWQ5My4xODRkMTI2Ljk3NmQ4MC44OTZkOTcuMjc5ZDQ4NC4zNTJkMTI5LjAyNGQ0MDQuNDhkMTM4LjI0ZDM1OC40ZDE0NS40MDhkMzEyLjMyZDE1Mi41NzZkMzEyLjMyZDE1Mi41NzZkMzE1LjM5MmQ3MS42NzlkNDc1LjEzNmQzNi44NjRkNDg0LjM1MmQxMjkuMDI0ZDI4LjY3MmQyMzcuNTY3ZDU5My45MmQxOTYuNjA3ZDU2Mi4xNzZkNDU1LjY3OWQzMDQuMTI4ZDQ2NS45MTlkMzA0LjEyOGQ1MTYuMDk2ZDQ4OS40NzJkNTAxLjc2ZDQ2OC45OTJkNjgwLjk2ZDI5Ni45NmQ2OTUuMjk2ZDI5NS45MzZkNzUxLjYxNmQ1ODguOGQ3MjMuOTY4ZDU4Mi42NTZkMTAwNi41OTJkMzUuODRkMTAzNi4yODhkMjguNjcyZDIzNy41NjdoUjNkNjEyLjM1MlI0ZDU5My45MlI1ZDI4LjY3MlI2ZDk4Ny4xMzZSN2QtMTIuMjg4UjhkOTU4LjQ2NFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMDNSMTJkMjguNjcyUjEzZDYxMi4zNTJSMTRhaTFpMmkyaTNpM2kzaTNpM2kzaTNpMWkzaTNpMmkyaTJpMWkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmhnOjkwb1IxZDEwMTMuNzZSMmFkMzMuNzkyZDEwNTUuNzQ0ZDI4Mi42MjRkNDUyLjYwN2QtMTYuMzg0ZDQ3Mi4wNjNkNDAuOTZkMjAzLjc3NWQ4MDEuNzkyZDE3OS4xOTlkNDU0LjY1NmQ3NTUuNzEyZDgzOS42OGQ3MDguNjA4ZDc4OC40OGQxMDA2LjU5MmQzMy43OTJkMTA1NS43NDRoUjNkODM2LjYwOFI0ZDgzOS42OFI1ZC0xNi4zODRSNmQ4NDQuOFI3ZC0zMS43NDRSOGQ4NjEuMTg0UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTkwUjEyZC0xNi4zODRSMTNkODM2LjYwOFIxNGFpMWkyaTJpMmkyaTJpMmkyaTJoZzoyMDJvUjFkMTAxMy43NlIyYWQzMS43NDRkMjM3LjU2N2Q1OTYuOTkyZDE5Ni42MDdkNTY1LjI0OGQ0NTUuNjc5ZDMwOC4yMjRkNDY1LjkxOWQzMDcuMmQ1MTYuMDk2ZDQ5My41NjhkNTAxLjc2ZDQ3Mi4wNjRkNjgwLjk2ZDMwMC4wMzJkNjk1LjI5NmQyOTkuMDA4ZDc1MS42MTZkNTkxLjg3MmQ3MjMuOTY4ZDU4Ni43NTJkMTAwNi41OTJkMzguOTEyZDEwMzYuMjg4ZDMxLjc0NGQyMzcuNTY3ZDExOS44MDhkMTIwLjgzMmQxNzIuMDMyZDE3Mi4wMzFkMzA2LjE3NmQ4Mi45NDNkNDYzLjg3MmQxNTcuNjk2ZDQ5Ni42NGQ5Mi4xNTlkMjg2LjcyZDIwLjQ4ZDExOS44MDhkMTIwLjgzMmhSM2Q2MTQuNFI0ZDU5Ni45OTJSNWQzMS43NDRSNmQxMDAzLjUyUjdkLTEyLjI4OFI4ZDk3MS43NzZSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjAyUjEyZDMxLjc0NFIxM2Q2MTQuNFIxNGFpMWkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkxaTJpMmkyaTJpMmkyaGc6ODlvUjFkMTAxMy43NlIyYWQtNjEuNDRkMzQ0LjA2M2QxOTYuNjA4ZDcwNC41MTJkMTk2LjYwOGQxMDA1LjU2OGQ0NzIuMDY0ZDEwNDIuNDMyZDQ3NS4xMzZkNzQ3LjUyZDc4Ny40NTZkMzQ0LjA2M2Q1MzYuNTc2ZDE3Mi4wMzFkMzM5Ljk2OGQ0NTYuNzAzZDE1OC43MmQxNzIuMDMxZC02MS40NGQzNDQuMDYzaFIzZDcxNy44MjRSNGQ3ODcuNDU2UjVkLTYxLjQ0UjZkODUxLjk2OFI3ZC0xOC40MzJSOGQ5MTMuNDA4UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTg5UjEyZC02MS40NFIxM2Q3MTcuODI0UjE0YWkxaTJpMmkyaTJpMmkyaTJpMmkyaGc6MjAxb1IxZDEwMTMuNzZSMmFkMzIuNzY4ZDIzMS40MjNkNTk4LjAxNmQxOTAuNDYzZDU2Ni4yNzJkNDQ5LjUzNWQzMDguMjI0ZDQ1OS43NzVkMzA4LjIyNGQ1MDkuOTUyZDQ5My41NjhkNDk1LjYxNmQ0NzMuMDg4ZDY3NC44MTZkMzAxLjA1NmQ2ODkuMTUyZDMwMC4wMzJkNzQ1LjQ3MmQ1OTIuODk2ZDcxNy44MjRkNTg2Ljc1MmQxMDAwLjQ0OGQzOS45MzZkMTAzMC4xNDRkMzIuNzY4ZDIzMS40MjNkMzc1LjgwOGQ4My45NjdkMjUzLjk1MmQyNDAuNjRkMjEwLjk0NGQyMjYuMzAzZDI5Ni45NmQxOS40NTZkMzc1LjgwOGQ4My45NjdoUjNkNjEyLjM1MlI0ZDU5OC4wMTZSNWQzMi43NjhSNmQxMDA0LjU0NFI3ZC02LjE0NFI4ZDk3MS43NzZSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjAxUjEyZDMyLjc2OFIxM2Q2MTIuMzUyUjE0YWkxaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaTFpMmkyaTJpMmhnOjg4b1IxZDEwMTMuNzZSMmFkLTEwLjI0ZDMzOC45NDNkMjI4LjM1MmQ2MDUuMTg0ZC01LjEyZDg2Ny4zMjhkMjI4LjM1MmQxMDYyLjkxMmQ0MTQuNzJkNzYxLjg1NmQ2NDcuMTY4ZDEwNTMuNjk2ZDg0Mi43NTJkODQzLjc3NmQ1OTQuOTQ0ZDU5MC44NDhkODM3LjYzMmQzMzguOTQzZDYwOC4yNTZkMTY2LjkxMmQ0MTguODE2ZDM3Mi43MzZkMjE4LjExMmQxNjYuOTEyZC0xMC4yNGQzMzguOTQzaFIzZDgyNS4zNDRSNGQ4NDIuNzUyUjVkLTEwLjI0UjZkODU3LjA4OFI3ZC0zOC45MTJSOGQ4NjcuMzI4UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTg4UjEyZC0xMC4yNFIxM2Q4MjUuMzQ0UjE0YWkxaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaGc6MjAwb1IxZDEwMTMuNzZSMmFkMzMuNzkyZDIzNy41NjdkNTk5LjA0ZDE5Ni42MDdkNTY3LjI5NmQ0NTUuNjc5ZDMxMC4yNzJkNDY1LjkxOWQzMDkuMjQ4ZDUxNi4wOTZkNDk1LjYxNmQ1MDEuNzZkNDc0LjExMmQ2ODAuOTZkMzAyLjA4ZDY5NS4yOTZkMzAxLjA1NmQ3NTEuNjE2ZDU5My45MmQ3MjMuOTY4ZDU4OC44ZDEwMDYuNTkyZDQwLjk2ZDEwMzYuMjg4ZDMzLjc5MmQyMzcuNTY3ZDIxMS45NjhkOTAuMTExZDMzMy44MjRkMjQ2Ljc4NGQzNzYuODMyZDIzMi40NDdkMjkwLjgxNmQyNS42ZDIxMS45NjhkOTAuMTExaFIzZDYxNy40NzJSNGQ1OTkuMDRSNWQzMy43OTJSNmQ5OTguNFI3ZC0xMi4yODhSOGQ5NjQuNjA4UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIwMFIxMmQzMy43OTJSMTNkNjE3LjQ3MlIxNGFpMWkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkxaTJpMmkyaTJoZzo4N29SMWQxMDEzLjc2UjJhZC00My4wMDhkMjc3LjUwNGQyMzUuNTJkMTU2LjY3MmQzNDQuMDY0ZDQ5MS41MmQ1MjkuNDA4ZDIwNi44NDdkNjg0LjAzMmQ0NzUuMTM1ZDgwNi45MTJkMTA4LjU0M2QxMDQyLjQzMmQyNzcuNTA0ZDc4OC40OGQxMDMwLjE0NGQ1MzMuNTA0ZDc2OS4wMjRkMjcwLjMzNmQxMTAwLjhkLTQzLjAwOGQyNzcuNTA0aFIzZDEwMDguNjRSNGQxMDQyLjQzMlI1ZC00My4wMDhSNmQ5MTUuNDU2UjdkLTc2LjhSOGQ5NTguNDY0UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTg3UjEyZC00My4wMDhSMTNkMTAwOC42NFIxNGFpMWkyaTJpMmkyaTJpMmkyaTJpMmkyaGc6MTk5b1IxZDEwMTMuNzZSMmFkNzY4ZDg3Ny41NjhkNzUzLjY2NGQ5MDQuMTkyZDcyMC4zODRkOTMyLjg2NGQ2ODcuMTA0ZDk2MS41MzZkNjQxLjAyNGQ5ODYuMTEyZDU5NC45NDRkMTAxMC42ODhkNTM4LjYyNGQxMDI5LjExOWQ0ODIuMzA0ZDEwNDcuNTUxZDQyMi45MTJkMTA1My42OTZkMzY3LjYxNmQxMTg4Ljg2NGQyMTIuOTkyZDExMjQuMzUyZDI3My40MDhkMTA0Ni41MjhkMjM3LjU2OGQxMDM4LjMzNmQyMDMuNzc2ZDEwMjMuNDg4ZDE2OS45ODRkMTAwOC42NGQxMzkuMjY0ZDk4NS4wODhkNjIuNDY0ZDkyNS42OTZkMjUuMDg4ZDg1NC4wMTZkLTEyLjI4OGQ3ODIuMzM2ZC0xOC45NDRkNzA2LjU2ZC0yNS42ZDYzMC43ODRkLTcuMTY4ZDU1NS4wMDhkMTEuMjY0ZDQ3OS4yMzJkNDYuMDhkNDEyLjY3MmQ4MC44OTZkMzQ2LjExMWQxMjcuNDg4ZDI5Mi44NjRkMTc0LjA4ZDIzOS42MTZkMjIyLjIwOGQyMDcuODcxZDIyMi4yMDhkMjA3Ljg3MWQyNDIuNjg4ZDE5Ni42MDdkMjYzLjE2OGQxODUuMzQzZDI5OS4wMDhkMTc0LjU5MWQzMzQuODQ4ZDE2My44NGQzODMuNDg4ZDE1OS4yMzFkNDMyLjEyOGQxNTQuNjI0ZDQ4OC40NDhkMTY4LjQ0N2Q1NDQuNzY4ZDE4Mi4yNzFkNjA2LjcyZDIyMC4xNTlkNjY4LjY3MmQyNTguMDQ4ZDczMC4xMTJkMzMxLjc3NWQ1NTEuOTM2ZDU1MS45MzVkNDk2LjY0ZDQ5My41NjhkNDU1LjE2OGQ0NzcuMTgzZDQxMy42OTZkNDYwLjc5OWQzODIuOTc2ZDQ2OS41MDRkMzUyLjI1NmQ0NzguMjA3ZDMzMS43NzZkNTA1LjM0M2QzMTEuMjk2ZDUzMi40OGQyOTkuMDA4ZDU2MC42NGQyODYuNzJkNTg4LjhkMjgxLjZkNjExLjMyOGQyNzYuNDhkNjMzLjg1NmQyNzYuNDhkNjMzLjg1NmQyNzYuNDhkNjM1LjkwNGQyODEuNmQ2NjAuNDhkMjg2LjcyZDY4NS4wNTZkMzAzLjYxNmQ3MTUuMjY0ZDMyMC41MTJkNzQ1LjQ3MmQzNTEuNzQ0ZDc1OS44MDhkMzgyLjk3NmQ3NzQuMTQ0ZDQzNi43MzZkNzU1LjcxMmQ0OTAuNDk2ZDczNy4yOGQ1NjkuMzQ0ZDY2NC41NzZkNzY4ZDg3Ny41NjhoUjNkNzQwLjM1MlI0ZDc2OFI1ZC0yNS42UjZkODY5LjM3NlI3ZC0xNjQuODY0UjhkODk0Ljk3NlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxOTlSMTJkLTI1LjZSMTNkNzQwLjM1MlIxNGFpMWkzaTNpM2kzaTJpMmkyaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaGc6ODZvUjFkMTAxMy43NlIyYWQyNDIuNjg4ZDE2Ny45MzZkMzkzLjIxNmQ1MjguMzg0ZDU2OC4zMmQxNzYuMTI3ZDgyMy4yOTZkMzIzLjU4M2QzNzIuNzM2ZDEwOTYuNzA0ZC00OS4xNTJkMzM5Ljk2N2QyNDIuNjg4ZDE2Ny45MzZoUjNkNzY1Ljk1MlI0ZDgyMy4yOTZSNWQtNDkuMTUyUjZkODU2LjA2NFI3ZC03Mi43MDRSOGQ5MDUuMjE2UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTg2UjEyZC00OS4xNTJSMTNkNzY1Ljk1MlIxNGFpMWkyaTJpMmkyaTJpMmhnOjE5OG9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxOThSMTJkMFIxM2QxMDI0UjE0YWhnOjg1b1IxZDEwMTMuNzZSMmFkNjMyLjgzMmQyMTUuMDM5ZDYzOC45NzZkMzcxLjcxMmQ2NDEuNTM2ZDQ2Ni45NDNkNjQ0LjA5NmQ1NjIuMTc1ZDY0NS4xMmQ2MTMuMzc2ZDY0Ni4xNDRkNjY0LjU3NmQ2NDYuMTQ0ZDY4MC45NmQ2NDYuMTQ0ZDY5Ny4zNDRkNjQ2LjE0NGQ2OTcuMzQ0ZDY0Ny4xNjhkNzU5LjgwOGQ2MzYuOTI4ZDgxNy4xNTJkNjI2LjY4OGQ4NzQuNDk2ZDU5OS41NTJkOTIxLjA4OGQ1NzIuNDE2ZDk2Ny42OGQ1MjUuODI0ZDEwMDAuOTZkNDc5LjIzMmQxMDM0LjI0ZDQwOS42ZDEwNDcuNTUxZDMwMy4xMDRkMTA2OC4wMzJkMjI2LjMwNGQxMDUxLjY0OGQxNDkuNTA0ZDEwMzUuMjYzZDk5Ljg0ZDk5MC4yMDhkNTAuMTc2ZDk0NS4xNTJkMjcuNjQ4ZDg3Ni4wMzJkNS4xMmQ4MDYuOTEyZDcuMTY4ZDcyMy45NjhkNy4xNjhkNzIyLjk0NGQ3LjE2OGQ3MTMuNzI4ZDcuMTY4ZDcwMy40ODhkOC4xOTJkNjcwLjcyZDkuMjE2ZDYzNy45NTJkMTAuMjRkNTc4LjU2ZDExLjI2NGQ1MTkuMTY4ZDE0LjMzNmQ0MTkuODRkMTcuNDA4ZDMyMC41MTFkMjEuNTA0ZDE3OC4xNzVkMzE0LjM2OGQyMjkuMzc1ZDI4Ny43NDRkNzEwLjY1NmQyODMuNjQ4ZDczNy4yOGQyODguMjU2ZDc1Ny43NmQyOTIuODY0ZDc3OC4yNGQyOTcuOTg0ZDc4Ny40NTZkMzAzLjEwNGQ3OTYuNjcyZDMwNC4xMjhkNzk3LjY5NmQzMTQuMzY4ZDgwOC45NmQzMjcuNjhkODExLjAwOGQzNDAuOTkyZDgxMy4wNTZkMzU3LjM3NmQ3ODYuNDMyZDM1OC40ZDc4NS40MDhkMzYzLjUyZDc3My42MzJkMzY4LjY0ZDc2MS44NTZkMzczLjc2ZDczMi4xNmQzNzguODhkNzAyLjQ2NGQzNzYuODMyZDY1OS40NTZkMzU1LjMyOGQyNjYuMjRkNjMyLjgzMmQyMTUuMDM5aFIzZDY1OS40NTZSNGQ2NDcuMTY4UjVkNS4xMlI2ZDg0NS44MjRSN2QtNDQuMDMyUjhkODQwLjcwNFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk4NVIxMmQ1LjEyUjEzZDY1OS40NTZSMTRhaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTJpMmkzaTNpM2kzaTNpM2kzaTNpMmkyaGc6MTk3b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE5N1IxMmQwUjEzZDEwMjRSMTRhaGc6ODRvUjFkMTAxMy43NlIyYWQ1MzAuNDMyZDQxNC43MmQ0MDcuNTUyZDQyOS4wNTZkNDA3LjU1MmQxMDA1LjU2OGQxMTYuNzM2ZDEwNDEuNDA3ZDEzMi4wOTZkNDU2LjcwM2QtMy4wNzJkNDcwLjAxNWQ0LjA5NmQyMTguMTExZDU1Ny4wNTZkMTcxLjAwOGQ1MzAuNDMyZDQxNC43MmhSM2Q1MzMuNTA0UjRkNTU3LjA1NlI1ZC0zLjA3MlI2ZDg1Mi45OTJSN2QtMTcuNDA4UjhkODU2LjA2NFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk4NFIxMmQtMy4wNzJSMTNkNTMzLjUwNFIxNGFpMWkyaTJpMmkyaTJpMmkyaTJoZzoxOTZvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTk2UjEyZDBSMTNkMTAyNFIxNGFoZzo4M29SMWQxMDEzLjc2UjJhZDQzMi4xMjhkNTA5Ljk1MmQ0NjMuODcyZDUyNC4yODhkNDk3LjE1MmQ1NDIuNzJkNTMwLjQzMmQ1NjEuMTUyZDU1Ny41NjhkNTg3Ljc3NmQ1ODQuNzA0ZDYxNC40ZDYwMi42MjRkNjUxLjc3NmQ2MjAuNTQ0ZDY4OS4xNTJkNjIyLjU5MmQ3NDAuMzUyZDYyNS42NjRkODEzLjA1NmQ1OTkuMDRkODY4Ljg2NGQ1NzIuNDE2ZDkyNC42NzJkNTIzLjc3NmQ5NjMuMDcyZDQ3NS4xMzZkMTAwMS40NzJkNDA3LjU1MmQxMDIyLjQ2NGQzMzkuOTY4ZDEwNDMuNDU1ZDI2Mi4xNDRkMTA0Ni41MjhkMjI2LjMwNGQxMDQ3LjU1MWQxODguNDE2ZDEwNDIuOTQ0ZDE1MC41MjhkMTAzOC4zMzZkMTEzLjY2NGQxMDI5LjExOWQ3Ni44ZDEwMTkuOTA0ZDQxLjk4NGQxMDA3LjEwNGQ3LjE2OGQ5OTQuMzA0ZC0yMy41NTJkOTc5Ljk2OGQ1NC4yNzJkNzYwLjgzMmQ2OS42MzJkNzY2Ljk3NmQ5MS4xMzZkNzc2LjcwNGQxMTIuNjRkNzg2LjQzMmQxMzcuMjE2ZDc5NC42MjRkMTYxLjc5MmQ4MDIuODE2ZDE4OC40MTZkODA4Ljk2ZDIxNS4wNGQ4MTUuMTA0ZDI0MC42NGQ4MTQuMDc5ZDI3OC41MjhkODEyLjAzMWQzMDQuNjRkODAwLjc2OGQzMzAuNzUyZDc4OS41MDRkMzI5LjcyOGQ3NjIuODhkMzI4LjcwNGQ3NDUuNDcyZDMxMS44MDhkNzM2LjI1NmQyOTQuOTEyZDcyNy4wNGQyNzEuMzZkNzE3LjgyNGQyNTZkNzEzLjcyOGQyMzAuOTEyZDcwNi41NmQyMDUuODI0ZDY5OS4zOTJkMTc3LjE1MmQ2ODcuMTA0ZDE0OC40OGQ2NzQuODE2ZDExOS4yOTZkNjU3LjQwOGQ5MC4xMTJkNjQwZDY2LjA0OGQ2MTUuNDI0ZDQxLjk4NGQ1OTAuODQ4ZDI2LjExMmQ1NTguNTkyZDEwLjI0ZDUyNi4zMzZkOS4yMTZkNDg0LjM1MmQ3LjE2OGQ0MTIuNjcyZDMzLjc5MmQzNTYuODY0ZDYwLjQxNmQzMDEuMDU2ZDEwNi40OTZkMjYxLjYzMWQxNTIuNTc2ZDIyMi4yMDdkMjE0LjAxNmQyMDEuMjE2ZDI3NS40NTZkMTgwLjIyM2QzNDUuMDg4ZDE3Ny4xNTFkNDA5LjZkMTc0LjA3OWQ0NzMuMDg4ZDE4My44MDhkNTM2LjU3NmQxOTMuNTM1ZDU5MS44NzJkMjE2LjA2M2Q1MzEuNDU2ZDQ1Mi42MDdkNDkwLjQ5NmQ0MzUuMTk5ZDQ1Ni43MDRkNDIzLjQyNGQ0MjIuOTEyZDQxMS42NDhkMzc3Ljg1NmQ0MDUuNTA0ZDM2NC41NDRkNDAzLjQ1NmQzNDIuMDE2ZDQwMy40NTZkMzIwLjUxMmQ0MDMuNDU2ZDI5OS41MmQ0MDguMDYzZDI3OC41MjhkNDEyLjY3MmQyNjMuMTY4ZDQyMi45MTJkMjQ3LjgwOGQ0MzMuMTUyZDI0Ni43ODRkNDUxLjU4M2QyNDYuNzg0ZDQ1OS43NzVkMjU0LjQ2NGQ0NjQuMzg0ZDI2Mi4xNDRkNDY4Ljk5MWQyNzIuODk2ZDQ3MS41NTJkMjgzLjY0OGQ0NzQuMTExZDI5NC45MTJkNDc1LjY0OGQzMDYuMTc2ZDQ3Ny4xODNkMzEzLjM0NGQ0NzguMjA3ZDM0My4wNGQ0ODQuMzUyZDM1OS45MzZkNDg4LjQ0OGQzNzYuODMyZDQ5Mi41NDRkMzc2LjgzMmQ0OTIuNTQ0ZDQwNS41MDRkNDk4LjY4OGQ0MzIuMTI4ZDUwOS45NTJoUjNkNjA1LjE4NFI0ZDYyNS42NjRSNWQtMjMuNTUyUjZkODQ5LjkyUjdkLTIzLjU1MlI4ZDg3My40NzJSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpODNSMTJkLTIzLjU1MlIxM2Q2MDUuMTg0UjE0YWkxaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2hnOjE5NW9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxOTVSMTJkMFIxM2QxMDI0UjE0YWhnOjgyb1IxZDEwMTMuNzZSMmFkNzA4LjYwOGQ4NzcuNTY4ZDU0OS44ODhkMTA1Ni43NjhkMzAxLjA1NmQ4NzMuNDcyZDI5Ny45ODRkMTA0OC41NzZkNTAuMTc2ZDEwMjIuOTc2ZDMzLjc5MmQyMjMuMjMxZDIyOC4zNTJkMjAwLjcwM2QzMTguNDY0ZDE5MmQ0MDguNTc2ZDE4My4yOTVkNDA4LjU3NmQxODMuMjk1ZDUwNC44MzJkMTczLjA1NWQ1NjguODMyZDE5Ny42MzFkNjMyLjgzMmQyMjIuMjA3ZDY2Ni4xMTJkMjY4Ljc5OWQ2OTkuMzkyZDMxNS4zOTFkNzA0ZDM3Ny4zNDNkNzA4LjYwOGQ0MzkuMjk1ZDY4Ni4wOGQ1MDQuMzE5ZDY2My41NTJkNTY5LjM0NGQ2MTQuOTEyZDYzMC43ODRkNTY2LjI3MmQ2OTIuMjIzZDQ5NC41OTJkNzM3LjI4ZDcwOC42MDhkODc3LjU2OGQyODUuNjk2ZDQ1Mi42MDdkMjc1LjQ1NmQ2MTYuNDQ4ZDMxMi4zMmQ2MDguMjU2ZDMzOS40NTZkNTkyLjg5NmQzNjYuNTkyZDU3Ny41MzZkMzg1LjAyNGQ1NjAuMTI3ZDQwMy40NTZkNTQyLjcyZDQxMy4xODRkNTI2Ljg0OGQ0MjIuOTEyZDUxMC45NzZkNDI0Ljk2ZDUwMS43NmQ0MjQuOTZkNTAwLjczNmQ0MjUuOTg0ZDQ5MC40OTZkNDI3LjAwOGQ0ODAuMjU2ZDQyMy40MjRkNDY1LjkxOWQ0MTkuODRkNDUxLjU4M2Q0MDYuMDE2ZDQ0MS44NTZkMzkyLjE5MmQ0MzIuMTI4ZDM2My41MmQ0MzIuNjRkMzM0Ljg0OGQ0MzMuMTUyZDI4NS42OTZkNDUyLjYwN2hSM2Q2ODYuMDhSNGQ3MDguNjA4UjVkMzMuNzkyUjZkODUwLjk0NFI3ZC0zMi43NjhSOGQ4MTcuMTUyUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTgyUjEyZDMzLjc5MlIxM2Q2ODYuMDhSMTRhaTFpMmkyaTJpMmkyaTNpM2kzaTNpM2kzaTNpM2kyaTFpMmkzaTNpM2kzaTNpM2kzaTNpM2hnOjE5NG9SMWQxMDEzLjc2UjJhZC03My43MjhkOTYyLjU2ZDIzMy40NzJkMTA2Mi45MTJkMjc2LjQ4ZDkwOS4zMTJkNDkwLjQ5NmQ5MDIuMTQ0ZDU3Ni41MTJkMTA0NS41MDNkODk5LjA3MmQ5MjMuNjQ4ZDM4MS45NTJkMTM3LjIxNmQtNzMuNzI4ZDk2Mi41NmQzOTkuMzZkNTg1LjcyOGQ0NTEuNTg0ZDcyNC45OTJkMzI5LjcyOGQ3NDYuNDk2ZDM5OS4zNmQ1ODUuNzI4ZDE4OC40MTZkMTIwLjgzMmQyNDAuNjRkMTcyLjAzMWQzNzQuNzg0ZDgyLjk0M2Q1MzIuNDhkMTU3LjY5NmQ1NjUuMjQ4ZDkyLjE1OWQzNTUuMzI4ZDIwLjQ4ZDE4OC40MTZkMTIwLjgzMmhSM2Q4MjkuNDRSNGQ4OTkuMDcyUjVkLTczLjcyOFI2ZDEwMDMuNTJSN2QtMzguOTEyUjhkMTA3Ny4yNDhSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTk0UjEyZC03My43MjhSMTNkODI5LjQ0UjE0YWkxaTJpMmkyaTJpMmkyaTJpMWkyaTJpMmkxaTJpMmkyaTJpMmkyaGc6ODFvUjFkMTAxMy43NlIyYWQ3NTUuNzEyZDMxMi4zMTlkNzg1LjQwOGQzNjkuNjY0ZDgwMS4yOGQ0NDAuMzE5ZDgxNy4xNTJkNTEwLjk3NmQ4MTIuNTQ0ZDU4Ny4yNjRkODA3LjkzNmQ2NjMuNTUyZDc3OS4yNjRkNzQyLjRkNzUwLjU5MmQ4MjEuMjQ4ZDY5MS4yZDg5NC45NzZkNzM4LjMwNGQ5NDEuMDU2ZDU4Ni43NTJkMTA5MS41ODRkNTMzLjUwNGQxMDE4Ljg4ZDQ2OC45OTJkMTA0Ny41NTFkMzkzLjIxNmQxMDU2Ljc2OGQzMTcuNDRkMTA2NS45ODRkMjQ1LjI0OGQxMDUwLjExMmQxNzMuMDU2ZDEwMzQuMjRkMTExLjEwNGQ5ODguNjcyZDQ5LjE1MmQ5NDMuMTA0ZDEyLjI4OGQ4NjIuMjA4ZC0zOC45MTJkNzQ2LjQ5NmQtMjkuMTg0ZDYzNS4zOTJkLTE5LjQ1NmQ1MjQuMjg4ZDM0LjgxNmQ0MzEuMTA0ZDg5LjA4OGQzMzcuOTE5ZDE3OS43MTJkMjcwLjMzNmQyNzAuMzM2ZDIwMi43NTFkMzc5LjkwNGQxNzQuMDc5ZDQ0OS41MzZkMTU2LjY3MmQ1MTAuNDY0ZDE2My4zMjdkNTcxLjM5MmQxNjkuOTg0ZDYyMC41NDRkMTkyLjUxMWQ2NjkuNjk2ZDIxNS4wMzlkNzA0ZDI0Ny4yOTVkNzM4LjMwNGQyNzkuNTUyZDc1NS43MTJkMzEyLjMxOWQyMTkuMTM2ZDY3OC45MTJkMjE5LjEzNmQ3MjguMDY0ZDIzMy40NzJkNzU4Ljc4NGQyNDcuODA4ZDc4OS41MDRkMjcwLjg0OGQ4MDQuODY0ZDI5My44ODhkODIwLjIyM2QzMjMuMDcyZDgyMS4yNDhkMzUyLjI1NmQ4MjIuMjcxZDM4MS45NTJkODEyLjAzMWQzNTguNGQ3ODAuMjg4ZDQ0NC40MTZkNjU0LjMzNmQ0OTcuNjY0ZDcwNi41NmQ1MTYuMDk2ZDY3Mi43NjhkNTI0LjI4OGQ2NDMuMDcyZDUzMi40OGQ2MTMuMzc2ZDUzMi45OTJkNTg3Ljc3NmQ1MzMuNTA0ZDU2Mi4xNzVkNTI4LjM4NGQ1NDEuNjk1ZDUyMy4yNjRkNTIxLjIxNmQ1MTUuMDcyZDUwMy44MDhkNDk5LjcxMmQ0NzEuMDM5ZDQ3MS41NTJkNDU2LjcwM2Q0NDMuMzkyZDQ0Mi4zNjdkNDEwLjYyNGQ0NDQuNDE1ZDM3Ny44NTZkNDQ2LjQ2M2QzNDQuMDY0ZDQ2My4zNmQzMTAuMjcyZDQ4MC4yNTZkMjgyLjYyNGQ1MTAuNDYzZDI1NC45NzZkNTQwLjY3MmQyMzcuMDU2ZDU4My42OGQyMTkuMTM2ZDYyNi42ODhkMjE5LjEzNmQ2NzguOTEyaFIzZDc5Mi41NzZSNGQ4MTcuMTUyUjVkLTM4LjkxMlI2ZDg2Ny4zMjhSN2QtNjcuNTg0UjhkOTA2LjI0UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTgxUjEyZC0zOC45MTJSMTNkNzkyLjU3NlIxNGFpMWkzaTNpM2kzaTJpMmkyaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTFpM2kzaTNpM2kyaTJpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaGc6MTkzb1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE5M1IxMmQwUjEzZDEwMjRSMTRhaGc6ODBvUjFkMTAxMy43NlIyYWQ0MTUuNzQ0ZDE4My4yOTVkNTAxLjc2ZDE3NC4wNzlkNTYxLjY2NGQxOTUuMDcyZDYyMS41NjhkMjE2LjA2M2Q2NTYuODk2ZDI1Ny4wMjRkNjkyLjIyNGQyOTcuOTg0ZDcwNC41MTJkMzU0LjgxNmQ3MTYuOGQ0MTEuNjQ4ZDcwNi41NmQ0NzMuNmQ2OTYuMzJkNTM1LjU1MWQ2NjUuNmQ1OTguNTI4ZDYzNC44OGQ2NjEuNTA0ZDU4NC4xOTJkNzE1LjI2NGQ1MzMuNTA0ZDc2OS4wMjRkNDY0LjM4NGQ4MDguNDQ4ZDM5NS4yNjRkODQ3Ljg3MmQzMDkuMjQ4ZDg2NC4yNTZkMzA1LjE1MmQxMDQ4LjU3NmQ1Ny4zNDRkMTAyMi45NzZkNDAuOTZkMjIzLjIzMWQyMzUuNTJkMjAwLjcwM2QzMjUuNjMyZDE5MmQ0MTUuNzQ0ZDE4My4yOTVkNDE1Ljc0NGQxODMuMjk1ZDQzMi4xMjhkNTAxLjc2ZDQzMi4xMjhkNTAwLjczNmQ0MzMuMTUyZDQ5MC40OTZkNDM0LjE3NmQ0ODAuMjU2ZDQzMC4wOGQ0NjUuOTE5ZDQyNS45ODRkNDUxLjU4M2Q0MTIuNjcyZDQ0MS44NTZkMzk5LjM2ZDQzMi4xMjhkMzcwLjE3NmQ0MzIuNjRkMzQwLjk5MmQ0MzMuMTUyZDI5MS44NGQ0NTIuNjA3ZDI4MS42ZDYxNi40NDhkMzE4LjQ2NGQ2MDguMjU2ZDM0NS42ZDU5Mi44OTZkMzcyLjczNmQ1NzcuNTM2ZDM5MS4xNjhkNTYwLjEyN2Q0MDkuNmQ1NDIuNzJkNDE5Ljg0ZDUyNi44NDhkNDMwLjA4ZDUxMC45NzZkNDMyLjEyOGQ1MDEuNzZoUjNkNjU1LjM2UjRkNzE2LjhSNWQ0MC45NlI2ZDg0OS45MlI3ZC0yNC41NzZSOGQ4MDguOTZSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpODBSMTJkNDAuOTZSMTNkNjU1LjM2UjE0YWkxaTNpM2kzaTNpM2kzaTNpM2kyaTJpMmkzaTNpMWkzaTNpM2kzaTNpMmkzaTNpM2kzaGc6MTkyb1IxZDEwMTMuNzZSMmFkLTcyLjcwNGQ5NjIuNTZkMjM1LjUyZDEwNjIuOTEyZDI3Ny41MDRkOTA5LjMxMmQ0OTIuNTQ0ZDkwMi4xNDRkNTc4LjU2ZDEwNDUuNTAzZDkwMC4wOTZkOTIzLjY0OGQzODIuOTc2ZDEzNy4yMTZkLTcyLjcwNGQ5NjIuNTZkNDAxLjQwOGQ1ODUuNzI4ZDQ1Mi42MDhkNzI0Ljk5MmQzMzAuNzUyZDc0Ni40OTZkNDAxLjQwOGQ1ODUuNzI4ZDIyMS4xODRkOTAuMTExZDM0My4wNGQyNDYuNzg0ZDM4Ni4wNDhkMjMyLjQ0N2QzMDAuMDMyZDI1LjZkMjIxLjE4NGQ5MC4xMTFoUjNkODM0LjU2UjRkOTAwLjA5NlI1ZC03Mi43MDRSNmQ5OTguNFI3ZC0zOC45MTJSOGQxMDcxLjEwNFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxOTJSMTJkLTcyLjcwNFIxM2Q4MzQuNTZSMTRhaTFpMmkyaTJpMmkyaTJpMmkxaTJpMmkyaTFpMmkyaTJpMmhnOjc5b1IxZDEwMTMuNzZSMmFkNjU0LjMzNmQ5NDAuMDMyZDcyOS4wODhkODYzLjIzMmQ3NjYuOTc2ZDc3OC43NTJkODA0Ljg2NGQ2OTQuMjcxZDgxMy41NjhkNjExLjMyOGQ4MjIuMjcyZDUyOC4zODRkODA2LjRkNDUxLjA3MmQ3OTAuNTI4ZDM3My43NmQ3NTguNzg0ZDMxMi4zMTlkNzQxLjM3NmQyNzkuNTUyZDcwNy4wNzJkMjQ3LjI5NWQ2NzIuNzY4ZDIxNS4wMzlkNjIzLjYxNmQxOTIuNTExZDU3NC40NjRkMTY5Ljk4NGQ1MTMuNTM2ZDE2My4zMjdkNDUyLjYwOGQxNTYuNjcyZDM4Mi45NzZkMTc0LjA3OWQzMDkuMjQ4ZDE5My41MzVkMjQ0LjIyNGQyMzAuMzk5ZDE3OS4yZDI2Ny4yNjRkMTI2Ljk3NmQzMTcuOTUyZDc0Ljc1MmQzNjguNjRkMzcuODg4ZDQzMS4xMDRkMS4wMjRkNDkzLjU2OGQtMTUuMzZkNTYzLjcxMmQtMzEuNzQ0ZDYzMy44NTZkLTI1LjA4OGQ3MDkuNjMyZC0xOC40MzJkNzg1LjQwOGQxNi4zODRkODYyLjIwOGQ0Ny4xMDRkOTMwLjgxNmQ5Ni4yNTZkOTczLjgyNGQxNDUuNDA4ZDEwMTYuODMyZDIwNC4yODhkMTAzNy44MjRkMjYzLjE2OGQxMDU4LjgxNmQzMjcuMTY4ZDEwNTkuODRkMzkxLjE2OGQxMDYwLjg2NGQ0NTEuNTg0ZDEwNDYuNTI4ZDUxMmQxMDMyLjE5MmQ1NjQuNzM2ZDEwMDQuNTQ0ZDYxNy40NzJkOTc2Ljg5NmQ2NTQuMzM2ZDk0MC4wMzJkNTE4LjE0NGQ1MDMuODA4ZDUyNy4zNmQ1MjIuMjRkNTMyLjQ4ZDU0NS43OTFkNTM3LjZkNTY5LjM0NGQ1MzUuMDRkNTk4LjAxNmQ1MzIuNDhkNjI2LjY4OGQ1MjAuNzA0ZDY2MC45OTJkNTA4LjkyOGQ2OTUuMjk2ZDQ4My4zMjhkNzM1LjIzMmQ0NjUuOTJkNzYxLjg1NmQ0NDAuMzJkNzgxLjgyNGQ0MTQuNzJkODAxLjc5MmQzODUuNTM2ZDgxMi4wMzFkMzU2LjM1MmQ4MjIuMjcxZDMyNi42NTZkODIwLjczNmQyOTYuOTZkODE5LjJkMjczLjkyZDgwNC4zNTJkMjUwLjg4ZDc4OS41MDRkMjM2LjAzMmQ3NTguNzg0ZDIyMS4xODRkNzI4LjA2NGQyMjIuMjA4ZDY3OC45MTJkMjIyLjIwOGQ2MjYuNjg4ZDI0MC4xMjhkNTgzLjY4ZDI1OC4wNDhkNTQwLjY3MmQyODUuNjk2ZDUxMC40NjNkMzEzLjM0NGQ0ODAuMjU2ZDM0Ny4xMzZkNDYzLjM2ZDM4MC45MjhkNDQ2LjQ2M2Q0MTMuNjk2ZDQ0NC40MTVkNDQ2LjQ2NGQ0NDIuMzY3ZDQ3NC42MjRkNDU2LjcwM2Q1MDIuNzg0ZDQ3MS4wMzlkNTE4LjE0NGQ1MDMuODA4aFIzZDc4Mi4zMzZSNGQ4MjIuMjcyUjVkLTMxLjc0NFI2ZDg2Ny4zMjhSN2QtMzYuODY0UjhkODk5LjA3MlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk3OVIxMmQtMzEuNzQ0UjEzZDc4Mi4zMzZSMTRhaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2hnOjE5MW9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxOTFSMTJkMFIxM2QxMDI0UjE0YWhnOjc4b1IxZDEwMTMuNzZSMmFkNTIuMjI0ZDE4OS40MzlkNDQzLjM5MmQ1MTQuMDQ4ZDQ1Mi42MDhkMTc1LjEwM2Q3NTcuNzZkMTk1LjU4M2Q3MTAuNjU2ZDk3Ni44OTZkMzE4LjQ2NGQ3ODEuMzEyZDMzMi44ZDEwMjIuOTc2ZDM4LjkxMmQxMDQxLjQwN2Q1Mi4yMjRkMTg5LjQzOWhSM2Q3ODAuMjg4UjRkNzU3Ljc2UjVkMzguOTEyUjZkODQ4Ljg5NlI3ZC0xNy40MDhSOGQ4MDkuOTg0UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTc4UjEyZDM4LjkxMlIxM2Q3ODAuMjg4UjE0YWkxaTJpMmkyaTJpMmkyaTJpMmhnOjE5MG9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxOTBSMTJkMFIxM2QxMDI0UjE0YWhnOjc3b1IxZDEwMTMuNzZSMmFkLTQ0LjAzMmQ4OTguMDQ4ZDE5NC41NmQxMDUyLjY3MmQyOTMuODg4ZDc0OS41NjhkNDYxLjgyNGQxMDA3LjYxNmQ2MDEuMDg4ZDc2My45MDRkNzEyLjcwNGQxMDk2LjcwNGQ5NTkuNDg4ZDg5NC45NzZkNzA4LjYwOGQyMDQuNzk5ZDQ2Ni45NDRkNDU0LjY1NWQyMTYuMDY0ZDEzOC4yNGQtNDQuMDMyZDg5OC4wNDhoUjNkOTA0LjE5MlI0ZDk1OS40ODhSNWQtNDQuMDMyUjZkODg1Ljc2UjdkLTcyLjcwNFI4ZDkyOS43OTJSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNzdSMTJkLTQ0LjAzMlIxM2Q5MDQuMTkyUjE0YWkxaTJpMmkyaTJpMmkyaTJpMmkyaTJoZzoxODlvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTg5UjEyZDBSMTNkMTAyNFIxNGFoZzo3Nm9SMWQxMDEzLjc2UjJhZDQwLjk2ZDIyMy4yMzFkMzQ5LjE4NGQxODAuMjIzZDMyMi41NmQ3NTYuNzM2ZDU3My40NGQ3MDQuNTEyZDU4NS43MjhkOTkyLjI1NmQ0OC4xMjhkMTA0Ni41MjhkNDAuOTZkMjIzLjIzMWhSM2Q1NzMuNDRSNGQ1ODUuNzI4UjVkNDAuOTZSNmQ4NDMuNzc2UjdkLTIyLjUyOFI4ZDgwMi44MTZSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNzZSMTJkNDAuOTZSMTNkNTczLjQ0UjE0YWkxaTJpMmkyaTJpMmkyaGc6MTg4b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE4OFIxMmQwUjEzZDEwMjRSMTRhaGc6NzVvUjFkMTAxMy43NlIyYWQ2OTQuMjcyZDM3NS44MDhkNDA4LjU3NmQ2NDEuMDI0ZDY2MC40OGQ4NTIuOTkyZDUxNy4xMmQxMDY4LjAzMmQzMTguNDY0ZDg4MC42NGQzMTYuNDE2ZDEwMTAuNjg4ZDQ4LjEyOGQxMDQxLjQwN2QzMS43NDRkMjE4LjExMWQzMzEuNzc2ZDE4Mi4yNzFkMzI4LjcwNGQzNjcuNjE2ZDQ5My41NjhkMTM5LjI2NGQ2OTQuMjcyZDM3NS44MDhoUjNkNjUxLjI2NFI0ZDY5NC4yNzJSNWQzMS43NDRSNmQ4ODQuNzM2UjdkLTQ0LjAzMlI4ZDg1Mi45OTJSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNzVSMTJkMzEuNzQ0UjEzZDY1MS4yNjRSMTRhaTFpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaGc6MTg3b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE4N1IxMmQwUjEzZDEwMjRSMTRhaGc6NzRvUjFkMTAxMy43NlIyYWQyNTZkMjI5LjM3NWQyODkuNzkyZDcxOS44NzJkMjkxLjg0ZDc1My42NjRkMjgyLjYyNGQ3NzUuMTY4ZDI3My40MDhkNzk2LjY3MmQyNjQuMTkyZDgwNC44NjRkMjU0Ljk3NmQ4MTMuMDU2ZDI1My45NTJkODE0LjA3OWQyNTIuOTI4ZDgxNC4wNzlkMjQ3LjI5NmQ4MTYuMTI3ZDI0MS42NjRkODE4LjE3NWQyMzMuNDcyZDgxNS4xMDRkMjI1LjI4ZDgxMi4wMzFkMjE5LjY0OGQ3OTguMjA4ZDIxNC4wMTZkNzg0LjM4NGQyMTMuNTA0ZDc1My4xNTJkMjEyLjk5MmQ3MjEuOTJkMjIzLjIzMmQ2NjguNjcyZC0yLjA0OGQ3NDAuMzUyZC0xMy4zMTJkODI1LjM0NGQyLjA0OGQ4NzkuNjE2ZDE3LjQwOGQ5MzMuODg4ZDQwLjk2ZDk2NS4xMmQ2NC41MTJkOTk2LjM1MmQ4Ni4wMTZkMTAwOC4xMjhkMTA3LjUyZDEwMTkuOTA0ZDEwNy41MmQxMDE5LjkwNGQxODEuMjQ4ZDEwNDcuNTUxZDI0MS42NjRkMTA0OC41NzZkMzAyLjA4ZDEwNDkuNmQzNTAuMjA4ZDEwMzMuMjE1ZDM5OC4zMzZkMTAxNi44MzJkNDM0LjE3NmQ5ODcuMTM2ZDQ3MC4wMTZkOTU3LjQ0ZDQ5NS4xMDRkOTIzLjY0OGQ1MjAuMTkyZDg4OS44NTZkNTM1LjA0ZDg1Ni4wNjRkNTQ5Ljg4OGQ4MjIuMjcxZDU1Ni4wMzJkNzk2LjY3MmQ1NTYuMDMyZDc5Ni42NzJkNTU3LjA1NmQ3ODUuOTJkNTU4LjA4ZDc3NS4xNjhkNTU5LjYxNmQ3MzguODE2ZDU2MS4xNTJkNzAyLjQ2NGQ1NjAuNjRkNjM1LjM5MmQ1NjAuMTI4ZDU2OC4zMTlkNTU3LjU2OGQ0NTUuMTY4ZDU1NS4wMDhkMzQyLjAxNWQ1NDguODY0ZDE3OC4xNzVkMjU2ZDIyOS4zNzVoUjNkNTk0Ljk0NFI0ZDU2MS4xNTJSNWQtMTMuMzEyUjZkODQ1LjgyNFI3ZC0yNS42UjhkODU5LjEzNlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk3NFIxMmQtMTMuMzEyUjEzZDU5NC45NDRSMTRhaTFpMmkzaTNpM2kzaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaGc6MTg2b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE4NlIxMmQwUjEzZDEwMjRSMTRhaGc6NzNvUjFkMTAxMy43NlIyYWQ0OS4xNTJkMjE4LjExMWQzOC45MTJkMTA0MS40MDdkMzA4LjIyNGQxMDEwLjY4OGQzNTAuMjA4ZDE4Mi4yNzFkNDkuMTUyZDIxOC4xMTFoUjNkMzc5LjkwNFI0ZDM1MC4yMDhSNWQzOC45MTJSNmQ4NDEuNzI4UjdkLTE3LjQwOFI4ZDgwMi44MTZSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNzNSMTJkMzguOTEyUjEzZDM3OS45MDRSMTRhaTFpMmkyaTJpMmhnOjE4NW9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxODVSMTJkMFIxM2QxMDI0UjE0YWhnOjcyb1IxZDEwMTMuNzZSMmFkMTMuMzEyZDIxOC4xMTFkMzEyLjMyZDE4OS40MzlkMjc2LjQ4ZDU2NS4yNDhkNDI4LjAzMmQ1NTMuOTgzZDQ0MC4zMmQxOTYuNjA3ZDczMi4xNmQxODIuMjcxZDY0OS4yMTZkOTcyLjhkNDExLjY0OGQxMDAxLjQ3MmQ0MjQuOTZkNzc2LjE5MmQzMTcuNDRkNzkxLjU1MmQzMDcuMmQxMDI3LjA3MWQ1Mi4yMjRkMTAzMi4xOTJkMTMuMzEyZDIxOC4xMTFoUjNkNzM4LjMwNFI0ZDczMi4xNlI1ZDEzLjMxMlI2ZDg0MS43MjhSN2QtOC4xOTJSOGQ4MjguNDE2UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTcyUjEyZDEzLjMxMlIxM2Q3MzguMzA0UjE0YWkxaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaGc6MTg0b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE4NFIxMmQwUjEzZDEwMjRSMTRhaGc6NzFvUjFkMTAxMy43NlIyYWQ2MDEuMDg4ZDUxNi4wOTZkNTg2Ljc1MmQ0ODEuMjhkNTU1LjUyZDQ2NS40MDhkNTI0LjI4OGQ0NDkuNTM1ZDQ4NS4zNzZkNDQ5LjUzNWQ0NDcuNDg4ZDQ0OS41MzVkNDA2LjUyOGQ0NjUuOTE5ZDM2NS41NjhkNDgyLjMwNGQzMzEuNzc2ZDUxMmQyOTcuOTg0ZDU0MS42OTVkMjc1Ljk2OGQ1ODQuNzA0ZDI1My45NTJkNjI3LjcxMmQyNTMuOTUyZDY4MS45ODNkMjUyLjkyOGQ3MzIuMTZkMjY5LjgyNGQ3NjIuMzY3ZDI4Ni43MmQ3OTIuNTc2ZDMxMi44MzJkODA1Ljg4OGQzMzguOTQ0ZDgxOS4yZDM3MC42ODhkODE3LjY2NGQ0MDIuNDMyZDgxNi4xMjdkNDMzLjE1MmQ4MDIuMzA0ZDQ2My44NzJkNzg4LjQ4ZDQ4OC45NmQ3NjUuNDRkNTE0LjA0OGQ3NDIuNGQ1MjYuMzM2ZDcxMi43MDRkMzgwLjkyOGQ3NDAuMzUyZDM5Ny4zMTJkNTc1LjQ4OGQ4NDMuNzc2ZDUxOS4xNjhkODUyLjk5MmQ1ODMuNjhkODM4LjE0NGQ2NDYuNjU2ZDgyMy4yOTZkNzA5LjYzMmQ3OTcuMTg0ZDc2MS44NTZkNzcxLjA3MmQ4MTQuMDc5ZDc0Mi40ZDg1NS41NTJkNzEzLjcyOGQ4OTcuMDI0ZDY5NC43ODRkOTE4LjUyOGQ2NzUuODRkOTQwLjAzMmQ2NzMuNzkyZDk0Mi4wOGQ2MzYuOTI4ZDk3OC45NDRkNTg0LjE5MmQxMDA2LjU5MmQ1MzEuNDU2ZDEwMzQuMjRkNDcxLjA0ZDEwNDguNTc2ZDQxMC42MjRkMTA2Mi45MTJkMzQ2LjExMmQxMDYxLjM3NmQyODEuNmQxMDU5Ljg0ZDIyMy4yMzJkMTAzOC44NDhkMTY0Ljg2NGQxMDE3Ljg1NmQxMTUuMmQ5NzQuODQ4ZDY1LjUzNmQ5MzEuODRkMzQuODE2ZDg2My4yMzJkMGQ3ODYuNDMyZC01LjEyZDcxMC4xNDRkLTEwLjI0ZDYzMy44NTZkNy4xNjhkNTYyLjY4OGQyNC41NzZkNDkxLjUyZDYyLjk3NmQ0MjguMDMyZDEwMS4zNzZkMzY0LjU0NGQxNTUuMTM2ZDMxMy44NTZkMjA4Ljg5NmQyNjMuMTY4ZDI3NS40NTZkMjI3LjMyN2QzNDIuMDE2ZDE5MS40ODdkNDE1Ljc0NGQxNzYuMTI3ZDQxNy43OTJkMTc2LjEyN2Q0MzcuNzZkMTczLjU2N2Q0NTcuNzI4ZDE3MS4wMDhkNDk1LjYxNmQxNzMuMDU1ZDUzMy41MDRkMTc1LjEwM2Q1ODAuNjA4ZDE4Ny45MDRkNjI3LjcxMmQyMDAuNzAzZDY4My4wMDhkMjMwLjkxMmQ3MzguMzA0ZDI2MS4xMmQ3OTIuNTc2ZDMxNC4zNjdkNjAxLjA4OGQ1MTYuMDk2aFIzZDgzNC41NlI0ZDg1Mi45OTJSNWQtMTAuMjRSNmQ4NTIuOTkyUjdkLTM4LjkxMlI4ZDg2My4yMzJSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNzFSMTJkLTEwLjI0UjEzZDgzNC41NlIxNGFpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaTJpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTJoZzoxODNvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTgzUjEyZDBSMTNkMTAyNFIxNGFoZzo3MG9SMWQxMDEzLjc2UjJhZDM3Ljg4OGQyMzAuMzk5ZDYwNC4xNmQxODkuNDM5ZDU3Mi40MTZkNDU1LjY3OWQzMTQuMzY4ZDQ2NS45MTlkMzAzLjEwNGQ1NDUuNzkxZDUxOC4xNDRkNTMyLjQ4ZDUzMi40OGQ3NDcuNTJkMzE2LjQxNmQ3NjAuODMyZDMwNi4xNzZkMTAyMi45NzZkNDUuMDU2ZDEwMjkuMTE5ZDM3Ljg4OGQyMzAuMzk5aFIzZDU1OS4xMDRSNGQ2MDQuMTZSNWQzNy44ODhSNmQ4MzQuNTZSN2QtNS4xMlI4ZDc5Ni42NzJSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNzBSMTJkMzcuODg4UjEzZDU1OS4xMDRSMTRhaTFpMmkyaTJpMmkyaTJpMmkyaTJpMmhnOjE4Mm9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxODJSMTJkMFIxM2QxMDI0UjE0YWhnOjY5b1IxZDEwMTMuNzZSMmFkMzUuODRkMjMxLjQyM2Q2MDEuMDg4ZDE4OS40MzlkNTY5LjM0NGQ0NDguNTExZDMxMi4zMmQ0NTkuNzc1ZDMxMS4yOTZkNTA4LjkyOGQ0OTcuNjY0ZDQ5NS42MTZkNDc2LjE2ZDY3NC44MTZkMzA1LjE1MmQ2ODguMTI3ZDMwMy4xMDRkNzQ0LjQ0OGQ1OTUuOTY4ZDcxNi44ZDU5MC44NDhkOTk5LjQyNGQ0My4wMDhkMTAyOS4xMTlkMzUuODRkMjMxLjQyM2hSM2Q2MDYuMjA4UjRkNjAxLjA4OFI1ZDM1Ljg0UjZkODM0LjU2UjdkLTUuMTJSOGQ3OTguNzJSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNjlSMTJkMzUuODRSMTNkNjA2LjIwOFIxNGFpMWkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmhnOjE4MW9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxODFSMTJkMFIxM2QxMDI0UjE0YWhnOjY4b1IxZDEwMTMuNzZSMmFkNTkuMzkyZDEwMjIuOTc2ZDE2NC44NjRkMTAzNi4yODhkMjM1LjUyZDEwMzcuMzExZDMwNi4xNzZkMTAzOC4zMzZkMzQ4LjY3MmQxMDMzLjcyOGQzOTEuMTY4ZDEwMjkuMTE5ZDQwOS4wODhkMTAyMy40ODhkNDI3LjAwOGQxMDE3Ljg1NmQ0MjcuMDA4ZDEwMTcuODU2ZDUxNy4xMmQ5NzUuODcyZDU4My4xNjhkOTEzLjkyZDY0OS4yMTZkODUxLjk2OGQ2OTEuNzEyZDc3OS43NzZkNzM0LjIwOGQ3MDcuNTg0ZDc1My4xNTJkNjMwLjI3MWQ3NzIuMDk2ZDU1Mi45NmQ3NjkuMDI0ZDQ4MC4yNTZkNzY1Ljk1MmQ0MDcuNTUyZDc0MS4zNzZkMzQ0LjA2M2Q3MTYuOGQyODAuNTc2ZDY3MC43MmQyMzYuNTQzZDYyNC42NGQxOTIuNTExZDU1OC4wOGQxNzIuNTQzZDQ5MS41MmQxNTIuNTc2ZDQwNS41MDRkMTY1Ljg4OGQ0MDUuNTA0ZDE2NS44ODhkMzE2LjkyOGQxNzYuNjRkMjI4LjM1MmQxODcuMzkxZDQzLjAwOGQyMjMuMjMxZDU5LjM5MmQxMDIyLjk3NmQzMTcuNDRkNDk2LjY0ZDM2My41MmQ0NTkuNzc1ZDM5NS4yNjRkNDU2LjcwM2Q0MjcuMDA4ZDQ1My42MzFkNDQ1LjQ0ZDQ2OS41MDRkNDYzLjg3MmQ0ODUuMzc2ZDQ3NC4xMTJkNTA5Ljk1MmQ0ODQuMzUyZDUzNC41MjhkNDg3LjQyNGQ1NTIuNDQ4ZDQ5MC40OTZkNTcwLjM2N2Q0OTAuNDk2ZDU3Mi40MTVkNDkwLjQ5NmQ1NzMuNDRkNDkwLjQ5NmQ1OTAuODQ4ZDQ5MC40OTZkNjA3LjIzMmQ0ODIuODE2ZDYzNS45MDRkNDc1LjEzNmQ2NjQuNTc2ZDQ1Ni43MDRkNjkzLjc2ZDQzOC4yNzJkNzIyLjk0NGQ0MDEuOTJkNzUwLjA3OWQzNjUuNTY4ZDc3Ny4yMTZkMzA3LjJkNzkwLjUyOGQzMTcuNDRkNDk2LjY0aFIzZDczNy4yOFI0ZDc3Mi4wOTZSNWQ0My4wMDhSNmQ4NzEuNDI0UjdkLTE0LjMzNlI4ZDgyOC40MTZSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNjhSMTJkNDMuMDA4UjEzZDczNy4yOFIxNGFpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkxaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmhnOjE4MG9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxODBSMTJkMFIxM2QxMDI0UjE0YWhnOjY3b1IxZDEwMTMuNzZSMmFkNzM1LjIzMmQzMzMuODIzZDU1Ni4wMzJkNTUzLjk4M2Q1MDAuNzM2ZDQ5NS42MTZkNDU5LjI2NGQ0NzkuMjMyZDQxNy43OTJkNDYyLjg0N2QzODcuNTg0ZDQ3MS41NTJkMzU3LjM3NmQ0ODAuMjU2ZDMzNi44OTZkNTA3LjM5MWQzMTYuNDE2ZDUzNC41MjhkMzA0LjEyOGQ1NjIuNjg4ZDI5MS44NGQ1OTAuODQ4ZDI4Ni43MmQ2MTMuMzc2ZDI4MS42ZDYzNS45MDRkMjgxLjZkNjM1LjkwNGQyODEuNmQ2MzcuOTUyZDI4Ni4yMDhkNjYyLjUyOGQyOTAuODE2ZDY4Ny4xMDRkMzA3LjcxMmQ3MTcuMzEyZDMyNC42MDhkNzQ3LjUyZDM1NS44NGQ3NjEuODU2ZDM4Ny4wNzJkNzc2LjE5MmQ0NDAuODMyZDc1Ny43NmQ0OTQuNTkyZDczOS4zMjhkNTczLjQ0ZDY2Ni42MjRkNzczLjEyZDg3OS42MTZkNzU3Ljc2ZDkwOS4zMTJkNzE5Ljg3MmQ5NDAuMDMyZDY4MS45ODRkOTcwLjc1MmQ2MjkuNzZkOTk2LjM1MmQ1NzcuNTM2ZDEwMjEuOTUyZDUxNS4wNzJkMTAzOC44NDhkNDUyLjYwOGQxMDU1Ljc0NGQzODcuNTg0ZDEwNTguMzA0ZDMyMi41NmQxMDYwLjg2NGQyNTkuNTg0ZDEwNDQuNDhkMTk2LjYwOGQxMDI4LjA5NmQxNDMuMzZkOTg3LjEzNmQ2Ni41NmQ5MjcuNzQ0ZDI5LjY5NmQ4NTYuMDY0ZC03LjE2OGQ3ODQuMzg0ZC0xNC4zMzZkNzA4LjYwOGQtMjEuNTA0ZDYzMi44MzJkLTIuNTZkNTU3LjA1NmQxNi4zODRkNDgxLjI4ZDUwLjY4OGQ0MTQuNzJkODQuOTkyZDM0OC4xNTlkMTMxLjU4NGQyOTQuOTEyZDE3OC4xNzZkMjQxLjY2NGQyMjYuMzA0ZDIwOS45MTlkMjI2LjMwNGQyMDkuOTE5ZDI0Ni43ODRkMTk4LjY1NWQyNjcuMjY0ZDE4Ny4zOTFkMzAzLjEwNGQxNzYuNjRkMzM4Ljk0NGQxNjUuODg4ZDM4Ny41ODRkMTYxLjI3OWQ0MzYuMjI0ZDE1Ni42NzJkNDkzLjA1NmQxNzAuNDk1ZDU0OS44ODhkMTg0LjMxOWQ2MTEuODRkMjIyLjIwN2Q2NzMuNzkyZDI2MC4wOTZkNzM1LjIzMmQzMzMuODIzaFIzZDc2NS45NTJSNGQ3NzMuMTJSNWQtMjEuNTA0UjZkODY3LjMyOFI3ZC0zNi44NjRSOGQ4ODguODMyUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTY3UjEyZC0yMS41MDRSMTNkNzY1Ljk1MlIxNGFpMWkyaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaGc6MTc5b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE3OVIxMmQwUjEzZDEwMjRSMTRhaGc6NjZvUjFkMTAxMy43NlIyYWQzOS45MzZkMTAyNGQxNzcuMTUyZDEwMzkuMzU5ZDI3Ni40OGQxMDM5Ljg3MmQzNzUuODA4ZDEwNDAuMzg0ZDQzOC4yNzJkMTAzMy4yMTVkNTAwLjczNmQxMDI2LjA0OGQ1MzguMTEyZDEwMTUuMjk2ZDU3NS40ODhkMTAwNC41NDRkNTg4LjI4OGQ5OTYuODY0ZDYwMS4wODhkOTg5LjE4NGQ2MDIuMTEyZDk4OC4xNmQ2MDIuMTEyZDk4OC4xNmQ2MjMuMTA0ZDk2Ny4xNjhkNjQ0LjA5NmQ5NDYuMTc2ZDY2OS4xODRkOTExLjM2ZDY5NC4yNzJkODc2LjU0NGQ3MTMuMjE2ZDgzMC40NjRkNzMyLjE2ZDc4NC4zODRkNzI4LjU3NmQ3MzQuMjA4ZDcyNC45OTJkNjg0LjAzMWQ2ODguNjRkNjMyLjMxOWQ2NTIuMjg4ZDU4MC42MDhkNTY2LjI3MmQ1MzUuNTUxZDYyOC43MzZkNDc3LjE4M2Q2NDkuNzI4ZDQyOS4wNTZkNjcwLjcyZDM4MC45MjhkNjY1LjA4OGQzNDIuNTI4ZDY1OS40NTZkMzA0LjEyN2Q2MzUuMzkyZDI3NC45NDNkNjExLjMyOGQyNDUuNzZkNTg0LjcwNGQyMjYuODE2ZDU1OC4wOGQyMDcuODcxZDUzNy4wODhkMTk4LjE0NGQ1MTYuMDk2ZDE4OC40MTVkNTE2LjA5NmQxODguNDE1ZDUxNi4wOTZkMTg4LjQxNWQ0OTQuNTkyZDE4My44MDhkNDczLjA4OGQxNzkuMTk5ZDQxOC44MTZkMTc4LjY4OGQzNjQuNTQ0ZDE3OC4xNzVkMjcwLjg0OGQxODcuMzkxZDE3Ny4xNTJkMTk2LjYwN2QzMi43NjhkMjI0LjI1NWQzOS45MzZkMTAyNGQ0MDEuNDA4ZDQ1My42MzFkNDAxLjQwOGQ0NTMuNjMxZDM5Ny44MjRkNDY2LjQzMmQzOTQuMjRkNDc5LjIzMmQzODMuNDg4ZDQ5NC4wOGQzNzIuNzM2ZDUwOC45MjhkMzUyLjc2OGQ1MTkuNjhkMzMyLjhkNTMwLjQzMmQzMDEuMDU2ZDUyNS4zMTJkMzA1LjE1MmQ0MTcuNzkyZDM0Ni4xMTJkNDAxLjQwOGQzNjYuNTkyZDQwNC45OTFkMzg3LjA3MmQ0MDguNTc2ZDM5NC43NTJkNDE5LjMyOGQ0MDIuNDMyZDQzMC4wOGQ0MDEuOTJkNDQxLjg1NmQ0MDEuNDA4ZDQ1My42MzFkNDAxLjQwOGQ0NTMuNjMxZDQ1NS42OGQ3NDIuNGQ0NTUuNjhkNzQyLjRkNDUzLjEyZDc1NS43MTJkNDUwLjU2ZDc2OS4wMjRkNDM2LjczNmQ3ODMuODcyZDQyMi45MTJkNzk4LjcyZDM5MS42OGQ4MDguOTZkMzYwLjQ0OGQ4MTkuMmQzMDQuMTI4ZDgxNC4wNzlkMjkwLjgxNmQ3MDYuNTZkMzM5Ljk2OGQ2ODMuMDA4ZDM3MS4yZDY3OS45MzVkNDAyLjQzMmQ2NzYuODY0ZDQxOS44NGQ2ODUuMDU2ZDQzNy4yNDhkNjkzLjI0OGQ0NDQuOTI4ZDcwNy4wNzJkNDUyLjYwOGQ3MjAuODk2ZDQ1NC4xNDRkNzMxLjEzNmQ0NTUuNjhkNzQxLjM3NmQ0NTUuNjhkNzQyLjRoUjNkNzA1LjUzNlI0ZDczMi4xNlI1ZDMyLjc2OFI2ZDg0NS44MjRSN2QtMTYuMzg0UjhkODEzLjA1NlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk2NlIxMmQzMi43NjhSMTNkNzA1LjUzNlIxNGFpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaTFpM2kzaTNpM2kyaTNpM2kzaTNpMWkzaTNpM2kzaTJpM2kzaTNpM2kzaGc6MTc4b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE3OFIxMmQwUjEzZDEwMjRSMTRhaGc6NjVvUjFkMTAxMy43NlIyYWQtNTEuMmQ5NTUuMzkyZDI1Ny4wMjRkMTA1NS43NDRkMjk5LjAwOGQ5MDIuMTQ0ZDUxNC4wNDhkODk0Ljk3NmQ2MDAuMDY0ZDEwMzguMzM2ZDkyMS42ZDkxNi40OGQ0MDQuNDhkMTMwLjA0OGQtNTEuMmQ5NTUuMzkyZDQyMi45MTJkNTc4LjU2ZDQ3NC4xMTJkNzE3LjgyNGQzNTIuMjU2ZDczOS4zMjhkNDIyLjkxMmQ1NzguNTZoUjNkODcwLjRSNGQ5MjEuNlI1ZC01MS4yUjZkODkzLjk1MlI3ZC0zMS43NDRSOGQ5NDUuMTUyUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTY1UjEyZC01MS4yUjEzZDg3MC40UjE0YWkxaTJpMmkyaTJpMmkyaTJpMWkyaTJpMmhnOjE3N29SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNzdSMTJkMFIxM2QxMDI0UjE0YWhnOjY0b1IxZDEwMTMuNzZSMmFkNTg2Ljc1MmQ2NzguOTEyZDY0MS4wMjRkNDEzLjY5NmQ1MzMuNTA0ZDQxMy42OTZkNTI1LjMxMmQ0NDguNTExZDUwMC43MzZkNDEzLjY5NmQ0NjcuOTY4ZDQwMS45MTlkNDM1LjJkMzkwLjE0NGQzOTMuMjE2ZDM5MC4xNDRkMzQyLjAxNmQzOTAuMTQ0ZDMwMS4wNTZkNDExLjY0OGQyNjAuMDk2ZDQzMy4xNTJkMjMxLjQyNGQ0NjkuNTA0ZDIwMi43NTJkNTA1Ljg1NmQxODYuODhkNTUyLjQ0OGQxNzEuMDA4ZDU5OS4wNGQxNzEuMDA4ZDY0OC4xOTJkMTcxLjAwOGQ2ODkuMTUyZDE4NS44NTZkNzI1LjUwNGQyMDAuNzA0ZDc2MS44NTZkMjI2LjMwNGQ3ODguNDhkMjUxLjkwNGQ4MTUuMTA0ZDI4NS4xODRkODMwLjk3NmQzMTguNDY0ZDg0Ni44NDhkMzU0LjMwNGQ4NDYuODQ4ZDQwMy40NTZkODQ2Ljg0OGQ0MzcuNzZkODI3LjkwNGQ0NzIuMDY0ZDgwOC45NmQ0OTMuNTY4ZDc4NS40MDhkNDk5LjcxMmQ4MTEuMDA4ZDUxOC42NTZkODI4LjQxNWQ1MzcuNmQ4NDUuODI0ZDU2MS4xNTJkODQ2Ljg0OGQ2MDAuMDY0ZDg0OC44OTZkNjQ0LjYwOGQ4MjYuODhkNjg5LjE1MmQ4MDQuODY0ZDcyOC4wNjRkNzUyLjY0ZDc2MC44MzJkNzA5LjYzMmQ3NzguMjRkNjUxLjI2NGQ3OTUuNjQ4ZDU5Mi44OTZkNzk1LjY0OGQ1MjUuMzEyZDc5NS42NDhkNDQ4LjUxMWQ3NjIuMzY4ZDM4Ni41NTlkNzI5LjA4OGQzMjQuNjA3ZDY3My43OTJkMjc1LjQ1NmQ2MTkuNTJkMjI2LjMwM2Q1NTUuMDA4ZDIwMy43NzVkNDkwLjQ5NmQxODEuMjQ3ZDQxOC44MTZkMTgxLjI0N2QzMzEuNzc2ZDE4MS4yNDdkMjU2ZDIxMy41MDRkMTgwLjIyNGQyNDUuNzZkMTIzLjkwNGQzMDMuMTA0ZDY3LjU4NGQzNjAuNDQ4ZDM1LjMyOGQ0MzguMjcxZDMuMDcyZDUxNi4wOTZkMy4wNzJkNjA3LjIzMmQzLjA3MmQ2OTkuMzkyZDM1Ljg0ZDc3Ni43MDRkNjguNjA4ZDg1NC4wMTZkMTI1Ljk1MmQ5MTAuODQ4ZDE4My4yOTZkOTY3LjY4ZDI2MC4wOTZkOTk5LjQyNGQzMzYuODk2ZDEwMzEuMTY3ZDQyNC45NmQxMDMxLjE2N2Q0NjguOTkyZDEwMzEuMTY3ZDQ5My4wNTZkMTAzMC4xNDRkNTE3LjEyZDEwMjkuMTE5ZDUzNC4wMTZkMTAyNS41MzZkNTUwLjkxMmQxMDIxLjk1MmQ1NjcuMjk2ZDEwMTMuNzZkNTgzLjY4ZDEwMDUuNTY4ZDYxMi4zNTJkOTkwLjIwOGQ2MjguNzM2ZDg4Ny44MDhkNjAyLjExMmQ5MDQuMTkyZDU1MS45MzZkOTEzLjQwOGQ1MDEuNzZkOTIyLjYyNGQ0MzMuMTUyZDkyMi42MjRkMzYzLjUyZDkyMi42MjRkMzA0LjY0ZDkwMS4xMmQyNDUuNzZkODc5LjYxNmQyMDIuNzUyZDgzOS4xNjhkMTU5Ljc0NGQ3OTguNzJkMTM1LjY4ZDczOS44MzlkMTExLjYxNmQ2ODAuOTZkMTExLjYxNmQ2MDcuMjMyZDExMS42MTZkNTM2LjU3NmQxMzMuMTJkNDc4LjIwN2QxNTQuNjI0ZDQxOS44NGQxOTQuNTZkMzc3Ljg1NmQyMzQuNDk2ZDMzNS44NzFkMjkwLjMwNGQzMTIuODMyZDM0Ni4xMTJkMjg5Ljc5MmQ0MTQuNzJkMjg5Ljc5MmQ0NzcuMTg0ZDI4OS43OTJkNTMwLjk0NGQzMDcuMTk5ZDU4NC43MDRkMzI0LjYwN2Q2MjMuNjE2ZDM1OC40ZDY2Mi41MjhkMzkyLjE5MmQ2ODMuMDA4ZDQ0My4zOTFkNzAzLjQ4OGQ0OTQuNTkyZDcwMC40MTZkNTYyLjE3NWQ2OTguMzY4ZDU5Ni45OTJkNjg4LjEyOGQ2MjkuNzZkNjc3Ljg4OGQ2NjIuNTI4ZDY2My4wNGQ2ODguNjRkNjQ4LjE5MmQ3MTQuNzUyZDYzMS4yOTZkNzMxLjEzNmQ2MTQuNGQ3NDcuNTJkNjAwLjA2NGQ3NDguNTQ0ZDU4Ny43NzZkNzQ5LjU2OGQ1ODMuNjhkNzQyLjRkNTc5LjU4NGQ3MzUuMjMyZDU3OS41ODRkNzI0Ljk5MmQ1NzkuNTg0ZDcxMy43MjhkNTgyLjE0NGQ3MDAuOTI4ZDU4NC43MDRkNjg4LjEyN2Q1ODYuNzUyZDY3OC45MTJkMzgwLjkyOGQ3MzIuMTZkMzYwLjQ0OGQ3MzIuMTZkMzQ1LjA4OGQ3MjMuOTY4ZDMyOS43MjhkNzE1Ljc3NmQzMTkuNDg4ZDcwMS45NTJkMzA5LjI0OGQ2ODguMTI3ZDMwMy42MTZkNjcwLjIwOGQyOTcuOTg0ZDY1Mi4yODhkMjk3Ljk4NGQ2MzIuODMyZDI5Ny45ODRkNjExLjMyOGQzMDUuNjY0ZDU4OS4zMTJkMzEzLjM0NGQ1NjcuMjk2ZDMyNy42OGQ1NDkuMzc2ZDM0Mi4wMTZkNTMxLjQ1NmQzNjEuNDcyZDUyMC43MDNkMzgwLjkyOGQ1MDkuOTUyZDQwNC40OGQ1MDkuOTUyZDQ0NC40MTZkNTA5Ljk1MmQ0NjYuNDMyZDUzOC42MjRkNDg4LjQ0OGQ1NjcuMjk2ZDQ4Mi4zMDRkNjE0LjRkNDgwLjI1NmQ2MzQuODhkNDczLjZkNjU1LjM2ZDQ2Ni45NDRkNjc1LjgzOWQ0NTQuNjU2ZDY5My4yNDhkNDQyLjM2OGQ3MTAuNjU2ZDQyMy45MzZkNzIxLjQwOGQ0MDUuNTA0ZDczMi4xNmQzODAuOTI4ZDczMi4xNmhSM2Q4MDAuNzY4UjRkNzk1LjY0OFI1ZDMuMDcyUjZkODQyLjc1MlI3ZC03LjE2OFI4ZDgzOS42OFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk2NFIxMmQzLjA3MlIxM2Q4MDAuNzY4UjE0YWkxaTJpMmkyaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaGc6MTc2b1IxZDEwMTMuNzZSMmFkMjE2LjA2NGQ0ODEuMjhkMjM4LjU5MmQ0NTAuNTU5ZDI0OC44MzJkNDE3LjI4ZDI1OS4wNzJkMzg0ZDI1OS41ODRkMzUxLjc0NGQyNjAuMDk2ZDMxOS40ODdkMjUzLjQ0ZDI5MC44MTZkMjQ2Ljc4NGQyNjIuMTQ0ZDIzNC40OTZkMjM4LjU5MWQyMjguMzUyZDIyNi4zMDNkMjE2LjA2NGQyMTQuNTI4ZDIwMy43NzZkMjAyLjc1MWQxODYuODhkMTk1LjA3MmQxNjkuOTg0ZDE4Ny4zOTFkMTUwLjAxNmQxODYuMzY3ZDEzMC4wNDhkMTg1LjM0M2QxMDguNTQ0ZDE5My41MzVkNzIuNzA0ZDIwNi44NDdkNDUuMDU2ZDIzNC40OTVkMTcuNDA4ZDI2Mi4xNDRkMi4wNDhkMjk5LjAwOGQtMTMuMzEyZDMzNS44NzFkLTEzLjgyNGQzNzguODhkLTE0LjMzNmQ0MjEuODg4ZDYuMTQ0ZDQ2NC44OTVkMjMuNTUyZDUwMy44MDhkNTIuNzM2ZDUxOS4xNjhkODEuOTJkNTM0LjUyOGQxMTIuNjRkNTMzLjUwM2QxNDMuMzZkNTMyLjQ4ZDE3MS41MmQ1MTguMTQ0ZDE5OS42OGQ1MDMuODA4ZDIxNi4wNjRkNDgxLjI4ZDE1Ny42OTZkMzE0LjM2N2QxNjMuODRkMzI4LjcwM2QxNjUuMzc2ZDM1MC4yMDdkMTY2LjkxMmQzNzEuNzEyZDE1NC42MjRkNDAzLjQ1NmQxNDguNDhkNDE4LjgxNmQxMzYuNzA0ZDQyOS4wNTZkMTI0LjkyOGQ0MzkuMjk1ZDExMi42NGQ0MzkuMjk1ZDEwMS4zNzZkNDM5LjI5NWQ5MS42NDhkNDI3LjUyZDgxLjkyZDQxNS43NDRkNzkuODcyZDM4Ny4wNzJkNzcuODI0ZDM1Ni4zNTJkODcuMDRkMzM0Ljg0N2Q5Ni4yNTZkMzEzLjM0M2QxMDkuNTY4ZDMwMi41OTJkMTIyLjg4ZDI5MS44NGQxMzYuMTkyZDI5My44ODhkMTQ5LjUwNGQyOTUuOTM2ZDE1Ny42OTZkMzE0LjM2N2hSM2QyNzAuMzM2UjRkMjYwLjA5NlI1ZC0xNC4zMzZSNmQ4MzguNjU2UjdkNDg5LjQ3MlI4ZDg1Mi45OTJSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTc2UjEyZC0xNC4zMzZSMTNkMjcwLjMzNlIxNGFpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2hnOjYzb1IxZDEwMTMuNzZSMmFkMzY2LjU5MmQxMDUwLjYyNGQzOTguMzM2ZDEwNDAuMzg0ZDQyMy40MjRkMTAyMi40NjRkNDQ4LjUxMmQxMDA0LjU0NGQ0NjQuMzg0ZDk4My4wNGQ0ODAuMjU2ZDk2MS41MzZkNDg1Ljg4OGQ5MzcuOTg0ZDQ5MS41MmQ5MTQuNDMyZDQ4NC4zNTJkODkyLjkyOGQ0NzYuMTZkODcxLjQyNGQ0NTcuNzI4ZDg1Ni4wNjRkNDM5LjI5NmQ4NDAuNzA0ZDQxMy42OTZkODMzLjUzNmQzODguMDk2ZDgyNi4zNjdkMzU3LjM3NmQ4MjcuMzkyZDMyNi42NTZkODI4LjQxNWQyOTQuOTEyZDgzOS42OGQyNjMuMTY4ZDg1MC45NDRkMjM4LjA4ZDg2OC4zNTJkMjEyLjk5MmQ4ODUuNzZkMTk3LjEyZDkwNy4yNjRkMTgxLjI0OGQ5MjguNzY4ZDE3NS42MTZkOTUyLjMxOWQxNjkuOTg0ZDk3NS44NzJkMTc3LjE1MmQ5OTcuMzc2ZDE4NC4zMmQxMDE4Ljg4ZDIwMy4yNjRkMTAzNC4yNGQyMjIuMjA4ZDEwNDkuNmQyNDcuODA4ZDEwNTYuNzY4ZDI3My40MDhkMTA2My45MzZkMzA0LjEyOGQxMDYyLjkxMmQzMzQuODQ4ZDEwNjEuODg4ZDM2Ni41OTJkMTA1MC42MjRkMTc1LjEwNGQ0MzQuMTc1ZDE5NC41NmQ0MTYuNzY4ZDIyMS4xODRkMzk2LjI4OGQyNDcuODA4ZDM3NS44MDhkMjc2LjQ4ZDM1Ni44NjRkMzA1LjE1MmQzMzcuOTE5ZDMzNC4zMzZkMzIyLjU1OWQzNjMuNTJkMzA3LjE5OWQzODguNjA4ZDI5Ny45ODRkNDEzLjY5NmQyODguNzY4ZDQzMi4xMjhkMjg3Ljc0NGQ0NTAuNTZkMjg2LjcyZDQ1OC43NTJkMjk3Ljk4NGQ0NjYuOTQ0ZDMwOS4yNDdkNDUxLjU4NGQzMjguNzAzZDQzNi4yMjRkMzQ4LjE1OWQ0MDQuOTkyZDM3Mi43MzZkMzczLjc2ZDM5Ny4zMTJkMzMxLjc3NmQ0MjYuNDk2ZDI4OS43OTJkNDU1LjY3OWQyNDUuMjQ4ZDQ4Ny40MjRkMjAwLjcwNGQ1MTkuMTY4ZDE1OC43MmQ1NTEuNDI0ZDExNi43MzZkNTgzLjY4ZDg2LjAxNmQ2MTUuNDI0ZDU1LjI5NmQ2NDcuMTY4ZDM5LjQyNGQ2NzYuODY0ZDIzLjU1MmQ3MDYuNTZkMzIuNzY4ZDczMi4xNmQyMDAuNzA0ZDg2Mi4yMDhkMTkyLjUxMmQ4MzQuNTZkMjE3LjA4OGQ4MDQuODY0ZDI0MS42NjRkNzc1LjE2OGQyODYuNzJkNzQyLjkxMmQzMzEuNzc2ZDcxMC42NTZkMzg5LjYzMmQ2NzUuMzI4ZDQ0Ny40ODhkNjQwZDUwNS44NTZkNjAwLjA2NGQ1NjQuMjI0ZDU2MC4xMjdkNjE1LjQyNGQ1MTYuMDk2ZDY2Ni42MjRkNDcyLjA2M2Q2OTcuODU2ZDQyMS44ODhkNzI5LjA4OGQzNzEuNzEyZDczMy42OTZkMzE1LjM5MWQ3MzguMzA0ZDI1OS4wNzJkNzAyLjQ2NGQxOTUuNTgzZDcwMS40NGQxOTQuNTU5ZDY4OC42NGQxNzUuNjE2ZDY3NS44NGQxNTYuNjcyZDY0OC4xOTJkMTMwLjA0OGQ2MjAuNTQ0ZDEwMy40MjNkNTc5LjU4NGQ4MC4zODRkNTM4LjYyNGQ1Ny4zNDNkNDgxLjI4ZDQ4LjEyN2Q0MjMuOTM2ZDM4LjkxMmQzNTIuNzY4ZDU0Ljc4M2QyODEuNmQ3MC42NTVkMTkzLjAyNGQxMjEuODU2ZDEwNC40NDhkMTczLjA1NWQxLjAyNGQyNzEuMzZkMTc1LjEwNGQ0MzQuMTc1aFIzZDc0Mi40UjRkNzM4LjMwNFI1ZDEuMDI0UjZkOTg1LjA4OFI3ZC0zOS45MzZSOGQ5ODQuMDY0UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTYzUjEyZDEuMDI0UjEzZDc0Mi40UjE0YWkxaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaGc6MTc1b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE3NVIxMmQwUjEzZDEwMjRSMTRhaGc6NjJvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNjJSMTJkMFIxM2QxMDI0UjE0YWhnOjE3NG9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNzRSMTJkMFIxM2QxMDI0UjE0YWhnOjYxb1IxZDEwMTMuNzZSMmFkMy4wNzJkOTk5LjQyNGQ2NjEuNTA0ZDk5NS4zMjhkNjgwLjk2ZDc4Mi4zMzZkMjIuNTI4ZDgwNS44ODhkMy4wNzJkOTk5LjQyNGQyNy42NDhkNjg1LjA1NmQ2ODUuMDU2ZDY3OS45MzVkNzA0LjUxMmQ0NjcuOTY3ZDQ2LjA4ZDQ5MS41MmQyNy42NDhkNjg1LjA1NmhSM2Q3MDkuNjMyUjRkNzA0LjUxMlI1ZDMuMDcyUjZkNTU2LjAzMlI3ZDI0LjU3NlI4ZDU1Mi45NlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk2MVIxMmQzLjA3MlIxM2Q3MDkuNjMyUjE0YWkxaTJpMmkyaTJpMWkyaTJpMmkyaGc6MTczb1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE3M1IxMmQwUjEzZDEwMjRSMTRhaGc6NjBvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNjBSMTJkMFIxM2QxMDI0UjE0YWhnOjE3Mm9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNzJSMTJkMFIxM2QxMDI0UjE0YWhnOjU5b1IxZDEwMTMuNzZSMmFkMTUyLjU3NmQ5NjkuNzI4ZDMwLjcyZDExMjcuNDI0ZC0xMi4yODhkMTExMy4wODhkNzMuNzI4ZDkwNS4yMTZkMTUyLjU3NmQ5NjkuNzI4ZDg3LjA0ZDgyNS4zNDRkOTMuMTg0ZDczOC4zMDRkMjAwLjcwNGQ3NDQuNDQ4ZDE4MS4yNDhkODUxLjk2OGQ4Ny4wNGQ4MjUuMzQ0aFIzZDIxNC4wMTZSNGQyMDAuNzA0UjVkLTEyLjI4OFI2ZDI4NS42OTZSN2QtMTAzLjQyNFI4ZDI5Ny45ODRSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNTlSMTJkLTEyLjI4OFIxM2QyMTQuMDE2UjE0YWkxaTJpMmkyaTJpMWkyaTJpMmkyaGc6MTcxb1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE3MVIxMmQwUjEzZDEwMjRSMTRhaGc6NThvUjFkMTAxMy43NlIyYWQ3LjE2OGQ5OTIuMjU2ZDEzLjMxMmQ5MDUuMjE2ZDEyMC44MzJkOTExLjM2ZDEwMC4zNTJkMTAxOC44OGQ3LjE2OGQ5OTIuMjU2ZDQ3LjEwNGQ2NDBkNTQuMjcyZDU0My43NDNkMTczLjA1NmQ1NTAuOTEyZDE1MC41MjhkNjY5LjY5NWQ0Ny4xMDRkNjQwaFIzZDE4Mi4yNzJSNGQxNzMuMDU2UjVkNy4xNjhSNmQ0ODAuMjU2UjdkNS4xMlI4ZDQ3My4wODhSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNThSMTJkNy4xNjhSMTNkMTgyLjI3MlIxNGFpMWkyaTJpMmkyaTFpMmkyaTJpMmhnOjE3MG9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNzBSMTJkMFIxM2QxMDI0UjE0YWhnOjU3b1IxZDEwMTMuNzZSMmFkNTguMzY4ZDY3Mi43NjhkMTEuMjY0ZDYyMi41OTJkLTQuMDk2ZDU2OS4zNDRkLTE5LjQ1NmQ1MTYuMDk2ZC0xMS43NzZkNDY1LjQwOGQtNC4wOTZkNDE0LjcyZDI0LjA2NGQzNjguMTI4ZDUyLjIyNGQzMjEuNTM1ZDkyLjY3MmQyODMuNjQ4ZDEzMy4xMmQyNDUuNzZkMTgyLjc4NGQyMTguNjI0ZDIzMi40NDhkMTkxLjQ4N2QyODMuNjQ4ZDE3OS4xOTlkMzM0Ljg0OGQxNjYuOTEyZDM4NGQxNzIuNTQzZDQzMy4xNTJkMTc4LjE3NWQ0NzIuMDY0ZDIwNS44MjNkNDczLjA4OGQyMDYuODQ3ZDQ5Mi4wMzJkMjIzLjIzMWQ1MTAuOTc2ZDIzOS42MTZkNTM2LjA2NGQyNzQuNDMyZDU2MS4xNTJkMzA5LjI0N2Q1NzkuMDcyZDM2MC40NDhkNTk2Ljk5MmQ0MTEuNjQ4ZDU5NS45NjhkNDgxLjc5MmQ1OTQuOTQ0ZDU1MS45MzVkNTYxLjE1MmQ2MzguNDY0ZDUyNy4zNmQ3MjQuOTkyZDQ0OS41MzZkODMwLjk3NmQzNzEuNzEyZDkzNi45NmQyMzYuNTQ0ZDEwNTguODE2ZDc4Ljg0OGQ5MDYuMjRkMTE4Ljc4NGQ4NzQuNDk2ZDE1My42ZDg0MS4yMTZkMTg4LjQxNmQ4MDcuOTM2ZDIxMy41MDRkNzgwLjhkMjM4LjU5MmQ3NTMuNjY0ZDI1Mi45MjhkNzM2LjI1NmQyNjcuMjY0ZDcxOC44NDhkMjY3LjI2NGQ3MTguODQ4ZDIzNC40OTZkNzM2LjI1NmQyMDMuMjY0ZDczNi43NjhkMTcyLjAzMmQ3MzcuMjhkMTQ2LjQzMmQ3MjguNTc2ZDEyMC44MzJkNzE5Ljg3MmQxMDAuMzUyZDcwNi41NmQ3OS44NzJkNjkzLjI0OGQ2OS42MzJkNjgzLjUyZDU5LjM5MmQ2NzMuNzkxZDU4LjM2OGQ2NzIuNzY4ZDI1OS4wNzJkNDAxLjQwOGQyMjUuMjhkNDIxLjg4OGQyMDkuOTJkNDU1LjY3OWQxOTQuNTZkNDg5LjQ3MmQyMDcuODcyZDUxOS4xNjhkMjIwLjE2ZDU0Ny44MzlkMjUyLjkyOGQ1NTQuNDk2ZDI4NS42OTZkNTYxLjE1MmQzMTkuNDg4ZDU0MC42NzJkMzUzLjI4ZDUyMS4yMTZkMzY4LjY0ZDQ4Ni45MTJkMzg0ZDQ1Mi42MDdkMzcxLjcxMmQ0MjMuOTM2ZDM1OC40ZDM5NC4yNGQzMjUuNjMyZDM4OC4wOTZkMjkyLjg2NGQzODEuOTUyZDI1OS4wNzJkNDAxLjQwOGhSM2Q1ODEuNjMyUjRkNTk2Ljk5MlI1ZC0xOS40NTZSNmQ4NTcuMDg4UjdkLTM0LjgxNlI4ZDg3Ni41NDRSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNTdSMTJkLTE5LjQ1NlIxM2Q1ODEuNjMyUjE0YWkxaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTJpM2kzaTNpM2kzaTNpM2kzaTNpMWkzaTNpM2kzaTNpM2kzaTNoZzoxNjlvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTY5UjEyZDBSMTNkMTAyNFIxNGFoZzo1Nm9SMWQxMDEzLjc2UjJhZDU2Ny4yOTZkNTkyLjg5NmQ1ODkuODI0ZDYyOS43NmQ2MDEuNmQ2NzUuODM5ZDYxMy4zNzZkNzIxLjkyZDYwNy4yMzJkNzcyLjA5NmQ2MDEuMDg4ZDgyMi4yNzFkNTczLjQ0ZDg3Mi45NmQ1NDUuNzkyZDkyMy42NDhkNDkwLjQ5NmQ5NjkuNzI4ZDQ2My44NzJkOTkyLjI1NmQ0MjUuNDcyZDEwMDguNjRkMzg3LjA3MmQxMDI1LjAyM2QzNDMuMDRkMTAzMy43MjhkMjk5LjAwOGQxMDQyLjQzMmQyNTIuNDE2ZDEwNDEuNDA3ZDIwNS44MjRkMTA0MC4zODRkMTYyLjgxNmQxMDI3LjU4NGQxMTkuODA4ZDEwMTQuNzg0ZDgzLjk2OGQ5ODkuMTg0ZDQ4LjEyOGQ5NjMuNTg0ZDI1LjZkOTIyLjYyNGQxLjAyNGQ4NzYuNTQ0ZC00LjA5NmQ4MzEuNDg4ZC05LjIxNmQ3ODYuNDMyZDIuNTZkNzQ0LjQ0OGQxNC4zMzZkNzAyLjQ2NGQ0MC40NDhkNjY1LjA4OGQ2Ni41NmQ2MjcuNzEyZDEwNC40NDhkNTk2Ljk5MmQ4Mi45NDRkNTc3LjUzNmQ2OS42MzJkNTUxLjkzNWQzNS44NGQ0ODkuNDcyZDQxLjk4NGQ0MjkuMDU2ZDQ4LjEyOGQzNjguNjRkODMuOTY4ZDMxOC40NjNkMTE5LjgwOGQyNjguMjg4ZDE3OS4yZDIzMS40MjNkMjM4LjU5MmQxOTQuNTU5ZDMxMS4yOTZkMTc5LjE5OWQzNTcuMzc2ZDE2OS45ODRkMzk3LjMxMmQxNzMuNTY3ZDQzNy4yNDhkMTc3LjE1MWQ0NjkuNTA0ZDE4OC45MjhkNTAxLjc2ZDIwMC43MDNkNTI0LjhkMjE4LjExMWQ1NDcuODRkMjM1LjUxOWQ1NTkuMTA0ZDI1My45NTJkNTc3LjUzNmQyODMuNjQ4ZDU4OC4yODhkMzE5LjQ4N2Q1OTkuMDRkMzU1LjMyOGQ1OTcuNTA0ZDM5NC43NTFkNTk1Ljk2OGQ0MzQuMTc1ZDU4MC4wOTZkNDc1LjEzNWQ1NjQuMjI0ZDUxNi4wOTZkNTMwLjQzMmQ1NTUuMDA4ZDU1My45ODRkNTcxLjM5MmQ1NjcuMjk2ZDU5Mi44OTZkMzY0LjU0NGQzNzcuODU2ZDM1NS4zMjhkMzU5LjQyNGQzMzYuMzg0ZDM1Ni4zNTJkMzE3LjQ0ZDM1My4yOGQyOTguNDk2ZDM2My4wMDhkMjc5LjU1MmQzNzIuNzM2ZDI2NC43MDRkMzkzLjcyN2QyNDkuODU2ZDQxNC43MmQyNDkuODU2ZDQ0NS40MzlkMjQ5Ljg1NmQ0NzQuMTExZDI2Mi4xNDRkNDg2LjkxMmQyNzQuNDMyZDQ5OS43MTJkMjkwLjgxNmQ1MDAuMjIzZDMwNy4yZDUwMC43MzZkMzI0LjA5NmQ0OTEuNTJkMzQwLjk5MmQ0ODIuMzA0ZDM1MS4yMzJkNDY2Ljk0M2QzNzAuNjg4ZDQzNi4yMjNkMzcwLjY4OGQ0MTQuNzJkMzcwLjY4OGQzOTIuMTkyZDM2NC41NDRkMzc3Ljg1NmQzNDkuMTg0ZDgzNC41NmQzNzUuODA4ZDc5My42ZDM3NS44MDhkNzY0LjkyOGQzNzUuODA4ZDczNi4yNTZkMzY2LjU5MmQ3MTYuOGQzNTQuMzA0ZDY5Mi4yMjNkMzI5LjIxNmQ2ODcuNjE2ZDMwNC4xMjhkNjgzLjAwOGQyNzkuMDRkNjk1LjgwOGQyNTMuOTUyZDcwOC42MDhkMjM0LjQ5NmQ3MzcuMjhkMjE1LjA0ZDc2NS45NTJkMjE1LjA0ZDgwNS44ODhkMjE1LjA0ZDg0My43NzZkMjMwLjkxMmQ4NjAuNjcyZDI0Ni43ODRkODc3LjU2OGQyNjguOGQ4NzguNTkyZDI5MC44MTZkODc5LjYxNmQzMTMuMzQ0ZDg2Ny4zMjhkMzM1Ljg3MmQ4NTUuMDRkMzQ5LjE4NGQ4MzQuNTZoUjNkNjE4LjQ5NlI0ZDYxMy4zNzZSNWQtOS4yMTZSNmQ4NTQuMDE2UjdkLTE4LjQzMlI4ZDg2My4yMzJSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNTZSMTJkLTkuMjE2UjEzZDYxOC40OTZSMTRhaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kxaTNpM2kzaTNpM2kzaTNpM2kzaTNpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaGc6MTY4b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE2OFIxMmQwUjEzZDEwMjRSMTRhaGc6NTVvUjFkMTAxMy43NlIyYWQ1NzMuNDRkMTc5LjE5OWQ0ODIuMzA0ZDQ5Mi41NDRkNTQ4Ljg2NGQ0OTAuNDk2ZDUxNi4wOTZkNjc2Ljg2NGQ0NDMuMzkyZDY3OS45MzVkMzU5LjQyNGQxMDI4LjA5NmQ3Ny44MjRkOTk1LjMyOGQxNzQuMDhkNjg4LjEyN2Q5Mi4xNmQ2OTEuMmQxMDMuNDI0ZDUwOC45MjhkMjMxLjQyNGQ1MDEuNzZkMjcxLjM2ZDQwNC40OGQ2LjE0NGQ0MzYuMjIzZC04LjE5MmQyMTAuOTQzZDU3My40NGQxNzkuMTk5aFIzZDU1MS45MzZSNGQ1NzMuNDRSNWQtOC4xOTJSNmQ4NDQuOFI3ZC00LjA5NlI4ZDg1Mi45OTJSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNTVSMTJkLTguMTkyUjEzZDU1MS45MzZSMTRhaTFpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaGc6MTY3b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE2N1IxMmQwUjEzZDEwMjRSMTRhaGc6NTRvUjFkMTAxMy43NlIyYWQ1MjEuMjE2ZDUzNS41NTFkNTgzLjY4ZDYwMy4xMzZkNTkxLjg3MmQ2NzMuNzkxZDYwMC4wNjRkNzQ0LjQ0OGQ1NzEuMzkyZDgwOC40NDhkNTQyLjcyZDg3Mi40NDhkNDg2LjRkOTI0LjE2ZDQzMC4wOGQ5NzUuODcyZDM2My4wMDhkMTAwNS41NjhkMjk1LjkzNmQxMDM1LjI2M2QyMjcuMzI4ZDEwMzYuOGQxNTguNzJkMTAzOC4zMzZkMTA2LjQ5NmQxMDAyLjQ5NmQxMDUuNDcyZDEwMDEuNDcyZDg2LjUyOGQ5ODUuMDg4ZDY3LjU4NGQ5NjguNzA0ZDQyLjQ5NmQ5MzMuODg4ZDE3LjQwOGQ4OTkuMDcyZC0wLjUxMmQ4NDcuODcyZC0xOC40MzJkNzk2LjY3MmQtMTYuODk2ZDcyNi41MjhkLTE1LjM2ZDY1Ni4zODRkMTguNDMyZDU2OS44NTZkNTIuMjI0ZDQ4My4zMjhkMTMwLjA0OGQzNzcuMzQzZDIwNy44NzJkMjcxLjM2ZDM0My4wNGQxNDkuNTA0ZDQ5OS43MTJkMzAxLjA1NmQ0NTkuNzc2ZDMzMi43OTlkNDI1LjQ3MmQzNjYuMDhkMzkxLjE2OGQzOTkuMzZkMzY2LjA4ZDQyNy4wMDhkMzQwLjk5MmQ0NTQuNjU1ZDMyNi42NTZkNDcyLjA2M2QzMTIuMzJkNDg5LjQ3MmQzMTIuMzJkNDg5LjQ3MmQzNDUuMDg4ZDQ3Mi4wNjNkMzc2LjMyZDQ3MS41NTJkNDA3LjU1MmQ0NzEuMDM5ZDQzMy4xNTJkNDc5Ljc0NGQ0NTguNzUyZDQ4OC40NDhkNDc5LjIzMmQ1MDEuNzZkNDk5LjcxMmQ1MTUuMDcyZDUwOS45NTJkNTI0LjhkNTIwLjE5MmQ1MzQuNTI4ZDUyMS4yMTZkNTM1LjU1MWQzMjAuNTEyZDgwNi45MTJkMzU0LjMwNGQ3ODYuNDMyZDM2OS4xNTJkNzUyLjY0ZDM4NGQ3MTguODQ4ZDM3MS43MTJkNjg5LjE1MmQzNTkuNDI0ZDY1OS40NTZkMzI2LjE0NGQ2NTMuMzEyZDI5Mi44NjRkNjQ3LjE2OGQyNTkuMDcyZDY2Ni42MjRkMjI1LjI4ZDY4Ny4xMDRkMjEwLjQzMmQ3MjAuODk2ZDE5NS41ODRkNzU0LjY4OGQyMDcuODcyZDc4NC4zODRkMjIwLjE2ZDgxNC4wNzlkMjUyLjkyOGQ4MjAuMjIzZDI4NS42OTZkODI2LjM2N2QzMjAuNTEyZDgwNi45MTJoUjNkNTc0LjQ2NFI0ZDYwMC4wNjRSNWQtMTguNDMyUjZkODc0LjQ5NlI3ZC0xNC4zMzZSOGQ4OTIuOTI4UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTU0UjEyZC0xOC40MzJSMTNkNTc0LjQ2NFIxNGFpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTJpM2kzaTNpM2kzaTNpM2kzaTNpMWkzaTNpM2kzaTNpM2kzaTNoZzoxNjZvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTY2UjEyZDBSMTNkMTAyNFIxNGFoZzo1M29SMWQxMDEzLjc2UjJhZDIyNC4yNTZkNDcyLjA2M2QyNDkuODU2ZDM5OS4zNmQ1NjEuMTUyZDQwMi40MzJkNTU2LjAzMmQxOTguNjU1ZDY5LjYzMmQyMjIuMjA3ZDM0LjgxNmQ2NjMuNTUyZDU4LjM2OGQ2NTMuMzEyZDg5LjA4OGQ2NDUuMTJkMTE5LjgwOGQ2MzYuOTI4ZDE1MC41MjhkNjMzLjM0NGQxODEuMjQ4ZDYyOS43NmQyMTAuNDMyZDYzMC4yNzFkMjM5LjYxNmQ2MzAuNzg0ZDI2MS42MzJkNjM2LjQxNWQyODMuNjQ4ZDY0Mi4wNDhkMjk1LjQyNGQ2NTMuODI0ZDMwNy4yZDY2NS41OTlkMzAzLjEwNGQ2ODUuMDU2ZDMwMy4xMDRkNjg2LjA3OWQyOTcuOTg0ZDcwMC45MjhkMjkyLjg2NGQ3MTUuNzc2ZDI3NC45NDRkNzM3LjI4ZDI1Ny4wMjRkNzU4Ljc4NGQyMjQuNzY4ZDc3NS42OGQxOTIuNTEyZDc5Mi41NzZkMTM3LjcyOGQ3OTcuMTg0ZDgyLjk0NGQ4MDEuNzkyZDMuMDcyZDc4NC4zODRkNDkuMTUyZDEwMjRkMTY3LjkzNmQxMDMzLjIxNWQyNTQuOTc2ZDEwMTcuODU2ZDM0Mi4wMTZkMTAwMi40OTZkMzk5Ljg3MmQ5NzEuNzc2ZDQ1Ny43MjhkOTQxLjA1NmQ0OTQuMDhkOTAwLjYwOGQ1MzAuNDMyZDg2MC4xNmQ1NDguODY0ZDgxOS4yZDU2Ny4yOTZkNzc4LjI0ZDU3NC45NzZkNzQyLjRkNTgyLjY1NmQ3MDYuNTZkNTgyLjY1NmQ2ODYuMDc5ZDU4Mi42NTZkNjY0LjU3NmQ1ODIuNjU2ZDY2My41NTJkNTc4LjU2ZDYwMi4xMTJkNTQyLjcyZDU1OS4xMDRkNTA2Ljg4ZDUxNi4wOTZkNDU0LjY1NmQ0OTEuNTJkNDAyLjQzMmQ0NjYuOTQzZDM0MC45OTJkNDYxLjgyM2QyNzkuNTUyZDQ1Ni43MDNkMjI0LjI1NmQ0NzIuMDYzaFIzZDU4NC43MDRSNGQ1ODIuNjU2UjVkMy4wNzJSNmQ4MjUuMzQ0UjdkLTkuMjE2UjhkODIyLjI3MlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk1M1IxMmQzLjA3MlIxM2Q1ODQuNzA0UjE0YWkxaTJpMmkyaTJpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNoZzoxNjVvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTY1UjEyZDBSMTNkMTAyNFIxNGFoZzo1Mm9SMWQxMDEzLjc2UjJhZDMzNy45MmQxNjYuOTEyZDU4OC44ZDI0NC43MzZkMjA1LjgyNGQ2MDUuMTg0ZDMxMC4yNzJkNjA1LjE4NGQzMTMuMzQ0ZDU0NS43OTFkNTQ4Ljg2NGQ1NDUuNzkxZDUzOC42MjRkNjA2LjIwOGQ2MjkuNzZkNTg5LjgyNGQ2MTUuNDI0ZDgyNy4zOTJkNTI0LjI4OGQ4MjguNDE1ZDUxMy4wMjRkMTAxNS44MDhkMjUxLjkwNGQxMDI3LjA3MWQyNzAuMzM2ZDgzMC40NjRkMTYuMzg0ZDg0OS45MmQtNS4xMmQ1MDguOTI4ZDMzNy45MmQxNjYuOTEyaFIzZDYxNy40NzJSNGQ2MjkuNzZSNWQtNS4xMlI2ZDg1Ny4wODhSN2QtMy4wNzJSOGQ4NjIuMjA4UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTUyUjEyZC01LjEyUjEzZDYxNy40NzJSMTRhaTFpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaTJoZzoxNjRvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTY0UjEyZDBSMTNkMTAyNFIxNGFoZzo1MW9SMWQxMDEzLjc2UjJhZDUxNC4wNDhkNTU3LjA1NmQ1ODEuNjMyZDU5Ni45OTJkNjEyLjM1MmQ2NDYuNjU2ZDY0My4wNzJkNjk2LjMxOWQ2NDkuMjE2ZDc0My45MzVkNjU1LjM2ZDc5MS41NTJkNjQ3LjE2OGQ4MzMuNTM2ZDYzOC45NzZkODc1LjUyZDYyOC43MzZkODk4LjU2ZDYxOC40OTZkOTIxLjZkNjE3LjQ3MmQ5MjMuNjQ4ZDYxNy40NzJkOTIzLjY0OGQ2MDMuNjQ4ZDk0My42MTZkNTg5LjgyNGQ5NjMuNTg0ZDU1OS42MTZkOTg3LjY0OGQ1MjkuNDA4ZDEwMTEuNzEyZDQ4MC43NjhkMTAzMC42NTZkNDMyLjEyOGQxMDQ5LjZkMzYzLjAwOGQxMDQ3LjA0ZDI5My44ODhkMTA0NC40OGQyMDIuMjRkMTAxMi4yMjRkMTEwLjU5MmQ5NzkuOTY4ZC01LjEyZDkwMi4xNDRkMTQ1LjQwOGQ2ODcuMTA0ZDIxOS4xMzZkNzQwLjM1MmQyNjUuMjE2ZDc1Ny4yNDhkMzExLjI5NmQ3NzQuMTQ0ZDMzNi44OTZkNzcyLjYwOGQzNjIuNDk2ZDc3MS4wNzJkMzcxLjcxMmQ3NjEuMzQ0ZDM4MC45MjhkNzUxLjYxNmQzODAuOTI4ZDc1MS42MTZkMzgwLjkyOGQ3NTAuNTkyZDM4NS4wMjRkNzM5LjgzOWQzODkuMTJkNzI5LjA4OGQzODcuMDcyZDcxMi43MDRkMzg1LjAyNGQ2OTYuMzE5ZDM3MC4xNzZkNjgxLjk4M2QzNTUuMzI4ZDY2Ny42NDdkMzE4LjQ2NGQ2NTkuOTY4ZDI4MS42ZDY1Mi4yODhkMjE2LjA2NGQ2NTguNDMyZDIyNy4zMjhkNDgzLjMyOGQyOTYuOTZkNDg5LjQ3MmQzMjYuMTQ0ZDQ3OS43NDRkMzU1LjMyOGQ0NzAuMDE1ZDM2MS45ODRkNDU1LjE2OGQzNjguNjRkNDQwLjMxOWQzNjIuNDk2ZDQyNy41MmQzNTYuMzUyZDQxNC43MmQzNTYuMzUyZDQxNC43MmQzNTYuMzUyZDQxNC43MmQzNDUuNmQ0MDQuNDhkMzM0Ljg0OGQzOTQuMjRkMzA4LjczNmQzOTEuNjc5ZDI4Mi42MjRkMzg5LjEyZDIzOC4wOGQ0MDEuOTE5ZDE5My41MzZkNDE0LjcyZDEyNi45NzZkNDYwLjc5OWQyNi42MjRkMjc0LjQzMmQxMjYuOTc2ZDIwMy43NzVkMjEyLjk5MmQxNzkuNzEyZDI5OS4wMDhkMTU1LjY0OGQzNjMuNTJkMTYwLjI1NWQ0MjguMDMyZDE2NC44NjRkNDc0LjYyNGQxODQuODMyZDUyMS4yMTZkMjA0Ljc5OWQ1NDMuMjMyZDIyMi43MmQ1NjUuMjQ4ZDI0MC42NGQ1NjcuMjk2ZDI0Mi42ODhkNTY4LjMyZDI0My43MTJkNTgyLjY1NmQyNjEuNjMxZDU5Ni45OTJkMjc5LjU1MmQ2MTEuODRkMzEyLjMxOWQ2MjYuNjg4ZDM0NS4wODdkNjI4LjIyNGQzODUuMDI0ZDYyOS43NmQ0MjQuOTZkNjA0LjY3MmQ0NzAuMDE1ZDU3OS41ODRkNTE1LjA3MmQ1MTQuMDQ4ZDU1Ny4wNTZoUjNkNjUzLjMxMlI0ZDY1NS4zNlI1ZC01LjEyUjZkODY4LjM1MlI3ZC0yNS42UjhkODczLjQ3MlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk1MVIxMmQtNS4xMlIxM2Q2NTMuMzEyUjE0YWkxaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaTNpM2kzaTNpM2kzaTNpM2kzaTJpM2kzaTNpM2kzaTNpM2kzaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2hnOjE2M29SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNjNSMTJkMFIxM2QxMDI0UjE0YWhnOjUwb1IxZDEwMTMuNzZSMmFkNjU0LjMzNmQzMTMuMzQzZDY5Ni4zMmQzODguMDk2ZDY4NC4wMzJkNDUzLjEyZDY3MS43NDRkNTE4LjE0NGQ2MjUuNjY0ZDU3NC40NjRkNTc5LjU4NGQ2MzAuNzg0ZDUxMmQ2NzkuNDI0ZDQ0NC40MTZkNzI4LjA2NGQzNzUuODA4ZDc3MS4wNzJkNjUzLjMxMmQ3MzkuMzI4ZDY0Ny4xNjhkOTk4LjRkMzkuOTM2ZDEwMjkuMTE5ZDM4LjkxMmQ4NzIuNDQ4ZDMxLjc0NGQ4NDYuODQ4ZDQ2LjA4ZDgxNi4xMjdkNjAuNDE2ZDc4NS40MDhkODguMDY0ZDc1Mi4xMjdkMTE1LjcxMmQ3MTguODQ4ZDE1Mi41NzZkNjg0LjU0NGQxODkuNDRkNjUwLjI0ZDIyOC4zNTJkNjE2LjQ0OGQyNjcuMjY0ZDU4Mi42NTZkMzAzLjYxNmQ1NTEuNDI0ZDMzOS45NjhkNTIwLjE5MmQzNjYuNTkyZDQ5NC4wOGQzOTMuMjE2ZDQ2Ny45NjdkNDA2LjAxNmQ0NDcuNDg3ZDQxOC44MTZkNDI3LjAwOGQ0MTAuNjI0ZDQxNS43NDRkMzk4LjMzNmQzOTkuMzZkMzYzLjUyZDQwOC41NzZkMzI4LjcwNGQ0MTcuNzkyZDI4Ni4yMDhkNDQwLjgzMmQyNDMuNzEyZDQ2My44NzFkMjAwLjE5MmQ0OTQuNTkyZDE1Ni42NzJkNTI1LjMxMmQxMjYuOTc2ZDU1MS45MzVkLTEwLjI0ZDM1NC4zMDRkODQuOTkyZDI2NC4xOTJkMTY3LjkzNmQyMTguNjI0ZDI1MC44OGQxNzMuMDU1ZDMxNy45NTJkMTYwLjc2OGQzODUuMDI0ZDE0OC40OGQ0MzkuODA4ZDE1OS43NDRkNDk0LjU5MmQxNzEuMDA4ZDUzNC4wMTZkMTk1LjU4M2Q1NzMuNDRkMjIwLjE1OWQ2MDEuMDg4ZDI0Ny4yOTVkNjI4LjczNmQyNzQuNDMyZDY0MS4wMjRkMjkzLjM3NmQ2NTMuMzEyZDMxMi4zMTlkNjU0LjMzNmQzMTMuMzQzaFIzZDY5MC4xNzZSNGQ2OTYuMzJSNWQtMTAuMjRSNmQ4NzUuNTJSN2QtNS4xMlI4ZDg4NS43NlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk1MFIxMmQtMTAuMjRSMTNkNjkwLjE3NlIxNGFpMWkzaTNpM2kzaTJpMmkyaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaGc6MTYyb1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE2MlIxMmQwUjEzZDEwMjRSMTRhaGc6NDlvUjFkMTAxMy43NlIyYWQxODguNDE2ZDQ0Ny40ODdkMTkxLjQ4OGQxMDA0LjU0NGQ0NDIuMzY4ZDEwMzcuMzExZDQ4MS4yOGQxNzUuMTAzZDE5OC42NTZkMjAzLjc3NWQtMy4wNzJkMzk1LjI2NGQ5Ny4yOGQ1MjQuMjg4ZDE4OC40MTZkNDQ3LjQ4N2hSM2Q1MzAuNDMyUjRkNDgxLjI4UjVkLTMuMDcyUjZkODQ4Ljg5NlI3ZC0xMy4zMTJSOGQ4NTEuOTY4UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTQ5UjEyZC0zLjA3MlIxM2Q1MzAuNDMyUjE0YWkxaTJpMmkyaTJpMmkyaTJoZzoxNjFvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTYxUjEyZDBSMTNkMTAyNFIxNGFoZzo0OG9SMWQxMDEzLjc2UjJhZDU4MC42MDhkOTE5LjU1MmQ2MzYuOTI4ZDg0MS43MjhkNjYyLjUyOGQ3NTguNzg0ZDY4OC4xMjhkNjc1LjgzOWQ2OTAuMTc2ZDU5NS45NjhkNjkyLjIyNGQ1MTYuMDk2ZDY3NC4zMDRkNDQyLjg4ZDY1Ni4zODRkMzY5LjY2NGQ2MjYuNjg4ZDMxMi4zMTlkNjExLjMyOGQyODEuNmQ1ODAuNjA4ZDI1Mi40MTVkNTQ5Ljg4OGQyMjMuMjMxZDUwOC45MjhkMjA0Ljc5OWQ0NjcuOTY4ZDE4Ni4zNjdkNDE3LjI4ZDE4Mi43ODRkMzY2LjU5MmQxNzkuMTk5ZDMxMS4yOTZkMjAwLjcwM2QyNTIuOTI4ZDIyMi4yMDdkMjAyLjI0ZDI2MS4xMmQxNTEuNTUyZDMwMC4wMzJkMTEyLjEyOGQzNTEuMjMyZDcyLjcwNGQ0MDIuNDMyZDQ2LjU5MmQ0NjQuMzg0ZDIwLjQ4ZDUyNi4zMzZkMTEuMjY0ZDU5NC40MzJkMi4wNDhkNjYyLjUyOGQxMi4yODhkNzM0LjcyZDIyLjUyOGQ4MDYuOTEyZDU1LjI5NmQ4NzguNTkyZDg0Ljk5MmQ5NDMuMTA0ZDEyNy40ODhkOTgxLjUwNGQxNjkuOTg0ZDEwMTkuOTA0ZDIxOS42NDhkMTAzNi44ZDI2OS4zMTJkMTA1My42OTZkMzIxLjUzNmQxMDUxLjY0OGQzNzMuNzZkMTA0OS42ZDQyMi40ZDEwMzIuNzA0ZDQ3MS4wNGQxMDE1LjgwOGQ1MTJkOTg2LjExMmQ1NTIuOTZkOTU2LjQxNWQ1ODAuNjA4ZDkxOS41NTJkNDM2LjIyNGQ1MDIuNzg0ZDQ0My4zOTJkNTIwLjE5MmQ0NDguNTEyZDU0Mi43MmQ0NTMuNjMyZDU2NS4yNDhkNDU0LjE0NGQ1OTIuODk2ZDQ1NC42NTZkNjIwLjU0NGQ0NDguNTEyZDY1My44MjRkNDQyLjM2OGQ2ODcuMTA0ZDQyNy4wMDhkNzI3LjA0ZDQxMS42NDhkNzY1Ljk1MmQzODIuNDY0ZDc5MC41MjhkMzUzLjI4ZDgxNS4xMDRkMzIyLjU2ZDgxNS4xMDRkMjkyLjg2NGQ4MTUuMTA0ZDI2OS4zMTJkNzg0Ljg5NmQyNDUuNzZkNzU0LjY4OGQyNDEuNjY0ZDY4NC4wMzFkMjM2LjU0NGQ2MDguMjU2ZDI1OS41ODRkNTUzLjQ3MmQyODIuNjI0ZDQ5OC42ODhkMzE1LjM5MmQ0NzIuNTc2ZDM0OC4xNmQ0NDYuNDYzZDM4Mi40NjRkNDUyLjA5NmQ0MTYuNzY4ZDQ1Ny43MjdkNDM2LjIyNGQ1MDIuNzg0aFIzZDY5Mi4yMjRSNGQ2OTIuMjI0UjVkMi4wNDhSNmQ4NDQuOFI3ZC0yOS42OTZSOGQ4NDIuNzUyUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTQ4UjEyZDIuMDQ4UjEzZDY5Mi4yMjRSMTRhaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNoZzoxNjBvUjFkMTAxMy43NlIyYWhSM2Q1MTMuMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTYwUjEyZDBSMTNkNTEzLjAyNFIxNGFoZzo0N29SMWQxMDEzLjc2UjJhZDQxNy43OTJkMTY0Ljg2NGQ1MTAuOTc2ZDE4OS40MzlkMTAwLjM1MmQxMDI5LjExOWQyMy41NTJkOTk1LjMyOGQ0MTcuNzkyZDE2NC44NjRoUjNkNTI4LjM4NFI0ZDUxMC45NzZSNWQyMy41NTJSNmQ4NTkuMTM2UjdkLTUuMTJSOGQ4MzUuNTg0UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTQ3UjEyZDIzLjU1MlIxM2Q1MjguMzg0UjE0YWkxaTJpMmkyaTJoZzoxNTlvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTU5UjEyZDBSMTNkMTAyNFIxNGFoZzo0Nm9SMWQxMDEzLjc2UjJhZDQwLjk2ZDk5Mi4yNTZkNDguMTI4ZDkwNS4yMTZkMTU1LjY0OGQ5MTEuMzZkMTM1LjE2OGQxMDE4Ljg4ZDQwLjk2ZDk5Mi4yNTZoUjNkMjI0LjI1NlI0ZDE1NS42NDhSNWQ0MC45NlI2ZDExOC43ODRSN2Q1LjEyUjhkNzcuODI0UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTQ2UjEyZDQwLjk2UjEzZDIyNC4yNTZSMTRhaTFpMmkyaTJpMmhnOjE1OG9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNThSMTJkMFIxM2QxMDI0UjE0YWhnOjQ1b1IxZDEwMTMuNzZSMmFkNjcuNTg0ZDcyOS4wODhkMzkxLjE2OGQ3MzQuMjA4ZDQwMS40MDhkNTk2Ljk5MmQ3Ni44ZDYxMS4zMjhkNjcuNTg0ZDcyOS4wODhoUjNkNDY2Ljk0NFI0ZDQwMS40MDhSNWQ2Ny41ODRSNmQ0MjcuMDA4UjdkMjg5Ljc5MlI4ZDM1OS40MjRSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNDVSMTJkNjcuNTg0UjEzZDQ2Ni45NDRSMTRhaTFpMmkyaTJpMmhnOjE1N29SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNTdSMTJkMFIxM2QxMDI0UjE0YWhnOjQ0b1IxZDEwMTMuNzZSMmFkMTk0LjU2ZDk2OS43MjhkNzIuNzA0ZDExMjcuNDI0ZDI5LjY5NmQxMTEzLjA4OGQxMTUuNzEyZDkwNS4yMTZkMTk0LjU2ZDk2OS43MjhoUjNkMjQyLjY4OFI0ZDE5NC41NlI1ZDI5LjY5NlI2ZDExOC43ODRSN2QtMTAzLjQyNFI4ZDg5LjA4OFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk0NFIxMmQyOS42OTZSMTNkMjQyLjY4OFIxNGFpMWkyaTJpMmkyaGc6MTU2b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE1NlIxMmQwUjEzZDEwMjRSMTRhaGc6NDNvUjFkMTAxMy43NlIyYWQ3MzAuMTEyZDUzNS41NTFkNzEwLjY1NmQ3NDguNTQ0ZDQ3My4wODhkNzUwLjU5MmQ0NjEuODI0ZDk0NS4xNTJkMjY4LjI4OGQ5NjQuNjA4ZDI3MC4zMzZkNzUxLjYxNmQ1Mi4yMjRkNzUyLjY0ZDcxLjY4ZDU1OS4xMDRkMjcxLjM2ZDU1MS45MzVkMjczLjQwOGQzMDYuMTc1ZDUwMC43MzZkMjczLjQwOGQ0ODUuMzc2ZDU0NC43NjhkNzMwLjExMmQ1MzUuNTUxaFIzZDc5MC41MjhSNGQ3MzAuMTEyUjVkNTIuMjI0UjZkNzUwLjU5MlI3ZDU5LjM5MlI4ZDY5OC4zNjhSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNDNSMTJkNTIuMjI0UjEzZDc5MC41MjhSMTRhaTFpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaTJoZzoxNTVvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTU1UjEyZDBSMTNkMTAyNFIxNGFoZzo0Mm9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk0MlIxMmQwUjEzZDEwMjRSMTRhaGc6MTU0b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE1NFIxMmQwUjEzZDEwMjRSMTRhaGc6NDFvUjFkMTAxMy43NlIyYWQ5OS4zMjhkMTEwMC44ZDE5MC40NjRkOTgyLjAxNmQyMzguMDhkODc4LjU5MmQyODUuNjk2ZDc3NS4xNjhkMzA1LjY2NGQ2OTguODhkMzI1LjYzMmQ2MjIuNTkyZDMyNy4xNjhkNTc4LjU2ZDMyOC43MDRkNTM0LjUyOGQzMjguNzA0ZDUzNC41MjhkMzI4LjcwNGQ1MzIuNDhkMzI1LjYzMmQ1MDYuODhkMzIyLjU2ZDQ4MS4yOGQzMDkuMjQ4ZDQzMy42NjRkMjk1LjkzNmQzODYuMDQ4ZDI3MC44NDhkMzMwLjI0ZDI0NS43NmQyNzQuNDMyZDIwMS4yMTZkMjExLjQ1NmQxNTYuNjcyZDE0OC40OGQ5MC4xMTJkOTEuMTM1ZDM5LjkzNmQxMjYuOTc2ZDEwNS40NzJkMTk2LjYwN2QxNDMuMzZkMjY4Ljc5OWQxODEuMjQ4ZDM0MC45OTFkMjAwLjE5MmQ0MDAuMzg0ZDIxOS4xMzZkNDU5Ljc3NWQyMjQuMjU2ZDQ5Ny4xNTJkMjI5LjM3NmQ1MzQuNTI4ZDIyOS4zNzZkNTM0LjUyOGQyMjkuMzc2ZDUzNC41MjhkMjI4LjM1MmQ1NzMuOTUyZDIyNy4zMjhkNjEzLjM3NmQyMTEuOTY4ZDY4My4wMDhkMTk2LjYwOGQ3NTIuNjRkMTU5LjIzMmQ4NDguMzg0ZDEyMS44NTZkOTQ0LjEyOGQ0OC4xMjhkMTA1Ny43OTJkOTkuMzI4ZDExMDAuOGhSM2QzOTUuMjY0UjRkMzI4LjcwNFI1ZDM5LjkzNlI2ZDkzMi44NjRSN2QtNzYuOFI4ZDg5Mi45MjhSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpNDFSMTJkMzkuOTM2UjEzZDM5NS4yNjRSMTRhaTFpM2kzaTNpM2kzaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpMmhnOjE1M29SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNTNSMTJkMFIxM2QxMDI0UjE0YWhnOjQwb1IxZDEwMTMuNzZSMmFkMzEzLjM0NGQ5MS4xMzVkMjIyLjIwOGQyMDkuOTE5ZDE3NC41OTJkMzEyLjgzMmQxMjYuOTc2ZDQxNS43NDRkMTA3LjAwOGQ0OTIuNTQ0ZDg3LjA0ZDU2OS4zNDRkODUuNTA0ZDYxMy4zNzZkODMuOTY4ZDY1Ny40MDhkODMuOTY4ZDY1Ny40MDhkODMuOTY4ZDY1OS40NTZkODcuMDRkNjg1LjA1NmQ5MC4xMTJkNzEwLjY1NmQxMDMuNDI0ZDc1OC4yNzFkMTE2LjczNmQ4MDUuODg4ZDE0MS44MjRkODYxLjY5NmQxNjYuOTEyZDkxNy41MDRkMjExLjQ1NmQ5ODAuNDhkMjU2ZDEwNDMuNDU1ZDMyMi41NmQxMTAwLjhkMzcyLjczNmQxMDY0Ljk2ZDMwNy4yZDk5NS4zMjhkMjY5LjMxMmQ5MjMuMTM2ZDIzMS40MjRkODUwLjk0NGQyMTIuNDhkNzkxLjU1MmQxOTMuNTM2ZDczMi4xNmQxODguNDE2ZDY5NC43ODRkMTgzLjI5NmQ2NTcuNDA4ZDE4My4yOTZkNjU3LjQwOGQxODMuMjk2ZDY1Ny40MDhkMTg0LjMyZDYxNy45ODNkMTg1LjM0NGQ1NzguNTZkMjAwLjcwNGQ1MDguOTI4ZDIxNi4wNjRkNDM5LjI5NWQyNTMuNDRkMzQzLjAzOWQyOTAuODE2ZDI0Ni43ODRkMzY0LjU0NGQxMzQuMTQ0ZDMxMy4zNDRkOTEuMTM1aFIzZDQxMy42OTZSNGQzNzIuNzM2UjVkODMuOTY4UjZkOTMyLjg2NFI3ZC03Ni44UjhkODQ4Ljg5NlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWk0MFIxMmQ4My45NjhSMTNkNDEzLjY5NlIxNGFpMWkzaTNpM2kzaTNpM2kzaTNpM2kyaTNpM2kzaTNpM2kzaTNpM2kyaGc6MTUyb1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE1MlIxMmQwUjEzZDEwMjRSMTRhaGc6MzlvUjFkMTAxMy43NlIyYWQyMjAuMTZkNzkuODcxZDk4LjMwNGQyMzYuNTQzZDU1LjI5NmQyMjIuMjA3ZDE0MS4zMTJkMTUuMzZkMjIwLjE2ZDc5Ljg3MWhSM2QyNjEuMTJSNGQyMjAuMTZSNWQ1NS4yOTZSNmQxMDA4LjY0UjdkNzg3LjQ1NlI4ZDk1My4zNDRSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMzlSMTJkNTUuMjk2UjEzZDI2MS4xMlIxNGFpMWkyaTJpMmkyaGc6MTUxb1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE1MVIxMmQwUjEzZDEwMjRSMTRhaGc6MzhvUjFkMTAxMy43NlIyYWQ1NzguNTZkOTM3Ljk4NGQ2NDcuMTY4ZDEwMjkuMTE5ZDg2NS4yOGQ4NzUuNTJkNzc3LjIxNmQ4MDYuOTEyZDg5Ny4wMjRkNjk5LjM5MmQ3MjguMDY0ZDUzNi41NzZkNzAxLjQ0ZDU3Mi40MTVkNjc0LjgxNmQ2MDcuNzQzZDY0OC4xOTJkNjQzLjA3MmQ2MTIuMzUyZDY3MC43MmQ1MzIuNDhkNjAxLjA4OGQ1NjUuMjQ4ZDU4OC44ZDU5Mi4zODRkNTY0LjczNmQ2MTkuNTJkNTQwLjY3MmQ2MzguNDY0ZDUwOS45NTJkNjU3LjQwOGQ0NzkuMjMyZDY2Ni42MjRkNDQzLjkwNGQ2NzUuODRkNDA4LjU3NmQ2NzIuNzY4ZDM3Mi43MzZkNjY3LjY0OGQzMTUuMzkxZDYzNi40MTZkMjc2LjQ4ZDYwNS4xODRkMjM3LjU2N2Q1NTkuNjE2ZDIxNS41NTJkNTE0LjA0OGQxOTMuNTM1ZDQ2MC4yODhkMTg1Ljg1NmQ0MDYuNTI4ZDE3OC4xNzVkMzU3LjM3NmQxODIuMjcxZDMwNS4xNTJkMTg2LjM2N2QyNTMuNDRkMjAzLjI2NGQyMDEuNzI4ZDIyMC4xNTlkMTYxLjI4ZDI1MC4zNjdkMTIwLjgzMmQyODAuNTc2ZDk3LjI4ZDMyNS42MzFkNzMuNzI4ZDM3MC42ODhkNzguODQ4ZDQzMS4xMDRkODIuOTQ0ZDQ4MC4yNTZkMTA1Ljk4NGQ1MTYuMDk2ZDEyOS4wMjRkNTUxLjkzNWQxNjYuOTEyZDU4MS42MzJkMTI2Ljk3NmQ1OTIuODk2ZDkzLjE4NGQ2MTMuMzc2ZDU5LjM5MmQ2MzMuODU2ZDM0LjgxNmQ2NjMuMDRkMTAuMjRkNjkyLjIyM2QtMi4wNDhkNzMwLjExMmQtMTQuMzM2ZDc2OGQtMTEuMjY0ZDgxMy4wNTZkLTYuMTQ0ZDg4Mi42ODhkMjQuNTc2ZDkyNy43NDRkNTUuMjk2ZDk3Mi44ZDEwMi40ZDk5Ny44ODhkMTQ5LjUwNGQxMDIyLjk3NmQyMDcuODcyZDEwMzAuNjU2ZDI2Ni4yNGQxMDM4LjMzNmQzMjYuNjU2ZDEwMzMuMjE1ZDQwMC4zODRkMTAyOC4wOTZkNDYwLjI4OGQxMDA2LjA4ZDUyMC4xOTJkOTg0LjA2NGQ1NzguNTZkOTM3Ljk4NGQzNDMuMDRkNDE1Ljc0NGQzNDAuOTkyZDM5My4yMTZkMzU0LjMwNGQzNzYuODMyZDM2Ny42MTZkMzYwLjQ0OGQzOTAuMTQ0ZDM1OC40ZDQwOC41NzZkMzU2LjM1MmQ0MjIuOTEyZDM3MC42ODhkNDM3LjI0OGQzODUuMDI0ZDQzOC4yNzJkNDAyLjQzMmQ0MzkuMjk2ZDQxMy42OTZkNDM1LjJkNDI0LjQ0OGQ0MzEuMTA0ZDQzNS4xOTlkNDIzLjQyNGQ0NDQuOTI4ZDQxNS43NDRkNDU0LjY1NWQ0MDYuNTI4ZDQ2Mi4zMzZkMzk3LjMxMmQ0NzAuMDE1ZDM4OC4wOTZkNDc2LjE1OWQzNzIuNzM2ZDQ2OC45OTFkMzU4LjRkNDUxLjA3MmQzNDQuMDY0ZDQzMy4xNTJkMzQzLjA0ZDQxNS43NDRkMjk5LjAwOGQ3MDUuNTM2ZDQxMC42MjRkNzk5Ljc0NGQzOTEuMTY4ZDgwOS45ODRkMzc0LjI3MmQ4MTcuNjY0ZDM1Ny4zNzZkODI1LjM0NGQzMzMuODI0ZDgyNy4zOTJkMzA0LjEyOGQ4MzAuNDY0ZDI4MS4wODhkODE3LjE1MmQyNTguMDQ4ZDgwMy44NGQyNTZkNzcyLjA5NmQyNTMuOTUyZDc0OC41NDRkMjY4LjI4OGQ3MzMuMTg0ZDI4Mi42MjRkNzE3LjgyNGQyOTkuMDA4ZDcwNS41MzZoUjNkODY1LjI4UjRkODk3LjAyNFI1ZC0xNC4zMzZSNmQ4NDUuODI0UjdkLTE0LjMzNlI4ZDg2MC4xNlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkzOFIxMmQtMTQuMzM2UjEzZDg2NS4yOFIxNGFpMWkyaTJpMmkyaTJpM2kzaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTFpMmkzaTNpM2kzaTNpM2hnOjE1MG9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNTBSMTJkMFIxM2QxMDI0UjE0YWhnOjM3b1IxZDEwMTMuNzZSMmFkNDY1LjkyZDQ2MS44MjNkNDg4LjQ0OGQ0MzAuMDhkNDk4LjY4OGQzOTYuNzk5ZDUwOC45MjhkMzYzLjUyZDUwOS45NTJkMzMxLjI2NGQ1MTAuOTc2ZDI5OS4wMDhkNTA0LjMyZDI3MC4zMzZkNDk3LjY2NGQyNDEuNjY0ZDQ4NS4zNzZkMjE4LjExMWQ0NzkuMjMyZDIwNS44MjNkNDY2Ljk0NGQxOTQuMDQ4ZDQ1NC42NTZkMTgyLjI3MWQ0MzcuNzZkMTc1LjEwM2Q0MjAuODY0ZDE2Ny45MzZkNDAwLjg5NmQxNjYuOTEyZDM4MC45MjhkMTY1Ljg4OGQzNTguNGQxNzQuMDc5ZDMyMy41ODRkMTg3LjM5MWQyOTUuOTM2ZDIxNS4wMzlkMjY4LjI4OGQyNDIuNjg4ZDI1Mi45MjhkMjc5LjU1MmQyMzcuNTY4ZDMxNi40MTVkMjM3LjA1NmQzNTkuNDI0ZDIzNi41NDRkNDAyLjQzMmQyNTZkNDQ1LjQzOWQyNzMuNDA4ZDQ4NC4zNTJkMzAyLjU5MmQ0OTkuNzEyZDMzMS43NzZkNTE1LjA3MmQzNjIuNDk2ZDUxNC4wNDhkMzkzLjIxNmQ1MTMuMDI0ZDQyMS4zNzZkNDk4LjY4OGQ0NDkuNTM2ZDQ4NC4zNTJkNDY1LjkyZDQ2MS44MjNkNDA4LjU3NmQyOTQuOTEyZDQxNC43MmQzMDkuMjQ3ZDQxNS43NDRkMzMwLjc1MWQ0MTYuNzY4ZDM1Mi4yNTZkNDA0LjQ4ZDM4NGQzOTguMzM2ZDM5OS4zNmQzODYuNTZkNDA5LjZkMzc0Ljc4NGQ0MTkuODRkMzYyLjQ5NmQ0MTkuODRkMzUxLjIzMmQ0MTkuODRkMzQxLjUwNGQ0MDcuNTUyZDMzMS43NzZkMzk1LjI2NGQzMzAuNzUyZDM2Ny42MTZkMzI4LjcwNGQzMzYuODk1ZDMzNy45MmQzMTQuODhkMzQ3LjEzNmQyOTIuODY0ZDM1OS45MzZkMjgyLjExMWQzNzIuNzM2ZDI3MS4zNmQzODYuNTZkMjczLjkxOWQ0MDAuMzg0ZDI3Ni40OGQ0MDguNTc2ZDI5NC45MTJkNzA5LjYzMmQ5NzYuODk2ZDczMi4xNmQ5NDYuMTc2ZDc0Mi40ZDkxMi44OTZkNzUyLjY0ZDg3OS42MTZkNzUzLjE1MmQ4NDcuMzZkNzUzLjY2NGQ4MTUuMTA0ZDc0Ny4wMDhkNzg2LjQzMmQ3NDAuMzUyZDc1Ny43NmQ3MjguMDY0ZDczNC4yMDhkNzIxLjkyZDcyMS45MmQ3MDkuNjMyZDcxMC4xNDRkNjk3LjM0NGQ2OTguMzY3ZDY4MC45NmQ2OTAuNjg4ZDY2NC41NzZkNjgzLjAwOGQ2NDQuNjA4ZDY4MS45ODNkNjI0LjY0ZDY4MC45NmQ2MDIuMTEyZDY4OS4xNTJkNTY3LjI5NmQ3MDIuNDY0ZDUzOS4xMzZkNzMwLjExMmQ1MTAuOTc2ZDc1Ny43NmQ0OTUuNjE2ZDc5NC42MjRkNDgwLjI1NmQ4MzEuNDg4ZDQ3OS43NDRkODc0LjQ5NmQ0NzkuMjMyZDkxNy41MDRkNDk5LjcxMmQ5NjAuNTEyZDUxNy4xMmQ5OTkuNDI0ZDU0Ni4zMDRkMTAxNC43ODRkNTc1LjQ4OGQxMDMwLjE0NGQ2MDYuMjA4ZDEwMjkuMTE5ZDYzNi45MjhkMTAyOC4wOTZkNjY1LjA4OGQxMDEzLjc2ZDY5My4yNDhkOTk5LjQyNGQ3MDkuNjMyZDk3Ni44OTZkNjUyLjI4OGQ4MDkuOTg0ZDY1Ny40MDhkODI0LjMxOWQ2NTguOTQ0ZDg0NS44MjRkNjYwLjQ4ZDg2Ny4zMjhkNjQ4LjE5MmQ5MDAuMDk2ZDY0Mi4wNDhkOTE1LjQ1NmQ2MzAuMjcyZDkyNS42OTZkNjE4LjQ5NmQ5MzUuOTM2ZDYwNi4yMDhkOTM1LjkzNmQ1OTQuOTQ0ZDkzNS45MzZkNTg1LjIxNmQ5MjMuNjQ4ZDU3NS40ODhkOTExLjM2ZDU3NC40NjRkODgyLjY4OGQ1NzIuNDE2ZDg1MS45NjhkNTgxLjYzMmQ4MzAuNDY0ZDU5MC44NDhkODA4Ljk2ZDYwMy42NDhkNzk4LjIwOGQ2MTYuNDQ4ZDc4Ny40NTZkNjMwLjI3MmQ3ODkuNTA0ZDY0NC4wOTZkNzkxLjU1MmQ2NTIuMjg4ZDgwOS45ODRkNjU2LjM4NGQxNjQuODY0ZDc1MC41OTJkMTg5LjQzOWQzMzkuOTY4ZDEwMjkuMTE5ZDI2Mi4xNDRkOTk1LjMyOGQ2NTYuMzg0ZDE2NC44NjRoUjNkNzY1Ljk1MlI0ZDc1My42NjRSNWQyMzYuNTQ0UjZkODU5LjEzNlI3ZC02LjE0NFI4ZDYyMi41OTJSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMzdSMTJkMjM2LjU0NFIxM2Q3NjUuOTUyUjE0YWkxaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kxaTNpM2kzaTNpM2kzaTNpM2kzaTNpMWkyaTJpMmkyaGc6MTQ5b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE0OVIxMmQwUjEzZDEwMjRSMTRhaGc6MzZvUjFkMTAxMy43NlIyYWQ2NTEuMjY0ZDczMS4xMzZkNjUzLjMxMmQ3ODkuNTA0ZDYzNS45MDRkODM3LjYzMmQ2MTguNDk2ZDg4NS43NmQ1ODUuMjE2ZDkyMi4xMTJkNTUxLjkzNmQ5NTguNDY0ZDUwNC4zMmQ5ODMuNTUyZDQ1Ni43MDRkMTAwOC42NGQ0MDAuMzg0ZDEwMjEuOTUyZDQwMC4zODRkMTEyNC4zNTJkMjA0LjhkMTEzMS41MmQyMzEuNDI0ZDEwMzUuMjYzZDE3Mi4wMzJkMTAzMC4xNDRkMTEyLjY0ZDEwMTEuNzEyZDUzLjI0OGQ5OTMuMjhkNS4xMmQ5NjkuNzI4ZDgyLjk0NGQ3NTEuNjE2ZDk4LjMwNGQ3NTcuNzZkMTE5LjgwOGQ3NjcuNDg4ZDE0MS4zMTJkNzc3LjIxNmQxNjUuODg4ZDc4NS40MDhkMTkwLjQ2NGQ3OTMuNmQyMTYuNTc2ZDc5OS43NDRkMjQyLjY4OGQ4MDUuODg4ZDI2OC4yODhkODA0Ljg2NGQzMDYuMTc2ZDgwMi44MTZkMzMyLjI4OGQ3OTEuNTUyZDM1OC40ZDc4MC4yODhkMzU3LjM3NmQ3NTMuNjY0ZDM1Ni4zNTJkNzM2LjI1NmQzMzkuOTY4ZDcyNy4wNGQzMjMuNTg0ZDcxNy44MjRkMjk5LjAwOGQ3MDguNjA4ZDI4My42NDhkNzA0LjUxMmQyNTkuMDcyZDY5Ny4zNDRkMjM0LjQ5NmQ2OTAuMTc1ZDIwNS44MjRkNjc3Ljg4N2QxNzcuMTUyZDY2NS41OTlkMTQ3LjQ1NmQ2NDguMTkyZDExNy43NmQ2MzAuNzg0ZDkzLjY5NmQ2MDYuMjA4ZDY5LjYzMmQ1ODEuNjMyZDU0LjI3MmQ1NDguODY0ZDM4LjkxMmQ1MTYuMDk2ZDM3Ljg4OGQ0NzUuMTM1ZDM1Ljg0ZDQxNi43NjhkNTMuNzZkMzY4LjEyOGQ3MS42OGQzMTkuNDg3ZDEwMy40MjRkMjgyLjYyNGQxMzUuMTY4ZDI0NS43NmQxNzkuNzEyZDIyMC4xNTlkMjI0LjI1NmQxOTQuNTU5ZDI3Ni40OGQxODEuMjQ3ZDI3Ni40OGQ4MC44OTVkNDcyLjA2NGQ3My43MjdkNDQ2LjQ2NGQxNjguOTZkNDkyLjU0NGQxNzIuMDMxZDUzNi41NzZkMTgxLjI0N2Q1ODAuNjA4ZDE5MC40NjNkNjE5LjUyZDIwNi44NDdkNTU5LjEwNGQ0NDMuMzkxZDUxOC4xNDRkNDI1Ljk4NGQ0ODQuMzUyZDQxNC4yMDdkNDUwLjU2ZDQwMi40MzJkNDA1LjUwNGQzOTYuMjg4ZDM5Mi4xOTJkMzk0LjI0ZDM3MC42ODhkMzk0LjI0ZDM0OS4xODRkMzk0LjI0ZDMyNy42OGQzOTguMzM2ZDMwNi4xNzZkNDAyLjQzMmQyOTAuODE2ZDQxMi42NzJkMjc1LjQ1NmQ0MjIuOTEyZDI3NC40MzJkNDQxLjM0M2QyNzQuNDMyZDQ0OS41MzVkMjgyLjExMmQ0NTQuMTQ0ZDI4OS43OTJkNDU4Ljc1MWQzMDAuNTQ0ZDQ2MS44MjNkMzExLjI5NmQ0NjQuODk1ZDMyMy4wNzJkNDY2LjQzMmQzMzQuODQ4ZDQ2Ny45NjdkMzQwLjk5MmQ0NjguOTkxZDM3MC42ODhkNDc1LjEzNWQzODcuNTg0ZDQ3OS4yMzJkNDA0LjQ4ZDQ4My4zMjhkNDA0LjQ4ZDQ4My4zMjhkNDMzLjE1MmQ0ODkuNDcyZDQ1OS43NzZkNTAwLjczNmQ0OTEuNTJkNTE0LjA0OGQ1MjQuOGQ1MzIuNDhkNTU4LjA4ZDU1MC45MTJkNTg1LjIxNmQ1NzguMDQ4ZDYxMi4zNTJkNjA1LjE4NGQ2MzAuNzg0ZDY0Mi41NmQ2NDkuMjE2ZDY3OS45MzVkNjUxLjI2NGQ3MzEuMTM2aFIzZDY1Ni4zODRSNGQ2NTMuMzEyUjVkNS4xMlI2ZDk1MC4yNzJSN2QtMTA3LjUyUjhkOTQ1LjE1MlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkzNlIxMmQ1LjEyUjEzZDY1Ni4zODRSMTRhaTFpM2kzaTNpM2kyaTJpMmkzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaTJpMmkzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNoZzoxNDhvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTQ4UjEyZDBSMTNkMTAyNFIxNGFoZzozNW9SMWQxMDEzLjc2UjJhZDU4NC43MDRkMzcxLjcxMmQ1ODQuNzA0ZDM1MS4yMzJkNTUxLjkzNmQzNTMuMjhkNTUxLjkzNmQzMzguOTQzZDU1MS45MzZkMjc5LjU1MmQ1ODAuNjA4ZDI3OS41NTJkNTgwLjYwOGQzMzMuODIzZDU4MC42MDhkMzQyLjAxNWQ1OTkuMDRkMzM4Ljk0M2Q2MTYuNDQ4ZDMzNi44OTVkNjE2LjQ0OGQzMzAuNzUxZDYxNi40NDhkMjc5LjU1MmQ2NDYuMTQ0ZDI3OS41NTJkNjQ2LjE0NGQzMjYuNjU1ZDY0Ni4xNDRkMzM5Ljk2N2Q2MTMuMzc2ZDM0Ni4xMTFkNjEzLjM3NmQzNjUuNTY4ZDU4NC43MDRkMzcxLjcxMmQ0MzEuMTA0ZDI3OS41NTJkNDU4Ljc1MmQyNzkuNTUyZDQ1OC43NTJkMzg2LjA0OGQ0NTguNzUyZDM5OC4zMzZkNDc2LjE2ZDM5Mi4xOTJkNDkzLjU2OGQzODkuMTJkNDkzLjU2OGQzNzcuODU2ZDQ5My41NjhkMjc5LjU1MmQ1MjIuMjRkMjc5LjU1MmQ1MjIuMjRkMzY4LjY0ZDUyMi4yNGQzNzkuOTA0ZDUwOS45NTJkMzg5LjEyZDQ5Ny42NjRkMzk4LjMzNmQ0NzYuMTZkNDA1LjUwNGQ0MzEuMTA0ZDQxOS44NGQ0MzEuMTA0ZDM5My4yMTZkNDMxLjEwNGQyNzkuNTUyZDM2NC41NDRkMzU2LjM1MmQzOTMuMjE2ZDM1Mi4yNTZkMzkzLjIxNmQ0MzAuMDhkMzkzLjIxNmQ0MzAuMDhkMzg4LjA5NmQ0MzAuNTkyZDM4Mi45NzZkNDMxLjEwNGQzNzQuMjcyZDQzMC41OTJkMzY1LjU2OGQ0MzAuMDhkMzU1LjMyOGQ0MjguMDMyZDM0NS4wODhkNDI1Ljk4NGQzMzQuODQ4ZDQyMS44ODhkMjkyLjg2NGQ0MDQuNDhkMjkyLjg2NGQzNjAuNDQ4ZDI5Mi44NjRkMzIzLjU4M2QzMzIuOGQyOTUuOTM2ZDM0Mi4wMTZkMjg5Ljc5MmQzNTIuNzY4ZDI4NS4xODNkMzYzLjUyZDI4MC41NzZkMzcyLjczNmQyNzguMDE1ZDM4MS45NTJkMjc1LjQ1NmQzODcuNTg0ZDI3NC40MzJkMzkzLjIxNmQyNzMuNDA4ZDM5My4yMTZkMjczLjQwOGQzOTMuMjE2ZDI4OC43NjhkMzk0LjI0ZDI4OC43NjhkMzgwLjQxNmQyOTIuODY0ZDM2Ni41OTJkMjk2Ljk2ZDM1NC4zMDRkMzA1LjE1MWQzMjEuNTM2ZDMyNS42MzFkMzIxLjUzNmQzNTguNGQzMjEuNTM2ZDM5MC4xNDRkMzU2LjM1MmQ0MDUuNTA0ZDM2NC41NDRkNDA4LjU3NmQzNjQuNTQ0ZDM1Ni4zNTJkOTA1LjIxNmQ4MTcuMTUyZDg2Mi4yMDhkNzkxLjU1MmQ4NzYuNTQ0ZDc2NC45MjhkODgxLjY2NGQ3NjkuMDI0ZDg3MC40ZDc4Ny40NTZkODgyLjY4OGQ3OTQuNjI0ZDg5My45NTJkNzc2LjE5MmQ4OTguMDQ4ZDc3OC4yNGQ4ODcuODA4ZDc5Ny42OTZkOTA0LjE5MmQ4MDYuOTEyZDkxNS40NTZkNzg2LjQzMmQ5MTkuNTUyZDc5MC41MjhkOTA1LjIxNmQ4MTcuMTUyZDgyOC40MTZkODQ2Ljg0OGQ4NjIuMjA4ZDg3NS41MmQ4NTcuMDg4ZDg4MC42NGQ4MjQuMzJkODUxLjk2OGQ4MTUuMTA0ZDg2MS4xODRkODEyLjAzMmQ4NTkuMTM2ZDgzMy41MzZkODMzLjUzNmQ4MzYuNjA4ZDgzNi42MDhkODI4LjQxNmQ4NDYuODQ4ZDc3OS4yNjRkODk3LjAyNGQ3NzcuMjE2ZDkwMy4xNjhkNzcyLjA5NmQ5MDIuMTQ0ZDc2Ni45NzZkOTA0LjE5MmQ3NjAuODMyZDkxMC4zMzZkNzYzLjkwNGQ5MTUuNDU2ZDc2OGQ5MTkuNTUyZDc3NS4xNjhkOTE2LjQ4ZDc3OC4yNGQ5MTUuNDU2ZDc4NC4zODRkOTEzLjQwOGQ3ODkuNTA0ZDkxMy40MDhkNzk0LjYyNGQ5MTMuNDA4ZDc5OC43MmQ5MTguNTI4ZDgwMy44NGQ5MjMuNjQ4ZDgwMS43OTJkOTI5Ljc5MmQ3OTkuNzQ0ZDkzNS45MzZkNzk0LjYyNGQ5NDEuMDU2ZDc4Mi4zMzZkOTQ5LjI0OGQ3NzIuMDk2ZDk0MS4wNTZkNzc3LjIxNmQ5MzUuOTM2ZDc4Mi4zMzZkOTQyLjA4ZDc5MS41NTJkOTM2Ljk2ZDc5OC43MmQ5MjkuNzkyZDc5My42ZDkyMi42MjRkNzkxLjU1MmQ5MTkuNTUyZDc4Ny40NTZkOTE5LjU1MmQ3ODMuMzZkOTE5LjU1MmQ3ODAuMjg4ZDkyMC41NzZkNzc2LjE5MmQ5MjIuNjI0ZDc3MS4wNzJkOTIzLjY0OGQ3NjUuOTUyZDkyMy42NDhkNzYxLjg1NmQ5MjMuNjQ4ZDc1OC43ODRkOTE5LjU1MmQ3NTQuNjg4ZDkxNC40MzJkNzU2LjczNmQ5MDkuMzEyZDc1OC43ODRkOTA0LjE5MmQ3NjMuOTA0ZDg5OS4wNzJkNzcxLjA3MmQ4OTMuOTUyZDc3OS4yNjRkODk3LjAyNGQ3MDUuNTM2ZDkzOS4wMDhkNzI4LjA2NGQ5ODMuMDRkNzIxLjkyZDk4Ny4xMzZkNjk5LjM5MmQ5NDMuMTA0ZDcwNS41MzZkOTM5LjAwOGQ2MjIuNTkyZDk5NC4zMDRkNjQ4LjE5MmQ5ODYuMTEyZDY0My4wNzJkOTY2LjY1NmQ2NDguMTkyZDk2NS42MzJkNjYzLjU1MmQxMDEyLjczNmQ2NTcuNDA4ZDEwMTQuNzg0ZDY1MC4yNGQ5OTIuMjU2ZDYyNC42NGQ5OTkuNDI0ZDYzMS44MDhkMTAyMi45NzZkNjI0LjY0ZDEwMjRkNjEwLjMwNGQ5NzcuOTJkNjE2LjQ0OGQ5NzQuODQ4ZDYyMi41OTJkOTk0LjMwNGQ1MzkuNjQ4ZDEwMTYuODMyZDU0MC42NzJkMTAzNy4zMTFkNTM0LjUyOGQxMDM4LjMzNmQ1MjkuNDA4ZDk4OS4xODRkNTM3LjZkOTg4LjE2ZDU1MC45MTJkOTg3LjEzNmQ1NTUuNTJkOTkwLjIwOGQ1NjAuMTI4ZDk5My4yOGQ1NjEuMTUyZDEwMDAuNDQ4ZDU2Mi4xNzZkMTAxNC43ODRkNTQyLjcyZDEwMTYuODMyZDUzOS42NDhkMTAxNi44MzJkNTM3LjZkOTkzLjI4ZDUzOC42MjRkMTAxMC42ODhkNTQwLjY3MmQxMDEwLjY4OGQ1NDUuNzkyZDEwMTAuNjg4ZDU1MC45MTJkMTAwOC42NGQ1NTYuMDMyZDEwMDYuNTkyZDU1NS4wMDhkMTAwMS40NzJkNTUzLjk4NGQ5OTUuMzI4ZDU0OS4zNzZkOTk0LjMwNGQ1NDQuNzY4ZDk5My4yOGQ1MzkuNjQ4ZDk5My4yOGQ1MzcuNmQ5OTMuMjhkNDYyLjg0OGQxMDIyLjk3NmQ0MzcuMjQ4ZDEwMjAuOTI4ZDQyOS4wNTZkMTAzMS4xNjdkNDIxLjg4OGQxMDMxLjE2N2Q0NTQuNjU2ZDk4My4wNGQ0NzUuMTM2ZDEwMzguMzM2ZDQ2Ny45NjhkMTAzNy4zMTFkNDYyLjg0OGQxMDIyLjk3NmQ0NjAuOGQxMDE2LjgzMmQ0NTIuNjA4ZDk5Ni4zNTJkNDQxLjM0NGQxMDE0Ljc4NGQ0NjAuOGQxMDE2LjgzMmQzNTguNGQ5OTAuMjA4ZDM2Ny42MTZkMTAxNi44MzJkMzU5LjQyNGQxMDE0Ljc4NGQzNTEuMjMyZDk4OC4xNmQzNDkuMTg0ZDk4Ny4xMzZkMzQyLjAxNmQxMDA3LjYxNmQzMzUuODcyZDEwMDQuNTQ0ZDM1Mi4yNTZkOTU4LjQ2NGQzNjAuNDQ4ZDk2MC41MTJkMzYzLjUyZDk2Mi41NmQzNjcuMTA0ZDk2NC42MDhkMzcwLjY4OGQ5NjYuNjU2ZDM3Mi43MzZkOTY4LjcwNGQzNzguODhkOTc0Ljg0OGQzNzUuODA4ZDk4Mi4wMTZkMzcxLjcxMmQ5OTMuMjhkMzU4LjRkOTkwLjIwOGQzNTcuMzc2ZDk2Ni42NTZkMzUxLjIzMmQ5ODMuMDRkMzUyLjI1NmQ5ODUuMDg4ZDM1Ny4zNzZkOTg3LjEzNmQzNjMuMDA4ZDk4Ni42MjRkMzY4LjY0ZDk4Ni4xMTJkMzcwLjY4OGQ5NzkuOTY4ZDM3Mi43MzZkOTc0Ljg0OGQzNjguMTI4ZDk3MS43NzZkMzYzLjUyZDk2OC43MDRkMzU4LjRkOTY2LjY1NmQzNTcuMzc2ZDk2Ni42NTZkMjczLjQwOGQ5NDUuMTUyZDI5MS44NGQ5NTcuNDRkMjkwLjgxNmQ5NTguNDY0ZDI4NS42OTZkOTY2LjY1NmQyNzUuNDU2ZDk2OC43MDRkMjY1LjIxNmQ5NzAuNzUyZDI1NC45NzZkOTY0LjYwOGQyNDQuNzM2ZDk1Ny40NGQyNDIuMTc2ZDk0Ni42ODhkMjM5LjYxNmQ5MzUuOTM2ZDI0NS43NmQ5MjYuNzJkMjUxLjkwNGQ5MTguNTI4ZDI2My4xNjhkOTE2LjQ4ZDI3NC40MzJkOTE0LjQzMmQyODQuNjcyZDkyMC41NzZkMjk1LjkzNmQ5MjguNzY4ZDI5Ny45ODRkOTQzLjEwNGQyOTEuODRkOTQzLjEwNGQyODkuNzkyZDkzMS44NGQyODEuNmQ5MjUuNjk2ZDI3My40MDhkOTIwLjU3NmQyNjUuMjE2ZDkyMi4xMTJkMjU3LjAyNGQ5MjMuNjQ4ZDI1Mi45MjhkOTMwLjgxNmQyNDcuODA4ZDkzNy45ODRkMjQ5LjM0NGQ5NDYuMTc2ZDI1MC44OGQ5NTQuMzY3ZDI1OS4wNzJkOTU5LjQ4OGQyNjQuMTkyZDk2My41ODRkMjcxLjM2ZDk2My4wNzJkMjc4LjUyOGQ5NjIuNTZkMjgyLjYyNGQ5NTcuNDRkMjcwLjMzNmQ5NTAuMjcxZDI3My40MDhkOTQ1LjE1MmQzODUuMDI0ZDczMC4xMTJkNDQ4LjUxMmQ3MDUuNTM2ZDQ0OC41MTJkNDU2LjcwM2Q0OTMuNTY4ZDQzNy4yNDdkNDkzLjU2OGQ2ODcuMTA0ZDU0OC44NjRkNjY0LjU3NmQ1NDguODY0ZDQxMy42OTZkNTkyLjg5NmQzOTYuMjg4ZDU5Mi44OTZkNzYyLjg4ZDU0OC44NjRkNzc4LjI0ZDU0OC44NjRkNzAyLjQ2NGQ0OTMuNTY4ZDcyMy45NjhkNDkzLjU2OGQ3OTkuNzQ0ZDQ0OC41MTJkODE4LjE3NWQ0NDguNTEyZDc0My40MjRkNDEwLjYyNGQ3NTguNzg0ZDQxMC42MjRkNzU4Ljc4NGQ0MDYuNTI4ZDc1NC4xNzVkNDAyLjQzMmQ3NDkuNTY4ZDM4NS4wMjRkNzMwLjExMmQ5NTYuNDE2ZDMyOC43MDNkMTAwMC40NDhkMzI4LjcwM2QxMDAwLjQ0OGQ1NTYuMDMxZDEwMDAuNDQ4ZDYxMi4zNTJkOTUxLjI5NmQ2MjUuNjY0ZDk1MS4yOTZkNzA3LjU4NGQ5MDcuMjY0ZDcwNy41ODRkOTA3LjI2NGQ2MjYuNjg4ZDg1OC4xMTJkNjE0LjRkODU4LjExMmQ1NjEuMTUyZDg1OC4xMTJkMzMzLjgyM2Q5MDEuMTJkMzMwLjc1MWQ5MDEuMTJkNDg0LjM1MmQ5MTEuMzZkNTI0LjI4OGQ5MTEuMzZkNTcxLjM5MmQ5MTEuMzZkNTgwLjYwOGQ5MTkuNTUyZDU4Ni43NTJkOTI5Ljc5MmQ1ODYuNzUyZDk1Ni40MTZkNTg0LjcwNGQ5NTYuNDE2ZDU1Ni4wMzFkOTU2LjQxNmQzMjguNzAzZDgxNi4xMjhkNjU0LjMzNmQ4MTYuMTI4ZDcxMi43MDRkODI3LjM5MmQ2ODguMTI3ZDgzNS41ODRkNjYxLjUwNGQ4NDMuNzc2ZDYzNC44OGQ4NDYuODQ4ZDYwNy4yMzJkODQ3Ljg3MmQ2MTEuMzI4ZDg0OS40MDhkNjE0LjRkODUwLjk0NGQ2MTcuNDcyZDg1Mi45OTJkNjIwLjU0NGQ4NDMuNzc2ZDY4MS45ODNkODEzLjA1NmQ3MzUuMjMyZDc4Mi4zMzZkNzg4LjQ4ZDczNS43NDRkODI3LjkwNGQ2ODkuMTUyZDg2Ny4zMjhkNjI5LjI0OGQ4ODkuMzQ0ZDU2OS4zNDRkOTExLjM2ZDUwMi43ODRkOTExLjM2ZDQ1NS42OGQ5MTEuMzZkNDEyLjY3MmQ5MDAuNjA4ZDM2OS42NjRkODg5Ljg1NmQzMzEuNzc2ZDg2OS4zNzZkMzMzLjgyNGQ4NjcuMzI4ZDMzNC4zMzZkODY2LjMwNGQzMzQuODQ4ZDg2NS4yOGQzMzYuODk2ZDg2My4yMzJkMzczLjc2ZDg4Mi42ODhkNDE1LjIzMmQ4OTMuNDRkNDU2LjcwNGQ5MDQuMTkyZDUwMi43ODRkOTA0LjE5MmQ1NTMuOTg0ZDkwNC4xOTJkNjAxLjZkODkwLjM2N2Q2NDkuMjE2ZDg3Ni41NDRkNjg5LjY2NGQ4NTEuNDU2ZDczMC4xMTJkODI2LjM2N2Q3NjEuODU2ZDc5MS41NTJkNzkzLjZkNzU2LjczNmQ4MTUuMTA0ZDcxNC43NTJkNzcyLjA5NmQ3MTkuODcyZDc3Mi4wOTZkNjYwLjQ4ZDc3Mi4wOTZkNjQ5LjIxNmQ3NjhkNjQ2LjE0NGQ3NjMuOTA0ZDY0My4wNzJkNzUyLjY0ZDY0NS4xMmQ3MTUuNzc2ZDY1Mi4yODhkNzE1Ljc3NmQ3MjkuMDg4ZDY3MS43NDRkNzQwLjM1MmQ2NzEuNzQ0ZDY2My41NTJkNjMzLjg1NmQ2NzIuNzY4ZDYwOC4yNTZkNjQzLjA3MmQ2MDguMjU2ZDY0My4wNzJkNjExLjg0ZDY0Mi4wNDhkNjE1LjQyNGQ2NDEuMDI0ZDYyOS43NmQ2MzYuOTI4ZDY0NC4wOTZkNjMyLjgzMmQ2NzEuNzQ0ZDYyNC42NGQ2NzEuNzQ0ZDM1NC4zMDRkNjczLjc5MmQzNTQuMzA0ZDY4Ni4wOGQzNTQuMzA0ZDY5OC4zNjhkMzU0LjMwNGQ3MjAuMzg0ZDM1OS45MzZkNzQyLjRkMzY1LjU2OGQ3NjEuODU2ZDM3OS45MDRkODE2LjEyOGQ0MTkuODRkODE2LjEyOGQ0OTEuNTJkODE2LjEyOGQ1NTAuOTEyZDc3MC4wNDhkNjAzLjEzNmQ3OTguNzJkNjAzLjEzNmQ4MDkuOTg0ZDYxOC40OTZkODE0LjA4ZDYyMy42MTZkODE1LjEwNGQ2MzAuMjcxZDgxNi4xMjhkNjM2LjkyOGQ4MTYuMTI4ZDY1NC4zMzZkNzMyLjE2ZDU5OC4wMTZkNzcyLjA5NmQ1NTUuMDA4ZDc3Mi4wOTZkNTAwLjczNmQ3NzIuMDk2ZDQ2OC45OTFkNzU5LjI5NmQ0NDkuMDI0ZDc0Ni40OTZkNDI5LjA1NmQ3MzQuMjA4ZDQxOS44NGQ3MjYuMDE2ZDQxMi42NzJkNzIwLjg5NmQ0MTAuMTExZDcxNS43NzZkNDA3LjU1MmQ3MTUuNzc2ZDQwNy41NTJkNzE1Ljc3NmQ2MTMuMzc2ZDcxNS43NzZkNjE0LjRkNzIxLjQwOGQ2MDkuMjhkNzI3LjA0ZDYwNC4xNmQ3MzIuMTZkNTk4LjAxNmQyODcuNzQ0ZDg0MS43MjhkMzAwLjAzMmQ4NDAuNzA0ZDMyNy42OGQ4MzMuNTM2ZDMyNy42OGQ4MDEuNzkyZDMyNy42OGQ1MDIuNzg0ZDM3MS43MTJkNDg2LjRkMzcxLjcxMmQ3ODYuNDMyZDM3MS43MTJkODE5LjJkMzUyLjc2OGQ4NDQuOGQzMzMuODI0ZDg3MC40ZDMwMC4wMzJkODgwLjY0ZDI2Ny4yNjRkODg5Ljg1NmQyNDguODMyZDg3NS41MmQyMzAuNGQ4NjEuMTg0ZDIzMC40ZDgyOC40MTVkMjMwLjRkNTI4LjM4NGQyNzMuNDA4ZDUxOS4xNjhkMjczLjQwOGQ4MjAuMjIzZDI3NC40MzJkODM1LjU4NGQyODEuMDg4ZDgzOC42NTZkMjg3Ljc0NGQ4NDEuNzI4ZDI4Ny43NDRkODQxLjcyOGQyMTYuMDY0ZDgyMi4yNzFkMjE2LjA2NGQ4NDUuODI0ZDIxNi4wNjRkODUwLjk0NGQxOTQuNTZkODMwLjQ2NGQxNzMuMDU2ZDgwMi44MTZkMTY0Ljg2NGQ4MTkuMmQxNTIuNTc2ZDgzNC41NmQxOTMuNTM2ZDg0NS44MjRkMTkzLjUzNmQ4ODQuNzM2ZDE5My41MzZkOTAzLjE2OGQxOTMuNTM2ZDkyOC43NjhkMTc2LjY0ZDk0My42MTZkMTU5Ljc0NGQ5NTguNDY0ZDEzMi4wOTZkOTU4LjQ2NGQ2My40ODhkOTU4LjQ2NGQ2My40ODhkODc1LjUyZDI4LjY3MmQ4NzUuNTJkNy4xNjhkODM0LjU2ZDYzLjQ4OGQ4MzQuNTZkNjMuNDg4ZDU0MS42OTVkNjMuNDg4ZDU0MS42OTVkNzIuMTkyZDU0NC4yNTZkODAuODk2ZDU0Ni44MTZkOTUuMjMyZDU1NS4wMDhkOTguMzA0ZDQ3Ni4xNTlkMTMxLjU4NGQ0MDcuNTUyZDE2NC44NjRkMzM4Ljk0M2QyMTkuNjQ4ZDI4Ny43NDRkMjc0LjQzMmQyMzYuNTQzZDM0Ny4xMzZkMjA3LjM2ZDQxOS44NGQxNzguMTc1ZDUwMi43ODRkMTc4LjE3NWQ2MDkuMjhkMTc4LjE3NWQ2OTguMzY4ZDIyNS43OTJkNzg3LjQ1NmQyNzMuNDA4ZDg0Mi43NTJkMzUzLjI4ZDg0Mi43NTJkMzkyLjE5MmQ4MTguMTc2ZDM0OS4xODNkNzgyLjMzNmQzMTMuMzQzZDc0Ni40OTZkMjc3LjUwNGQ3MDIuNDY0ZDI1MS45MDRkNjU4LjQzMmQyMjYuMzAzZDYwOC4yNTZkMjEyLjQ4ZDU1OC4wOGQxOTguNjU1ZDUwMi43ODRkMTk4LjY1NWQ0MjIuOTEyZDE5OC42NTVkMzUyLjc2OGQyMjcuODRkMjgyLjYyNGQyNTcuMDI0ZDIzMC40ZDMwNi42ODhkMTc4LjE3NmQzNTYuMzUyZDE0Ny40NTZkNDIzLjQyNGQxMTYuNzM2ZDQ5MC40OTZkMTE1LjcxMmQ1NjcuMjk2ZDEyMi44OGQ1NzIuNDE1ZDEzMC4wNDhkNTc5LjA3MmQxMzcuMjE2ZDU4NS43MjhkMTQ1LjQwOGQ1OTMuOTJkMTQ4LjQ4ZDU5Ni45OTJkMTQ5LjUwNGQ1OTkuMDRkMTQ5LjUwNGQ1OTEuODcyZDE0OC45OTJkNTg1LjIxNmQxNDguNDhkNTc4LjU2ZDE0OC40OGQ1NzEuMzkyZDE0OC40OGQ1MDAuNzM2ZDE3Ni4xMjhkNDM4Ljc4NGQyMDMuNzc2ZDM3Ni44MzJkMjUxLjkwNGQzMzAuMjRkMzAwLjAzMmQyODMuNjQ4ZDM2NC41NDRkMjU3LjAyNGQ0MjkuMDU2ZDIzMC4zOTlkNTAyLjc4NGQyMzAuMzk5ZDU2My4yZDIzMC4zOTlkNjE3LjQ3MmQyNDguODMyZDY3MS43NDRkMjY3LjI2NGQ3MTYuMjg4ZDMwMC4wMzJkNzYwLjgzMmQzMzIuNzk5ZDc5My42ZDM3Ny4zNDNkODI2LjM2OGQ0MjEuODg4ZDg0Mi43NTJkNDc1LjEzNWQ4NDIuNzUyZDUwOC45MjhkODMxLjQ4OGQ0NTEuNTgzZDgwMC43NjhkNDAxLjkxOWQ3NzAuMDQ4ZDM1Mi4yNTZkNzI0Ljk5MmQzMTUuOTA0ZDY3OS45MzZkMjc5LjU1MmQ2MjMuMTA0ZDI1OS4wNzJkNTY2LjI3MmQyMzguNTkxZDUwMi43ODRkMjM4LjU5MWQ0MzEuMTA0ZDIzOC41OTFkMzY4LjEyOGQyNjQuNzAzZDMwNS4xNTJkMjkwLjgxNmQyNTguMDQ4ZDMzNi4zODRkMjEwLjk0NGQzODEuOTUyZDE4My44MDhkNDQyLjM2N2QxNTYuNjcyZDUwMi43ODRkMTU2LjY3MmQ1NzEuMzkyZDE1Ni42NzJkNTkxLjg3MmQxNTkuNzQ0ZDYxMS4zMjhkMTc1LjEwNGQ2MzQuODhkMTg0LjMyZDY2Mi41MjhkMTkzLjUzNmQ2OTAuMTc1ZDE5My41MzZkNzE5Ljg3MmQxOTguNjU2ZDczMC4xMTJkMjA0LjI4OGQ3MzkuMzI4ZDIwOS45MmQ3NDguNTQ0ZDIxNi4wNjRkNzU3Ljc2ZDIxNi4wNjRkNzcxLjA3MmQyMDIuNzUyZDc1Mi42NGQxOTIuNTEyZDczNS4yMzJkMTkwLjQ2NGQ3NTkuODA4ZDE4My4yOTZkNzgxLjMxMmQxOTAuNDY0ZDc5Mi41NzZkMTk4LjY1NmQ4MDIuMzA0ZDIwNi44NDhkODEyLjAzMWQyMTYuMDY0ZDgyMi4yNzFkMTUzLjZkODkxLjkwNGQxNTMuNmQ4NzUuNTJkMTM2LjE5MmQ4NzUuNTJkMTAzLjQyNGQ4NzUuNTJkMTAzLjQyNGQ5MTUuNDU2ZDEzNi4xOTJkOTE1LjQ1NmQxNTMuNmQ5MTUuNDU2ZDE1My42ZDg5OC4wNDhkMTUzLjZkODkxLjkwNGQxMTYuNzM2ZDgyMS4yNDhkMTM1LjE2OGQ4MDMuODRkMTQ0LjM4NGQ3NzguMjRkMTUzLjZkNzUyLjY0ZDE1My42ZDcyNC45OTJkMTUzLjZkNjg3LjEwNGQxNDAuOGQ2NjIuNTI4ZDEyOGQ2MzcuOTUyZDExNi43MzZkNjI0LjY0ZDExMS42MTZkNjE5LjUyZDEwNy4wMDhkNjE1LjQyNGQxMDIuNGQ2MTEuMzI4ZDEwMy40MjRkNjExLjMyOGQxMDMuNDI0ZDY0OC4xOTJkMTE0LjY4OGQ2NjIuNTI4ZDEyNS40NGQ2ODYuMDc5ZDEzNi4xOTJkNzA5LjYzMmQxMzcuMjE2ZDc0NC40NDhkMTM3LjIxNmQ3NDUuNDcyZDExMy42NjRkNzAyLjQ2NGQxMDMuNDI0ZDY1My4zMTJkMTAzLjQyNGQ4MzQuNTZkMTE2LjczNmQ4MjEuMjQ4ZDUwMi43ODRkOTQ0LjEyOGQ1NzMuNDRkOTQ0LjEyOGQ2MzYuOTI4ZDkyMS4wODhkNzAwLjQxNmQ4OTguMDQ4ZDc1MS4xMDRkODU3LjZkODAxLjc5MmQ4MTcuMTUyZDgzNi4wOTZkNzYxLjg1NmQ4NzAuNGQ3MDYuNTZkODgzLjcxMmQ2NDIuMDQ4ZDg4NS43NmQ2NDMuMDcyZDg5MS45MDRkNjQ1LjEyZDg5MS45MDRkNjY0LjU3NmQ4OTEuOTA0ZDY4NS4wNTZkODkxLjkwNGQ2OTIuMjIzZDg3MS40MjRkNzUxLjYxNmQ4MzQuMDQ4ZDgwMS4yOGQ3OTYuNjcyZDg1MC45NDRkNzQ1Ljk4NGQ4ODcuMjk2ZDY5NS4yOTZkOTIzLjY0OGQ2MzMuMzQ0ZDk0NC4xMjhkNTcxLjM5MmQ5NjQuNjA4ZDUwMi43ODRkOTY0LjYwOGQ0NDAuMzJkOTY0LjYwOGQzODRkOTQ3LjJkMzI3LjY4ZDkyOS43OTJkMjc4LjUyOGQ5MDAuMDk2ZDI4MC41NzZkODk5LjA3MmQyODEuNmQ4OTkuMDcyZDI4My42NDhkODk5LjA3MmQyODUuNjk2ZDg5OC4wNDhkMjkwLjgxNmQ4OTZkMjk0LjkxMmQ4OTQuNDY0ZDI5OS4wMDhkODkyLjkyOGQzMDMuMTA0ZDg5MC44OGQzNDcuMTM2ZDkxNi40OGQzOTcuMzEyZDkzMC4zMDRkNDQ3LjQ4OGQ5NDQuMTI4ZDUwMi43ODRkOTQ0LjEyOGhSM2QxMDA0LjU0NFI0ZDEwMDAuNDQ4UjVkNy4xNjhSNmQ4NDUuODI0UjdkLTE0LjMzNlI4ZDgzOC42NTZSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMzVSMTJkNy4xNjhSMTNkMTAwNC41NDRSMTRhaTFpMmkzaTJpMmkyaTNpM2kyaTJpMmkzaTJpMmkxaTJpMmkzaTNpMmkyaTJpM2kzaTNpMmkxaTJpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTJpM2kzaTNpM2kyaTJpMWkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkxaTJpMmkyaTJpMmkyaTJpMmkxaTJpM2kzaTNpMmkzaTNpM2kzaTNpMmkzaTNpM2kzaTJpM2kzaTNpM2kzaTFpMmkyaTJpMmkxaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaTFpMmkyaTJpMmkzaTNpM2kyaTFpMmkyaTNpM2kzaTNpMmkxaTJpMmkyaTJpMmkyaTJpMWkyaTJpMmkxaTJpMmkyaTJpMmkyaTJpMmkzaTNpM2kzaTFpMmkyaTNpM2kzaTNpMmkxaTJpMmkzaTNpM2kzaTNpM2kzaTJpM2kzaTNpM2kzaTNpM2kyaTJpMWkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkzaTNpMWkyaTJpM2kyaTJpMmkzaTJpMmkyaTNpMmkzaTNpMmkxaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkyaTNpM2kyaTJpMmkyaTJpMmkzaTNpM2kyaTNpM2kzaTNpM2kzaTNpM2kxaTNpM2kzaTNpM2kyaTNpM2kxaTJpM2kyaTJpMmkzaTNpM2kzaTJpMmkyaTNpM2kxaTJpMmkzaTNpM2kyaTNpM2kyaTJpMmkyaTJpMmkzaTNpM2kzaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkzaTNpM2kzaTFpM2kyaTJpMmkzaTJpMWkzaTNpM2kzaTNpM2kyaTNpM2kyaTNpMmkyaTFpM2kzaTNpM2kzaTJpMmkyaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaGc6MTQ3b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE0N1IxMmQwUjEzZDEwMjRSMTRhaGc6MzRvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMzRSMTJkMFIxM2QxMDI0UjE0YWhnOjE0Nm9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNDZSMTJkMFIxM2QxMDI0UjE0YWhnOjMzb1IxZDEwMTMuNzZSMmFkNDMwLjA4ZDEwNTUuNzQ0ZDM5OC4zMzZkMTA0NC40OGQzNzMuMjQ4ZDEwMjYuNTZkMzQ4LjE2ZDEwMDguNjRkMzMyLjI4OGQ5ODcuMTM2ZDMxNi40MTZkOTY1LjYzMmQzMTAuNzg0ZDk0Mi4wOGQzMDUuMTUyZDkxOC41MjhkMzEzLjM0NGQ4OTcuMDI0ZDMyMC41MTJkODc1LjUyZDMzOC45NDRkODYwLjE2ZDM1Ny4zNzZkODQ0LjhkMzgzLjQ4OGQ4MzcuNjMyZDQwOS42ZDgzMC40NjRkNDQwLjMyZDgzMmQ0NzEuMDRkODMzLjUzNmQ1MDIuNzg0ZDg0My43NzZkNTM0LjUyOGQ4NTUuMDRkNTU5LjYxNmQ4NzIuOTZkNTg0LjcwNGQ4OTAuODhkNjAwLjU3NmQ5MTIuMzg0ZDYxNi40NDhkOTMzLjg4OGQ2MjEuNTY4ZDk1Ny40NGQ2MjYuNjg4ZDk4MC45OTJkNjE5LjUyZDEwMDIuNDk2ZDYxMi4zNTJkMTAyNGQ1OTMuOTJkMTAzOC44NDhkNTc1LjQ4OGQxMDUzLjY5NmQ1NDkuMzc2ZDEwNjEuMzc2ZDUyMy4yNjRkMTA2OS4wNTZkNDkyLjU0NGQxMDY4LjAzMmQ0NjEuODI0ZDEwNjcuMDA4ZDQzMC4wOGQxMDU1Ljc0NGQ2MjYuNjg4ZDgxNi4xMjdkNjAwLjA2NGQ3OTcuNjk2ZDU2NS43NmQ3ODUuOTJkNTMxLjQ1NmQ3NzQuMTQ0ZDQ5Mi41NDRkNzcxLjA3MmQ0NTQuNjU2ZDc2OGQ0MjAuMzUyZDc3My42MzJkMzg2LjA0OGQ3NzkuMjY0ZDM1Ny4zNzZkNzkyLjU3NmQ0MTEuNjQ4ZDgzLjk2N2Q3MTQuNzUyZDcxLjY3OWQ2MjYuNjg4ZDgxNi4xMjdoUjNkNzkyLjU3NlI0ZDcxNC43NTJSNWQzMDUuMTUyUjZkOTUyLjMyUjdkLTQ1LjA1NlI4ZDY0Ny4xNjhSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMzNSMTJkMzA1LjE1MlIxM2Q3OTIuNTc2UjE0YWkxaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMWkzaTNpM2kzaTJpMmkyaGc6MTQ1b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE0NVIxMmQwUjEzZDEwMjRSMTRhaGc6MzJvUjFkMTAxMy43NlIyYWhSM2QzMDcuMlI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTMyUjEyZDBSMTNkMzA3LjJSMTRhaGc6MTQ0b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE0NFIxMmQwUjEzZDEwMjRSMTRhaGc6MTQzb1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTE0M1IxMmQwUjEzZDEwMjRSMTRhaGc6MjU1b1IxZDEwMTMuNzZSMmFkNDMxLjEwNGQzMjUuNjMxZDI5NC45MTJkMzI0LjYwN2QyODIuNjI0ZDIyNi4zMDNkNDE5Ljg0ZDIxNi4wNjNkNDMxLjEwNGQzMjUuNjMxZDIxNS4wNGQzMjUuNjMxZDc4Ljg0OGQzMjQuNjA3ZDY2LjU2ZDIyNi4zMDNkMjAzLjc3NmQyMTYuMDYzZDIxNS4wNGQzMjUuNjMxZDI2Mi4xNDRkNjM2LjkyOGQxOTMuNTM2ZDQxMS42NDhkLTI5LjY5NmQ0MzkuMjk1ZDE2Mi44MTZkOTQzLjEwNGQ3NC43NTJkMTE4NC43NjhkMzA3LjJkMTIwMy4yZDUyNS4zMTJkNDMwLjA4ZDMxNC4zNjhkNDExLjY0OGQyNjQuMTkyZDYzNi45MjhkMjYyLjE0NGQ2MzYuOTI4aFIzZDUwMC43MzZSNGQ1MjUuMzEyUjVkLTI5LjY5NlI2ZDgwNy45MzZSN2QtMTc5LjJSOGQ4MzcuNjMyUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTI1NVIxMmQtMjkuNjk2UjEzZDUwMC43MzZSMTRhaTFpMmkyaTJpMmkxaTJpMmkyaTJpMWkyaTJpMmkyaTJpMmkyaTJpMmhnOjE0Mm9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNDJSMTJkMFIxM2QxMDI0UjE0YWhnOjI1NG9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyNTRSMTJkMFIxM2QxMDI0UjE0YWhnOjE0MW9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNDFSMTJkMFIxM2QxMDI0UjE0YWhnOjI1M29SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyNTNSMTJkMFIxM2QxMDI0UjE0YWhnOjE0MG9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxNDBSMTJkMFIxM2QxMDI0UjE0YWhnOjI1Mm9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyNTJSMTJkMFIxM2QxMDI0UjE0YWhnOjEzOW9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxMzlSMTJkMFIxM2QxMDI0UjE0YWhnOjI1MW9SMWQxMDEzLjc2UjJhZDM2My41MmQxMDI2LjA0OGQ1NTEuOTM2ZDEwMTYuODMyZDU2Ny4yOTZkNDA3LjU1MmQzMzEuNzc2ZDQyNS45ODRkMzM3LjkyZDc4Ny40NTZkMzM4Ljk0NGQ4MTMuMDU2ZDMyNi4xNDRkODIyLjc4NGQzMTMuMzQ0ZDgzMi41MTJkMjkyLjg2NGQ4MzIuNTEyZDI2OC4yODhkODMyLjUxMmQyNTYuNTEyZDgyMi4yNzFkMjQ0LjczNmQ4MTIuMDMxZDI0NS43NmQ3ODYuNDMyZDI1MS45MDRkNDA3LjU1MmQyMy41NTJkNDI1Ljk4NGQyMy41NTJkODU2LjA2NGQyMy41NTJkOTQzLjEwNGQ3MS4xNjhkOTg5LjE4NGQxMTguNzg0ZDEwMzUuMjYzZDE5NS41ODRkMTAzNS4yNjNkMjUzLjk1MmQxMDM1LjI2M2QyOTcuNDcyZDEwMTEuNzEyZDM0MC45OTJkOTg4LjE2ZDM2MS40NzJkOTMwLjgxNmQzNjMuNTJkOTMwLjgxNmQzNjMuNTJkMTAyNi4wNDhkMjk2Ljk2ZDI4MC41NzZkMjMzLjQ3MmQzNjYuNTkyZDEwNC40NDhkMzA4LjIyM2QyMTguMTEyZDE5Ni42MDdkMzc1LjgwOGQxOTYuNjA3ZDQ4My4zMjhkMzE1LjM5MWQzNjAuNDQ4ZDM2Ni41OTJkMjk2Ljk2ZDI4MC41NzZoUjNkNTkyLjg5NlI0ZDU2Ny4yOTZSNWQyMy41NTJSNmQ4MjcuMzkyUjdkLTExLjI2NFI4ZDgwMy44NFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyNTFSMTJkMjMuNTUyUjEzZDU5Mi44OTZSMTRhaTFpMmkyaTJpMmkzaTNpM2kzaTJpMmkyaTNpM2kzaTNpMmkyaTFpMmkyaTJpMmkyaTJpMmhnOjEzOG9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxMzhSMTJkMFIxM2QxMDI0UjE0YWhnOjI1MG9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyNTBSMTJkMFIxM2QxMDI0UjE0YWhnOjEzN29SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxMzdSMTJkMFIxM2QxMDI0UjE0YWhnOjI0OW9SMWQxMDEzLjc2UjJhZDM3MC42ODhkMTAyOC4wOTZkNTYwLjEyOGQxMDE4Ljg4ZDU3NC40NjRkNDA5LjZkMzM5Ljk2OGQ0MjguMDMyZDM0Ni4xMTJkNzg5LjUwNGQzNDYuMTEyZDgxNS4xMDRkMzMzLjMxMmQ4MjQuODMyZDMyMC41MTJkODM0LjU2ZDMwMC4wMzJkODM0LjU2ZDI3Ni40OGQ4MzQuNTZkMjY0LjcwNGQ4MjQuMzE5ZDI1Mi45MjhkODE0LjA3OWQyNTIuOTI4ZDc4OC40OGQyNTkuMDcyZDQwOS42ZDMwLjcyZDQyOC4wMzJkMzAuNzJkODU4LjExMmQzMC43MmQ5MDEuMTJkNDMuNTJkOTM0LjkxMmQ1Ni4zMmQ5NjguNzA0ZDc4Ljg0OGQ5OTEuMjMyZDEwMS4zNzZkMTAxMy43NmQxMzMuMTJkMTAyNS41MzZkMTY0Ljg2NGQxMDM3LjMxMWQyMDIuNzUyZDEwMzcuMzExZDI2MS4xMmQxMDM3LjMxMWQzMDQuNjRkMTAxMy43NmQzNDguMTZkOTkwLjIwOGQzNjguNjRkOTMyLjg2NGQzNzAuNjg4ZDkzMi44NjRkMzcwLjY4OGQxMDI4LjA5NmQyOTcuOTg0ZDE2My44NGQ0MTIuNjcyZDMzMi43OTlkMzMxLjc3NmQzNzQuNzg0ZDE0OS41MDRkMjQ1Ljc2ZDI5Ny45ODRkMTYzLjg0aFIzZDYwNi4yMDhSNGQ1NzQuNDY0UjVkMzAuNzJSNmQ4NjAuMTZSN2QtMTMuMzEyUjhkODI5LjQ0UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTI0OVIxMmQzMC43MlIxM2Q2MDYuMjA4UjE0YWkxaTJpMmkyaTJpM2kzaTNpM2kyaTJpMmkzaTNpM2kzaTNpM2kyaTJpMWkyaTJpMmkyaGc6MTM2b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTEzNlIxMmQwUjEzZDEwMjRSMTRhaGc6MjQ4b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTI0OFIxMmQwUjEzZDEwMjRSMTRhaGc6MTM1b1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTEzNVIxMmQwUjEzZDEwMjRSMTRhaGc6MjQ3b1IxZDEwMTMuNzZSMmFkNDMwLjA4ZDEwMjRkNDU4Ljc1MmQxMDE0Ljc4NGQ0ODEuMjhkOTk4LjRkNTAzLjgwOGQ5ODIuMDE2ZDUxOC4xNDRkOTYyLjU2ZDUzMi40OGQ5NDMuMTA0ZDUzNy42ZDkyMi4xMTJkNTQyLjcyZDkwMS4xMmQ1MzUuNTUyZDg4MS42NjRkNTI5LjQwOGQ4NjIuMjA4ZDUxMi41MTJkODQ4LjM4NGQ0OTUuNjE2ZDgzNC41NmQ0NzIuNTc2ZDgyNy45MDRkNDQ5LjUzNmQ4MjEuMjQ4ZDQyMS4zNzZkODIyLjI3MWQzOTMuMjE2ZDgyMy4yOTZkMzY0LjU0NGQ4MzMuNTM2ZDMzNS44NzJkODQyLjc1MmQzMTMuMzQ0ZDg1OS4xMzZkMjkwLjgxNmQ4NzUuNTJkMjc2LjQ4ZDg5NC45NzZkMjYyLjE0NGQ5MTQuNDMyZDI1Ny4wMjRkOTM1LjQyNGQyNTEuOTA0ZDk1Ni40MTVkMjU5LjA3MmQ5NzUuODcyZDI2NS4yMTZkOTk2LjM1MmQyODIuMTEyZDEwMDkuNjY0ZDI5OS4wMDhkMTAyMi45NzZkMzIyLjA0OGQxMDI5LjYzMmQzNDUuMDg4ZDEwMzYuMjg4ZDM3My4yNDhkMTAzNS4yNjNkNDAxLjQwOGQxMDM0LjI0ZDQzMC4wOGQxMDI0ZDQ3My4wODhkNTMyLjQ4ZDUwMS43NmQ1MjMuMjY0ZDUyNC4yODhkNTA2Ljg4ZDU0Ni44MTZkNDkwLjQ5NmQ1NjEuMTUyZDQ3MS4wMzlkNTc1LjQ4OGQ0NTEuNTgzZDU4MC42MDhkNDMwLjU5MmQ1ODUuNzI4ZDQwOS42ZDU3OC41NmQzOTAuMTQ0ZDU3Mi40MTZkMzcwLjY4OGQ1NTUuNTJkMzU2Ljg2NGQ1MzguNjI0ZDM0My4wMzlkNTE1LjU4NGQzMzYuMzg0ZDQ5Mi41NDRkMzI5LjcyN2Q0NjQuMzg0ZDMzMC43NTFkNDM2LjIyNGQzMzEuNzc1ZDQwNy41NTJkMzQyLjAxNWQzNzguODhkMzUxLjIzMmQzNTYuMzUyZDM2Ny42MTZkMzMzLjgyNGQzODRkMzE4Ljk3NmQ0MDMuNDU2ZDMwNC4xMjhkNDIyLjkxMmQyOTkuNTJkNDQzLjkwNGQyOTQuOTEyZDQ2NC44OTVkMzAxLjA1NmQ0ODQuMzUyZDMwOC4yMjRkNTA0LjgzMmQzMjUuMTJkNTE4LjE0NGQzNDIuMDE2ZDUzMS40NTZkMzY1LjA1NmQ1MzguMTEyZDM4OC4wOTZkNTQ0Ljc2OGQ0MTYuMjU2ZDU0My43NDNkNDQ0LjQxNmQ1NDIuNzJkNDczLjA4OGQ1MzIuNDhkMjMuNTUyZDc0OC41NDRkNzgyLjMzNmQ3MzQuMjA4ZDc5Mi41NzZkNjA4LjI1NmQzMi43NjhkNjQxLjAyNGQyMy41NTJkNzQ4LjU0NGhSM2Q4MTguMTc2UjRkNzkyLjU3NlI1ZDIzLjU1MlI2ZDY5NC4yNzJSN2QtMTIuMjg4UjhkNjcwLjcyUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTI0N1IxMmQyMy41NTJSMTNkODE4LjE3NlIxNGFpMWkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kxaTJpMmkyaTJoZzoxMzRvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTM0UjEyZDBSMTNkMTAyNFIxNGFoZzoyNDZvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjQ2UjEyZDBSMTNkMTAyNFIxNGFoZzoxMzNvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTMzUjEyZDBSMTNkMTAyNFIxNGFoZzoyNDVvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjQ1UjEyZDBSMTNkMTAyNFIxNGFoZzoxMzJvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTMyUjEyZDBSMTNkMTAyNFIxNGFoZzoyNDRvUjFkMTAxMy43NlIyYWQ2MzQuODhkNjgwLjk2ZDYyNC42NGQ2MTAuMzA0ZDU5MS44NzJkNTU2LjAzMWQ1NTkuMTA0ZDUwMS43NmQ1MDkuOTUyZDQ2Ny40NTZkNDYwLjhkNDMzLjE1MmQzOTguODQ4ZDQxOS44NGQzMzYuODk2ZDQwNi41MjhkMjY4LjI4OGQ0MTUuNzQ0ZDE5OS42OGQ0MjQuOTZkMTQzLjg3MmQ0NTUuMTY4ZDg4LjA2NGQ0ODUuMzc2ZDUwLjE3NmQ1MzEuOTY4ZDEyLjI4OGQ1NzguNTZkLTQuNjA4ZDYzOS40ODhkLTIxLjUwNGQ3MDAuNDE1ZC0xMS4yNjRkNzcxLjA3MmQtMS4wMjRkODQxLjcyOGQzMS43NDRkODk2ZDY0LjUxMmQ5NTAuMjcxZDExMy42NjRkOTg0LjU3NmQxNjIuODE2ZDEwMTguODhkMjI0Ljc2OGQxMDMyLjE5MmQyODYuNzJkMTA0NS41MDNkMzU1LjMyOGQxMDM2LjI4OGQ0MjMuOTM2ZDEwMjcuMDcxZDQ3OS43NDRkOTk2Ljg2NGQ1MzUuNTUyZDk2Ni42NTZkNTczLjQ0ZDkyMC4wNjRkNjExLjMyOGQ4NzMuNDcyZDYyOC4yMjRkODEyLjU0NGQ2NDUuMTJkNzUxLjYxNmQ2MzQuODhkNjgwLjk2ZDIwNC44ZDc2OGQxODcuMzkyZDcyOS4wODhkMjA1LjMxMmQ2OTMuMjQ4ZDIyMy4yMzJkNjU3LjQwOGQyNzEuMzZkNjM2LjkyOGQzMTkuNDg4ZDYxNi40NDhkMzU3LjM3NmQ2MjkuMjQ4ZDM5NS4yNjRkNjQyLjA0OGQ0MTEuNjQ4ZDY4MC45NmQ0MjkuMDU2ZDcyMC44OTZkNDExLjEzNmQ3NTYuMjIzZDM5My4yMTZkNzkxLjU1MmQzNDUuMDg4ZDgxMi4wMzFkMjk2Ljk2ZDgzMi41MTJkMjU5LjU4NGQ4MjAuMjIzZDIyMi4yMDhkODA3LjkzNmQyMDQuOGQ3NjhkMzkzLjIxNmQyMDQuNzk5ZDUwMS43NmQzMjMuNTgzZDM3Ny44NTZkMzc0Ljc4NGQzMTUuMzkyZDI4OC43NjhkMjUwLjg4ZDM3NC43ODRkMTIxLjg1NmQzMTYuNDE1ZDIzNi41NDRkMjA0Ljc5OWQzOTMuMjE2ZDIwNC43OTloUjNkNjIzLjYxNlI0ZDY0NS4xMlI1ZC0yMS41MDRSNmQ4MTkuMlI3ZC0yMS41MDRSOGQ4NDAuNzA0UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTI0NFIxMmQtMjEuNTA0UjEzZDYyMy42MTZSMTRhaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kxaTNpM2kzaTNpM2kzaTNpM2kxaTJpMmkyaTJpMmkyaTJoZzoxMzFvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTMxUjEyZDBSMTNkMTAyNFIxNGFoZzoyNDNvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjQzUjEyZDBSMTNkMTAyNFIxNGFoZzoxMzBvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTMwUjEyZDBSMTNkMTAyNFIxNGFoZzoyNDJvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjQyUjEyZDBSMTNkMTAyNFIxNGFoZzoxMjlvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTI5UjEyZDBSMTNkMTAyNFIxNGFoZzoyNDFvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjQxUjEyZDBSMTNkMTAyNFIxNGFoZzoxMjhvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTI4UjEyZDBSMTNkMTAyNFIxNGFoZzoyNDBvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjQwUjEyZDBSMTNkMTAyNFIxNGFoZzoxMjdvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTI3UjEyZDBSMTNkMTAyNFIxNGFoZzoyMzlvUjFkMTAxMy43NlIyYWQzNDAuOTkyZDMyNy42NzlkMjA1LjgyNGQzMjYuNjU1ZDE5My41MzZkMjI4LjM1MWQzMjkuNzI4ZDIxOC4xMTFkMzQwLjk5MmQzMjcuNjc5ZDEyNC45MjhkMzI3LjY3OWQtMTAuMjRkMzI2LjY1NWQtMjIuNTI4ZDIyOC4zNTFkMTEzLjY2NGQyMTguMTExZDEyNC45MjhkMzI3LjY3OWQ1Ny4zNDRkMTAzMi4xOTJkMjYzLjE2OGQxMDEzLjc2ZDI3OS41NTJkNDIyLjkxMmQ1Ny4zNDRkNDQxLjM0M2Q1Ny4zNDRkMTAzMi4xOTJoUjNkMzMwLjc1MlI0ZDM0MC45OTJSNWQtMjIuNTI4UjZkODA1Ljg4OFI3ZC04LjE5MlI4ZDgyOC40MTZSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjM5UjEyZC0yMi41MjhSMTNkMzMwLjc1MlIxNGFpMWkyaTJpMmkyaTFpMmkyaTJpMmkxaTJpMmkyaTJoZzoxMjZvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTI2UjEyZDBSMTNkMTAyNFIxNGFoZzoyMzhvUjFkMTAxMy43NlIyYWQyNDIuNjg4ZDIwOC44OTVkMzUwLjIwOGQzMjcuNjc5ZDIyNy4zMjhkMzc4Ljg4ZDE2My44NGQyOTIuODY0ZDEwMC4zNTJkMzc4Ljg4ZC0yOC42NzJkMzIwLjUxMWQ4NC45OTJkMjA4Ljg5NWQyNDIuNjg4ZDIwOC44OTVkNjMuNDg4ZDEwMzIuMTkyZDI2OS4zMTJkMTAxMy43NmQyODUuNjk2ZDQyMi45MTJkNjMuNDg4ZDQ0MS4zNDNkNjMuNDg4ZDEwMzIuMTkyaFIzZDMzNi44OTZSNGQzNTAuMjA4UjVkLTI4LjY3MlI2ZDgxNS4xMDRSN2QtOC4xOTJSOGQ4NDMuNzc2UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIzOFIxMmQtMjguNjcyUjEzZDMzNi44OTZSMTRhaTFpMmkyaTJpMmkyaTJpMmkxaTJpMmkyaTJoZzoxMjVvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTI1UjEyZDBSMTNkMTAyNFIxNGFoZzoyMzdvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjM3UjEyZDBSMTNkMTAyNFIxNGFoZzoxMjRvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTI0UjEyZDBSMTNkMTAyNFIxNGFoZzoyMzZvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjM2UjEyZDBSMTNkMTAyNFIxNGFoZzoxMjNvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTIzUjEyZDBSMTNkMTAyNFIxNGFoZzoyMzVvUjFkMTAxMy43NlIyYWQzNDMuMDRkODM4LjY1NmQzODkuMTJkODM4LjY1NmQ0MjEuODg4ZDgyMS43NmQ0NTQuNjU2ZDgwNC44NjRkNDgxLjI4ZDc4MS4zMTJkNTgyLjY1NmQ5NDcuMmQ1MjAuMTkyZDk5Mi4yNTZkNDU0LjY1NmQxMDEyLjczNmQzODkuMTJkMTAzMy4yMTVkMzA0LjEyOGQxMDMzLjIxNWQyMzQuNDk2ZDEwMzMuMjE1ZDE3Ni42NGQxMDA5LjE1MmQxMTguNzg0ZDk4NS4wODhkNzYuOGQ5NDQuMTI4ZDM0LjgxNmQ5MDMuMTY4ZDExLjI2NGQ4NDguMzg0ZC0xMi4yODhkNzkzLjZkLTEyLjI4OGQ3MzIuMTZkLTEyLjI4OGQ2NTUuMzZkMTIuMjg4ZDU5NC45NDRkMzYuODY0ZDUzNC41MjhkNzguODQ4ZDQ5Mi4wMzJkMTIwLjgzMmQ0NDkuNTM1ZDE3Ni42NGQ0MjcuNTJkMjMyLjQ0OGQ0MDUuNTA0ZDI5NS45MzZkNDA1LjUwNGQzOTguMzM2ZDQwNS41MDRkNDczLjZkNDU3LjcyN2Q1NDguODY0ZDUwOS45NTJkNTg1LjcyOGQ1OTYuOTkyZDI3OS41NTJkODI4LjQxNWQyOTAuODE2ZDgzNC41NmQzMDkuMjQ4ZDgzNi42MDhkMzI3LjY4ZDgzOC42NTZkMzQzLjA0ZDgzOC42NTZkMjAxLjcyOGQ2ODUuMDU2ZDIwMS43MjhkNzA0LjUxMmQyMDQuMjg4ZDcxMS42OGQyMDYuODQ4ZDcxOC44NDhkMjA5LjkyZDcyNy4wNGQzNjMuNTJkNjExLjMyOGQzNDkuMTg0ZDU5My45MmQzMzIuMjg4ZDU4Ny43NzZkMzE1LjM5MmQ1ODEuNjMyZDI5My44ODhkNTgxLjYzMmQyNzMuNDA4ZDU4MS42MzJkMjU2LjUxMmQ1OTAuODQ4ZDIzOS42MTZkNjAwLjA2NGQyMjcuMzI4ZDYxNC40ZDIxNS4wNGQ2MjguNzM2ZDIwOC4zODRkNjQ3LjE2OGQyMDEuNzI4ZDY2NS41OTlkMjAxLjcyOGQ2ODUuMDU2ZDQ4MC4yNTZkMzE5LjQ4N2QzNDQuMDY0ZDMxOC40NjNkMzMyLjhkMjIwLjE1OWQ0NjguOTkyZDIwOS45MTlkNDgwLjI1NmQzMTkuNDg3ZDI2NC4xOTJkMzE5LjQ4N2QxMjhkMzE4LjQ2M2QxMTYuNzM2ZDIyMC4xNTlkMjUyLjkyOGQyMDkuOTE5ZDI2NC4xOTJkMzE5LjQ4N2hSM2Q1OTguMDE2UjRkNTg1LjcyOFI1ZC0xMi4yODhSNmQ4MTQuMDhSN2QtOS4yMTZSOGQ4MjYuMzY4UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIzNVIxMmQtMTIuMjg4UjEzZDU5OC4wMTZSMTRhaTFpM2kzaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkzaTNpMWkzaTNpMmkzaTNpM2kzaTNpM2kxaTJpMmkyaTJpMWkyaTJpMmkyaGc6MTIyb1IxZDEwMTMuNzZSMmFkMTIuMjg4ZDY0My4wNzJkMTU4LjcyZDY0My4wNzJkLTE1LjM2ZDEwMjAuOTI4ZDQ0OC41MTJkMTAyMC45MjhkNDkyLjU0NGQ4MDcuOTM2ZDMxMC4yNzJkODA3LjkzNmQ0ODIuMzA0ZDQzMC4wOGQ1NS4yOTZkNDMwLjA4ZDEyLjI4OGQ2NDMuMDcyaFIzZDQ5Ny42NjRSNGQ0OTIuNTQ0UjVkLTE1LjM2UjZkNTkzLjkyUjdkMy4wNzJSOGQ2MDkuMjhSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTIyUjEyZC0xNS4zNlIxM2Q0OTcuNjY0UjE0YWkxaTJpMmkyaTJpMmkyaTJpMmhnOjIzNG9SMWQxMDEzLjc2UjJhZDMwNC4xMjhkMjg4Ljc2OGQyNDAuNjRkMzc0Ljc4NGQxMTEuNjE2ZDMxNi40MTVkMjI1LjI4ZDIwNC43OTlkMzgyLjk3NmQyMDQuNzk5ZDQ5MC40OTZkMzIzLjU4M2QzNjcuNjE2ZDM3NC43ODRkMzA0LjEyOGQyODguNzY4ZDI5NS45MzZkNDA5LjZkMzk4LjMzNmQ0MDkuNmQ0NzMuNmQ0NjEuODIzZDU0OC44NjRkNTE0LjA0OGQ1ODUuNzI4ZDYwMS4wODhkMjc5LjU1MmQ4MzIuNTEyZDI5MC44MTZkODM4LjY1NmQzMDkuMjQ4ZDg0MC43MDRkMzI3LjY4ZDg0Mi43NTJkMzQzLjA0ZDg0Mi43NTJkMzg5LjEyZDg0Mi43NTJkNDIxLjg4OGQ4MjUuODU2ZDQ1NC42NTZkODA4Ljk2ZDQ4MS4yOGQ3ODUuNDA4ZDU4Mi42NTZkOTUxLjI5NmQ1MjAuMTkyZDk5Ni4zNTJkNDU0LjY1NmQxMDE2LjgzMmQzODkuMTJkMTAzNy4zMTFkMzA0LjEyOGQxMDM3LjMxMWQyMzQuNDk2ZDEwMzcuMzExZDE3Ni42NGQxMDEzLjI0OGQxMTguNzg0ZDk4OS4xODRkNzYuOGQ5NDguMjI0ZDM0LjgxNmQ5MDcuMjY0ZDExLjI2NGQ4NTIuNDhkLTEyLjI4OGQ3OTcuNjk2ZC0xMi4yODhkNzM2LjI1NmQtMTIuMjg4ZDY1OS40NTZkMTIuMjg4ZDU5OS4wNGQzNi44NjRkNTM4LjYyNGQ3OC44NDhkNDk2LjEyOGQxMjAuODMyZDQ1My42MzFkMTc2LjY0ZDQzMS42MTZkMjMyLjQ0OGQ0MDkuNmQyOTUuOTM2ZDQwOS42ZDIwOS45MmQ3MzEuMTM2ZDM2My41MmQ2MTUuNDI0ZDM0OS4xODRkNTk4LjAxNmQzMzIuMjg4ZDU5MS44NzJkMzE1LjM5MmQ1ODUuNzI4ZDI5My44ODhkNTg1LjcyOGQyNzMuNDA4ZDU4NS43MjhkMjU2LjUxMmQ1OTQuOTQ0ZDIzOS42MTZkNjA0LjE2ZDIyNy4zMjhkNjE4LjQ5NmQyMTUuMDRkNjMyLjgzMmQyMDguMzg0ZDY1MS4yNjRkMjAxLjcyOGQ2NjkuNjk1ZDIwMS43MjhkNjg5LjE1MmQyMDEuNzI4ZDcwOC42MDhkMjA0LjI4OGQ3MTUuNzc2ZDIwNi44NDhkNzIyLjk0NGQyMDkuOTJkNzMxLjEzNmhSM2Q1OTIuODk2UjRkNTg1LjcyOFI1ZC0xMi4yODhSNmQ4MTkuMlI3ZC0xMy4zMTJSOGQ4MzEuNDg4UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIzNFIxMmQtMTIuMjg4UjEzZDU5Mi44OTZSMTRhaTFpMmkyaTJpMmkyaTJpMmkxaTNpM2kyaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTFpMmkzaTNpM2kzaTNpM2kzaTNoZzoxMjFvUjFkMTAxMy43NlIyYWQyNzYuNDhkNjQ3LjE2OGQyMDcuODcyZDQyMS44ODhkLTE1LjM2ZDQ0OS41MzVkMTc3LjE1MmQ5NTMuMzQ0ZDg5LjA4OGQxMTkzLjk4NGQzMjAuNTEyZDEyMTIuNDE2ZDUzOS42NDhkNDQwLjMxOWQzMjguNzA0ZDQyMS44ODhkMjc4LjUyOGQ2NDcuMTY4ZDI3Ni40OGQ2NDcuMTY4aFIzZDUxNC4wNDhSNGQ1MzkuNjQ4UjVkLTE1LjM2UjZkNjAyLjExMlI3ZC0xODguNDE2UjhkNjE3LjQ3MlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxMjFSMTJkLTE1LjM2UjEzZDUxNC4wNDhSMTRhaTFpMmkyaTJpMmkyaTJpMmkyaTJoZzoyMzNvUjFkMTAxMy43NlIyYWQ0NDkuNTM2ZDI1My45NTJkMjY2LjI0ZDM4Mi45NzZkMTg2LjM2OGQzNDAuOTkxZDMwMS4wNTZkMTcyLjAzMWQ0NDkuNTM2ZDI1My45NTJkMjk1LjkzNmQ0MTEuNjQ4ZDM5OC4zMzZkNDExLjY0OGQ0NzMuNmQ0NjMuODcxZDU0OC44NjRkNTE2LjA5NmQ1ODUuNzI4ZDYwMy4xMzZkMjc4LjUyOGQ4MzQuNTZkMjkwLjgxNmQ4NDAuNzA0ZDMwOS4yNDhkODQyLjc1MmQzMjcuNjhkODQ0LjhkMzQzLjA0ZDg0NC44ZDM4OS4xMmQ4NDQuOGQ0MjEuMzc2ZDgyNy45MDRkNDUzLjYzMmQ4MTEuMDA4ZDQ4MS4yOGQ3ODcuNDU2ZDU4MS42MzJkOTUzLjM0NGQ1MjAuMTkyZDk5OC40ZDQ1NC4xNDRkMTAxOC44OGQzODguMDk2ZDEwMzkuMzU5ZDMwNC4xMjhkMTAzOS4zNTlkMjM0LjQ5NmQxMDM5LjM1OWQxNzYuMTI4ZDEwMTUuMjk2ZDExNy43NmQ5OTEuMjMyZDc1Ljc3NmQ5NTAuMjcxZDMzLjc5MmQ5MDkuMzEyZDEwLjI0ZDg1NC41MjhkLTEzLjMxMmQ3OTkuNzQ0ZC0xMy4zMTJkNzM4LjMwNGQtMTMuMzEyZDY2MS41MDRkMTEuMjY0ZDYwMS4wODhkMzUuODRkNTQwLjY3MmQ3Ny44MjRkNDk4LjE3NmQxMTkuODA4ZDQ1NS42NzlkMTc2LjEyOGQ0MzMuNjY0ZDIzMi40NDhkNDExLjY0OGQyOTUuOTM2ZDQxMS42NDhkMjA5LjkyZDczMy4xODRkMzYzLjUyZDYxNy40NzJkMzQ5LjE4NGQ2MDAuMDY0ZDMzMi4yODhkNTkzLjkyZDMxNS4zOTJkNTg3Ljc3NmQyOTMuODg4ZDU4Ny43NzZkMjczLjQwOGQ1ODcuNzc2ZDI1NmQ1OTYuOTkyZDIzOC41OTJkNjA2LjIwOGQyMjYuMzA0ZDYyMC41NDRkMjE0LjAxNmQ2MzQuODhkMjA3LjM2ZDY1My4zMTJkMjAwLjcwNGQ2NzEuNzQzZDIwMC43MDRkNjkxLjJkMjAwLjcwNGQ3MTAuNjU2ZDIwMy43NzZkNzE3LjgyNGQyMDYuODQ4ZDcyNC45OTJkMjA5LjkyZDczMy4xODRoUjNkNTk5LjA0UjRkNTg1LjcyOFI1ZC0xMy4zMTJSNmQ4NTEuOTY4UjdkLTE1LjM2UjhkODY1LjI4UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIzM1IxMmQtMTMuMzEyUjEzZDU5OS4wNFIxNGFpMWkyaTJpMmkyaTFpM2kzaTJpM2kzaTNpM2kyaTNpM2kzaTNpM2kzaTNpM2kzaTNpMWkyaTNpM2kzaTNpM2kzaTNpM2hnOjEyMG9SMWQxMDEzLjc2UjJhZDIyNy4zMjhkNDExLjY0OGQtMTAuMjRkNDMwLjA4ZDExNi43MzZkNzExLjY4ZC0xOS40NTZkMTAxMS43MTJkMjIyLjIwOGQxMDI5LjExOWQyODEuNmQ4NDMuNzc2ZDI4My42NDhkODQzLjc3NmQzNDIuMDE2ZDEwMjkuMTE5ZDU4Ny43NzZkMTAxMS43MTJkNDQ1LjQ0ZDcxMS42OGQ1NjcuMjk2ZDQzMC4wOGQzMzAuNzUyZDQxMS42NDhkMjgzLjY0OGQ1ODMuNjhkMjgxLjZkNTgzLjY4ZDIyNy4zMjhkNDExLjY0OGhSM2Q1NzAuMzY4UjRkNTg3Ljc3NlI1ZC0xOS40NTZSNmQ2MTIuMzUyUjdkLTUuMTJSOGQ2MzEuODA4UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTEyMFIxMmQtMTkuNDU2UjEzZDU3MC4zNjhSMTRhaTFpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaGc6MjMyb1IxZDEwMTMuNzZSMmFkMzMyLjhkMTcxLjAwOGQ0NDcuNDg4ZDMzOS45NjdkMzY3LjYxNmQzODEuOTUyZDE4NC4zMmQyNTIuOTI4ZDMzMi44ZDE3MS4wMDhkMzYxLjQ3MmQ2MTcuNDcyZDIwNy44NzJkNzMyLjE2ZDIwNC44ZDcyMy45NjhkMjAxLjcyOGQ3MTYuOGQxOTguNjU2ZDcwOS42MzJkMTk4LjY1NmQ2OTAuMTc1ZDE5OC42NTZkNjcwLjcyZDIwNS4zMTJkNjUyLjI4OGQyMTEuOTY4ZDYzMy44NTZkMjI0LjI1NmQ2MTkuNTJkMjM2LjU0NGQ2MDUuMTg0ZDI1My45NTJkNTk1Ljk2OGQyNzEuMzZkNTg2Ljc1MmQyOTEuODRkNTg2Ljc1MmQzMTMuMzQ0ZDU4Ni43NTJkMzMwLjI0ZDU5Mi44OTZkMzQ3LjEzNmQ1OTkuMDRkMzYxLjQ3MmQ2MTcuNDcyZDU4MC42MDhkOTUyLjMxOWQ0NzkuMjMyZDc4Ni40MzJkNDUxLjU4NGQ4MDkuOTg0ZDQxOS4zMjhkODI2Ljg4ZDM4Ny4wNzJkODQzLjc3NmQzNDAuOTkyZDg0My43NzZkMzI1LjYzMmQ4NDMuNzc2ZDMwNy4yZDg0MS43MjhkMjg4Ljc2OGQ4MzkuNjhkMjc2LjQ4ZDgzMy41MzZkNTgzLjY4ZDYwMi4xMTJkNTQ2LjgxNmQ1MTUuMDcyZDQ3MS41NTJkNDYyLjg0N2QzOTYuMjg4ZDQxMC42MjRkMjkzLjg4OGQ0MTAuNjI0ZDIzMC40ZDQxMC42MjRkMTc0LjA4ZDQzMi42NGQxMTcuNzZkNDU0LjY1NWQ3NS43NzZkNDk3LjE1MmQzMy43OTJkNTM5LjY0N2Q5LjIxNmQ2MDAuMDY0ZC0xNS4zNmQ2NjAuNDhkLTE1LjM2ZDczNy4yOGQtMTUuMzZkNzk4LjcyZDguMTkyZDg1My41MDRkMzEuNzQ0ZDkwOC4yODhkNzMuNzI4ZDk0OS4yNDhkMTE1LjcxMmQ5OTAuMjA4ZDE3NC4wOGQxMDE0LjI3MmQyMzIuNDQ4ZDEwMzguMzM2ZDMwMi4wOGQxMDM4LjMzNmQzODcuMDcyZDEwMzguMzM2ZDQ1Mi42MDhkMTAxNy44NTZkNTE4LjE0NGQ5OTcuMzc2ZDU4MC42MDhkOTUyLjMxOWhSM2Q1OTIuODk2UjRkNTgzLjY4UjVkLTE1LjM2UjZkODUyLjk5MlI3ZC0xNC4zMzZSOGQ4NjguMzUyUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIzMlIxMmQtMTUuMzZSMTNkNTkyLjg5NlIxNGFpMWkyaTJpMmkyaTFpMmkzaTNpM2kzaTNpM2kzaTNpMWkyaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2hnOjExOW9SMWQxMDEzLjc2UjJhZDI2My4xNjhkNjg5LjE1MmQyMDIuNzUyZDQwMi40MzJkLTI2LjYyNGQ0MjAuODY0ZDEzMy4xMmQxMDI5LjExOWQzNDMuMDRkMTAxMS43MTJkNDAxLjQwOGQ3NDIuNGQ0MDMuNDU2ZDc0Mi40ZDQ2MC44ZDEwMjguMDk2ZDY3Mi43NjhkMTAxMS43MTJkODMwLjQ2NGQ0MjAuODY0ZDYwNy4yMzJkNDAyLjQzMmQ1NDYuODE2ZDY5Mi4yMjNkNTQ0Ljc2OGQ2OTIuMjIzZDQ4NC4zNTJkNDExLjY0OGQzMjMuNTg0ZDQyMy45MzZkMjY1LjIxNmQ2ODkuMTUyZDI2My4xNjhkNjg5LjE1MmhSM2Q4MDYuOTEyUjRkODMwLjQ2NFI1ZC0yNi42MjRSNmQ2MjEuNTY4UjdkLTUuMTJSOGQ2NDguMTkyUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTExOVIxMmQtMjYuNjI0UjEzZDgwNi45MTJSMTRhaTFpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaTJpMmhnOjIzMW9SMWQxMDEzLjc2UjJhZDU0Ny44NGQ5NjMuNTg0ZDUwMS43NmQxMDA0LjU0NGQ0NDUuOTUyZDEwMjEuNDRkMzkwLjE0NGQxMDM4LjMzNmQzMzQuODQ4ZDEwNDEuNDA3ZDMwNS4xNTJkMTEwNy45NjhkMjExLjk2OGQxMDgzLjM5MmQyNDMuNzEyZDEwMzUuMjYzZDE4Ny4zOTJkMTAyNS4wMjNkMTM5Ljc3NmQ5OTcuODg4ZDkyLjE2ZDk3MC43NTJkNTcuODU2ZDkzMS4zMjhkMjMuNTUyZDg5MS45MDRkNC42MDhkODQyLjI0ZC0xNC4zMzZkNzkyLjU3NmQtMTQuMzM2ZDczNi4yNTZkLTE0LjMzNmQ2NjEuNTA0ZDExLjI2NGQ2MDEuNTk5ZDM2Ljg2NGQ1NDEuNjk1ZDgyLjQzMmQ1MDAuMjIzZDEyOGQ0NTguNzUxZDE5MC40NjRkNDM2LjczNmQyNTIuOTI4ZDQxNC43MmQzMjUuNjMyZDQxNC43MmQzOTguMzM2ZDQxNC43MmQ0NTIuNjA4ZDQzOC4yNzFkNTA2Ljg4ZDQ2MS44MjNkNTQzLjc0NGQ0ODYuNGQ0MDguNTc2ZDY2Mi41MjhkMzk0LjI0ZDY1MS4yNjRkMzc1LjI5NmQ2NDQuMDk2ZDM1Ni4zNTJkNjM2LjkyOGQzMzYuODk2ZDYzNC4zNjdkMzE3LjQ0ZDYzMS44MDhkMjk5LjUyZDYzMi44MzJkMjgxLjZkNjMzLjg1NmQyNzAuMzM2ZDY0MGQyNTAuODhkNjUwLjI0ZDIzNy4wNTZkNjY0LjA2NGQyMjMuMjMyZDY3Ny44ODdkMjE1LjU1MmQ2OTQuMjcxZDIwNy44NzJkNzEwLjY1NmQyMDguMzg0ZDcyOS4wODhkMjA4Ljg5NmQ3NDcuNTJkMjE5LjEzNmQ3NjYuOTc2ZDIzOS42MTZkODA3LjkzNmQyNzcuNTA0ZDgxNy42NjRkMzE1LjM5MmQ4MjcuMzkyZDM1Ny4zNzZkODA2LjkxMmQ0MDkuNmQ3NzkuMjY0ZDU0Ny44NGQ5NjMuNTg0aFIzZDUyOC4zODRSNGQ1NDcuODRSNWQtMTQuMzM2UjZkNjA5LjI4UjdkLTgzLjk2OFI4ZDYyMy42MTZSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjMxUjEyZC0xNC4zMzZSMTNkNTI4LjM4NFIxNGFpMWkzaTNpMmkyaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkyaGc6MTE4b1IxZDEwMTMuNzZSMmFkLTIyLjUyOGQ0MjMuOTM2ZDExMS42MTZkMTAzMi4xOTJkNDA2LjUyOGQxMDE0Ljc4NGQ1NDcuODRkNDIzLjkzNmQzMjUuNjMyZDQwNi41MjhkMjU4LjA0OGQ4MTEuMDA4ZDI1NmQ4MTEuMDA4ZDE5Ny42MzJkNDA2LjUyOGQtMjIuNTI4ZDQyMy45MzZoUjNkNTI1LjMxMlI0ZDU0Ny44NFI1ZC0yMi41MjhSNmQ2MTcuNDcyUjdkLTguMTkyUjhkNjQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTExOFIxMmQtMjIuNTI4UjEzZDUyNS4zMTJSMTRhaTFpMmkyaTJpMmkyaTJpMmkyaGc6MjMwb1IxZDEwMTMuNzZSMmFoUjNkMTAyNFI0ZDBSNWQwUjZkMFI3ZDBSOGQwUjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTIzMFIxMmQwUjEzZDEwMjRSMTRhaGc6MTE3b1IxZDEwMTMuNzZSMmFkMzcwLjY4OGQxMDI4LjA5NmQ1NTkuMTA0ZDEwMTkuOTA0ZDU3NC40NjRkNDEwLjYyNGQzMzguOTQ0ZDQyOS4wNTZkMzQ1LjA4OGQ3OTAuNTI4ZDM0Ni4xMTJkODE1LjEwNGQzMzMuMzEyZDgyNS4zNDRkMzIwLjUxMmQ4MzUuNTg0ZDMwMC4wMzJkODM1LjU4NGQyNzUuNDU2ZDgzNS41ODRkMjYzLjY4ZDgyNC44MzJkMjUxLjkwNGQ4MTQuMDc5ZDI1Mi45MjhkNzg5LjUwNGQyNTkuMDcyZDQxMC42MjRkMzAuNzJkNDI5LjA1NmQzMC43MmQ4NTkuMTM2ZDMwLjcyZDk0Ni4xNzZkNzguMzM2ZDk5MS43NDRkMTI1Ljk1MmQxMDM3LjMxMWQyMDIuNzUyZDEwMzcuMzExZDI2MS4xMmQxMDM3LjMxMWQzMDQuNjRkMTAxMy43NmQzNDguMTZkOTkwLjIwOGQzNjguNjRkOTMzLjg4OGQzNzAuNjg4ZDkzMy44ODhkMzcwLjY4OGQxMDI4LjA5NmhSM2Q2MDUuMTg0UjRkNTc0LjQ2NFI1ZDMwLjcyUjZkNjEzLjM3NlI3ZC0xMy4zMTJSOGQ1ODIuNjU2UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTExN1IxMmQzMC43MlIxM2Q2MDUuMTg0UjE0YWkxaTJpMmkyaTJpM2kzaTNpM2kyaTJpMmkzaTNpM2kzaTJpMmhnOjIyOW9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMjlSMTJkMFIxM2QxMDI0UjE0YWhnOjExNm9SMWQxMDEzLjc2UjJhZDMzNi44OTZkMTAzMS4xNjdkMzcyLjczNmQ4MjguNDE1ZDM2NS41NjhkODMwLjQ2NGQzNTcuMzc2ZDgzMS40ODhkMzQ5LjE4NGQ4MzIuNTEyZDMzNS44NzJkODMyLjUxMmQzMDUuMTUyZDgzMi41MTJkMjk2LjQ0OGQ4MjIuMjcxZDI4Ny43NDRkODEyLjAzMWQyODcuNzQ0ZDc4MS4zMTJkMjg3Ljc0NGQ2MDIuMTEyZDM1Ny4zNzZkNjAyLjExMmQzNjguNjRkNDEzLjY5NmQyODUuNjk2ZDQyNS45ODRkMjg1LjY5NmQyNTguMDQ4ZDYzLjQ4OGQzNTguNGQ2My40ODhkNDI1Ljk4NGQxNS4zNmQ0MjUuOTg0ZDkuMjE2ZDYwMy4xMzZkNjUuNTM2ZDYwMi4xMTJkNjUuNTM2ZDg0NC44ZDY1LjUzNmQ5NDUuMTUyZDEyMC4zMmQ5ODkuNjk2ZDE3NS4xMDRkMTAzNC4yNGQyNzMuNDA4ZDEwMzQuMjRkMjkwLjgxNmQxMDM0LjI0ZDMwNS42NjRkMTAzMy43MjhkMzIwLjUxMmQxMDMzLjIxNWQzMzYuODk2ZDEwMzEuMTY3aFIzZDM3OS45MDRSNGQzNzIuNzM2UjVkOS4yMTZSNmQ3NjUuOTUyUjdkLTEwLjI0UjhkNzU2LjczNlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxMTZSMTJkOS4yMTZSMTNkMzc5LjkwNFIxNGFpMWkyaTNpM2kzaTNpMmkyaTJpMmkyaTJpMmkyaTJpMmkyaTNpM2kzaTNoZzoyMjhvUjFkMTAxMy43NlIyYWQzNTQuMzA0ZDEwMzAuMTQ0ZDU1OS4xMDRkMTAxMS43MTJkNTcwLjM2OGQ2MjUuNjY0ZDU3Mi40MTZkNTY0LjIyM2Q1NTAuOTEyZDUyMi4yNGQ1MjkuNDA4ZDQ4MC4yNTZkNDkyLjU0NGQ0NTMuNjMxZDQ1NS42OGQ0MjcuMDA4ZDQwNy41NTJkNDE1LjIzMmQzNTkuNDI0ZDQwMy40NTZkMzA5LjI0OGQ0MDMuNDU2ZDI1NC45NzZkNDAzLjQ1NmQyMDEuMjE2ZDQwOS4wODdkMTQ3LjQ1NmQ0MTQuNzJkOTkuMzI4ZDQyOS4wNTZkNTkuMzkyZDU5MS44NzJkOTguMzA0ZDU3OS41ODRkMTM3LjIxNmQ1NzAuMzY3ZDE3Ni4xMjhkNTYxLjE1MmQyMjEuMTg0ZDU2MS4xNTJkMjQ1Ljc2ZDU2MS4xNTJkMjY2LjI0ZDU2NC4yMjNkMjg2LjcyZDU2Ny4yOTZkMzAxLjU2OGQ1NzZkMzE2LjQxNmQ1ODQuNzA0ZDMyNC42MDhkNjAwLjA2NGQzMzIuOGQ2MTUuNDI0ZDMzMi44ZDYzOC45NzZkMzMyLjhkNjY5LjY5NWQzMTAuMjcyZDY1Mi4yODhkMjc3LjUwNGQ2MzguNDY0ZDI0NC43MzZkNjI0LjY0ZDE5OC42NTZkNjI0LjY0ZDE1My42ZDYyNC42NGQxMTUuMmQ2MzkuNDg4ZDc2LjhkNjU0LjMzNmQ0OC4xMjhkNjgwLjQ0OGQxOS40NTZkNzA2LjU2ZDMuMDcyZDc0MS44ODdkLTEzLjMxMmQ3NzcuMjE2ZC0xMy4zMTJkODE5LjJkLTEzLjMxMmQ4NjcuMzI4ZDMuMDcyZDkwNi4yNGQxOS40NTZkOTQ1LjE1MmQ0Ny4xMDRkOTcyLjhkNzQuNzUyZDEwMDAuNDQ4ZDExMS42MTZkMTAxNS4yOTZkMTQ4LjQ4ZDEwMzAuMTQ0ZDE4OS40NGQxMDMwLjE0NGQyMzkuNjE2ZDEwMzAuMTQ0ZDI4Mi4xMTJkMTAxNC43ODRkMzI0LjYwOGQ5OTkuNDI0ZDM1Mi4yNTZkOTYwLjUxMmQzNTQuMzA0ZDk2MC41MTJkMzU0LjMwNGQxMDMwLjE0NGQyMjQuMjU2ZDc3MS4wNzJkMjY3LjI2NGQ3NjMuOTA0ZDI5MC4zMDRkNzc3LjcyOGQzMTMuMzQ0ZDc5MS41NTJkMzE2LjQxNmQ4MTEuMDA4ZDMxOS40ODhkODMzLjUzNmQzMDAuNTQ0ZDg1Mi45OTJkMjgxLjZkODcyLjQ0OGQyNDAuNjRkODc4LjU5MmQyMDAuNzA0ZDg4NC43MzZkMTc2LjEyOGQ4NzIuOTZkMTUxLjU1MmQ4NjEuMTg0ZDE0Ny40NTZkODM3LjYzMmQxNDMuMzZkODE0LjA3OWQxNjUuODg4ZDc5NS4xMzZkMTg4LjQxNmQ3NzYuMTkyZDIyNC4yNTZkNzcxLjA3MmQ0OTMuNTY4ZDMxOC40NjNkMzU3LjM3NmQzMTcuNDM5ZDM0NS4wODhkMjE5LjEzNWQ0ODIuMzA0ZDIwOC44OTVkNDkzLjU2OGQzMTguNDYzZDI3Ny41MDRkMzE4LjQ2M2QxNDEuMzEyZDMxNy40MzlkMTI5LjAyNGQyMTkuMTM1ZDI2Ni4yNGQyMDguODk1ZDI3Ny41MDRkMzE4LjQ2M2hSM2Q5NjUuNjMyUjRkNTcyLjQxNlI1ZC0xMy4zMTJSNmQ4MTUuMTA0UjdkLTYuMTQ0UjhkODI4LjQxNlI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMjhSMTJkLTEzLjMxMlIxM2Q5NjUuNjMyUjE0YWkxaTJpMmkzaTNpM2kzaTNpM2kyaTNpM2kzaTNpM2kzaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkyaTFpM2kzaTNpM2kzaTNpM2kzaTFpMmkyaTJpMmkxaTJpMmkyaTJoZzoxMTVvUjFkMTAxMy43NlIyYWQxNC4zMzZkODIxLjI0OGQxNC4zMzZkMTAxMi43MzZkNTYuMzJkMTAyNGQ5Ny43OTJkMTAyOS4xMTlkMTM5LjI2NGQxMDM0LjI0ZDE4Mi4yNzJkMTAzNC4yNGQyMzcuNTY4ZDEwMzQuMjRkMjg4Ljc2OGQxMDI1LjAyM2QzMzkuOTY4ZDEwMTUuODA4ZDM3OS4zOTJkOTkzLjc5MmQ0MTguODE2ZDk3MS43NzZkNDQyLjg4ZDkzNC45MTJkNDY2Ljk0NGQ4OTguMDQ4ZDQ2Ni45NDRkODQyLjc1MmQ0NjYuOTQ0ZDc5MS41NTJkNDUwLjU2ZDc1OS44MDhkNDM0LjE3NmQ3MjguMDY0ZDQxMC4xMTJkNzA5LjEyZDM4Ni4wNDhkNjkwLjE3NWQzNTcuMzc2ZDY3OS45MzVkMzI4LjcwNGQ2NjkuNjk1ZDMwNC42NGQ2NjIuNTI4ZDI4MC41NzZkNjU1LjM2ZDI2NC4xOTJkNjQ3LjE2OGQyNDcuODA4ZDYzOC45NzZkMjQ3LjgwOGQ2MjIuNTkyZDI0Ny44MDhkNjEyLjM1MmQyNTguMDQ4ZDYwNi4yMDhkMjY4LjI4OGQ2MDAuMDY0ZDI4MS42ZDU5Ny41MDRkMjk0LjkxMmQ1OTQuOTQ0ZDMwOC4yMjRkNTk0LjQzMmQzMjEuNTM2ZDU5My45MmQzMjcuNjhkNTkzLjkyZDM1Ni4zNTJkNTkzLjkyZDM4MC45MjhkNTk4LjAxNmQ0MDUuNTA0ZDYwMi4xMTJkNDMxLjEwNGQ2MDguMjU2ZDQzMS4xMDRkNDI4LjAzMmQ0MTcuNzkyZDQyNC45NmQzOTguMzM2ZDQyMS4zNzZkMzc4Ljg4ZDQxNy43OTJkMzU1Ljg0ZDQxNC4yMDdkMzMyLjhkNDEwLjYyNGQzMDcuMmQ0MDguNTc2ZDI4MS42ZDQwNi41MjhkMjU2ZDQwNi41MjhkMTg5LjQ0ZDQwNi41MjhkMTQyLjMzNmQ0MjIuOTEyZDk1LjIzMmQ0MzkuMjk1ZDY1LjUzNmQ0NjUuOTE5ZDM1Ljg0ZDQ5Mi41NDRkMjIuNTI4ZDUyNS4zMTJkOS4yMTZkNTU4LjA3OWQ5LjIxNmQ1OTEuODcyZDkuMjE2ZDY0My4wNzJkMjUuMDg4ZDY3NC44MTZkNDAuOTZkNzA2LjU2ZDY0ZDcyNS41MDRkODcuMDRkNzQ0LjQ0OGQxMTQuNjg4ZDc1NC4xNzVkMTQyLjMzNmQ3NjMuOTA0ZDE2NS4zNzZkNzcxLjA3MmQxODguNDE2ZDc3OC4yNGQyMDQuMjg4ZDc4NS45MmQyMjAuMTZkNzkzLjZkMjIwLjE2ZDgwOC45NmQyMjAuMTZkODIxLjI0OGQyMTEuNDU2ZDgyNy4zOTJkMjAyLjc1MmQ4MzMuNTM2ZDE4OS45NTJkODM2LjA5NmQxNzcuMTUyZDgzOC42NTZkMTYxLjI4ZDgzOS4xNjhkMTQ1LjQwOGQ4MzkuNjhkMTMxLjA3MmQ4MzkuNjhkOTguMzA0ZDgzOS42OGQ3MC4xNDRkODM0LjU2ZDQxLjk4NGQ4MjkuNDRkMTQuMzM2ZDgyMS4yNDhoUjNkNDU2LjcwNFI0ZDQ2Ni45NDRSNWQ5LjIxNlI2ZDYxNy40NzJSN2QtMTAuMjRSOGQ2MDguMjU2UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTExNVIxMmQ5LjIxNlIxM2Q0NTYuNzA0UjE0YWkxaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNoZzoyMjdvUjFkMTAxMy43NlIyYWhSM2QxMDI0UjRkMFI1ZDBSNmQwUjdkMFI4ZDBSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjI3UjEyZDBSMTNkMTAyNFIxNGFoZzoxMTRvUjFkMTAxMy43NlIyYWQyNy42NDhkNDMwLjA4ZDMzLjc5MmQxMDMwLjE0NGQyNDguODMyZDEwMTEuNzEyZDI0OC44MzJkNzQ4LjU0NGQyNDguODMyZDY4OC4xMjdkMjgwLjA2NGQ2NTkuOTY4ZDMxMS4yOTZkNjMxLjgwOGQzNTQuMzA0ZDYzMS44MDhkMzY3LjYxNmQ2MzEuODA4ZDM3NC43ODRkNjMxLjgwOGQzODIuOTc2ZDYzMS44MDhkMzkwLjE0NGQ2MzIuODMyZDQ0My4zOTJkNDE0LjcyZDQxOC44MTZkNDExLjY0OGQzOTEuMTY4ZDQxMS42NDhkMjY0LjE5MmQ0MTEuNjQ4ZDIzNy41NjhkNTI1LjMxMmQyMzUuNTJkNTI1LjMxMmQyMzUuNTJkNDExLjY0OGQyNy42NDhkNDMwLjA4aFIzZDQyOC4wMzJSNGQ0NDMuMzkyUjVkMjcuNjQ4UjZkNjEyLjM1MlI3ZC02LjE0NFI4ZDU4NC43MDRSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMTE0UjEyZDI3LjY0OFIxM2Q0MjguMDMyUjE0YWkxaTJpMmkyaTNpM2kzaTNpMmkzaTNpMmkyaTJoZzoyMjZvUjFkMTAxMy43NlIyYWQzNTQuMzA0ZDEwMzEuMTY3ZDU2MC4xMjhkMTAxMi43MzZkNTcxLjM5MmQ2MjYuNjg4ZDU3Mi40MTZkNTY1LjI0OGQ1NTAuOTEyZDUyMy4yNjRkNTI5LjQwOGQ0ODEuMjhkNDkzLjA1NmQ0NTQuNjU1ZDQ1Ni43MDRkNDI4LjAzMmQ0MDguNTc2ZDQxNi4yNTZkMzYwLjQ0OGQ0MDQuNDhkMzEwLjI3MmQ0MDQuNDhkMjU0Ljk3NmQ0MDQuNDhkMjAxLjcyOGQ0MTAuMTExZDE0OC40OGQ0MTUuNzQ0ZDk5LjMyOGQ0MzAuMDhkNTkuMzkyZDU5Mi44OTZkOTguMzA0ZDU4MC42MDhkMTM3LjcyOGQ1NzEuMzkyZDE3Ny4xNTJkNTYyLjE3NWQyMjIuMjA4ZDU2Mi4xNzVkMjQ2Ljc4NGQ1NjIuMTc1ZDI2Ni43NTJkNTY1LjI0OGQyODYuNzJkNTY4LjMxOWQzMDEuNTY4ZDU3Ny4wMjRkMzE2LjQxNmQ1ODUuNzI4ZDMyNC42MDhkNjAxLjA4OGQzMzIuOGQ2MTYuNDQ4ZDMzMi44ZDY0MGQzMzIuOGQ2NzAuNzJkMzEwLjI3MmQ2NTMuMzEyZDI3OC4wMTZkNjM5LjQ4OGQyNDUuNzZkNjI1LjY2NGQxOTguNjU2ZDYyNS42NjRkMTUzLjZkNjI1LjY2NGQxMTUuMmQ2NDAuNTEyZDc2LjhkNjU1LjM2ZDQ4LjY0ZDY4MS40NzJkMjAuNDhkNzA3LjU4NGQ0LjA5NmQ3NDIuOTEyZC0xMi4yODhkNzc4LjI0ZC0xMi4yODhkODIwLjIyM2QtMTIuMjg4ZDg2OC4zNTJkNC4wOTZkOTA3LjI2NGQyMC40OGQ5NDYuMTc2ZDQ4LjEyOGQ5NzMuODI0ZDc1Ljc3NmQxMDAxLjQ3MmQxMTIuMTI4ZDEwMTYuMzJkMTQ4LjQ4ZDEwMzEuMTY3ZDE4OS40NGQxMDMxLjE2N2QyMzkuNjE2ZDEwMzEuMTY3ZDI4Mi4xMTJkMTAxNS44MDhkMzI0LjYwOGQxMDAwLjQ0OGQzNTIuMjU2ZDk2MS41MzZkMzU0LjMwNGQ5NjEuNTM2ZDM1NC4zMDRkMTAzMS4xNjdkMjI0LjI1NmQ3NzIuMDk2ZDI2Ny4yNjRkNzY0LjkyOGQyOTAuMzA0ZDc3OC43NTJkMzEzLjM0NGQ3OTIuNTc2ZDMxNi40MTZkODEyLjAzMWQzMjAuNTEyZDgzNC41NmQzMDEuMDU2ZDg1NC4wMTZkMjgxLjZkODczLjQ3MmQyNDEuNjY0ZDg3OS42MTZkMjAxLjcyOGQ4ODUuNzZkMTc2LjY0ZDg3My45ODRkMTUxLjU1MmQ4NjIuMjA4ZDE0Ny40NTZkODM4LjY1NmQxNDQuMzg0ZDgxNS4xMDRkMTY2LjkxMmQ3OTYuMTZkMTg5LjQ0ZDc3Ny4yMTZkMjI0LjI1NmQ3NzIuMDk2ZDMwOC4yMjRkMjg0LjY3MmQyNDMuNzEyZDM3MC42ODhkMTE0LjY4OGQzMTIuMzE5ZDIyOS4zNzZkMjAwLjcwM2QzODYuMDQ4ZDIwMC43MDNkNDk0LjU5MmQzMTkuNDg3ZDM3MC42ODhkMzcwLjY4OGQzMDguMjI0ZDI4NC42NzJoUjNkNjA2LjIwOFI0ZDU3Mi40MTZSNWQtMTIuMjg4UjZkODIzLjI5NlI3ZC03LjE2OFI4ZDgzNS41ODRSOWQxOTYuNjA4UjEwZDIwNi44NDhSMTFpMjI2UjEyZC0xMi4yODhSMTNkNjA2LjIwOFIxNGFpMWkyaTJpM2kzaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kyaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTJpMmkxaTNpM2kzaTNpM2kzaTNpM2kxaTJpMmkyaTJpMmkyaTJoZzoxMTNvUjFkMTAxMy43NlIyYWQ2MDguMjU2ZDEyMTEuMzkyZDYxOS41MmQ0MjUuOTg0ZDQwNi41MjhkNDA3LjU1MmQ0MDYuNTI4ZDQ3Ny4xODNkMzczLjc2ZDQ0MS4zNDNkMzM4LjQzMmQ0MjQuNDQ4ZDMwMy4xMDRkNDA3LjU1MmQyNTMuOTUyZDQwNy41NTJkMTkyLjUxMmQ0MDcuNTUyZDE0MS44MjRkNDM0LjY4OGQ5MS4xMzZkNDYxLjgyM2Q1NS44MDhkNTA1Ljg1NmQyMC40OGQ1NDkuODg3ZDEuMDI0ZDYwNS42OTVkLTE4LjQzMmQ2NjEuNTA0ZC0xOC40MzJkNzE4Ljg0OGQtMTguNDMyZDc4MC4yODhkMi4wNDhkODM3LjEyZDIyLjUyOGQ4OTMuOTUyZDU5LjkwNGQ5MzcuNDcyZDk3LjI4ZDk4MC45OTJkMTQ4Ljk5MmQxMDA3LjYxNmQyMDAuNzA0ZDEwMzQuMjRkMjY0LjE5MmQxMDM0LjI0ZDI5NS45MzZkMTAzNC4yNGQzMzIuMjg4ZDEwMjUuMDIzZDM2OC42NGQxMDE1LjgwOGQzOTcuMzEyZDk4OS4xODRkMzkxLjE2OGQxMTkyLjk2ZDYwOC4yNTZkMTIxMS4zOTJkNDEwLjYyNGQ2NzAuNzJkNDI3LjAwOGQ3MDQuNTEyZDQxMC42MjRkNzQyLjkxMmQzOTQuMjRkNzgxLjMxMmQzNDcuMTM2ZDgwMy44NGQzMDEuMDU2ZDgyNS4zNDRkMjYxLjYzMmQ4MTMuNTY4ZDIyMi4yMDhkODAxLjc5MmQyMDUuODI0ZDc2OGQxODkuNDRkNzMzLjE4NGQyMDUuMzEyZDY5NC43ODRkMjIxLjE4NGQ2NTYuMzg0ZDI2Ny4yNjRkNjM0Ljg4ZDI4OS43OTJkNjIzLjYxNmQzMTIuMzJkNjIxLjU2OGQzMzQuODQ4ZDYxOS41MmQzNTMuNzkyZDYyNC42NGQzNzIuNzM2ZDYyOS43NmQzODcuNTg0ZDY0MS41MzZkNDAyLjQzMmQ2NTMuMzEyZDQxMC42MjRkNjcwLjcyaFIzZDY1Mi4yODhSNGQ2MTkuNTJSNWQtMTguNDMyUjZkNjE2LjQ0OFI3ZC0xODcuMzkyUjhkNjM0Ljg4UjlkMTk2LjYwOFIxMGQyMDYuODQ4UjExaTExM1IxMmQtMTguNDMyUjEzZDY1Mi4yODhSMTRhaTFpMmkyaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkyaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2hnOjIyNW9SMWQxMDEzLjc2UjJhaFIzZDEwMjRSNGQwUjVkMFI2ZDBSN2QwUjhkMFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMjVSMTJkMFIxM2QxMDI0UjE0YWhnOjExMm9SMWQxMDEzLjc2UjJhZDMyLjc2OGQ0MzAuMDhkNDQuMDMyZDEyMTUuNDg4ZDI2MC4wOTZkMTE5Ny4wNTZkMjUzLjk1MmQ5OTMuMjhkMjgyLjYyNGQxMDIwLjkyOGQzMTguOTc2ZDEwMzAuMTQ0ZDM1NS4zMjhkMTAzOS4zNTlkMzg3LjA3MmQxMDM5LjM1OWQ0NDkuNTM2ZDEwMzkuMzU5ZDUwMS43NmQxMDEyLjczNmQ1NTMuOTg0ZDk4Ni4xMTJkNTkxLjM2ZDk0Mi4wOGQ2MjguNzM2ZDg5OC4wNDhkNjQ5LjIxNmQ4NDEuMjE2ZDY2OS42OTZkNzg0LjM4NGQ2NjkuNjk2ZDcyMi45NDRkNjY5LjY5NmQ2NjUuNTk5ZDY1MC4yNGQ2MDkuNzkxZDYzMC43ODRkNTUzLjk4M2Q1OTUuNDU2ZDUwOS45NTJkNTYwLjEyOGQ0NjUuOTE5ZDUwOS40NGQ0MzguNzg0ZDQ1OC43NTJkNDExLjY0OGQzOTcuMzEyZDQxMS42NDhkMzQ4LjE2ZDQxMS42NDhkMzEyLjgzMmQ0MjguNTQ0ZDI3Ny41MDRkNDQ1LjQzOWQyNDQuNzM2ZDQ4MS4yOGQyNDQuNzM2ZDQxMS42NDhkMzIuNzY4ZDQzMC4wOGQzODRkODA3LjkzNmQzNjAuNDQ4ZDgxOS4yZDMzOC40MzJkODIxLjI0OGQzMTYuNDE2ZDgyMy4yOTZkMjk3LjQ3MmQ4MTguMTc1ZDI3OC41MjhkODEzLjA1NmQyNjQuMTkyZDgwMS4yOGQyNDkuODU2ZDc4OS41MDRkMjQxLjY2NGQ3NzIuMDk2ZDIyNC4yNTZkNzM3LjI4ZDI0MC42NGQ2OTguODhkMjU3LjAyNGQ2NjAuNDhkMzA0LjEyOGQ2MzcuOTUyZDM1MC4yMDhkNjE2LjQ0OGQzODkuNjMyZDYyOC4yMjNkNDI5LjA1NmQ2NDBkNDQ1LjQ0ZDY3NC44MTZkNDYxLjgyNGQ3MDguNjA4ZDQ0NS45NTJkNzQ3LjUyZDQzMC4wOGQ3ODYuNDMyZDM4NGQ4MDcuOTM2aFIzZDY1NC4zMzZSNGQ2NjkuNjk2UjVkMzIuNzY4UjZkNjEyLjM1MlI3ZC0xOTEuNDg4UjhkNTc5LjU4NFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkxMTJSMTJkMzIuNzY4UjEzZDY1NC4zMzZSMTRhaTFpMmkyaTJpM2kzaTNpM2kzaTNpM2kzaTNpM2kzaTNpMmkyaTFpM2kzaTNpM2kzaTNpM2kzaTNpM2hnOjIyNG9SMWQxMDEzLjc2UjJhZDM1OC40ZDEwMzcuMzExZDU2My4yZDEwMTguODhkNTc0LjQ2NGQ2MzIuODMyZDU3Ni41MTJkNTcxLjM5MmQ1NTUuMDA4ZDUyOS40MDhkNTMzLjUwNGQ0ODcuNDI0ZDQ5Ni42NGQ0NjAuNzk5ZDQ1OS43NzZkNDM0LjE3NWQ0MTEuNjQ4ZDQyMi40ZDM2My41MmQ0MTAuNjI0ZDMxMy4zNDRkNDEwLjYyNGQyNTkuMDcyZDQxMC42MjRkMjA1LjMxMmQ0MTYuMjU2ZDE1MS41NTJkNDIxLjg4OGQxMDMuNDI0ZDQzNi4yMjNkNjMuNDg4ZDU5OS4wNGQxMDIuNGQ1ODYuNzUyZDE0MS4zMTJkNTc3LjUzNmQxODAuMjI0ZDU2OC4zMTlkMjI1LjI4ZDU2OC4zMTlkMjQ5Ljg1NmQ1NjguMzE5ZDI3MC4zMzZkNTcxLjM5MmQyOTAuODE2ZDU3NC40NjRkMzA1LjY2NGQ1ODMuMTY4ZDMyMC41MTJkNTkxLjg3MmQzMjguNzA0ZDYwNy4yMzJkMzM2Ljg5NmQ2MjIuNTkyZDMzNi44OTZkNjQ2LjE0NGQzMzYuODk2ZDY3Ni44NjRkMzE0LjM2OGQ2NTkuNDU2ZDI4MS42ZDY0NS42MzJkMjQ4LjgzMmQ2MzEuODA4ZDIwMi43NTJkNjMxLjgwOGQxNTcuNjk2ZDYzMS44MDhkMTE5LjI5NmQ2NDYuNjU2ZDgwLjg5NmQ2NjEuNTA0ZDUyLjIyNGQ2ODcuNjE2ZDIzLjU1MmQ3MTMuNzI4ZDcuMTY4ZDc0OS4wNTZkLTkuMjE2ZDc4NC4zODRkLTkuMjE2ZDgyNi4zNjdkLTkuMjE2ZDg3NC40OTZkNy4xNjhkOTEzLjQwOGQyMy41NTJkOTUyLjMxOWQ1MS4yZDk3OS45NjhkNzguODQ4ZDEwMDcuNjE2ZDExNS43MTJkMTAyMi40NjRkMTUyLjU3NmQxMDM3LjMxMWQxOTMuNTM2ZDEwMzcuMzExZDI0My43MTJkMTAzNy4zMTFkMjg2LjIwOGQxMDIxLjk1MmQzMjguNzA0ZDEwMDYuNTkyZDM1Ni4zNTJkOTY3LjY4ZDM1OC40ZDk2Ny42OGQzNTguNGQxMDM3LjMxMWQyMjguMzUyZDc3OC4yNGQyNzEuMzZkNzcxLjA3MmQyOTQuNGQ3ODQuODk2ZDMxNy40NGQ3OTguNzJkMzIwLjUxMmQ4MTguMTc1ZDMyMy41ODRkODQwLjcwNGQzMDQuMTI4ZDg2MC4xNmQyODQuNjcyZDg3OS42MTZkMjQ0LjczNmQ4ODUuNzZkMjA0LjhkODkxLjkwNGQxNzkuNzEyZDg4MC4xMjdkMTU0LjYyNGQ4NjguMzUyZDE1MS41NTJkODQ0LjhkMTQ3LjQ1NmQ4MjEuMjQ4ZDE2OS45ODRkODAyLjMwNGQxOTIuNTEyZDc4My4zNmQyMjguMzUyZDc3OC4yNGQyOTQuOTEyZDE3Mi4wMzFkNDA5LjZkMzQwLjk5MWQzMjguNzA0ZDM4Mi45NzZkMTQ2LjQzMmQyNTMuOTUyZDI5NC45MTJkMTcyLjAzMWhSM2Q2MDEuMDg4UjRkNTc2LjUxMlI1ZC05LjIxNlI2ZDg1MS45NjhSN2QtMTMuMzEyUjhkODYxLjE4NFI5ZDE5Ni42MDhSMTBkMjA2Ljg0OFIxMWkyMjRSMTJkLTkuMjE2UjEzZDYwMS4wODhSMTRhaTFpMmkyaTNpM2kzaTNpM2kzaTJpM2kzaTNpM2kzaTNpMmkzaTNpM2kzaTNpM2kzaTNpM2kzaTNpM2kyaTJpMWkzaTNpM2kzaTNpM2kzaTNpMWkyaTJpMmkyaGdoeTg6Zm9udE5hbWV5NzpHUk9CT0xEZw"}];
(function(){var a=Event.prototype,b=h.events.Event.prototype;a.clone=b.clone;a.isDefaultPrevented=b.isDefaultPrevented;a.get_target=b.get_target;a.set_target=b.set_target;a.get_currentTarget=b.get_currentTarget;a.set_currentTarget=b.set_currentTarget})();y.config={build:"426",company:"adgard",file:"piggy3",fps:30,name:"piggy3",orientation:"landscape",packageName:"com.bestphysics.piggy",version:"1.0.0",windows:[{antialiasing:4,background:0,borderless:!1,depthBuffer:!1,display:0,fullscreen:!0,hardware:!0,
height:0,parameters:"{}",resizable:!1,stencilBuffer:!0,title:"piggy3",vsync:!1,width:0,x:null,y:null}]};y.AssetNames="img/game/blueArrowButton.png img/game/blueButton.png img/game/blueClickButton.png img/game/blueClickButton2.png img/game/bomb.png img/game/gravibox.png img/game/greenButton.png img/game/greenGraviButton.png img/game/ice11.png img/game/ice12.png img/game/ice14.png img/game/knife.png img/game/koruto.png img/game/lapka2.png img/game/lapkaDuck.png img/game/lapkaPig.png img/game/node.png img/game/pause.png img/game/redArrowButton.png img/game/redButton.png img/game/redClickButton.png img/game/redClickButton1.png img/game/reflex11.png img/game/reflex12.png img/game/reflex12_move.png img/game/rotate.png img/game/sensor.png img/game/spike11.png img/game/spike12.png img/game/spike14.png img/game/splash2.png img/game/star.png img/game/steel11.png img/game/steel11_move.png img/game/steel12.png img/game/steel12_move.png img/game/steel13.png img/game/steel13_move.png img/game/steel14.png img/game/steel18.png img/game/steelBottom.png img/game/stone.png img/game/teleportOne.png img/game/teleportSecond.png img/game/water.png img/game/wood11.png img/game/wood12.png img/game/wood13.png img/game/wood14_2.png img/game/wood18.png img/game/woodCircle.png img/game/woodCircle2.png img/game/wood_block18.png img/menu/audio.png img/menu/levels.png img/menu/logo.png img/menu/menu.png img/menu/play.png img/play/ba1.png img/play/ba10.png img/play/ba11.png img/play/ba12.png img/play/ba13.png img/play/ba14.png img/play/ba15.png img/play/ba16.png img/play/ba17.png img/play/ba18.png img/play/ba19.png img/play/ba2.png img/play/ba20.png img/play/ba3.png img/play/ba4.png img/play/ba5.png img/play/ba6.png img/play/ba7.png img/play/ba8.png img/play/ba9.png img/play/back1.png img/play/bottomBack.png img/play/iconsBack.png img/play/kiziLogo.png img/play/levelMini.png img/play/menuMini.png img/play/restartMini.png img/play/restartMini1.png img/play/restartMini2.png img/play/solMini.png img/play/soundMini.png img/ui/gameCompleted.png img/ui/icon.png img/ui/iconsBack.png img/ui/levelCompleted.png img/ui/levelFailed.png img/ui/menuMaxi.png img/ui/menuMaxi1.png img/ui/menuMaxi2.png img/ui/nextMaxi.png img/ui/nextMaxi1.png img/ui/nextMaxi2.png img/ui/restartMaxi.png img/ui/restartMaxi1.png img/ui/restartMaxi2.png img/ui/solutionMaxi.png json/acIconsAnimation.png json/acornsAnimation.png json/attractionAnimation.png json/boomAnimation.png json/complAcornAnimation.png json/creatorAnimation.png json/handAnimation.png json/hookAnimation.png json/ice11Animation.png json/ice12Animation.png json/ice14Animation.png json/killerAnimation.png json/killerAnimation2.png json/lIconsAnimation.png json/pigAnimation.png json/repulsion2Animation.png json/repulsionAnimation.png json/splashAnimation.png json/starAnimation.png fonts/GROBOLD.ttf".split(" ");
y.AssetBytes=[2379,487,2276,1009,1486,894,564,2437,637,356,449,1167,126,270,316,345,265,12509,2400,654,2141,2311,994,1056,2029,6438,269,724,1706,779,49191,510,126,1077,126,491,131,2299,119,126,138,10116,4996,1889,2337,1078,564,1320,845,2392,1390,3433,575,4709,1796,16996,47573,4092,22210,24151,9714,22733,18496,20195,22009,12332,19609,18185,22642,27828,19155,27507,24107,16727,22426,19251,19118,22590,48465,2090,20370,9206,1218,1203,2719,2203,2154,889,1453,91730,2428,20370,12822,16051,4847,3992,4164,
4712,4297,4401,4905,4479,4548,1482,4592,4597,2146,46668,15218,5243,20525,4423,9316,14972,31904,3222,3222,11893,7102,2650,2650,15992,15406,16168];za.counterInt=0;Aa.addPause=!1;h.Lib.qTimeStamp=Date.now()+0;h.Lib.mouseX=0;h.Lib.mouseY=0;h.geom.Transform.DEG_TO_RAD=Math.PI/180;h.geom.Matrix.pool=[];v.ds.ObjectMap.count=0;l.soundBeforeStop=!0;l.addPause=!1;l.filt=new f.dynamics.InteractionFilter;l.arrowCounter=0;l.currentSprite=new h.display.Sprite;l.levelState="none";l.run=!1;l.currentLevel=1;l.gravityNormal=
!0;l.gameStatus="none";l.normalGravity=!0;l.workGravity=!0;l.offSetX=0;l.offSetY=0;l.isPlaying=!1;v.Serializer.USE_CACHE=!1;v.Serializer.USE_ENUM_INDEX=!1;v.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";v.Unserializer.DEFAULT_RESOLVER=S;v.Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";E.Boot.__toStr={}.toString;n.actuators.SimpleActuator.actuators=[];n.actuators.SimpleActuator.actuatorsLength=0;n.actuators.SimpleActuator.addedEvent=
!1;n.Actuate.defaultActuator=n.actuators.SimpleActuator;n.Actuate.defaultEase=n.easing.Expo.get_easeOut();n.Actuate.targetLibraries=new v.ds.ObjectMap;f.Config.epsilon=1E-8;f.Config.fluidAngularDragFriction=2.5;f.Config.fluidAngularDrag=100;f.Config.fluidVacuumDrag=.5;f.Config.fluidLinearDrag=.5;f.Config.collisionSlop=.2;f.Config.collisionSlopCCD=.5;f.Config.distanceThresholdCCD=.05;f.Config.staticCCDLinearThreshold=.05;f.Config.staticCCDAngularThreshold=.005;f.Config.bulletCCDLinearThreshold=.125;
f.Config.bulletCCDAngularThreshold=.0125;f.Config.dynamicSweepLinearThreshold=17;f.Config.dynamicSweepAngularThreshold=.6;f.Config.angularCCDSlipScale=.75;f.Config.arbiterExpirationDelay=6;f.Config.staticFrictionThreshold=2;f.Config.elasticThreshold=20;f.Config.sleepDelay=60;f.Config.linearSleepThreshold=.2;f.Config.angularSleepThreshold=.4;f.Config.contactBiasCoef=.3;f.Config.contactStaticBiasCoef=.6;f.Config.contactContinuousBiasCoef=.4;f.Config.contactContinuousStaticBiasCoef=.5;f.Config.constraintLinearSlop=
.1;f.Config.constraintAngularSlop=.001;f.Config.illConditionedThreshold=2E8;f.constraint.Constraint.zpp_internalAlloc=!1;f.phys.Interactor.zpp_internalAlloc=!1;f.shape.Shape.zpp_internalAlloc=!1;h.Assets.cache=new h.AssetCache;h.Assets.libraries=new v.ds.StringMap;h.Assets.initialized=!1;h.media.Sound.library=new v.ds.StringMap;h.text.TextField.padding=1.5;h.text.TextField.padding2=3;C.data.BehaviorData.uniqueID=0;G.TJSON.OBJECT_REFERENCE_PREFIX="@~obRef#";c.ZPP_Const.FMAX=1E100;c.ZPP_ID._Constraint=
0;c.ZPP_ID._Interactor=0;c.ZPP_ID._CbType=0;c.ZPP_ID._CbSet=0;c.ZPP_ID._Listener=0;c.ZPP_ID._ZPP_SimpleVert=0;c.ZPP_ID._ZPP_SimpleSeg=0;c.ZPP_ID._Space=0;c.ZPP_ID._InteractionGroup=0;c.callbacks.ZPP_Callback.internal=!1;c.callbacks.ZPP_CbType.ANY_SHAPE=new f.callbacks.CbType;c.callbacks.ZPP_CbType.ANY_BODY=new f.callbacks.CbType;c.callbacks.ZPP_CbType.ANY_COMPOUND=new f.callbacks.CbType;c.callbacks.ZPP_CbType.ANY_CONSTRAINT=new f.callbacks.CbType;c.util.ZPP_Flags.internal=!1;c.util.ZPP_Flags.id_ImmState_ACCEPT=
1;c.util.ZPP_Flags.id_ImmState_IGNORE=2;c.util.ZPP_Flags.id_ImmState_ALWAYS=4;c.util.ZPP_Flags.id_GravMassMode_DEFAULT=0;c.util.ZPP_Flags.id_GravMassMode_FIXED=1;c.util.ZPP_Flags.id_GravMassMode_SCALED=2;c.util.ZPP_Flags.id_InertiaMode_DEFAULT=0;c.util.ZPP_Flags.id_InertiaMode_FIXED=1;c.util.ZPP_Flags.id_MassMode_DEFAULT=0;c.util.ZPP_Flags.id_MassMode_FIXED=1;c.util.ZPP_Flags.id_BodyType_STATIC=1;c.util.ZPP_Flags.id_BodyType_DYNAMIC=2;c.util.ZPP_Flags.id_BodyType_KINEMATIC=3;c.util.ZPP_Flags.id_ListenerType_BODY=
0;c.util.ZPP_Flags.id_ListenerType_CONSTRAINT=1;c.util.ZPP_Flags.id_PreFlag_ACCEPT=1;c.util.ZPP_Flags.id_ListenerType_INTERACTION=2;c.util.ZPP_Flags.id_PreFlag_IGNORE=2;c.util.ZPP_Flags.id_ListenerType_PRE=3;c.util.ZPP_Flags.id_PreFlag_ACCEPT_ONCE=3;c.util.ZPP_Flags.id_PreFlag_IGNORE_ONCE=4;c.util.ZPP_Flags.id_CbEvent_BEGIN=0;c.util.ZPP_Flags.id_CbEvent_ONGOING=6;c.util.ZPP_Flags.id_InteractionType_COLLISION=1;c.util.ZPP_Flags.id_CbEvent_END=1;c.util.ZPP_Flags.id_InteractionType_SENSOR=2;c.util.ZPP_Flags.id_CbEvent_WAKE=
2;c.util.ZPP_Flags.id_InteractionType_FLUID=4;c.util.ZPP_Flags.id_CbEvent_SLEEP=3;c.util.ZPP_Flags.id_InteractionType_ANY=7;c.util.ZPP_Flags.id_CbEvent_BREAK=4;c.util.ZPP_Flags.id_CbEvent_PRE=5;c.util.ZPP_Flags.id_Winding_UNDEFINED=0;c.util.ZPP_Flags.id_Winding_CLOCKWISE=1;c.util.ZPP_Flags.id_Winding_ANTICLOCKWISE=2;c.util.ZPP_Flags.id_ValidationResult_VALID=0;c.util.ZPP_Flags.id_ValidationResult_DEGENERATE=1;c.util.ZPP_Flags.id_ValidationResult_CONCAVE=2;c.util.ZPP_Flags.id_ValidationResult_SELF_INTERSECTING=
3;c.util.ZPP_Flags.id_ShapeType_CIRCLE=0;c.util.ZPP_Flags.id_ShapeType_POLYGON=1;c.util.ZPP_Flags.id_Broadphase_DYNAMIC_AABB_TREE=0;c.util.ZPP_Flags.id_Broadphase_SWEEP_AND_PRUNE=1;c.util.ZPP_Flags.id_ArbiterType_COLLISION=1;c.util.ZPP_Flags.id_ArbiterType_SENSOR=2;c.util.ZPP_Flags.id_ArbiterType_FLUID=4;c.callbacks.ZPP_Listener.internal=!1;Y=c.callbacks.ZPP_Listener;null==c.util.ZPP_Flags.ListenerType_BODY&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_BODY=new f.callbacks.ListenerType,
c.util.ZPP_Flags.internal=!1);var Da=c.util.ZPP_Flags.ListenerType_BODY;null==c.util.ZPP_Flags.ListenerType_CONSTRAINT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_CONSTRAINT=new f.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1);var Ea=c.util.ZPP_Flags.ListenerType_CONSTRAINT;null==c.util.ZPP_Flags.ListenerType_INTERACTION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_INTERACTION=new f.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1);var Oc=c.util.ZPP_Flags.ListenerType_INTERACTION;
null==c.util.ZPP_Flags.ListenerType_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_PRE=new f.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1);Y.types=[Da,Ea,Oc,c.util.ZPP_Flags.ListenerType_PRE];Y=c.callbacks.ZPP_Listener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);Da=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.CbEvent_END&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=
new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);Ea=c.util.ZPP_Flags.CbEvent_END;null==c.util.ZPP_Flags.CbEvent_WAKE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_WAKE=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);Oc=c.util.ZPP_Flags.CbEvent_WAKE;null==c.util.ZPP_Flags.CbEvent_SLEEP&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_SLEEP=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);var Ke=c.util.ZPP_Flags.CbEvent_SLEEP;null==c.util.ZPP_Flags.CbEvent_BREAK&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.CbEvent_BREAK=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);var Le=c.util.ZPP_Flags.CbEvent_BREAK;null==c.util.ZPP_Flags.CbEvent_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_PRE=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);var Me=c.util.ZPP_Flags.CbEvent_PRE;null==c.util.ZPP_Flags.CbEvent_ONGOING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_ONGOING=new f.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);Y.events=[Da,Ea,Oc,Ke,Le,Me,c.util.ZPP_Flags.CbEvent_ONGOING];
c.callbacks.ZPP_InteractionListener.UCbSet=new c.util.ZNPList_ZPP_CbSet;c.callbacks.ZPP_InteractionListener.VCbSet=new c.util.ZNPList_ZPP_CbSet;c.callbacks.ZPP_InteractionListener.WCbSet=new c.util.ZNPList_ZPP_CbSet;c.callbacks.ZPP_InteractionListener.UCbType=new c.util.ZNPList_ZPP_CbType;c.callbacks.ZPP_InteractionListener.VCbType=new c.util.ZNPList_ZPP_CbType;c.callbacks.ZPP_InteractionListener.WCbType=new c.util.ZNPList_ZPP_CbType;c.constraint.ZPP_AngleDraw.maxarc=Math.PI/4;c.dynamics.ZPP_Arbiter.internal=
!1;c.dynamics.ZPP_Arbiter.COL=1;c.dynamics.ZPP_Arbiter.FLUID=4;c.dynamics.ZPP_Arbiter.SENSOR=2;Y=c.dynamics.ZPP_Arbiter;null==c.util.ZPP_Flags.ArbiterType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_COLLISION=new f.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1);Da=c.util.ZPP_Flags.ArbiterType_COLLISION;null==c.util.ZPP_Flags.ArbiterType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_SENSOR=new f.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1);Ea=
c.util.ZPP_Flags.ArbiterType_SENSOR;null==c.util.ZPP_Flags.ArbiterType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_FLUID=new f.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1);Y.types=[null,Da,Ea,null,c.util.ZPP_Flags.ArbiterType_FLUID];c.dynamics.ZPP_ColArbiter.FACE1=0;c.dynamics.ZPP_ColArbiter.FACE2=1;c.dynamics.ZPP_ColArbiter.CIRCLE=2;c.dynamics.ZPP_Contact.internal=!1;c.dynamics.ZPP_InteractionGroup.SHAPE=1;c.dynamics.ZPP_InteractionGroup.BODY=2;c.geom.ZPP_Collide.flowpoly=
new c.util.ZNPList_ZPP_Vec2;c.geom.ZPP_Collide.flowsegs=new c.util.ZNPList_ZPP_Vec2;c.geom.ZPP_ConvexRayResult.internal=!1;c.geom.ZPP_GeomVertexIterator.internal=!1;c.geom.ZPP_MarchingSquares.me=new c.geom.ZPP_MarchingSquares;c.geom.ZPP_MarchingSquares.look_march=[-1,224,56,216,14,-1,54,214,131,99,-1,91,141,109,181,85];c.geom.ZPP_PartitionVertex.nextId=0;c.geom.ZPP_Ray.internal=!1;Y=c.phys.ZPP_Body;null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=
new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);Da=c.util.ZPP_Flags.BodyType_STATIC;null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);Ea=c.util.ZPP_Flags.BodyType_DYNAMIC;null==c.util.ZPP_Flags.BodyType_KINEMATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_KINEMATIC=new f.phys.BodyType,c.util.ZPP_Flags.internal=!1);Y.types=[null,Da,Ea,c.util.ZPP_Flags.BodyType_KINEMATIC];c.phys.ZPP_Body.cur_graph_depth=
0;c.phys.ZPP_Material.WAKE=1;c.phys.ZPP_Material.PROPS=2;c.phys.ZPP_Material.ANGDRAG=4;c.phys.ZPP_Material.ARBITERS=8;Y=c.shape.ZPP_Shape;null==c.util.ZPP_Flags.ShapeType_CIRCLE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ShapeType_CIRCLE=new f.shape.ShapeType,c.util.ZPP_Flags.internal=!1);Da=c.util.ZPP_Flags.ShapeType_CIRCLE;null==c.util.ZPP_Flags.ShapeType_POLYGON&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ShapeType_POLYGON=new f.shape.ShapeType,c.util.ZPP_Flags.internal=!1);Y.types=[Da,
c.util.ZPP_Flags.ShapeType_POLYGON];c.shape.ZPP_Edge.internal=!1;c.space.ZPP_AABBTree.tmpaabb=new c.geom.ZPP_AABB;c.space.ZPP_DynAABBPhase.FATTEN=3;c.space.ZPP_DynAABBPhase.VEL_STEPS=2;c.util.ZPP_Debug.internal=!1;c.util.ZPP_ConstraintList.internal=!1;c.util.ZPP_BodyList.internal=!1;c.util.ZPP_InteractorList.internal=!1;c.util.ZPP_CompoundList.internal=!1;c.util.ZPP_ListenerList.internal=!1;c.util.ZPP_CbTypeList.internal=!1;c.util.ZPP_Vec2List.internal=!1;c.util.ZPP_GeomPolyList.internal=!1;c.util.ZPP_RayResultList.internal=
!1;c.util.ZPP_ConvexResultList.internal=!1;c.util.ZPP_EdgeList.internal=!1;c.util.ZPP_ShapeList.internal=!1;c.util.ZPP_InteractionGroupList.internal=!1;c.util.ZPP_ArbiterList.internal=!1;c.util.ZPP_ContactList.internal=!1;y.main()})();
