var LocalizationClass=cc.Class.extend({currentLanguage:null,localizationData:null,masterData:null,configurationDone:false,ctor:function(e){this.currentLanguage=e;this.localizationData={};this.masterData=null;this.configurationDone=false},parse:function(e){var t=this;$.getJSON("res/languages.json",function(n){t.masterData=n.languages;t.getData();if(e!=undefined&&e!=null){e()}})},setLanguage:function(e){this.localizationData={};this.currentLanguage=e;this.getData();var t=null;if(cc.Director.getInstance().getRunningScene()!=null&&cc.Director.getInstance().getRunningScene().getChildrenCount()>0){t=cc.Director.getInstance().getRunningScene().getChildren()[0]}if(t!=null&&t.updateTexts!=undefined&&t.updateTexts!=null){t.updateTexts()}},getLanguage:function(){return this.currentLanguage},getData:function(){if(this.currentLanguage==null){this.currentLanguage="en-US"}for(var e in this.masterData){for(var t in this.masterData[e]){if(t==this.currentLanguage){this.localizationData["{"+e+"}"]=this.masterData[e][t]}}}this.configurationDone=true},getText:function(e){for(var t in this.localizationData){if(t==e){return this.localizationData[t]}}return e}});var DEFAULT_LANGUAGE=0;var gSharedEngine={_music:null,_soundVolume:1,_musicVolume:1,playEffect:function(e){var t=e+".mp3";var n=e+".ogg";var r=new Howl({urls:[t,n]});r.volume(this._soundVolume);r.play();return r},playMusic:function(e){var t=e+".mp3";var n=e+".ogg";if(this._music!=null){this._music.stop();this._music=null}this._music=new Howl({urls:[t,n],loop:true});this._music.volume(this._musicVolume);this._music.play()},setMusicVolume:function(e){this._musicVolume=e;if(this._music!=null){this._music.volume(this._musicVolume)}},setEffectsVolume:function(e){this._soundVolume=e},pauseAllEffects:function(){Howler.mute()},pauseMusic:function(){Howler.mute()},resumeAllEffects:function(){Howler.unmute()},resumeMusic:function(){Howler.unmute()}};cc.AudioEngine.getInstance=function(){return gSharedEngine};var PlayerDataClass=cc.Class.extend({currentLanguageIndex:DEFAULT_LANGUAGE,soundMute:false,musicMute:false,ctor:function(){},loadData:function(){var e=sys.localStorage.getItem("currentLanguageIndex");if(e!=null){this.currentLanguageIndex=e}else{this.currentLanguageIndex=DEFAULT_LANGUAGE}e=sys.localStorage.getItem("musicMute");if(e!=null){this.musicMute=e==="true"?true:false}else{this.musicMute=false}this.setMusicMute(this.musicMute);e=sys.localStorage.getItem("soundMute");if(e!=null){this.soundMute=e==="true"?true:false}else{this.soundMute=false}this.setSoundMute(this.soundMute)},saveData:function(){sys.localStorage.setItem("currentLanguageIndex",this.currentLanguageIndex);sys.localStorage.setItem("soundMute",this.soundMute);sys.localStorage.setItem("musicMute",this.musicMute)},setMusicMute:function(e){this.musicMute=e;gSharedEngine.setMusicVolume(this.musicMute?0:1)},setSoundMute:function(e){this.soundMute=e;gSharedEngine.setEffectsVolume(this.soundMute?0:1)}});var BMFONT_SIZE=64;var TextUtilsClass=cc.Class.extend({ctor:function(){},timeToString:function(e){var t=Math.floor(e/1e3);var n=Math.floor(t/60);var r=""+n;if(n<10){r="0"+r}var i=t%60;var s=""+i;if(i<10){s="0"+s}return""+r+":"+s},getTextSizeScale:function(e){return e/BMFONT_SIZE},addOffsetToLabelBMFont:function(e,t){var n=0;var r=0;var i=0;var s=0;for(var o=0;o<e.getChildrenCount();o++){var u=e.getChildren()[o];r=r>u.getPositionX()?r:u.getPositionX();u.setPositionX(u.getPositionX()+n);i=i>u.getPositionX()?i:u.getPositionX();if(e._string.charAt(o+s)=="\n"){s++;n=0}else{n+=t}}for(var o=0;o<e.getChildrenCount();o++){var u=e.getChildren()[o];u.setPositionX(u.getPositionX()-(i-r)/2)}}});var vector2d=function(e,t){this.x=e||0;this.y=t||0};var LANGUAGES=new Array({iso:"us",label:"English",lang:"en-US",specialChars:false,kanji:false,font:"Knewave"},{iso:"uk",label:"English",lang:"en-GB",specialChars:false,kanji:false,font:"Knewave"},{iso:"nl",label:"Nederlands",lang:"nl-NL",specialChars:false,kanji:false,font:"Knewave"},{iso:"fr",label:"Français",lang:"fr-FR",specialChars:false,kanji:false,font:"Knewave"},{iso:"de",label:"German",lang:"de-DE",specialChars:false,kanji:false,font:"Knewave"},{iso:"es",label:"Español",lang:"es-LA",specialChars:false,kanji:false,font:"Knewave"},{iso:"br",label:"Português",lang:"pt-BR",specialChars:false,kanji:false,font:"Knewave"},{iso:"it",label:"Italiano",lang:"it-IT",specialChars:false,kanji:false,font:"Knewave"},{iso:"se",label:"Svenska",lang:"sv-SE",specialChars:false,kanji:false,font:"Knewave"},{iso:"pl",label:"Polski",lang:"pl-PL",specialChars:true,kanji:false,font:"Tahoma"},{iso:"ru",label:"Русский",lang:"ru-RU",specialChars:true,kanji:false,font:"Tahoma"},{iso:"id",label:"Bahasa Ind.",lang:"en-US",specialChars:false,kanji:false,font:"Knewave"},{iso:"cn",label:"中文",lang:"zh-CN",specialChars:true,kanji:true,font:"Tahoma"},{iso:"tr",label:"Turkish",lang:"en-US",specialChars:true,kanji:false,font:"Tahoma"});var GAME_VALUES={movements:0,coins:0,time:0,reset:function(){this.movements=0;this.coins=0;this.time=0}};var IS_HANDHELD=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|mini|windows\sce|palm/i.test(navigator.userAgent);var GRID_WIDTH=9;var GRID_HEIGHT=13;var NUMBER_OF_COINS=3;var COIN_SEPARATION=29;var COIN_HORIZONTAL_MARGIN=130;var COIN_VERTICAL_MARGIN=460;var STARTING_HORIZONTAL_DRAG_DISTANCE=70;var DRAG_DISTANCE_FACTOR=.9;var MAX_DRAG_DISTANCE=70;var DRAG_DISTANCE_TO_JUMP=-40;var VISUAL_SCALE=.5;var SCREEN_HEIGHT=960;var SCREEN_WIDTH=640;var VISUAL_SCREEN_HEIGHT=960*.5;var VISUAL_SCREEN_WIDTH=640*.5;var GAME_ENDED_TIME=2;var WORLD=0;var GAME_VERSION="BETA";var GAME_GLOBAL_VERSION=GAME_VERSION+"_WORLD_"+WORLD;var TOP=1;var RIGHT=2;var BOTTOM=3;var LEFT=4;var CELL_SIZE=70;var VISUAL_CELL_SIZE=70*.5;var CLASS_ID_MAIN_CHARACTER=1;var CLASS_ID_PICKUP_ITEM=2;var CLASS_ID_TERRAIN_BLOCK=3;var CLASS_ID_CANON=4;var CLASS_ID_BULLET=5;var EMPTY=0;var NORMAL=1;var ENEMY=2;var PLAYER=3;var ROCK=5;var DOOR=6;var PlayerData=new PlayerDataClass;PlayerData.loadData();var Localization=new LocalizationClass;Localization.parse();var FLURRY_SESSION_KEY="";switch(WORLD){case 0:FLURRY_SESSION_KEY="MP2D9K743Z7H9NF4D6PK";break;case 1:FLURRY_SESSION_KEY="429QVRTXPJVKGWZ35BZD";break;case 2:FLURRY_SESSION_KEY="XK7FY2GQDSWKMT62SZK4";break;case 3:FLURRY_SESSION_KEY="7C79HJQCDMPWJY9C6CZ6";break;case 4:FLURRY_SESSION_KEY="BYSZXKNCG3GPJG7GXG4D";break}FlurryAgent.startSession(FLURRY_SESSION_KEY);FlurryAgent.setAppVersion(GAME_GLOBAL_VERSION);var FLURRY_SESSION="session";var FLURRY_REACHED_LEVEL_5="reachedLevel5";var FLURRY_REACHED_LEVEL_10="reachedLevel10";var FLURRY_REACHED_LEVEL_15="reachedLevel15";var FLURRY_REACHED_LEVEL_20="reachedLevel20";var FLURRY_REACHED_GAME_OVER="reachedGameOver";var FLURRY_CLICKED_FACEBOOK="clickedFacebook";var FLURRY_CLICKED_IOS="clickedIOS";var FLURRY_CLICKED_ANDROID="clickedAndroid";var FLURRY_CLICKED_OLDER_VERSION="clickedOlderVersion";FlurryAgent.logEvent(FLURRY_SESSION);var TextUtils=new TextUtilsClass;cc.s_sharedNotificationCenter=null;cc.NotificationCenter=cc.Class.extend({ctor:function(){this._observers=[]},addObserver:function(e,t,n,r){if(this._observerExisted(e,n))return;var i=new cc.NotificationObserver(e,t,n,r);if(!i)return;this._observers.push(i)},removeObserver:function(e,t){for(var n=0;n<this._observers.length;n++){var r=this._observers[n];if(!r)continue;if(r.getName()==t&&r.getTarget()==e){this._observers.splice(n,1);return}}},removeAllObservers:function(e){var t=[];for(var n=0;n<this._observers.length;n++){var r=this._observers[n];if(r.getTarget()==e)t.push(r)}cc.ArrayRemoveArray(this._observers,t);return t.length},postNotification:function(e,t){for(var n=0;n<this._observers.length;n++){var r=this._observers[n];if(!r)continue;if(r.getName()==e)r.performSelector(t)}},_observerExisted:function(e,t){for(var n=0;n<this._observers.length;n++){var r=this._observers[n];if(!r)continue;if(r.getName()==t&&r.getTarget()==e)return true}return false},_observers:null});cc.NotificationCenter.getInstance=function(){if(!cc.s_sharedNotificationCenter){cc.s_sharedNotificationCenter=new cc.NotificationCenter}return cc.s_sharedNotificationCenter};cc.NotificationObserver=cc.Class.extend({ctor:function(e,t,n,r){this._target=e;this._selector=t;this._name=n;this._object=r},performSelector:function(e){if(this._target&&typeof this._selector=="string"){this._target[this._selector](e)}else if(this._target&&typeof this._selector=="function"){this._selector.call(this._target,e)}else{this._selector(e)}},_target:null,_selector:null,_name:null,_object:null,getTarget:function(){return this._target},getSelector:function(){return this._selector},getName:function(){return this._name},getObject:function(){return this._object}});var StartScene=cc.Layer.extend({ctor:function(){this._super();var e=cc.SpriteFrameCache.getInstance();e.addSpriteFrames("res/ftr_0.plist","res/ftr_0.png");e.addSpriteFrames("res/ftr_1.plist","res/ftr_1.png");e.addSpriteFrames("res/gui.plist","res/gui.png");this.init()},init:function(){var e=false;if(this._super()){var t=new Image;t.src="data:image/jpeg;base64,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AITLF50AgbaAj4Da/UtPgEBYwHcBhcsXnQCBtoAXQLt/6QkQCAt4AYTLF50AgbaAF0C7f+kJEAgLGIBw+aITINAW8G2g7f6lJ0AgLOAFEC5fdAIE2gJeAO3+pSdAICzgBRAuX3QCBNoCy7qubQHpCRAgEBXwAogWLzYBAgR8DcANECBAICrgBRAtXmwCBAj4pSDcAAECBKICPgKKFi82AQIEfATkBggQIBAVMADR4sUmQICArwG4AQIECEQFvACixYtNgAABA+AGCBAgEBXwXUDR4sUmQICAF4AbIECAQFTAAESLF5sAAQK+C8gNECBAICrgawDR4sUmQICAAXADBAgQiAr4GkC0eLEJECBgANwAAQIEogL+kZDR4sUmQICArwG4AQIECEQFfAQULV5sAgQIeAG4AQIECEQFvACixYtNgAABA+AGCBAgEBXwEVC0eLEJECDgBeAGCBAgEBXwAogWLzYBAgT8aqBugAABAlEBHwFFixebAAECPgJyAwQIEIgKeAFEixebAAECvgbgBggQIBAV8BFQtHixCRAg4CMgN0CAAIGogBdAtHixCRAg4AXgBggQIBAVMADR4sUmQICAj4DcAAECBKICXgDR4sUmQICAAXADBAgQiAoYgGjxYhMgQMDXANwAAQIEogJeANHixSZAgIAXgBsgQIBAVMAARIsXmwABAj4CcgMECBCIChiAaPFiEyBAwEdAboAAAQJRAS+AaPFiEyBAwAC4AQIECEQFfAQULV5sAgQI/AMcTIvCLf/lAQAAAABJRU5ErkJggg==";t.width=384;t.height=512;var n=new cc.Texture2D;n.initWithElement(t);n.handleLoadedTexture();var r=cc.Director.getInstance().getWinSize();var i=cc.p(r.width*.5,r.height*.5);var s=cc.Sprite.createWithTexture(n);s.setPosition(i);this.addChild(s);gSharedEngine.playEffect(EFFECT_4);var o=cc.MenuItemImage.create(null,null,this.startCallBack,this);o.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("KW_Boton.png"));o.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("KW_Boton_Onpress.png"));o.setPosition(cc.p(i.x,i.y));var u=cc.Menu.create(o);u.setPosition(cc.p(0,0));this.addChild(u);this.playLabelFront=cc.LabelTTF.create(Localization.getText("{PLAY}"),"Arial","21");this.playLabelFront.setColor(cc.c3b(243,255,210));this.playLabelFront.setPosition(cc.p(i.x,i.y));this.addChild(this.playLabelFront)}return e},startCallBack:function(e){gSharedEngine.playEffect(EFFECT_4);var t=cc.Scene.create();var n=new MainMenuLayer(false);t.addChild(n);cc.Director.getInstance().replaceScene(cc.TransitionFade.create(.1,t))}});var MyGameScene=cc.Scene.extend({onEnter:function(){this._super();if(IS_HANDHELD){var e=new StartScene;this.addChild(e)}else{var e=new MainMenuLayer(true);this.addChild(e)}}});var MainMenuLayer=cc.Layer.extend({playLabelFrontShadow:null,playLabelFront:null,_itemSound:null,_itemMusic:null,_promoButton:null,_promoText:null,_promoRandomText:null,_promoBG:null,_menu:null,_promo:null,ctor:function(e){this._super();if(e==true){var t=cc.SpriteFrameCache.getInstance();t.addSpriteFrames("res/ftr_0.plist","res/ftr_0.png");t.addSpriteFrames("res/ftr_1.plist","res/ftr_1.png");t.addSpriteFrames("res/gui.plist","res/gui.png")}gSharedEngine.playMusic(MUSIC_BACKGROUND_4,true);this.init()},init:function(){var e=false;if(this._super()){Localization.setLanguage(LANGUAGES[PlayerData.currentLanguageIndex].lang);var t=cc.Sprite.create("res/FTR_html5_Menu"+(WORLD+1)+".png");t.setPosition(cc.p(160,240));this.addChild(t);var n=cc.MenuItemImage.create(null,null,this.playCallBack,this);n.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("KW_Boton.png"));n.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("KW_Boton_Onpress.png"));n.setPosition(cc.p(160,120));var r=cc.Menu.create(n);r.setPosition(cc.p(0,0));this.addChild(r);this.playLabelFrontShadow=cc.LabelTTF.create(Localization.getText("{PLAY}"),"Arial","21");this.playLabelFrontShadow.setColor(cc.c3b(0,0,0));this.playLabelFrontShadow.setPosition(cc.p(161,118));this.addChild(this.playLabelFrontShadow);this.playLabelFront=cc.LabelTTF.create(Localization.getText("{PLAY}"),"Arial","21");this.playLabelFront.setColor(cc.c3b(243,255,210));this.playLabelFront.setPosition(cc.p(160,120));this.addChild(this.playLabelFront);this._itemMusic=cc.MenuItemImage.create(null,null,this.musicCallBack,this);this._itemMusic.setPosition(25,350);this._itemMusic.setScale(.6,.7);this._itemSound=cc.MenuItemImage.create(null,null,this.soundCallBack,this);this._itemSound.setPosition(25,310);this._itemSound.setScale(.6,.7);var i=cc.Menu.create(this._itemMusic,this._itemSound);i.setPosition(cc.p(0,0));this.addChild(i);this._emitter=cc.ParticleSystem.create("res/Dust.plist");this.addChild(this._emitter,10);this._emitter.setPosition(160,350);e=true;var s=new LanguageSelectorClass;this.addChild(s);s.setPosition(240,70);this.setMusicSoundButtonStates();this._menu=cc.Menu.create();var o=Math.random()*3;var u="";var a="";switch(parseInt(o)){default:case 0:u="{SCORE_PROMO_1}";a="EnemiesBanner.png";break;case 1:u="{SCORE_PROMO_2}";a="FreeBanner.png";break;case 2:u="{SCORE_PROMO_3}";a="LevelsBanner.png";break}this._promoBG=cc.Sprite.createWithSpriteFrameName(a);this._promoButton=cc.MenuItemImage.create(null,null,function(e){gSharedEngine.playEffect(EFFECT_4);this._promo.setVisible(true)},this);this._promoButton.setNormalImage(cc.Sprite.createWithSpriteFrameName("BotonBanner.png"));this._promoButton.setSelectedImage(cc.Sprite.createWithSpriteFrameName("BotonPresionadoBanner.png"));this._promoText=cc.LabelTTF.create(Localization.getText("{PROMO_TEXT_1}"),"Arial","21",cc.SizeZero(170,0),cc.TEXT_ALIGNMENT_CENTER);this._promoText.setColor(cc.c3b(252,255,234));this._promoRandomText=cc.LabelTTF.create(Localization.getText(u),"Arial","17",cc.Size(400,0),cc.TEXT_ALIGNMENT_CENTER);this._promoRandomText.setColor(cc.c3b(252,255,234));this._promo=new ScenePromoLayer(1);this._promo.setVisible(false);this._menu.setPosition(0,0);this._promoBG.setPosition(250.9,113);this._promoButton.setPosition(249,64);this._promoText.setPosition(this._promoButton.getContentSize().width/2,this._promoButton.getContentSize().height/2);this._promoRandomText.setPosition(249,95)}return e},setMusicSoundButtonStates:function(){var e=PlayerData.musicMute;var t=PlayerData.soundMute;if(e){this._itemMusic.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_Musica_Off.png"));this._itemMusic.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_Musica_Off.png"))}else{this._itemMusic.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_Musica_On.png"));this._itemMusic.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_Musica_On.png"))}if(t){this._itemSound.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_Sonido_Off.png"));this._itemSound.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_Sonido_Off.png"))}else{this._itemSound.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_Sonido_On.png"));this._itemSound.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_Sonido_On.png"))}},musicCallBack:function(e){gSharedEngine.playEffect(EFFECT_4);PlayerData.setMusicMute(!PlayerData.musicMute);if(PlayerData.musicMute){this._itemMusic.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_Musica_Off.png"));this._itemMusic.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_Musica_Off.png"))}else{this._itemMusic.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_Musica_On.png"));this._itemMusic.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_Musica_On.png"))}PlayerData.saveData()},soundCallBack:function(e){gSharedEngine.playEffect(EFFECT_4);PlayerData.setSoundMute(!PlayerData.soundMute);if(PlayerData.soundMute){this._itemSound.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_Sonido_Off.png"));this._itemSound.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_Sonido_Off.png"))}else{this._itemSound.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_Sonido_On.png"));this._itemSound.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_Sonido_On.png"))}PlayerData.saveData()},getGamePreLoad:function(){switch(WORLD){case 0:return g_gameresouces1;case 1:return g_gameresouces2;case 2:return g_gameresouces3;case 3:return g_gameresouces4;case 4:return g_gameresouces5}},playCallBack:function(e){gSharedEngine.playEffect(EFFECT_4);cc.LoaderScene.preload(this.getGamePreLoad(),function(){var e=cc.Scene.create();var t=new SceneIntroLayer;e.addChild(t);cc.Director.getInstance().replaceScene(cc.TransitionFade.create(.4,e))},this)},updateTexts:function(){this.playLabelFront.setString(Localization.getText("{PLAY}"));this.playLabelFrontShadow.setString(Localization.getText("{PLAY}"))}});var SceneIntroLayer=cc.Layer.extend({FRAME_1:1,TITLE:1,FRAME_2:7,FRAME_3:12,FRAME_4:18,END:23,_currentTime:0,_currentTrigger:0,_topLayer:null,_bottomLayer:null,_logoCharacters:null,_logo:null,_introSprite1:null,_introSprite2:null,_introSprite3:null,_introSprite4:null,_skipButton:null,_menu:null,_whiteFade:null,ctor:function(){this._super();this.init()},init:function(){var e=false;if(this._super()){gSharedEngine.playMusic(MUSIC_BACKGROUND_2,true);this._introSprite1=cc.Sprite.createWithSpriteFrameName("KW_intro1.jpg");this._introSprite2=cc.Sprite.createWithSpriteFrameName("KW_intro2.jpg");this._introSprite3=cc.Sprite.createWithSpriteFrameName("KW_intro3.jpg");this._introSprite4=cc.Sprite.createWithSpriteFrameName("KW_intro4.jpg");this._logoCharacters=cc.Sprite.createWithSpriteFrameName("KW_Personajes.png");this._logo=cc.Sprite.createWithSpriteFrameName("KW_Logotipo.png");this._whiteFade=cc.Sprite.createWithSpriteFrameName("whitefade.png");this._topLayer=cc.Sprite.createWithSpriteFrameName("KW_Intro_Negro.png");this._bottomLayer=cc.Sprite.createWithSpriteFrameName("KW_Intro_Negro.png");this._menu=cc.Menu.create();var t=cc.LabelTTF.create(Localization.getText("{SKIP}"),"Arial","16");this._skipButton=cc.MenuItemSprite.create(t,null,null,function(e){gSharedEngine.playMusic(MUSIC_BACKGROUND_1,true);this.unscheduleUpdate();this.removeAllChildren();var t=cc.Scene.create();var n=new SceneMainGameClass(WORLD+1,1);t.addChild(n);cc.Director.getInstance().replaceScene(cc.TransitionFade.create(.4,t))},this);this._introSprite1.setVisible(false);this._introSprite2.setVisible(false);this._introSprite3.setVisible(false);this._introSprite4.setVisible(false);this._logoCharacters.setVisible(false);this._logo.setVisible(false);this._whiteFade.setVisible(false);this._topLayer.setVisible(true);this._bottomLayer.setVisible(true);this.addChild(this._introSprite1);this.addChild(this._introSprite2);this.addChild(this._introSprite3);this.addChild(this._introSprite4);this.addChild(this._logoCharacters);this.addChild(this._logo);this.addChild(this._whiteFade);this.addChild(this._topLayer);this.addChild(this._bottomLayer);this.addChild(this._menu);this._menu.addChild(this._skipButton);var n=new cc.Size(VISUAL_SCREEN_WIDTH,VISUAL_SCREEN_HEIGHT);var r=64;this._skipButton.setPosition(n.width-this._skipButton.getContentSize().width/2-40,r/2);this._menu.setPosition(cc.PointZero());this._whiteFade.setPosition(n.width/2,n.height/2);this._topLayer.setPosition(n.width/2,n.height-r/2);this._bottomLayer.setPosition(n.width/2,r/2);this._logo.setPosition(n.width/2,n.height*.75-80);this._logoCharacters.setPosition(this._logo.getPositionX(),this._logo.getPositionY()+80);this._introSprite1.setPosition(n.width/2,n.height/2-r);this._introSprite2.setPosition(n.width/2,n.height/2-r);this._introSprite3.setPosition(n.width/2,n.height/2-r);this._introSprite4.setPosition(n.width/2,n.height/2-r);this._topLayer.setScaleX(n.width/this._topLayer.getContentSize().width+.1);this._bottomLayer.setScaleX(n.width/this._topLayer.getContentSize().width+.1);this._whiteFade.setScaleX(n.width/this._whiteFade.getContentSize().width+.1);this._whiteFade.setScaleY(n.height/this._whiteFade.getContentSize().height);this.scheduleUpdate();e=true}return e},update:function(e){var t=new cc.Size(VISUAL_SCREEN_WIDTH,VISUAL_SCREEN_HEIGHT);var n=64;this._currentTime+=e;if(this._currentTrigger==0){this._whiteFade.setVisible(true);this._whiteFade.setOpacity(255);this._whiteFade.runAction(cc.FadeOut.create(.75));this._introSprite1.setVisible(true);this._introSprite1.runAction(cc.MoveTo.create(7.5,cc.p(t.width/2,this._introSprite1.getPositionY()+n)));this._currentTrigger++}else if(this._currentTime>=this.TITLE&&this._currentTrigger==1){this._logo.setVisible(true);this._logoCharacters.setVisible(true);this._logo.setOpacity(0);this._logoCharacters.setOpacity(0);this._logo.runAction(cc.FadeIn.create(1));this._logoCharacters.runAction(cc.FadeIn.create(1));this._currentTrigger++}else if(this._currentTime>=this.FRAME_2-.75&&this._currentTrigger==2){this._whiteFade.setVisible(true);this._whiteFade.runAction(cc.FadeIn.create(.75));this._currentTrigger++}else if(this._currentTime>=this.FRAME_2&&this._currentTrigger==3){this._introSprite1.setVisible(false);this._logo.setVisible(false);this._logoCharacters.setVisible(false);this._introSprite2.setVisible(true);this._introSprite2.runAction(cc.MoveTo.create(7.5,cc.p(t.width/2,this._introSprite1.getPositionY()+n)));this._whiteFade.setVisible(true);this._whiteFade.runAction(cc.FadeOut.create(.75));this._currentTrigger++}else if(this._currentTime>=this.FRAME_3-.75&&this._currentTrigger==4){this._whiteFade.setVisible(true);this._whiteFade.runAction(cc.FadeIn.create(.75));this._currentTrigger++}else if(this._currentTime>=this.FRAME_3&&this._currentTrigger==5){this._introSprite2.setVisible(false);this._introSprite3.setVisible(true);this._introSprite3.runAction(cc.MoveTo.create(7.5,cc.p(t.width/2,this._introSprite1.getPositionY()+n)));this._whiteFade.setVisible(true);this._whiteFade.runAction(cc.FadeOut.create(.75));this._currentTrigger++}else if(this._currentTime>=this.FRAME_4-.75&&this._currentTrigger==6){this._whiteFade.setVisible(true);this._whiteFade.runAction(cc.FadeIn.create(.75));this._currentTrigger++}else if(this._currentTime>=this.FRAME_4&&this._currentTrigger==7){this._introSprite3.setVisible(false);this._introSprite4.setVisible(true);this._introSprite4.runAction(cc.MoveTo.create(7.5,cc.p(t.width/2,this._introSprite1.getPositionY()+n)));this._whiteFade.setVisible(true);this._whiteFade.runAction(cc.FadeOut.create(.75));this._currentTrigger++}else if(this._currentTime>=this.END&&this._currentTrigger==8){this._introSprite4.setVisible(false);gSharedEngine.playMusic(MUSIC_BACKGROUND_1,true);var r=cc.Scene.create();var i=new SceneMainGameClass(WORLD+1,1);r.addChild(i);cc.Director.getInstance().replaceScene(cc.TransitionFade.create(.4,r));this.unscheduleUpdate();this._currentTrigger++}}});var SceneMainGameClass=cc.Layer.extend({_playing:false,_minX:0,_minY:0,_gameEndedCounter:0,_gameLogic:null,_loadingWorld:-1,_loadingLevel:-1,keyboardArrows:null,_levelText:null,_levelTextShadow:null,_itemMusic:null,_itemSound:null,_jumpAllowed:false,_coinsCostumes:null,_dragStartFrame:0,_currentFrame:0,_moveCounted:false,_draggedOnce:false,_horizontalDragDistance:0,_dragStartX:0,_dragStartY:0,_currentDragX:0,_currentDragY:0,_samePlace:0,_redBlueButton:null,_redButton:null,_levelTitle:null,_levelTitleShadow:null,_gravityLeft:null,_gravityRight:null,_gravityUp:null,_gravityDown:null,_gravityLeftPressed:null,_gravityRightPressed:null,_gravityUpPressed:null,_gravityDownPressed:null,_currentGravity:0,_orientationArray:null,_promo:null,ctor:function(e,t){if(e==0){switch(t){case 5:FlurryAgent.logEvent(FLURRY_REACHED_LEVEL_5);break;case 10:FlurryAgent.logEvent(FLURRY_REACHED_LEVEL_10);break;case 15:FlurryAgent.logEvent(FLURRY_REACHED_LEVEL_15);break;case 20:FlurryAgent.logEvent(FLURRY_REACHED_LEVEL_20);break}}this._super();this._orientationArray=new Array("portrait","portraitUpsideDown","landscapeLeft","landscapeRight");this._coinsCostumes=new Array;this._loadingWorld=e;this._loadingLevel=t;var n=cc.Sprite.create("res/KW_ingamefondo"+e+".jpg");n.setPosition(cc.p(160,240));this.addChild(n);this._thingsToRelease=new Array;for(var r=0;r<NUMBER_OF_COINS;r++){var i=cc.Sprite.createWithSpriteFrameName("KW_hud_moneda_espacio.png");i.setPositionX(COIN_SEPARATION*r+COIN_HORIZONTAL_MARGIN);i.setPositionY(COIN_VERTICAL_MARGIN);this.addChild(i);this._thingsToRelease.push(i)}this._redBlueButton=cc.MenuItemImage.create(null,null,this.redBlueButtonPressed,this);this._redBlueButton.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("KW_botonswitchazul.png"));this._redBlueButton.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("KW_botonswitchazul.png"));this._redBlueButton.setPosition(cc.p(270,45));this.enableRedBlueButton(false);this._redButton=cc.MenuItemImage.create(null,null,this.redBlueButtonPressed,this);this._redButton.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("KW_botonswitchrojo.png"));this._redButton.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("KW_botonswitchrojo.png"));this._redButton.setPosition(cc.p(270,45));this._redButton.setVisible(false);this._gravityLeft=cc.MenuItemImage.create(null,null,this.gravityLeftPressed,this);this._gravityLeft.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow2.png"));this._gravityLeft.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow2.png"));this._gravityLeft.setPosition(cc.p(210,65));this._gravityLeft.setRotation(-90);this._gravityLeft.setVisible(false);this._gravityRight=cc.MenuItemImage.create(null,null,this.gravityRightPressed,this);this._gravityRight.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow2.png"));this._gravityRight.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow2.png"));this._gravityRight.setPosition(cc.p(290,65));this._gravityRight.setRotation(90);this._gravityRight.setVisible(false);this._gravityUp=cc.MenuItemImage.create(null,null,this.gravityUpPressed,this);this._gravityUp.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow2.png"));this._gravityUp.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow2.png"));this._gravityUp.setPosition(cc.p(250,105));this._gravityUp.setVisible(false);this._gravityDown=cc.MenuItemImage.create(null,null,this.gravityDownPressed,this);this._gravityDown.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow2.png"));this._gravityDown.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow2.png"));this._gravityDown.setPosition(cc.p(250,25));this._gravityDown.setRotation(180);this._gravityDown.setVisible(false);this._gravityLeftPressed=cc.MenuItemImage.create(null,null,this.gravityDownPressed,this);this._gravityLeftPressed.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow1.png"));this._gravityLeftPressed.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow1.png"));this._gravityLeftPressed.setPosition(cc.p(210,65));this._gravityLeftPressed.setRotation(-90);this._gravityLeftPressed.setVisible(false);this._gravityRightPressed=cc.MenuItemImage.create(null,null,this.gravityRightPressed,this);this._gravityRightPressed.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow1.png"));this._gravityRightPressed.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow1.png"));this._gravityRightPressed.setPosition(cc.p(290,65));this._gravityRightPressed.setRotation(90);this._gravityRightPressed.setVisible(false);this._gravityUpPressed=cc.MenuItemImage.create(null,null,this.gravityDownPressed,this);this._gravityUpPressed.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow1.png"));this._gravityUpPressed.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow1.png"));this._gravityUpPressed.setPosition(cc.p(250,105));this._gravityUpPressed.setVisible(false);this._gravityDownPressed=cc.MenuItemImage.create(null,null,this.gravityDownPressed,this);this._gravityDownPressed.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow1.png"));this._gravityDownPressed.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("FTR_html5_GraviTeaArrow1.png"));this._gravityDownPressed.setPosition(cc.p(250,25));this._gravityDownPressed.setRotation(180);this._gravityDownPressed.setVisible(false);this._gameLogic=new GameLogic(this);var s=cc.MenuItemImage.create(null,null,this.restartCallBack,this);s.setNormalSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("KW_hud_restart_normal.png"));s.setSelectedSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("KW_hud_restart_click.png"));s.setPosition(cc.p(300,430));this._itemMusic=cc.MenuItemImage.create(null,null,this.musicCallBack,this);this._itemMusic.setPosition(cc.p(20,430));this._itemSound=cc.MenuItemImage.create(null,null,this.soundCallBack,this);this._itemSound.setPosition(cc.p(20,395));var o=cc.Menu.create(s,this._itemMusic,this._itemSound,this._redBlueButton,this._redButton,this._gravityLeft,this._gravityRight,this._gravityDown,this._gravityUp,this._gravityLeftPressed,this._gravityRightPressed,this._gravityDownPressed,this._gravityUpPressed);o.setPosition(cc.p(0,0));this.addChild(o);for(var r=0;r<NUMBER_OF_COINS;r++){var u=cc.Sprite.createWithSpriteFrameName("KW_hud_moneda.png");u.setPositionX(COIN_SEPARATION*r+COIN_HORIZONTAL_MARGIN);u.setPositionY(COIN_VERTICAL_MARGIN);u.setVisible(false);this.addChild(u);this._coinsCostumes.push(u)}this._levelTitleShadow=cc.LabelTTF.create(Localization.getText("{LEVEL}"),"Arial","21");this._levelTitleShadow.setColor(cc.c3b(0,0,0));this._levelTitleShadow.setPosition(cc.p(41,43));this.addChild(this._levelTitleShadow);this._levelTitle=cc.LabelTTF.create(Localization.getText("{LEVEL}"),"Arial","21");this._levelTitle.setColor(cc.c3b(252,255,234));this._levelTitle.setPosition(cc.p(40,45));this.addChild(this._levelTitle);this._levelTextShadow=cc.LabelTTF.create("0 - 0","Arial","21");this._levelTextShadow.setColor(cc.c3b(0,0,0));this._levelTextShadow.setPosition(cc.p(41,13));this.addChild(this._levelTextShadow);this._levelText=cc.LabelTTF.create("0 - 0","Arial","21");this._levelText.setColor(cc.c3b(252,255,234));this._levelText.setPosition(cc.p(40,15));this.addChild(this._levelText);this.setKeyboardEnabled(true);this.setMouseEnabled(true);this.keyboardArrows={left:false,right:false,up:false,down:false,space:false};this.load();this.scheduleUpdate();this.setTouchEnabled(true);if(t==10||t==20){this._promo=new ScenePromoLayer(1);this.addChild(this._promo)}else{var a=PlayerData.musicMute;var f=PlayerData.soundMute;SpilAPI.GameBreak.request(function(){PlayerData.setMusicMute(true);PlayerData.setSoundMute(true)},function(){PlayerData.setMusicMute(a);PlayerData.setSoundMute(f)})}},restartCallBack:function(e){this._gameLogic._playingRemaining=0;gSharedEngine.playEffect(EFFECT_4);var t=cc.Scene.create();var n=new SceneMainGameClass(this._loadingWorld,this._loadingLevel);t.addChild(n);cc.Director.getInstance().replaceScene(cc.TransitionFade.create(.4,t))},musicCallBack:function(e){gSharedEngine.playEffect(EFFECT_4);PlayerData.setMusicMute(!PlayerData.musicMute);if(PlayerData.musicMute){this._itemMusic.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_hud_No-Music.png"));this._itemMusic.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_hud_No-MusicOver.png"))}else{this._itemMusic.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_hud_Music.png"));this._itemMusic.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_hud_MusicOver.png"))}PlayerData.saveData()},soundCallBack:function(e){gSharedEngine.playEffect(EFFECT_4);PlayerData.setSoundMute(!PlayerData.soundMute);if(PlayerData.soundMute){this._itemSound.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_hud_No-Sound.png"));this._itemSound.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_hud_No-SoundOver.png"))}else{this._itemSound.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_hud_Sound.png"));this._itemSound.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_hud_SoundOver.png"))}PlayerData.saveData()},load:function(){this._gameEndedCounter=0;this.enableRedBlueButton(false);this._redButton.setVisible(false);for(var e=0;e<NUMBER_OF_COINS;e++){this._coinsCostumes[e].setVisible(false)}this._gameLogic.clearLoadedLevel();this._minX=9999;this._maxX=-1;this.setHudValues(this._loadingLevel);this._gameLogic.LevelManager.startLoading(this._loadingWorld,this._loadingLevel);this._gameLogic.LevelManager.loadItems(1,4);this._gameLogic.LevelManager.loadItems(5,10);this._gameLogic.LevelManager.loadItems(11,15);this._gameLogic.LevelManager.loadItems(16,19);this._gameLogic.LevelManager.loadItems(20,23);this._gameLogic.readyToStart();this.playGame();this.setMusicSoundButtonStates();this.setGravityButtonStates()},setGravityButtonStates:function(){if(this._loadingWorld!=5){return}if(this._loadingLevel<4){return}this._gravityDown.setVisible(true);this._gravityUp.setVisible(true);this._gravityLeft.setVisible(true);this._gravityRight.setVisible(true);this._gravityDownPressed.setVisible(false);this._gravityUpPressed.setVisible(false);this._gravityLeftPressed.setVisible(false);this._gravityRightPressed.setVisible(false);if(this._currentGravity==0){this._gravityDown.setVisible(false);this._gravityDownPressed.setVisible(true)}else if(this._currentGravity==1){this._gravityUp.setVisible(false);this._gravityUpPressed.setVisible(true)}else if(this._currentGravity==2){this._gravityLeft.setVisible(false);this._gravityLeftPressed.setVisible(true)}else if(this._currentGravity==3){this._gravityRight.setVisible(false);this._gravityRightPressed.setVisible(true)}},setMusicSoundButtonStates:function(){if(PlayerData.musicMute){this._itemMusic.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_hud_No-Music.png"));this._itemMusic.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_hud_No-MusicOver.png"))}else{this._itemMusic.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_hud_Music.png"));this._itemMusic.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_hud_MusicOver.png"))}if(PlayerData.soundMute){this._itemSound.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_hud_No-Sound.png"));this._itemSound.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_hud_No-SoundOver.png"))}else{this._itemSound.setNormalImage(cc.Sprite.createWithSpriteFrameName("KW_hud_Sound.png"));this._itemSound.setSelectedImage(cc.Sprite.createWithSpriteFrameName("KW_hud_SoundOver.png"))}},grabCoin:function(e){this._coinsCostumes[e].setVisible(true)},distanceBetween:function(e,t,n,r){return Math.sqrt(this.squaredDistanceBetween(e,t,n,r))},squaredDistanceBetween:function(e,t,n,r){var i=n-e;var s=r-t;return i*i+s*s},update:function(e){if(this._playing){if(this.distanceBetween(this._currentDragX,this._currentDragY,this._anchorX,this._anchorY)<=10){this._samePlace=this._samePlace+1}else{this._samePlace=0}if(this._samePlace>=6){this._samePlace=0;var t={};t["getLocation"]=function(){return{x:this._currentDragX,y:this._currentDragY}};this.dragStart(t,true)}if(!this._gameLogic.update(e)){this._gameEndedCounter+=e;if(this._gameEndedCounter>=GAME_ENDED_TIME){this.endGame()}}}this._currentFrame=this._currentFrame+1},setHudValues:function(e){for(var t=0;t<NUMBER_OF_COINS;t++){this._coinsCostumes[t].setVisible(false)}this._levelText.setString(e);this._levelTextShadow.setString(e)},onTouchesMoved:function(e){if(e.length>0){this.dragMove(e[0])}},onTouchesEnded:function(e){if(e.length>0){this.dragEnd(e[0])}},onTouchesBegan:function(e){if(e.length>0){var t=e[0].getLocation();this.clickOn(t.x,t.y);this.startDrag(e[0])}},startDrag:function(e){this._dragStartFrame=this._currentFrame;var t=e.getLocation();var n=t.x;var r=t.y;this._moveCounted=false;this._draggedOnce=false;this._horizontalDragDistance=STARTING_HORIZONTAL_DRAG_DISTANCE;this._dragStartX=n;this._dragStartY=r;this._currentDragX=n;this._currentDragY=r;this._jumpAllowed=true},dragEnd:function(e){var t=e.getLocation();var n=t.x;var r=t.y;var i=0;var s=0;if(this._gameLogic._orientation=="portrait"){i=Math.abs(this._dragStartX-n);s=Math.abs(this._dragStartY-r)}else if(this._gameLogic._orientation=="landscapeRight"){i=Math.abs(this._dragStartY-r);s=Math.abs(this._dragStartX-n)}else if(this._gameLogic._orientation=="portraitUpsideDown"){i=Math.abs(this._dragStartX-n);s=Math.abs(this._dragStartY-r)}else if(this._gameLogic._orientation=="landscapeLeft"){i=Math.abs(this._dragStartY-r);s=Math.abs(this._dragStartX-n)}if(i>s*2){if(i>=CELL_SIZE*.4&&!this._draggedOnce){var o=0;if(this._gameLogic._orientation=="portrait"){o=n-this._dragStartX}else if(this._gameLogic._orientation=="landscapeRight"){o=r-this._dragStartY}else if(this._gameLogic._orientation=="portraitUpsideDown"){o=n-this._dragStartX}else if(this._gameLogic._orientation=="landscapeLeft"){o=r-this._dragStartY}this._movements=this._movements+1;GAME_VALUES.movements++;var u=o/Math.abs(o);for(var a=0;a<this._gameLogic._mainCharacters.length;a++){this._gameLogic._mainCharacters[a].moveInGrid(u,1)}}}else{if(this._gameLogic._orientation=="portrait"){i=this._dragStartY-r}else if(this._gameLogic._orientation=="landscapeRight"){i=n-this._dragStartX}else if(this._gameLogic._orientation=="portraitUpsideDown"){i=r-this._dragStartY}else if(this._gameLogic._orientation=="landscapeLeft"){i=this._dragStartX-n}if(i<=CELL_SIZE*-.4&&this._jumpAllowed){this._jumpAllowed=false;this._dragStartX=n;this._dragStartY=r;this._dragStartFrame=this._currentFrame;this._movements=this._movements+1;GAME_VALUES.movements++;for(var a=0;a<this._gameLogic._mainCharacters.length;a++){this._gameLogic._mainCharacters[a].jump()}}}},dragMove:function(e){var t=e.getLocation();var n=t.x;var r=t.y;var i=0;var s=0;if(this._gameLogic._orientation=="portrait"){i=Math.abs(this._dragStartX-n);s=this._dragStartY-r}else if(this._gameLogic._orientation=="landscapeRight"){i=Math.abs(this._dragStartY-r);s=this._dragStartX-n}else if(this._gameLogic._orientation=="portraitUpsideDown"){i=Math.abs(this._dragStartX-n);s=this._dragStartY-r}else if(this._gameLogic._orientation=="landscapeLeft"){i=Math.abs(this._dragStartY-r);s=this._dragStartX-n}this._currentDragX=n;this._currentDragY=r;if(i>s&&(i>=this._horizontalDragDistance||!this._draggedOnce&&i>35)){this._horizontalDragDistance=Math.max(MAX_DRAG_DISTANCE,this._horizontalDragDistance*DRAG_DISTANCE_FACTOR);var o=0;if(this._gameLogic._orientation=="portrait"){o=n-this._dragStartX}else if(this._gameLogic._orientation=="landscapeRight"){o=r-this._dragStartY}else if(this._gameLogic._orientation=="portraitUpsideDown"){o=n-this._dragStartX}else if(this._gameLogic._orientation=="landscapeLeft"){o=r-this._dragStartY}if(this._currentFrame==this._dragStartFrame){this._dragStartFrame=this._dragStartFrame-1}var u=this._currentFrame-this._dragStartFrame;if(u<5){o=o*(4/u)}if(this._currentFrame-this._dragStartFrame>3||!this._moveCounted){this._movements=this._movements+1;GAME_VALUES.movements++;this._moveCounted=true}var a=o/Math.abs(o);this._dragStartX=n;this._dragStartY=r;this._dragStartFrame=this._currentFrame;this._draggedOnce=true;var f=Math.max(1,Math.floor(Math.abs(o)/(CELL_SIZE*3)));for(var l=0;l<this._gameLogic._mainCharacters.length;l++){this._gameLogic._mainCharacters[l].moveInGrid(a,f)}}else{if(this._gameLogic._orientation=="portrait"){i=this._dragStartY-r}else if(this._gameLogic._orientation=="landscapeRight"){i=n-this._dragStartX}else if(this._gameLogic._orientation=="portraitUpsideDown"){i=r-this._dragStartY}else if(this._gameLogic._orientation=="landscapeLeft"){i=this._dragStartX-n}if(i<=DRAG_DISTANCE_TO_JUMP&&this._jumpAllowed){this._jumpAllowed=false;this._dragStartX=n;this._dragStartY=r;this._dragStartFrame=this._currentFrame;this._movements=this._movements+1;GAME_VALUES.movements++;for(l=0;l<this._gameLogic._mainCharacters.length;l++){this._gameLogic._mainCharacters[l].jump()}}}},clickOn:function(e,t){for(var n=0;n<this._gameLogic._balloons.length;n++){if(this._gameLogic._balloons[n].checkClick(e,t)){return}}},onKeyPress:function(){if(this._loadingWorld==5&&this._loadingLevel>=4){if(this.keyboardArrows.left){if(this._currentGravity!=2){this._gameLogic._tutorial.newAction(TutorialClass.GRAVITY);this._currentGravity=2;this._gameLogic.setOrientation(this._orientationArray[this._currentGravity]);GAME_VALUES.movements++}}else if(this.keyboardArrows.right){if(this._currentGravity!=3){this._gameLogic._tutorial.newAction(TutorialClass.GRAVITY);this._currentGravity=3;this._gameLogic.setOrientation(this._orientationArray[this._currentGravity]);GAME_VALUES.movements++}}else if(this.keyboardArrows.up){if(this._currentGravity!=1){this._gameLogic._tutorial.newAction(TutorialClass.GRAVITY);this._currentGravity=1;this._gameLogic.setOrientation(this._orientationArray[this._currentGravity]);GAME_VALUES.movements++}}else if(this.keyboardArrows.down){if(this._currentGravity!=0){this._gameLogic._tutorial.newAction(TutorialClass.GRAVITY);this._currentGravity=0;this._gameLogic.setOrientation(this._orientationArray[this._currentGravity]);GAME_VALUES.movements++}}this.setGravityButtonStates()}},onKeyDown:function(e){switch(e){case cc.KEY.left:if(this.keyboardArrows.left==false){this.keyboardArrows.left=true;this.onKeyPress()}break;case cc.KEY.up:if(this.keyboardArrows.up==false){this.keyboardArrows.up=true;this.onKeyPress()}break;case cc.KEY.right:if(this.keyboardArrows.right==false){this.keyboardArrows.right=true;this.onKeyPress()}break;case cc.KEY.down:if(this.keyboardArrows.down==false){this.keyboardArrows.down=true;this.onKeyPress()}break}},onKeyUp:function(e){switch(e){case cc.KEY.left:this.keyboardArrows.left=false;break;case cc.KEY.up:this.keyboardArrows.up=false;break;case cc.KEY.right:this.keyboardArrows.right=false;break;case cc.KEY.down:this.keyboardArrows.down=false;break;case cc.KEY.space:this.keyboardArrows.space=false;break}},playGame:function(){this._playing=true},pauseGame:function(){this._playing=false},endGame:function(){this.pauseGame();this._gameEndedCounter=0;var e=this._loadingLevel+1;var t=levels[this._loadingWorld-1][e-1];GAME_VALUES.coins+=this._gameLogic._grabbedCoins;if(t==null){var n=cc.Scene.create();var r=new SceneScoreLayer(GAME_VALUES.coins,GAME_VALUES.time,GAME_VALUES.movements);GAME_VALUES.reset();n.addChild(r);cc.Director.getInstance().replaceScene(cc.TransitionFade.create(.4,n));return}var n=cc.Scene.create();var r=new SceneMainGameClass(this._loadingWorld,e);n.addChild(r);cc.Director.getInstance().replaceScene(cc.TransitionFade.create(.4,n))},redBlueButtonPressed:function(e){if(this._gameEndedCounter<=0){this._gameLogic.switchRedBlue();this._redButton.setVisible(!this._redButton.isVisible());gSharedEngine.playEffect(EFFECT_3);this._gameLogic._tutorial.newAction(TutorialClass.RED_BLUE_BUTTON)}},gravityLeftPressed:function(e){if(this._currentGravity!=2){this._currentGravity=2;this._gameLogic._tutorial.newAction(TutorialClass.GRAVITY);this._gameLogic.setOrientation(this._orientationArray[this._currentGravity]);GAME_VALUES.movements++;this.setGravityButtonStates()}},gravityRightPressed:function(e){if(this._currentGravity!=3){this._currentGravity=3;this._gameLogic._tutorial.newAction(TutorialClass.GRAVITY);this._gameLogic.setOrientation(this._orientationArray[this._currentGravity]);GAME_VALUES.movements++;this.setGravityButtonStates()}},gravityUpPressed:function(e){if(this._currentGravity!=1){this._currentGravity=1;this._gameLogic._tutorial.newAction(TutorialClass.GRAVITY);this._gameLogic.setOrientation(this._orientationArray[this._currentGravity]);GAME_VALUES.movements++;this.setGravityButtonStates()}},gravityDownPressed:function(e){if(this._currentGravity!=0){this._currentGravity=0;this._gameLogic._tutorial.newAction(TutorialClass.GRAVITY);this._gameLogic.setOrientation(this._orientationArray[this._currentGravity]);GAME_VALUES.movements++;this.setGravityButtonStates()}},destroy:function(){for(var e=0;e<this._thingsToRelease.length;e++){this._thingsToRelease[e].removeFromParent(true)}this._gameLogic.destroy()},enableRedBlueButton:function(e){this._redBlueButton.setVisible(e)}});var CHANGE_BANNER_TIME=2;var SceneScoreLayer=cc.Layer.extend({_background:null,_menu:null,_titleText:null,_titleTextShadow:null,_totalCoinsText:null,_totalCoinsValueText:null,_totalMovesText:null,_totalMovesValueText:null,_totalTimeText:null,_totalTimeValueText:null,_separator:null,_totalText:null,_totalValueText:null,_likeOnFacebookButton:null,_playAgainButton:null,_playAgainText:null,_playAgainTextShadow:null,_moreGamesButton:null,_moreGamesText:null,_moreGamesTextShadow:null,_promo1Button:null,_promo1Text:null,_promo1TextShadow:null,_promo1BG:null,_promo:null,_coins:0,_time:0,_movements:0,_promoRandomText:null,_promoRandomTextShadow:null,_changeBannerTime:CHANGE_BANNER_TIME,_currentPromo:0,ctor:function(e,t,n){this._coins=e;this._time=t;this._movements=n;this._super();this.init();this.scheduleUpdate()},init:function(){var e=false;if(this._super()){FlurryAgent.logEvent(FLURRY_REACHED_GAME_OVER);var t=null;switch(WORLD){case 0:t="res/FondoScore.png";break;case 1:t="res/FondoScore2.png";break;case 3:t="res/FondoScore3.png";break;case 4:t="res/FondoScore4.png";break;case 5:t="res/FondoScore5.png";break}this._background=cc.Sprite.create(t);this._background.setPosition(cc.p(160,240));this.addChild(this._background);var n="{SCORE_PROMO_1}";var r="EnemiesBanner.png";this._promo1BG=cc.Sprite.createWithSpriteFrameName(r);this.addChild(this._promo1BG);this._menu=cc.Menu.create();this.addChild(this._menu);var i="";switch(WORLD){case 0:i="{FIRST_COMPLETED}";break;case 1:i="{SECOND_COMPLETED}";break;case 2:i="{THIRD_COMPLETED}";break;case 3:i="{FOURTH_COMPLETED}";break;case 4:i="{FIFTH_COMPLETED}";break}this._titleTextShadow=cc.LabelTTF.create(Localization.getText(i),"Arial","22",cc.size(400,0),cc.TEXT_ALIGNMENT_CENTER);this._titleTextShadow.setColor(cc.c3b(0,0,0));this.addChild(this._titleTextShadow);this._titleText=cc.LabelTTF.create(Localization.getText(i),"Arial","22",cc.size(400,0),cc.TEXT_ALIGNMENT_CENTER);this._titleText.setColor(cc.c3b(252,255,234));this.addChild(this._titleText);this._totalCoinsText=cc.LabelTTF.create(Localization.getText("{TOTAL_COINS}"),"Arial","20",cc.size(170,0),cc.TEXT_ALIGNMENT_LEFT);this._totalCoinsText.setColor(cc.c3b(0,0,0));this.addChild(this._totalCoinsText);this._totalCoinsValueText=cc.LabelTTF.create(this._coins,"Arial","20",cc.size(170,0),cc.TEXT_ALIGNMENT_RIGHT);this._totalCoinsValueText.setColor(cc.c3b(0,0,0));this.addChild(this._totalCoinsValueText);this._totalMovesText=cc.LabelTTF.create(Localization.getText("{TOTAL_MOVES}"),"Arial","20",cc.size(170,0),cc.TEXT_ALIGNMENT_LEFT);this._totalMovesText.setColor(cc.c3b(0,0,0));this.addChild(this._totalMovesText);this._totalMovesValueText=cc.LabelTTF.create(this._movements,"Arial","20",cc.size(170,0),cc.TEXT_ALIGNMENT_RIGHT);this._totalMovesValueText.setColor(cc.c3b(0,0,0));this.addChild(this._totalMovesValueText);this._totalTimeText=cc.LabelTTF.create(Localization.getText("{TOTAL_TIME}"),"Arial","20",cc.size(170,0),cc.TEXT_ALIGNMENT_LEFT);this._totalTimeText.setColor(cc.c3b(0,0,0));this.addChild(this._totalTimeText);this._totalTimeValueText=cc.LabelTTF.create(TextUtils.timeToString(this._time*1e3),"Arial","20",cc.size(170,0),cc.TEXT_ALIGNMENT_RIGHT);this._totalTimeValueText.setColor(cc.c3b(0,0,0));this.addChild(this._totalTimeValueText);this._separator=cc.Sprite.createWithSpriteFrameName("KW_statslinea.png");this._separator.setScaleY(2);this.addChild(this._separator);this._totalText=cc.LabelTTF.create(Localization.getText("{TOTAL}"),"Arial","20",cc.size(170,0),cc.TEXT_ALIGNMENT_LEFT);this._totalText.setColor(cc.c3b(0,0,0));this.addChild(this._totalText);this._totalValueText=cc.LabelTTF.create(parseInt(this._coins+this._movements+this._time),"Arial","20",cc.size(170,0),cc.TEXT_ALIGNMENT_RIGHT);this._totalValueText.setColor(cc.c3b(0,0,0));this.addChild(this._totalValueText);this._likeOnFacebookButton=cc.MenuItemImage.create(null,null,function(){switch(WORLD){case 0:window.open("http://www.lehetj.com/game/html5","_blank");break;case 1:window.open("http://www.lehetj.com/game/html5","_blank");break;case 2:window.open("http://www.lehetj.com/game/html5","_blank");break;case 3:window.open("http://www.lehetj.com/game/html5","_blank");break;case 4:window.open("http://www.lehetj.com/game/html5","_blank");break}FlurryAgent.logEvent(FLURRY_CLICKED_FACEBOOK);gSharedEngine.playEffect(EFFECT_4)},this);this._likeOnFacebookButton.setNormalImage(cc.Sprite.createWithSpriteFrameName("FTR_v16_BotonFB.png"));this._likeOnFacebookButton.setSelectedImage(cc.Sprite.createWithSpriteFrameName("FTR_v16_BotonFBClick.png"));this._menu.addChild(this._likeOnFacebookButton);this._playAgainButton=cc.MenuItemImage.create(null,null,function(e){gSharedEngine.playEffect(EFFECT_4);var t=cc.Scene.create();var n=new SceneMainGameClass(WORLD+1,1);t.addChild(n);cc.Director.getInstance().replaceScene(cc.TransitionFade.create(.4,t))},this);this._playAgainButton.setNormalImage(cc.Sprite.createWithSpriteFrameName("BotonScore.png"));this._playAgainButton.setSelectedImage(cc.Sprite.createWithSpriteFrameName("BotonPresionadoScore.png"));this._menu.addChild(this._playAgainButton);this._playAgainTextShadow=cc.LabelTTF.create(Localization.getText("{PLAY_AGAIN}"),"Arial","17",cc.Size(170,0),cc.TEXT_ALIGNMENT_CENTER);this._playAgainTextShadow.setColor(cc.c3b(0,0,0));this._playAgainTextShadow.setPosition(this._playAgainButton.getContentSize().width/2+1,this._playAgainButton.getContentSize().height/2-2);this._playAgainButton.addChild(this._playAgainTextShadow);this._playAgainText=cc.LabelTTF.create(Localization.getText("{PLAY_AGAIN}"),"Arial","17",cc.Size(170,0),cc.TEXT_ALIGNMENT_CENTER);this._playAgainText.setColor(cc.c3b(252,255,234));this._playAgainText.setPosition(this._playAgainButton.getContentSize().width/2,this._playAgainButton.getContentSize().height/2);this._playAgainButton.addChild(this._playAgainText);this._moreGamesButton=cc.MenuItemImage.create(null,null,function(e){gSharedEngine.playEffect(EFFECT_4);window.open("http://www.a10.com/?utm_medium=brandedgames_external&utm_campaign=0&utm_source=localhost&utm_content=logo","More Games")},this);this._moreGamesButton.setNormalImage(cc.Sprite.createWithSpriteFrameName("BotonScore.png"));this._moreGamesButton.setSelectedImage(cc.Sprite.createWithSpriteFrameName("BotonPresionadoScore.png"));this._menu.addChild(this._moreGamesButton);this._moreGamesTextShadow=cc.LabelTTF.create(Localization.getText("{MORE_GAMES}"),"Arial","17",cc.Size(170,0),cc.TEXT_ALIGNMENT_CENTER);this._moreGamesTextShadow.setColor(cc.c3b(0,0,0));this._moreGamesTextShadow.setPosition(this._moreGamesButton.getContentSize().width/2+1,this._moreGamesButton.getContentSize().height/2-2);this._moreGamesButton.addChild(this._moreGamesTextShadow);this._moreGamesText=cc.LabelTTF.create(Localization.getText("{MORE_GAMES}"),"Arial","17",cc.Size(170,0),cc.TEXT_ALIGNMENT_CENTER);this._moreGamesText.setColor(cc.c3b(252,255,234));this._moreGamesText.setPosition(this._moreGamesButton.getContentSize().width/2,this._moreGamesButton.getContentSize().height/2);this._moreGamesButton.addChild(this._moreGamesText);this._promo=new ScenePromoLayer(0);this._promo.setVisible(false);this._promo1Button=cc.MenuItemImage.create(null,null,function(e){gSharedEngine.playEffect(EFFECT_4);if(IS_HANDHELD){this._promo.setVisible(true)}else{window.open("http://www.lehetj.com/game/html5","_blank")}},this);this._promo1Button.setNormalImage(cc.Sprite.createWithSpriteFrameName("BotonBanner.png"));this._promo1Button.setSelectedImage(cc.Sprite.createWithSpriteFrameName("BotonPresionadoBanner.png"));this._menu.addChild(this._promo1Button);this._promo1TextShadow=cc.LabelTTF.create(Localization.getText("{PROMO_TEXT_1}"),"Arial","17",cc.Size(170,0),cc.TEXT_ALIGNMENT_CENTER);this._promo1TextShadow.setColor(cc.c3b(0,0,0));this._promo1TextShadow.setPosition(this._promo1Button.getContentSize().width/2+1,this._promo1Button.getContentSize().height/2-2);this._promo1Button.addChild(this._promo1TextShadow);this._promo1Text=cc.LabelTTF.create(Localization.getText("{PROMO_TEXT_1}"),"Arial","17",cc.Size(170,0),cc.TEXT_ALIGNMENT_CENTER);this._promo1Text.setColor(cc.c3b(252,255,234));this._promo1Text.setPosition(this._promo1Button.getContentSize().width/2,this._promo1Button.getContentSize().height/2);this._promo1Button.addChild(this._promo1Text);this._promoRandomTextShadow=cc.LabelTTF.create(Localization.getText(n),"Arial","13",cc.Size(400,0),cc.TEXT_ALIGNMENT_CENTER);this._promoRandomTextShadow.setColor(cc.c3b(0,0,0));this._promoRandomTextShadow.setPosition(250,93);this.addChild(this._promoRandomTextShadow);this._promoRandomText=cc.LabelTTF.create(Localization.getText(n),"Arial","13",cc.Size(400,0),cc.TEXT_ALIGNMENT_CENTER);this._promoRandomText.setColor(cc.c3b(252,255,234));this._promoRandomText.setPosition(249,95);this.addChild(this._promoRandomText);this.setTouchEnabled(true);this._titleText.setPosition(160,450);this._titleTextShadow.setPosition(161,448);this._totalCoinsText.setPosition(220,400);this._totalMovesText.setPosition(220,375);this._totalTimeText.setPosition(220,350);this._separator.setPosition(220,325);this._totalText.setPosition(220,300);this._totalCoinsValueText.setPosition(220,400);this._totalMovesValueText.setPosition(220,375);this._totalTimeValueText.setPosition(220,350);this._totalValueText.setPosition(220,300);this._menu.setPosition(0,0);this._likeOnFacebookButton.setPosition(34,160);this._playAgainButton.setPosition(80,116);this._moreGamesButton.setPosition(80,67);this._promo1Button.setPosition(249,64);this._promo1BG.setPosition(250.9,113);this.addChild(this._promo);e=true}return e},update:function(e){this._changeBannerTime-=e;if(this._changeBannerTime<=0){var t="";var n="";if(this._currentPromo==0){t="{SCORE_PROMO_1}";n="EnemiesBanner.png";this._currentPromo=1}else if(this._currentPromo==1){t="{SCORE_PROMO_2}";n="FreeBanner.png";this._currentPromo=2}else if(this._currentPromo==2){t="{SCORE_PROMO_3}";n="LevelsBanner.png";this._currentPromo=0}this._promo1BG.setDisplayFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame(n));this._promoRandomText.setString(Localization.getText(t),true);this._promoRandomTextShadow.setString(Localization.getText(t),true);this._changeBannerTime=CHANGE_BANNER_TIME}}});cc.LoaderScene=cc.Scene.extend({_logo:null,_logoTexture:null,_texture2d:null,_winSize:null,_barraFondo:null,_barraMarco:null,_barraRelleno:null,_textureBarraFondo:null,_textureBarraMarco:null,_textureBarraRelleno:null,_barra:null,_marco:null,_relleno:null,_barSizeHeight:null,_barSizeWidth:null,_loadLogo:true,ctor:function(){cc.Scene.prototype.ctor.call(this);this._winSize=cc.Director.getInstance().getWinSize()},init:function(){cc.Scene.prototype.init.call(this);this._logoTexture=new Image;this._barraFondo=new Image;this._barraMarco=new Image;this._barraRelleno=new Image;this._logoTexture.src="data:image/jpeg;base64,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AITLF50AgbaAj4Da/UtPgEBYwHcBhcsXnQCBtoAXQLt/6QkQCAt4AYTLF50AgbaAF0C7f+kJEAgLGIBw+aITINAW8G2g7f6lJ0AgLOAFEC5fdAIE2gJeAO3+pSdAICzgBRAuX3QCBNoCy7qubQHpCRAgEBXwAogWLzYBAgR8DcANECBAICrgBRAtXmwCBAj4pSDcAAECBKICPgKKFi82AQIEfATkBggQIBAVMADR4sUmQICArwG4AQIECEQFvACixYtNgAABA+AGCBAgEBXwXUDR4sUmQICAF4AbIECAQFTAAESLF5sAAQK+C8gNECBAICrgawDR4sUmQICAAXADBAgQiAr4GkC0eLEJECBgANwAAQIEogL+kZDR4sUmQICArwG4AQIECEQFfAQULV5sAgQIeAG4AQIECEQFvACixYtNgAABA+AGCBAgEBXwEVC0eLEJECDgBeAGCBAgEBXwAogWLzYBAgT8aqBugAABAlEBHwFFixebAAECPgJyAwQIEIgKeAFEixebAAECvgbgBggQIBAV8BFQtHixCRAg4CMgN0CAAIGogBdAtHixCRAg4AXgBggQIBAVMADR4sUmQICAj4DcAAECBKICXgDR4sUmQICAAXADBAgQiAoYgGjxYhMgQMDXANwAAQIEogJeANHixSZAgIAXgBsgQIBAVMAARIsXmwABAj4CcgMECBCIChiAaPFiEyBAwEdAboAAAQJRAS+AaPFiEyBAwAC4AQIECEQFfAQULV5sAgQI/AMcTIvCLf/lAQAAAABJRU5ErkJggg==";this._logoTexture.width=384;this._logoTexture.height=512;this._barraFondo.src="data:image/png;base64,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";this._barraFondo.width=279;this._barraFondo.height=40;this._barraMarco.src="data:image/png;base64,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";this._barraMarco.width=279;this._barraMarco.height=40;this._barraRelleno.src="data:image/png;base64,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";this._barraRelleno.width=279;this._barraRelleno.height=40;this._initStage()},reset:function(){this._relleno.setTextureRect(cc.rect(0,0,0,this._barSizeHeight),false,cc.rect(0,0,0,0))},_initStage:function(){var e=cc.p(this._winSize.width/2,this._winSize.height/2);this._texture2d=new cc.Texture2D;this._texture2d.initWithElement(this._logoTexture);this._texture2d.handleLoadedTexture();this._logo=cc.Sprite.createWithTexture(this._texture2d);this._logo.setPosition(e);this.addChild(this._logo,10);this._textureBarraFondo=new cc.Texture2D;this._textureBarraFondo.initWithElement(this._barraFondo);this._textureBarraFondo.handleLoadedTexture();this._barra=cc.Sprite.createWithTexture(this._textureBarraFondo);var t=e.y*2*.1;this._barra.setPosition(e.x,t);this.addChild(this._barra,10);this._textureBarraRelleno=new cc.Texture2D;this._textureBarraRelleno.initWithElement(this._barraRelleno);this._textureBarraRelleno.handleLoadedTexture();this._relleno=cc.Sprite.createWithTexture(this._textureBarraRelleno);this._relleno.setPosition(e.x,t);this.addChild(this._relleno,10);this._textureBarraMarco=new cc.Texture2D;this._textureBarraMarco.initWithElement(this._barraMarco);this._textureBarraMarco.handleLoadedTexture();this._marco=cc.Sprite.createWithTexture(this._textureBarraMarco);this._marco.setPosition(e.x,t);this.addChild(this._marco,10);this._barSizeHeight=this._relleno.getContentSize().height;this._barSizeWidth=this._relleno.getContentSize().width;this._relleno.setTextureRect(cc.rect(0,0,0,this._barSizeHeight),false,cc.rect(0,0,0,0))},onEnter:function(){cc.Node.prototype.onEnter.call(this);this.schedule(this._startLoading,.3)},onExit:function(){cc.Node.prototype.onExit.call(this)},initWithResources:function(e,t,n){this.resources=e;this.selector=t;this.target=n},_startLoading:function(){this.unschedule(this._startLoading);cc.Loader.preload(this.resources,this.selector,this.target);this.schedule(this._updatePercent)},_updatePercent:function(){var e=cc.Loader.getInstance().getPercentage();var t=this._barSizeWidth*e/100;var n=this._barra.getPosition().x-this._barSizeWidth/2;this._relleno.setPosition(Math.round(n+t/2),this._relleno.getPosition().y);this._relleno.setTextureRect(cc.rect(0,0,t,this._barSizeHeight),false,cc.rect(0,0,0,0));if(e>=100){this.unschedule(this._updatePercent)}}});cc.LoaderScene.preload=function(e,t,n){if(!this._instance){this._instance=new cc.LoaderScene;this._instance.init()}else{this._instance.reset()}this._instance.initWithResources(e,t,n);var r=cc.Director.getInstance();if(r.getRunningScene()){r.replaceScene(this._instance)}else{r.runWithScene(this._instance)}return this._instance};var gNotification=cc.NotificationCenter.getInstance();var gSpriteFrameCache=cc.SpriteFrameCache.getInstance();var MUSIC_BACKGROUND_1="audio/music/ingame_piano";var MUSIC_BACKGROUND_2="audio/music/intro_version_violin";var MUSIC_BACKGROUND_4="audio/music/seleccion_de_niveles";var EFFECT_1="audio/aplastado5";var EFFECT_3="audio/botonlego3";var EFFECT_4="audio/botonmenuv1.2";var EFFECT_6="audio/disparoCanon";var EFFECT_7="audio/enemigo1n";var EFFECT_9="audio/enemigotraga1";var EFFECT_11="audio/ImpactoBala";var EFFECT_12="audio/InflarGlobo";var EFFECT_13="audio/kermixmove";var EFFECT_14="audio/kermixmuere1";var EFFECT_15="audio/kermixsalto";var EFFECT_17="audio/moneda";var EFFECT_23="audio/moversesticky";var EFFECT_24="audio/muereenemigov1.2";var EFFECT_25="audio/palomamove";var EFFECT_26="audio/piedraarrastrar";var EFFECT_28="audio/puerta1";var EFFECT_34="audio/ReventarGlobo";var g_ressources1=[{src:"res/ftr_0.png"},{src:"res/ftr_0.plist"},{src:"res/ftr_1.png"},{src:"res/ftr_1.plist"},{src:"res/gui.plist"},{src:"res/gui.png"},{src:"res/FTR_html5_Menu1.png"},{src:"res/languages.json"},{src:"res/Dust.plist"},{src:"res/switchlogo.png"}];var g_gameresouces1=[{src:"res/KW_ingamefondo1.jpg"},{src:"res/FondoScore.png"}];var g_ressources2=[{src:"res/ftr_0.png"},{src:"res/ftr_0.plist"},{src:"res/ftr_1.png"},{src:"res/ftr_1.plist"},{src:"res/gui.plist"},{src:"res/gui.png"},{src:"res/FTR_html5_Menu2.png"},{src:"res/languages.json"},{src:"res/Dust.plist"},{src:"res/switchlogo.png"}];var g_gameresouces2=[{src:"res/KW_ingamefondo2.jpg"},{src:"res/FondoScore2.png"}];var g_ressources3=[{src:"res/ftr_0.png"},{src:"res/ftr_0.plist"},{src:"res/ftr_1.png"},{src:"res/ftr_1.plist"},{src:"res/gui.plist"},{src:"res/gui.png"},{src:"res/FTR_html5_Menu3.png"},{src:"res/languages.json"},{src:"res/Dust.plist"},{src:"res/switchlogo.png"}];var g_gameresouces3=[{src:"res/KW_ingamefondo3.jpg"},{src:"res/FondoScore3.png"}];var g_ressources4=[{src:"res/ftr_0.png"},{src:"res/ftr_0.plist"},{src:"res/ftr_1.png"},{src:"res/ftr_1.plist"},{src:"res/gui.plist"},{src:"res/gui.png"},{src:"res/FTR_html5_Menu4.png"},{src:"res/languages.json"},{src:"res/Dust.plist"},{src:"res/switchlogo.png"}];var g_gameresouces4=[{src:"res/KW_ingamefondo4.jpg"},{src:"res/FondoScore4.png"}];var g_ressources5=[{src:"res/ftr_0.png"},{src:"res/ftr_0.plist"},{src:"res/ftr_1.png"},{src:"res/ftr_1.plist"},{src:"res/gui.plist"},{src:"res/gui.png"},{src:"res/FTR_html5_Menu5.png"},{src:"res/languages.json"},{src:"res/Dust.plist"},{src:"res/switchlogo.png"}];var g_gameresouces5=[{src:"res/KW_ingamefondo5.jpg"},{src:"res/FondoScore5.png"}];var SpriteAnimation=cc.Sprite.extend({_animation:null,_endAnimationCallback:null,_obj:null,_tag:null,ctor:function(){this._super()},initWithAtlas:function(e,t,n,r,i,s,o,u){var a=cc.SpriteFrameCache.getInstance();var f=a.getSpriteFrame(e);var l=f._originalSize.width/i.x;var c=f._originalSize.height/i.y;var h=new vector2d(f.getRect().x,f.getRect().y);this.createAnimation(f.getTexture(),l,c,t,n,r,i,s,o,u,h)},init:function(e,t,n,r,i,s,o,u){var a=cc.TextureCache.getInstance().textureForKey(e);if(a==null){return}var f=a.getContentSize().width/i.x;var l=a.getContentSize().height/i.y;this.createAnimation(a,f,l,t,n,r,i,s,o,u)},createAnimation:function(e,t,n,r,i,s,o,u,a,f,l){this._animation=new cc.Animation.create;var c=0;var h=false;for(var p=0;p<n;p++){for(var d=0;d<t;d++){c+=1;if(a!=null&&a!="undefined"){if(c<a.x){continue}if(c>a.y){h=true;break}}if(l==null){this._animation.addSpriteFrameWithTexture(e,cc.rect(d*o.x,p*o.y,o.x,o.y))}else{this._animation.addSpriteFrameWithTexture(e,cc.rect(l.x+d*o.x,l.y+p*o.y,o.x,o.y))}}if(h){break}}if(f!=null&&f==true){this.setScaleX(-1);this.setPositionX(-s.x);this.setPositionY(s.y)}else{this.setPosition(s)}this._animation.setDelayPerUnit(i);this._animation.setLoops(r);cc.AnimationCache.getInstance().addAnimation(this._animation,u);this.setDisplayFrameWithAnimationName(u,0);this._tag=u},play:function(){if(this._animation==null){return}this.runAction(cc.Sequence.create(cc.Animate.create(this._animation),cc.CallFunc.create(this.endAnimation,this)))},setFrame:function(e){if(this._animation==null){return}var t=this._animation.getFrames();if(t.length>0){this.setDisplayFrameWithAnimationName(this._tag,e-1)}},endAnimationCallback:function(e,t){this._endAnimationCallback=t;this._obj=e},pause:function(){},endAnimation:function(sender){if(this._obj!=null&&this._endAnimationCallback!=null){eval("this._obj."+this._endAnimationCallback+"()")}}});var levels=[[[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,4,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,1,0,2,1,0,0],[0,0,0,0,0,0,4,1,0,4,1,0,0],[0,0,0,0,0,0,4,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,4,3,1,0,0,0],[0,0,0,0,0,4,1,2,1,0,0,0,0],[0,0,0,0,0,0,1,0,4,1,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,1,0,0,3,1,0,0,0],[0,0,0,0,0,2,1,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,5,1,0,0,1,0,0],[0,0,0,0,0,0,4,1,0,4,1,0,0],[0,0,0,0,0,1,1,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,1,0,0,0],[0,0,0,0,0,0,0,4,1,4,1,0,0],[0,0,0,0,0,4,1,5,1,2,1,0,0],[0,0,0,0,0,5,1,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,1,1,0,0,3,1,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,3,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,1,0,0,0],[0,0,0,0,4,1,5,1,0,0,1,0,0],[0,0,0,0,5,1,4,1,0,2,1,0,0],[0,0,0,0,0,4,0,0,1,1,0,0,0],[0,0,0,0,1,0,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,3,1,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,2,1,0,0,0],[0,0,0,0,0,0,4,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,2,1,0,0,0],[0,0,0,0,0,3,1,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,1,0,0,0],[0,0,0,0,0,0,3,1,0,0,1,0,0],[0,0,0,0,4,0,1,0,0,0,1,0,0],[0,0,2,2,1,0,0,3,1,4,1,0,0],[0,0,0,0,4,0,0,1,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,2,1,0],[0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,3,0,4,4,4,0,9,1,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,1,0,4,0,9,1,0],[0,0,0,0,0,4,1,0,0,0,0,1,0],[0,0,0,0,0,0,1,0,0,2,1,1,0],[0,0,0,0,0,0,0,0,4,0,0,1,0],[0,0,0,0,0,1,0,0,0,0,3,1,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,4,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,9,0,0],[0,0,0,0,0,0,0,0,2,1,0,0,0],[0,0,0,4,0,0,1,0,0,0,4,9,0],[0,0,0,0,0,3,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,3,1,0,0,0,0,0],[0,0,0,0,3,1,4,0,1,0,0,0,0],[0,0,0,0,0,0,2,1,0,0,0,0,0],[0,0,0,0,4,1,4,0,1,0,0,0,0],[0,0,0,0,0,0,5,1,0,0,0,0,0],[0,0,0,0,0,0,2,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,1,0,0],[0,0,0,0,0,2,1,0,0,4,2,1,0],[0,0,0,0,0,0,1,0,0,0,5,1,0],[0,0,0,0,0,4,0,1,0,0,9,1,0],[0,0,0,0,0,0,1,0,0,0,4,1,0],[0,0,0,0,0,3,1,0,0,0,3,1,0],[0,0,0,0,0,1,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,4,1,0,0,4,0,9,1,0,0],[0,0,0,0,1,3,1,5,1,2,1,0,0],[0,0,0,0,1,0,0,4,1,0,1,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,11,1,1,0,0,0],[0,0,0,0,0,0,4,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,2,1,0,0],[0,0,0,0,0,0,4,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,3,1,0,0],[0,0,0,0,0,0,4,0,0,0,1,0,0],[0,0,0,0,0,0,1,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,11,1,0,0,0],[0,0,0,0,0,0,0,4,0,0,0,0,0],[0,0,0,0,0,2,1,0,0,0,0,0,0],[0,0,0,0,0,1,1,4,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,3,1,4,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,11,1,0,0,11,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,4,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,2,1,0,0],[0,0,0,4,0,0,0,4,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,3,0,0,12,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,4,0,1,0,1,0,0,0],[0,0,0,0,0,1,0,0,1,2,1,0,0],[0,0,0,3,4,3,0,5,1,0,1,0,0],[0,0,0,0,0,1,0,0,1,2,1,0,0],[0,0,0,0,0,4,0,1,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,4,0,29,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,3,1,4,2,1,0,0],[0,0,0,0,0,0,0,0,28,0,1,0,0],[0,0,0,0,0,0,4,0,29,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,11,0,0,29,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,4,1,0,0,0,0,0],[0,0,0,0,4,0,1,1,0,0,0,0,0],[0,0,0,0,0,0,2,1,28,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,4,0,0,0,29,0,0,3,0],[0,0,0,0,0,0,0,0,0,0,12,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,3,0,0,0,2,1,11,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,4,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,29,0,0,0,27,0,29,0,0],[0,0,0,0,4,0,0,1,4,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,12,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,29,0,0,0,0],[0,0,4,0,0,1,0,0,28,9,0,0,0],[0,0,0,0,3,1,5,1,29,0,0,0,0],[0,0,0,0,1,1,4,1,0,0,0,0,0],[0,0,0,0,2,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,4,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,12,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,29,0,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,4,0,9,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,4,28,0,0,9,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,29,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,11,1,0],[0,0,0,0,0,0,3,0,0,0,0,0,0],[0,0,0,1,1,0,0,0,1,0,0,0,0],[0,0,4,0,0,0,2,1,4,0,0,0,0],[0,0,0,0,0,4,0,1,0,0,0,0,0],[0,0,0,5,12,1,3,0,0,0,0,0,0],[0,0,0,2,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]]],[[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,4,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,1,0,2,1,0,0],[0,0,0,0,0,0,4,1,0,4,1,0,0],[0,0,0,0,0,0,4,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,19,1,0,2,1,0,0],[0,0,0,0,0,0,0,1,0,4,1,0,0],[0,0,0,0,0,0,4,1,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,4,1,0,0],[0,0,0,0,0,0,0,0,0,3,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,1,0],[0,0,0,0,0,0,0,0,4,1,0,1,0],[0,0,0,0,0,0,0,0,5,1,0,1,0],[0,0,0,0,0,0,0,0,0,1,0,1,0],[0,0,0,0,0,0,0,1,19,1,4,1,0],[0,0,0,0,0,0,3,1,4,1,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,4,0,0,1,1,0,0,0],[0,0,0,2,1,0,1,0,3,1,0,0,0],[0,0,0,0,0,19,1,0,0,1,0,0,0],[0,0,0,0,0,0,1,0,0,1,0,0,0],[0,0,0,4,0,0,1,0,0,1,0,0,0],[0,0,0,2,1,0,1,0,3,1,0,0,0],[0,0,0,1,1,4,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,4,1,0,0,0,0,0],[0,0,0,4,0,0,0,1,0,2,1,0,0],[0,0,0,0,1,0,0,1,0,0,1,0,0],[0,0,0,19,1,0,5,1,0,0,1,0,0],[0,0,0,0,1,0,0,0,0,9,1,0,0],[0,0,0,0,1,0,0,1,0,4,1,0,0],[0,0,0,3,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,11,1,0,0],[0,0,0,0,0,0,0,0,0,0,2,1,0],[0,0,4,3,0,4,0,0,0,0,0,1,0],[0,0,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,5,1,0,0,0,0,0,0],[0,0,0,0,3,4,0,1,0,0,0,0,0],[0,0,0,0,0,2,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,11,1,0,0,0],[0,0,0,4,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,3,1,0,0,0,0,0,0],[0,0,0,0,1,0,1,0,4,0,1,0,0],[0,0,0,5,1,0,4,0,1,19,1,0,0],[0,0,0,0,1,2,1,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,4,0,0,1,0],[0,0,0,0,4,1,0,0,0,1,3,1,0],[0,0,0,0,0,1,4,0,0,0,0,1,0],[0,0,0,0,0,1,29,27,29,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,2,5,1,0,0,0,0,1,0],[0,0,0,0,0,0,1,12,1,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,3,1,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,4,1,0,19,1,0,0,0],[0,0,0,0,0,5,1,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,1,0,0,1,0,0,0],[0,0,0,0,0,4,1,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,1,1,0,0],[0,0,0,0,0,0,0,1,0,0,1,0,0],[0,0,0,0,0,0,0,0,4,1,1,0,0],[0,0,0,0,0,0,4,1,0,0,1,0,0],[0,0,0,0,0,0,0,0,4,1,1,0,0],[0,0,0,0,0,0,3,1,0,0,1,0,0],[0,0,0,0,0,0,0,0,16,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,11,1,0,4,1,0],[0,0,0,0,0,0,1,0,0,1,0,1,0],[0,0,0,0,0,5,1,0,0,1,0,1,0],[0,0,0,0,1,0,0,0,0,0,0,1,0],[0,0,0,0,1,4,0,0,0,0,0,1,0],[0,0,4,0,1,0,0,0,0,0,0,1,0],[0,0,0,3,1,0,16,0,2,1,16,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,1,0,0,3,1,0,0],[0,0,0,0,0,4,1,0,0,4,1,0,0],[0,0,0,0,0,5,1,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,4,1,0,0,0,0,0,9,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,16,1,0,0,16,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,2,1,0,15,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,4,1,0,0,0,0,9,1,0],[0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,15,1,16,1,1,0],[0,0,0,0,0,0,0,0,0,0,4,1,0],[0,0,3,1,0,0,4,0,0,0,9,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,19,1,2,1,15,1,0,0,0,0],[0,0,0,0,1,0,1,4,1,0,0,1,0],[0,0,0,4,1,5,1,0,0,0,0,1,0],[0,0,0,0,0,0,1,0,1,0,3,1,0],[0,0,0,0,0,19,1,0,1,0,0,0,0],[0,0,0,0,0,0,4,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,15,1,1,0,0],[0,0,0,0,0,1,3,1,0,0,4,1,0],[0,0,29,0,0,0,0,1,0,0,0,1,0],[0,0,28,0,4,1,0,0,0,1,9,1,0],[0,0,29,0,0,1,0,0,0,1,0,1,0],[0,0,0,0,0,0,0,0,4,0,0,1,0],[0,0,0,0,0,0,2,1,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,1,0,0,0,0,0],[0,0,0,4,1,0,0,4,0,9,0,0,0],[0,0,0,0,1,0,0,0,0,0,11,1,0],[0,0,0,0,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,4,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,3,1,0,0,0,0,9,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,1,0,0,0,0],[0,0,0,3,1,4,0,0,0,17,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,4,0,0,0,17,0,0],[0,0,0,5,1,0,0,0,1,0,1,0,0],[0,0,0,0,1,0,0,0,0,0,0,17,0],[0,0,0,0,1,0,0,1,0,1,4,1,0],[0,0,0,0,0,0,12,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,4,1,0,0,0,0],[0,0,0,0,0,0,1,0,1,2,1,0,0],[0,0,0,0,0,22,1,0,1,0,1,0,0],[0,0,0,0,0,0,1,0,1,4,1,0,0],[0,0,0,0,0,3,1,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,21,1,0,0,0,0],[0,0,0,0,4,1,0,29,1,0,0,0,0],[0,0,0,0,5,1,0,28,0,0,0,0,0],[0,0,0,0,0,0,0,29,1,0,0,0,0],[0,0,0,0,0,3,1,22,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,1,0],[0,0,0,0,1,0,21,1,0,9,0,1,0],[0,0,0,0,1,0,0,1,1,1,20,1,0],[0,0,0,3,1,0,0,0,0,22,1,0,0],[0,0,0,0,1,0,0,0,0,9,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,18,0,0,0,0,0,1,3,0,0,0],[0,0,1,0,0,4,1,0,1,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0],[0,0,18,0,0,0,1,21,1,0,0,0,0],[0,0,1,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,4,0,0,0,0],[0,0,0,0,0,2,1,0,0,0,12,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,3,1,0,1,1,0,0,0,0],[0,0,0,0,0,1,0,1,4,1,0,0,0],[0,0,0,0,0,0,2,1,19,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,19,1,0,1,0,0,0],[0,0,0,0,0,21,0,1,20,1,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,17,1,0,0,0],[0,0,0,0,5,1,4,1,0,3,1,0,0],[0,0,0,0,0,1,0,0,0,1,0,0,0],[0,0,2,1,0,1,0,1,4,1,0,0,0],[0,0,0,0,0,1,0,1,0,1,0,0,0],[0,0,0,0,5,1,21,1,16,1,0,0,0],[0,0,0,0,0,0,0,0,17,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,20,0,0,1,0],[0,0,0,1,2,1,0,1,0,1,0,1,0],[0,0,0,0,1,0,0,3,1,0,1,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,1,0,0,3,1,0,0,1,0],[0,0,0,1,22,1,0,1,21,1,2,1,0],[0,0,1,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,1,0,0,0],[0,0,0,0,0,0,0,1,2,1,4,1,0],[0,0,0,0,0,0,19,1,1,1,0,1,0],[0,0,0,0,3,0,0,0,4,9,19,1,0],[0,0,0,0,0,0,0,1,0,1,0,1,0],[0,0,0,0,0,0,4,1,2,1,0,1,0],[0,0,0,0,0,0,1,0,0,0,3,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,4,1,0,1,4,1,0],[0,0,0,0,2,1,0,1,0,0,0,1,0],[0,0,0,0,2,1,0,0,0,1,19,1,0],[0,0,0,0,1,0,0,0,0,0,1,1,0],[0,0,0,0,19,1,0,0,3,0,0,0,1],[0,0,0,0,0,1,0,0,0,0,0,1,0],[0,0,0,0,3,1,4,0,0,0,0,9,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]]],[[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,4,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,1,0,2,1,0,0],[0,0,0,0,0,0,4,1,0,4,1,0,0],[0,0,0,0,0,0,4,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,2,23,4,4,4,24,3,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,23,0,0,0,0],[0,0,0,0,0,0,0,4,1,0,0,0,0],[0,0,0,0,0,0,0,0,24,0,0,0,0],[0,0,0,0,0,0,1,4,1,0,0,0,0],[0,0,0,0,0,5,1,0,1,0,0,0,0],[0,0,0,0,0,0,0,4,0,23,0,0,0],[0,0,0,0,0,0,0,3,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,4,0,3,1,0],[0,0,0,0,0,23,4,24,0,0,0,0,0],[0,0,0,0,0,23,0,23,0,0,0,0,0],[0,0,0,0,0,24,0,23,0,0,2,1,0],[0,0,0,0,4,24,0,0,0,0,9,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,4,1,0,1,0,2,1,0,0,0],[0,0,0,5,1,0,0,1,0,1,0,0,0],[0,0,0,0,0,0,0,1,0,0,1,0,0],[0,0,0,0,0,0,19,1,0,4,1,0,0],[0,0,0,0,3,1,4,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,1,11,1,0,0,0,0],[0,0,0,0,0,0,4,0,0,0,0,0,0],[0,0,0,0,0,0,23,23,0,0,0,0,0],[0,0,0,0,0,0,4,0,0,0,0,0,0],[0,0,0,0,0,0,24,24,0,0,0,0,0],[0,0,0,0,0,0,4,0,0,0,0,0,0],[0,0,0,0,0,0,3,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,23,4,23,1,0,0,0,0],[0,0,0,0,24,0,24,0,1,0,0,0,0],[0,0,0,0,2,1,0,0,0,4,3,1,0],[0,0,0,0,23,0,23,0,1,0,0,0,0],[0,0,0,0,0,24,4,24,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,29,0,0,0,0,0],[0,0,0,4,1,0,23,28,0,0,3,0,0],[0,0,0,0,24,0,23,29,4,24,0,0,0],[0,0,0,0,0,23,29,0,1,0,24,0,0],[0,0,0,0,2,23,28,0,0,4,24,0,0],[0,0,0,0,0,0,29,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,4,1,0,2,1,0,0,0,0],[0,0,0,0,24,23,0,0,1,0,0,0,0],[0,0,0,0,0,23,0,0,1,0,0,0,0],[0,0,0,0,0,23,0,0,0,1,0,0,0],[0,0,0,0,19,23,0,0,1,0,0,0,0],[0,0,0,4,0,23,0,4,1,0,0,0,0],[0,0,0,0,0,0,0,3,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,15,1,0,2,1,0,0,0],[0,0,0,0,0,0,24,23,23,1,0,0,0],[0,0,0,0,0,0,24,0,4,1,0,0,0],[0,0,0,3,1,4,24,23,23,1,0,0,0],[0,0,0,0,23,0,1,0,4,1,0,0,0],[0,0,0,0,0,0,24,0,23,1,0,0,0],[0,0,0,0,0,0,0,0,16,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,4,23,0,24,4,3,0,0,0,0],[0,0,0,0,23,0,23,0,1,0,0,0,0],[0,0,0,0,0,4,23,0,24,2,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,24,0,2,1,0,0,0,0,0,0],[0,0,0,0,1,0,0,23,0,4,1,0,0],[0,0,0,24,1,0,1,0,0,0,1,0,0],[0,0,0,0,23,0,1,0,0,23,1,0,0],[0,0,0,4,1,4,0,0,24,0,1,0,0],[0,0,0,0,0,0,0,3,1,0,0,0,0],[0,0,0,16,0,0,0,0,0,16,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,4,0,24,0,2,1,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0],[0,0,0,0,23,0,1,0,0,0,0,0,0],[0,0,0,0,4,1,0,0,0,19,1,0,0],[0,0,0,0,5,1,0,24,0,0,1,0,0],[0,0,0,0,0,0,0,24,0,4,1,0,0],[0,0,0,0,1,0,0,1,0,3,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,3,1,29,27,29,24,0,2,1,0,0],[0,0,0,24,0,0,0,24,0,23,0,0,0],[0,0,0,0,4,0,0,0,0,23,0,0,0],[0,0,0,0,0,23,0,0,0,4,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,1,0,23,0,23,0,1,0,0],[0,0,0,4,1,12,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,1,0,1,0,0,0],[0,0,0,0,24,0,0,23,4,1,0,0,0],[0,0,0,0,1,0,0,1,0,1,0,0,0],[0,0,0,2,1,4,19,1,0,24,3,0,0],[0,0,0,0,1,0,0,1,19,1,0,0,0],[0,0,0,0,23,0,0,24,4,1,0,0,0],[0,0,0,0,1,0,0,1,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,3,1,0,0,0,0,0,0,0],[0,0,0,1,0,4,24,0,0,4,23,0,0],[0,0,0,0,0,0,1,1,1,0,1,0,0],[0,0,0,29,0,0,1,0,0,0,24,0,0],[0,0,0,28,0,24,4,0,9,0,1,0,0],[0,0,0,29,0,0,1,0,0,2,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,23,4,0,24,0,1,0,0,0],[0,0,0,0,2,23,0,23,0,23,0,0,0],[0,0,0,0,0,24,0,0,0,1,0,0,0],[0,0,0,0,0,0,23,24,4,24,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,4,24,3,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,19,23,0,0,0,0,0,24,0,0],[0,0,0,0,0,0,0,0,1,4,24,0,0],[0,0,0,0,4,5,23,0,1,0,0,0,0],[0,0,0,0,0,0,0,2,1,1,0,0,0],[0,0,0,0,0,0,0,29,27,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,3,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,3,1,0,0],[0,0,0,18,0,24,4,1,0,0,1,0,0],[0,0,0,1,0,1,0,0,0,0,23,17,0],[0,0,0,0,0,1,0,0,0,0,1,0,0],[0,0,18,0,0,24,0,4,24,0,1,0,0],[0,0,1,0,0,1,0,0,0,0,1,0,0],[0,0,0,0,4,23,0,0,0,2,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,11,0,0,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,29,0,0,0,0,23,0,0,1,0,0],[0,0,28,4,0,23,0,0,0,9,1,0,0],[0,0,29,0,0,24,0,0,0,0,1,0,0],[0,0,0,0,4,0,23,0,0,2,1,0,0],[0,0,0,0,0,0,3,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,2,1,0,0,23,0,0,24,0,0],[0,0,0,0,24,0,5,23,0,4,24,0,0],[0,0,0,0,24,0,0,0,4,0,24,0,0],[0,0,0,0,0,0,0,4,23,23,0,1,0],[0,0,0,0,0,0,0,0,23,3,24,0,0],[0,0,0,0,0,0,16,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,3,0,0,0,0,2,1,0,0,0],[0,0,0,0,23,4,1,0,24,0,1,0,0],[0,0,0,0,0,24,0,1,0,4,24,0,0],[0,0,0,0,23,4,1,0,23,0,1,0,0],[0,0,0,3,0,0,0,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,2,23,0,0],[0,0,0,0,1,0,1,4,24,0,0,0,0],[0,0,0,5,1,4,23,0,0,0,0,24,0],[0,0,0,0,24,0,0,0,1,3,0,0,0],[0,0,0,0,0,0,4,0,24,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,16,0,16,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,23,4,1,3,1,0,0,0],[0,0,0,0,2,23,0,23,4,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,3,24,0,1,0,23,0,0,0],[0,0,0,0,0,0,4,24,2,23,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,4,5,1,0,2,1,0,0,0,0,0],[0,0,29,0,1,0,5,1,0,0,0,0,0],[0,0,28,0,1,0,0,0,0,9,0,0,0],[0,0,29,0,1,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,4,0,1,0,0,0],[0,0,3,29,27,29,4,0,0,9,0,9,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,4,24,0,0,0,1,0,0],[0,0,0,0,0,0,24,29,27,4,1,0,0],[0,0,0,5,1,0,0,0,0,0,1,0,0],[0,0,0,2,1,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,24,20,1,29,27,1,0],[0,0,0,3,0,23,0,0,0,0,9,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]]],[[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,4,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,1,0,2,1,0,0],[0,0,0,0,0,0,4,1,0,4,1,0,0],[0,0,0,0,0,0,4,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,3,4,0,1,4,1,4,2,1,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,31,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,0,0],[0,0,0,0,0,1,0,0,0,4,1,0,0],[0,0,0,0,0,1,0,4,0,31,1,0,0],[0,0,0,0,0,1,0,2,1,0,1,0,0],[0,0,0,0,0,1,31,0,0,4,1,0,0],[0,0,0,0,0,1,0,0,0,3,1,0,0],[0,0,0,0,0,1,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,3,4,1,31,4,1,4,2,1,0],[0,0,0,0,0,0,0,0,31,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,11,0,0,0],[0,0,0,0,0,2,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,4,0,0,0,0],[0,0,0,0,0,0,4,1,31,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,4,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,3,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,2,1,0,0,0,0,0,0,0],[0,0,0,0,0,1,4,1,0,0,0,0,0],[0,0,0,0,0,0,31,1,0,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,31,0,0],[0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,4,1,0,0,1,0],[0,0,0,0,0,0,0,0,1,0,3,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,4,1,0,0,0,1,0,2,1,0,0],[0,0,31,1,0,0,0,1,9,0,1,0,0],[0,0,0,0,0,0,1,0,0,5,1,0,0],[0,0,0,0,0,0,1,0,4,0,1,0,0],[0,0,0,0,0,0,4,1,3,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,16,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,4,3,0],[0,0,0,0,29,0,0,0,1,0,2,1,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,4,1,0,0,1,0,1,0,0],[0,0,0,0,28,0,0,1,0,0,1,0,0],[0,0,0,0,29,0,0,0,0,4,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,16,0,0,16,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,11,0,0],[0,0,0,0,0,0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,4,1,0,0,0,0],[0,0,0,0,0,0,29,27,4,29,0,0,0],[0,0,0,0,0,0,0,4,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,3,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,29,0,0,0,0,0],[0,0,0,0,0,3,1,0,0,2,1,0,0],[0,0,0,0,0,0,1,0,1,29,1,0,0],[0,0,0,0,0,29,1,28,0,4,1,0,0],[0,0,0,0,0,4,0,4,1,0,0,0,0],[0,0,0,0,0,28,0,29,0,28,0,0,0],[0,0,0,0,0,0,0,0,0,29,0,0,0],[0,0,0,0,0,29,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,31,0,0,0,0,0],[0,0,0,0,0,1,4,1,0,0,1,0,0],[0,0,0,0,0,4,0,0,0,0,1,0,0],[0,0,0,0,3,1,0,1,0,2,1,0,0],[0,0,0,0,0,31,0,0,0,0,1,0,0],[0,0,0,0,4,1,0,1,0,0,1,0,0],[0,0,0,0,0,0,0,31,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,4,1,0,0,0,0,0],[0,0,0,0,2,1,0,1,31,0,0,0,0],[0,0,0,0,5,1,0,1,0,0,0,0,0],[0,0,0,0,4,0,0,1,0,0,3,0,0],[0,0,0,0,0,0,31,1,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,4,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,2,1,0,1,4,1,1,3,1,0],[0,0,0,0,1,0,1,0,1,0,0,1,0],[0,0,0,0,0,1,31,4,0,0,1,0,0],[0,0,0,0,0,1,0,0,0,0,1,0,0],[0,0,0,0,0,0,1,0,0,1,0,0,0],[0,0,0,0,4,0,1,0,31,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,1,0,0,0,0],[0,0,0,0,0,0,29,0,0,29,1,0,0],[0,0,0,0,0,0,0,0,1,0,0,1,0],[0,0,0,0,4,1,0,0,0,0,1,0,0],[0,0,0,0,5,1,0,0,1,28,0,1,0],[0,0,0,0,0,1,4,0,1,4,1,0,0],[0,0,0,0,3,1,28,0,0,29,1,0,0],[0,0,0,0,0,0,29,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,3,0,0,0,0],[0,0,0,0,0,0,0,0,4,0,0,0,0],[0,0,0,0,0,2,1,11,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,4,0,0,0,0],[0,0,0,0,0,29,27,0,29,0,0,0,0],[0,0,0,0,0,0,4,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,12,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,3,0,0],[0,0,0,0,0,0,0,31,1,4,1,0,0],[0,0,0,0,0,0,0,0,1,0,0,1,0],[0,0,0,0,0,2,1,0,0,0,1,0,0],[0,0,0,0,0,5,1,0,0,4,1,0,0],[0,0,0,0,0,4,1,1,1,0,1,0,0],[0,0,0,0,0,0,1,0,1,0,1,0,0],[0,0,0,0,0,0,0,19,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,11,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,1,0,3,0,0],[0,0,0,18,0,0,0,0,1,0,1,0,0],[0,0,0,29,27,4,29,0,1,0,1,0,0],[0,0,0,18,0,0,0,0,1,4,1,0,0],[0,0,0,0,0,4,0,1,1,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,31,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,31,0,0,0],[0,0,0,0,0,1,0,1,0,1,0,0,0],[0,0,0,0,0,1,0,1,4,1,0,0,0],[0,0,0,0,3,1,4,1,0,1,0,2,1],[0,0,0,0,4,1,19,1,0,1,0,0,0],[0,0,0,0,0,1,0,1,31,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,15,0,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,31,0,0,1,0,1,0,0,0],[0,0,0,4,1,0,0,1,0,1,0,0,0],[0,0,0,0,0,0,0,1,0,1,0,0,0],[0,0,0,31,1,0,0,1,0,1,0,0,0],[0,0,0,0,0,0,0,1,0,1,0,0,0],[0,0,0,2,1,0,4,1,0,1,0,0,0],[0,0,0,0,0,0,16,0,0,0,3,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,1,0,0,0,0],[0,0,0,0,0,29,0,27,1,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,31,29,27,0,0,1,0,0,0,0],[0,0,4,1,0,0,0,4,1,0,9,0,0],[0,0,0,1,0,29,27,0,1,0,1,0,0],[0,0,0,3,0,0,0,22,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,11,0,2,1,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,4,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,4,0,19,1,0],[0,0,0,0,0,22,1,31,0,0,3,0,0],[0,0,5,1,0,0,1,0,0,0,0,0,0],[0,0,0,1,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,3,0],[0,0,0,18,0,0,0,0,0,0,1,11,0],[0,0,0,0,0,0,1,2,1,21,0,0,0],[0,0,0,0,22,1,1,1,0,0,0,0,0],[0,0,0,0,1,0,0,4,1,0,9,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,3,1,0,0,0,0,0,0,0,0,0],[0,0,4,0,1,0,0,0,0,0,4,1,0],[0,0,0,1,0,0,29,0,29,0,0,1,0],[0,0,2,1,0,0,0,0,0,0,9,1,0],[0,0,0,1,0,0,28,0,28,0,5,1,0],[0,0,0,1,0,0,29,0,29,0,0,1,0],[0,0,0,1,0,1,4,1,0,1,0,1,0],[0,0,0,0,0,0,0,0,0,31,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,29,0,0,0,0,0],[0,0,0,2,1,0,0,28,0,4,1,0,0],[0,0,0,0,0,0,0,0,1,29,1,0,0],[0,0,0,0,0,4,1,0,1,0,0,0,0],[0,0,0,0,0,0,0,29,0,28,1,0,0],[0,0,0,3,0,0,4,0,0,0,9,0,0],[0,0,0,0,0,0,0,0,0,29,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,15,1,1,1,15,1,0,0,11,0],[0,0,0,0,1,2,1,0,1,0,0,0,0],[0,0,0,0,1,0,1,0,0,4,0,0,0],[0,0,0,4,1,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0],[0,0,0,0,0,5,1,1,1,0,0,0,0],[0,0,0,3,4,0,0,19,1,0,9,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,29,29,0,0],[0,4,1,0,2,1,0,5,1,28,28,0,0],[0,0,0,1,0,0,1,0,0,0,0,0,9],[0,4,1,0,0,1,0,0,0,0,0,0,0],[0,0,4,0,3,1,0,0,0,29,29,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]]],[[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,4,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,1,0,2,1,0,0],[0,0,0,0,0,0,4,1,0,4,1,0,0],[0,0,0,0,0,0,4,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,3,1,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,4,1,0,0,0,0],[0,0,0,0,0,0,0,4,0,0,0,0,0],[0,0,0,0,0,0,0,4,1,0,0,0,0],[0,0,0,0,0,0,0,3,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,3,0,0,0,0,0],[0,0,0,0,0,0,1,4,1,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0],[0,0,0,0,0,1,0,4,0,0,0,0,0],[0,0,0,0,0,0,4,0,1,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0],[0,0,0,0,0,2,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,2,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,1,3,4,0,0,4,1,0,0,0],[0,0,0,1,1,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0],[0,0,0,0,1,4,0,0,2,1,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,1,0,0,0],[0,0,0,0,1,4,0,0,4,3,0,0,0],[0,0,0,0,0,1,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,1,0,0,0],[0,0,0,0,1,4,0,0,0,2,1,0,0],[0,0,0,0,1,0,0,0,0,5,1,0,0],[0,0,0,0,0,0,4,1,0,1,0,0,0],[0,0,0,0,0,4,0,0,1,0,0,0,0],[0,0,0,0,0,1,3,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,2,1,0,0],[0,0,0,0,0,3,0,0,0,0,0,0,0],[0,0,0,0,0,4,0,1,0,4,0,0,0],[0,0,0,0,0,0,19,1,0,0,0,0,0],[0,0,0,0,1,0,0,4,0,5,1,0,0],[0,0,0,0,1,0,1,1,1,1,0,0,0],[0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,15,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,4,0,0,2,1,0,0],[0,0,0,3,1,1,1,1,1,0,1,0,0],[0,0,0,0,4,0,0,0,0,4,1,0,0],[0,0,0,0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,16,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,15,0,0,0,1,1,0,0],[0,0,0,1,3,0,0,0,0,2,1,0,0],[0,0,0,1,4,0,0,0,0,0,1,0,0],[0,0,0,1,0,0,0,0,0,0,1,0,0],[0,0,0,1,4,0,0,0,0,0,1,0,0],[0,0,0,1,0,0,0,0,0,4,1,0,0],[0,0,0,1,1,0,0,16,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,1,0,0,1,0,0,0],[0,0,0,0,0,1,4,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,1,0,0,17,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0],[0,0,0,0,1,3,4,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,4,0,0],[0,0,0,0,0,0,0,0,16,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,2,1,0,0,0],[0,0,0,0,0,4,1,0,0,0,9,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,1,0,29,27,0,0,29,0,0],[0,0,0,0,0,0,0,1,4,1,1,0,0],[0,0,0,0,0,4,0,0,1,0,0,0,0],[0,0,0,0,0,1,1,0,0,0,3,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,4,1,0,0,0,0,9,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,1,0,0,0],[0,0,0,0,4,0,0,0,4,1,0,0,0],[0,0,0,0,1,0,3,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,12,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,11,1,2,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,4,0,0,0,0,0],[0,0,0,0,0,4,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,4,0,0,0,0,0],[0,0,0,0,3,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0]],[[0,0,0,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,1,1,0,4,1,0,0,0],[0,0,0,0,1,4,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0,0,1,0,0,0],[0,0,0,0,0,1,0,0,19,1,0,0,0],[0,0,0,0,3,4,0,0,1,0,0,0,0],[0,0,0,0,0,1,0,0,2,1,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,1,1,0,0],[0,0,0,0,0,0,1,4,0,0,1,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,29,0,27,0,29,0,2,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,4,1,4,0,0,0,0,0,0],[0,0,0,1,3,1,1,0,16,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,1,0,0,0],[0,0,0,0,0,1,4,0,4,0,0,0,0],[0,0,0,0,0,0,3,0,1,0,0,0,0],[0,0,0,0,0,0,0,29,27,29,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,4,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,12,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,1,1,0,1,0,0,0,0],[0,0,0,0,0,0,2,1,4,1,0,0,0],[0,0,0,0,0,0,0,1,0,0,3,0,0],[0,0,0,0,0,29,27,0,29,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,4,1,0,0,0],[0,0,0,0,0,0,4,1,0,0,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,3,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,4,1,4,0,0],[0,0,0,0,1,1,0,2,1,0,1,0,0],[0,0,0,0,0,4,1,1,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,1,1,0,0],[0,0,0,0,0,1,0,0,1,4,0,0,0],[0,0,0,0,2,1,0,0,0,0,1,0,0],[0,0,0,0,1,0,0,1,31,4,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,1,4,0,0,0,0],[0,0,0,0,0,0,0,0,3,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0],[0,0,0,1,0,0,0,1,0,0,0,0,0],[0,0,0,1,4,0,0,0,0,2,1,0,0],[0,0,0,0,0,0,1,1,4,0,1,0,0],[0,0,0,0,0,0,0,31,0,1,0,0,0],[0,0,0,0,0,1,0,4,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,3,0,0,31,0,0,0,0,0]],[[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,2,1,0,31,0,1,0,0,0],[0,0,0,0,5,1,0,1,0,1,0,0,0],[0,0,0,0,0,1,0,1,0,1,0,0,0],[0,0,0,0,0,0,21,0,4,0,0,0,0],[0,0,0,0,0,1,0,1,0,1,0,0,0],[0,0,0,0,0,1,0,1,0,1,1,0,0],[0,0,0,0,4,0,0,1,0,3,1,0,0],[0,0,0,0,1,0,0,0,1,0,1,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,2,1,0,0],[0,0,0,0,0,1,0,0,0,4,0,0,0],[0,0,0,0,1,0,0,21,1,0,0,0,0],[0,0,0,0,0,0,0,3,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,4,1,0,0],[0,0,0,0,0,1,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,15,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0,1,0,21,1,0],[0,0,0,0,2,1,4,0,0,1,0,1,0],[0,0,0,0,0,1,0,0,0,0,0,1,0],[0,0,0,0,0,4,0,0,0,0,0,1,0],[0,0,0,0,1,0,0,0,0,16,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,3,1,21,0,0,0,0,0,0],[0,0,0,1,4,0,0,0,0,2,1,0,0],[0,0,0,0,0,1,4,0,1,1,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,1,3,0,0,4,0,2,1,0,0],[0,0,0,1,4,0,0,0,1,0,1,0,0],[0,0,0,1,3,0,0,0,0,2,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,4,1,1,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0]],[[0,0,0,0,0,0,0,1,0,29,0,0,0],[0,0,0,0,0,1,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,1,0,0],[0,0,0,0,0,0,1,4,0,28,1,0,0],[0,0,0,0,4,0,0,1,1,29,0,0,0],[0,0,0,29,27,0,0,29,0,0,1,0,0],[0,0,0,0,1,0,0,0,1,4,1,0,0],[0,0,0,0,0,0,0,3,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]]]];var MOVEMENT_INDEX=1;var TIME_INDEX=2;var LevelManagerClass=cc.Class.extend({_currentWorld:0,_currentLevel:0,_gameLogic:null,ctor:function(e){this._gameLogic=e},startLoading:function(e,t){this._currentWorld=e;this._currentLevel=t},invertIndexJ:function(e){var t=[12,11,10,9,8,7,6,5,4,3,2,1,0];return t[e]},loadLevel:function(e,t){this._currentWorld=e;this._currentLevel=t;var n=levels[e-1][t-1];this.loadItems(1,LevelManagerClass.LoadOrder.length)},loadItems:function(e,t){var n=levels[this._currentWorld-1][this._currentLevel-1];for(var r=e-1;r<t;r++){var i=LevelManagerClass.LoadOrder[r];for(var s=0;s<n.length;s++){for(var o=0;o<n[s].length;o++){if(n[s][o]==i){this._gameLogic.addObjectInGrid(this.invertIndexJ(o),s,n[s][o])}}}}},getCurrentWorld:function(){return this._currentWorld}});LevelManagerClass.AIR=0;LevelManagerClass.STATIC_GRAY=1;LevelManagerClass.BOX_RED=2;LevelManagerClass.STATIC_FINISH=3;LevelManagerClass.PICKUP_COIN=4;LevelManagerClass.BOX_ROCK=5;LevelManagerClass.BOX_WEAK=6;LevelManagerClass.BOX_YELLOW=7;LevelManagerClass.KEY=8;LevelManagerClass.BALLOON=9;LevelManagerClass.CLOUD=10;LevelManagerClass.CLOUD_CANNON=11;LevelManagerClass.CLOUD_CANNON_LEFT=12;LevelManagerClass.FIRE=14;LevelManagerClass.FIRE_CANNON=15;LevelManagerClass.FIRE_CANNON_LEFT=16;LevelManagerClass.FIRE_CANNON_UP=17;LevelManagerClass.FIRE_CANNON_DOWN=18;LevelManagerClass.ENEMY_1=19;LevelManagerClass.PICKUP_COIN_TEMP_A=20;LevelManagerClass.PICKUP_COIN_TEMP_B=21;LevelManagerClass.PICKUP_COIN_TEMP_C=22;LevelManagerClass.FLOOR_SWITCH_RED=23;LevelManagerClass.FLOOR_SWITCH_BLUE=24;LevelManagerClass.GRAVITY=25;LevelManagerClass.ENEMY_2=27;LevelManagerClass.ENEMY_3=28;LevelManagerClass.TURN=29;LevelManagerClass.STICKY=31;LevelManagerClass.LoadOrder=[LevelManagerClass.STATIC_GRAY,LevelManagerClass.FLOOR_SWITCH_RED,LevelManagerClass.FLOOR_SWITCH_BLUE,LevelManagerClass.STATIC_FINISH,LevelManagerClass.CLOUD_CANNON,LevelManagerClass.CLOUD_CANNON_LEFT,LevelManagerClass.FIRE_CANNON,LevelManagerClass.FIRE_CANNON_LEFT,LevelManagerClass.FIRE_CANNON_UP,LevelManagerClass.FIRE_CANNON_DOWN,LevelManagerClass.CLOUD,LevelManagerClass.BALLOON,LevelManagerClass.BOX_ROCK,LevelManagerClass.ENEMY_1,LevelManagerClass.TURN,LevelManagerClass.BOX_RED,LevelManagerClass.ENEMY_2,LevelManagerClass.ENEMY_3,LevelManagerClass.PICKUP_COIN,LevelManagerClass.PICKUP_COIN_TEMP_A,LevelManagerClass.PICKUP_COIN_TEMP_B,LevelManagerClass.PICKUP_COIN_TEMP_C,LevelManagerClass.STICKY];var GameLogic=cc.Class.extend({LevelManager:null,Grid:null,_mainScene:null,_mainCharacters:new Array,_staticObjects:new Array,_canons:new Array,_doors:new Array,_rocks:new Array,_coins:new Array,_tutorial:null,_balloons:new Array,_bullets:new Array,_enemies:new Array,_playingRemaining:0,_currentTime:0,_grabbedCoins:0,_orientation:"portrait",ctor:function(e){this._mainScene=e;this.init()},init:function(){this.Grid=new GridClass(GRID_WIDTH,GRID_HEIGHT,CELL_SIZE);this.LevelManager=new LevelManagerClass(this);this._tutorial=new TutorialClass(this._mainScene)},update:function(e){this._currentTime+=e;GAME_VALUES.time+=e;if(this._playingRemaining>0){this._playingRemaining-=e;if(this._playingRemaining<=0){this._playingRemaining=0;var t=cc.Scene.create();var n=new SceneMainGameClass(this._mainScene._loadingWorld,this._mainScene._loadingLevel);t.addChild(n);cc.Director.getInstance().replaceScene(cc.TransitionFade.create(.4,t));return false}}this._tutorial.update(e);this.Grid.clear();for(var r=0;r<this._staticObjects.length;r++){this._staticObjects[r].newFrame()}for(var r=0;r<this._canons.length;r++){this._canons[r].newFrame()}for(var r=0;r<this._doors.length;r++){this._doors[r].newFrame()}for(var r=0;r<this._mainCharacters.length;r++){this._mainCharacters[r].newFrame()}for(var r=0;r<this._rocks.length;r++){this._rocks[r].newFrame()}for(var r=0;r<this._enemies.length;r++){this._enemies[r].newFrame()}this.processCollisions();for(var r=0;r<this._mainCharacters.length;r++){if(!this._mainCharacters[r].update(e)){if(this._playingRemaining==0){this._playingRemaining=this._mainCharacters[r]._dieTime}}}var i=true;for(var r=0;r<this._mainCharacters.length;r++){if(!this._mainCharacters[r].ReachedExit){i=false}}var r=0;while(r<this._balloons.length){if(!this._balloons[r].update(e)){this._balloons[r].destroy();this._balloons.splice(r,1);r=r-1}r=r+1}var r=0;while(r<this._bullets.length){if(!this._bullets[r].update(e)){this._bullets[r].destroy();this._bullets.splice(r,1);r=r-1}r=r+1}if(i){return false}var r=0;while(r<this._rocks.length){if(!this._rocks[r].update(e)){this._rocks[r].destroy();this._rocks.splice(r,1);r=r-1}r=r+1}var r=0;while(r<this._enemies.length){this._enemies[r].planDirection(e);if(!this._enemies[r].update(e)){this._enemies[r].destroy();this._enemies.splice(r,1);r=r-1}r=r+1}for(var r=0;r<this._canons.length;r++){if(!this._canons[r].update(e)){}}var r=0;while(r<this._doors.length){if(!this._doors[r].update(e)){this._doors[r].destroy();this._doors.splice(r,1);r=r-1}r=r+1}var r=0;while(r<this._coins.length){if(!this._coins[r].update(e)){this._coins[r].destroy();this._coins.splice(r,1);r=r-1}r=r+1}return true},readyToStart:function(){for(var e=0;e<this._doors.length;e++){this._doors[e].playActivateAnimation()}this._playingRemaining=0;this._tutorial.load(this._mainScene._loadingWorld,this._mainScene._loadingLevel)},grabCoin:function(e){gSharedEngine.playEffect(EFFECT_17);this._mainScene.grabCoin(this._grabbedCoins);this._grabbedCoins=this._grabbedCoins+1;e.die()},getNumberOfMovements:function(){return Math.max(this._movements,1)},getTimeExpended:function(){return this._currentTime},getRockInIJ:function(e,t){for(var n=0;n<this._rocks.length;n++){var r=this._rocks[n];var i=this.Grid.getCell(r._positionX,r._positionY);if(i){if(i.i==e&&i.j==t){return r}}}return null},clearLoadedLevel:function(){this._tutorial.clear();this._movements=0;this._currentTime=0;this._grabbedCoins=0;for(var e=0;e<this._mainCharacters.length;e++){this._mainCharacters[e].destroy()}this._mainCharacters.length=0;for(var e=0;e<this._coins.length;e++){this._coins[e].destroy()}this._coins.length=0;for(var e=0;e<this._doors.length;e++){this._doors[e].destroy()}this._doors.length=0;for(var e=0;e<this._balloons.length;e++){this._balloons[e].destroy()}this._balloons.length=0;for(var e=0;e<this._staticObjects.length;e++){this._staticObjects[e].destroy()}this._staticObjects.length=0;for(var e=0;e<this._canons.length;e++){this._canons[e].destroy()}this._canons.length=0;for(var e=0;e<this._bullets.length;e++){this._bullets[e].destroy()}this._bullets.length=0;for(var e=0;e<this._rocks.length;e++){this._rocks[e].destroy()}this._rocks.length=0;for(var e=0;e<this._enemies.length;e++){this._enemies[e].destroy()}this._enemies.length=0;this.Grid.clear()},collide:function(e,t){var n=e.getPosition();var r=t.getPosition();if(Math.abs(n.x-r.x)>VISUAL_CELL_SIZE||Math.abs(n.y-r.y)>VISUAL_CELL_SIZE){return false}var i=e.collideRect();var s=t.collideRect();return cc.rectIntersectsRect(i,s)},collideDirection:function(e,t,n){var r=-1;var i=0;if(n==null){n=false}if(this._orientation=="portrait"){if(t.getPosition().x>e.getPosition().x){r=RIGHT}else{r=LEFT}i=Math.abs(t.getPosition().x-e.getPosition().x)}else if(this._orientation=="landscapeRight"){if(t.getPosition().y>e.getPosition().y){r=RIGHT}else{r=LEFT}i=Math.abs(t.getPosition().y-e.getPosition().y)}else if(this._orientation=="portraitUpsideDown"){if(t.getPosition().x<e.getPosition().x){r=RIGHT}else{r=LEFT}i=Math.abs(t.getPosition().x-e.getPosition().x)}else if(this._orientation=="landscapeLeft"){if(t.getPosition().y<e.getPosition().y){r=RIGHT}else{r=LEFT}i=Math.abs(t.getPosition().y-e.getPosition().y)}if(this._orientation=="portrait"){if(Math.abs(t.getPosition().y-e.getPosition().y)>i){var s=t.getPosition().y;if(!n){s+=VISUAL_CELL_SIZE}if(s>e.getPosition().y){r=TOP}else{r=BOTTOM}}}else if(this._orientation=="landscapeRight"){if(Math.abs(t.getPosition().x-e.getPosition().x)>i){var s=t.getPosition().x;if(!n){s-=VISUAL_CELL_SIZE}if(s<e.getPosition().x){r=TOP}else{r=BOTTOM}}}else if(this._orientation=="portraitUpsideDown"){if(Math.abs(t.getPosition().y-e.getPosition().y)>i){var s=t.getPosition().y;if(!n){s-=VISUAL_CELL_SIZE}if(s<e.getPosition().y){r=TOP}else{r=BOTTOM}}}else if(this._orientation=="landscapeLeft"){if(Math.abs(t.getPosition().x-e.getPosition().x)>i){var s=t.getPosition().x;if(!n){s+=VISUAL_CELL_SIZE}if(s>e.getPosition().x){r=TOP}else{r=BOTTOM}}}return r},processEnemiesCollision:function(){for(var e=0;e<this._enemies.length;e++){var t=new Array;var n=new Array;var r=this._enemies[e];for(var i=0;i<this._bullets.length;i++){var s=this._bullets[i];if(this.collide(r,s)){t.push(s);n.push(this.collideDirection(r,s,s._bulletType==Bullet.CLOUD))}}for(var i=0;i<this._coins.length;i++){var o=this._coins[i];if(this.collide(r,o)){t.push(o);n.push(this.collideDirection(r,o))}}for(var i=0;i<this._staticObjects.length;i++){var u=this._staticObjects[i];if(this.collide(r,u)){t.push(u);n.push(this.collideDirection(r,u))}}for(var i=0;i<this._rocks.length;i++){var a=this._rocks[i];if(this.collide(r,a)){t.push(a);n.push(this.collideDirection(r,a,true))}}r.runCollitions(t,n);t.length=0;n.length=0}},processRocksCollision:function(){for(var e=0;e<this._rocks.length;e++){var t=new Array;var n=new Array;var r=this._rocks[e];for(var i=0;i<this._bullets.length;i++){var s=this._bullets[i];if(this.collide(r,s)){t.push(s);n.push(this.collideDirection(r,s,s._bulletType==Bullet.CLOUD))}}for(var i=0;i<this._staticObjects.length;i++){var o=this._staticObjects[i];if(this.collide(r,o)){t.push(o);n.push(this.collideDirection(r,o))}}for(var i=0;i<this._mainCharacters.length;i++){var u=this._mainCharacters[i];if(this.collide(r,u)){t.push(u);n.push(this.collideDirection(r,u))}}for(var i=0;i<this._bullets.length;i++){var s=this._bullets[i];if(this.collide(r,s)){t.push(s);n.push(this.collideDirection(r,s))}}for(var i=0;i<this._balloons.length;i++){var a=this._balloons[i];if(this.collide(r,a)){t.push(a);n.push(this.collideDirection(r,a))}}for(var i=0;i<this._canons.length;i++){var f=this._canons[i];if(this.collide(r,f)){t.push(f);n.push(this.collideDirection(r,f))}}for(var i=0;i<this._enemies.length;i++){var l=this._enemies[i];if(this.collide(r,l)){t.push(l);n.push(this.collideDirection(r,l))}}for(var i=0;i<this._rocks.length;i++){var c=this._rocks[i];if(r!=c){if(this.collide(r,r)){t.push(r);n.push(this.collideDirection(r,r))}}}r.runCollitions(t,n);t.length=0;n.length=0}},processMainCharactersCollision:function(){for(var e=0;e<this._mainCharacters.length;e++){var t=new Array;var n=new Array;var r=this._mainCharacters[e];for(var i=0;i<this._bullets.length;i++){var s=this._bullets[i];if(this.collide(r,s)){t.push(s);n.push(this.collideDirection(r,s,s._bulletType==Bullet.CLOUD))}}for(var i=0;i<this._staticObjects.length;i++){var o=this._staticObjects[i];if(this.collide(r,o)){t.push(o);n.push(this.collideDirection(r,o))}}for(var i=0;i<this._mainCharacters.length;i++){var u=this._mainCharacters[i];if(u!=r){if(this.collide(r,u)){t.push(u);n.push(this.collideDirection(r,u))}}}for(var i=0;i<this._balloons.length;i++){var a=this._balloons[i];if(this.collide(r,a)){t.push(a);n.push(this.collideDirection(r,a))}}for(var i=0;i<this._doors.length;i++){var f=this._doors[i];if(this.collide(r,f)){t.push(f);n.push(this.collideDirection(r,f))}}for(var i=0;i<this._coins.length;i++){var l=this._coins[i];if(this.collide(r,l)){t.push(l);n.push(this.collideDirection(r,l))}}for(var i=0;i<this._canons.length;i++){var c=this._canons[i];if(this.collide(r,c)){t.push(c);n.push(this.collideDirection(r,c))}}for(var i=0;i<this._enemies.length;i++){var h=this._enemies[i];if(this.collide(r,h)){t.push(h);n.push(this.collideDirection(r,h))}}for(var i=0;i<this._rocks.length;i++){var p=this._rocks[i];if(this.collide(r,p)){t.push(p);n.push(this.collideDirection(r,p))}}r.runCollitions(t,n);t.length=0;n.length=0}},processCollisions:function(){this.processEnemiesCollision();this.processMainCharactersCollision();this.processRocksCollision()},isMainCharacterOn:function(e,t){for(var n=0;n<this._mainCharacters.length;n++){if(this._mainCharacters[n].isInCell(e,t)){return true}}return false},getEnemyOn:function(e,t){for(var n=0;n<this._enemies.length;n++){if(this._enemies[n].isInCell(e,t)){return this._enemies[n]}}return null},setOrientation:function(e){this._orientation=e;for(var t=0;t<this._mainCharacters.length;t++){this._mainCharacters[t].setOrientation(e)}for(var t=0;t<this._enemies.length;t++){this._enemies[t].setOrientation(e)}for(var t=0;t<this._rocks.length;t++){this._rocks[t].setOrientation(e)}},addObjectInGrid:function(e,t,n){var r=(t+.5)*CELL_SIZE;var i=(e+1.5)*CELL_SIZE;if(n==LevelManagerClass.AIR){return}else if(n==LevelManagerClass.STATIC_GRAY||n==LevelManagerClass.FLOOR_SWITCH_RED||n==LevelManagerClass.FLOOR_SWITCH_BLUE){var s={blockType:n,x:r,y:i};var o=new TerrainBlockClass(this,s);this._mainScene.addChild(o);this._staticObjects.push(o);if(n==LevelManagerClass.FLOOR_SWITCH_RED||n==LevelManagerClass.FLOOR_SWITCH_BLUE){this._mainScene.enableRedBlueButton(true)}}else if(n==LevelManagerClass.CLOUD_CANNON||n==LevelManagerClass.CLOUD_CANNON_LEFT||n==LevelManagerClass.FIRE_CANNON||n==LevelManagerClass.FIRE_CANNON_UP||n==LevelManagerClass.FIRE_CANNON_DOWN||n==LevelManagerClass.FIRE_CANNON_LEFT){var s={blockType:n,x:r,y:i};var u=new CanonClass(s,this);this._mainScene.addChild(u);this._canons.push(u)}else if(n==LevelManagerClass.BOX_RED){var a=new MainCharacterClass(MainCharacterClass.KERMIX,this);a.setPos(r,i);this._mainScene.addChild(a);this._mainCharacters.push(a)}else if(n==LevelManagerClass.PICKUP_COIN||n==LevelManagerClass.PICKUP_COIN_TEMP_A||n==LevelManagerClass.PICKUP_COIN_TEMP_B||n==LevelManagerClass.PICKUP_COIN_TEMP_C){var f=0;if(n==LevelManagerClass.PICKUP_COIN_TEMP_A)f=12;else if(n==LevelManagerClass.PICKUP_COIN_TEMP_B)f=9;else if(n==LevelManagerClass.PICKUP_COIN_TEMP_C)f=6;var s={type:PickupItemClass.COIN,x:r,y:i,aliveTime:f};var l=new PickupItemClass(s,this);this._mainScene.addChild(l);this._coins.push(l)}else if(n==LevelManagerClass.TURN){var s={type:PickupItemClass.TURN,x:r,y:i,aliveTime:0};var c=new PickupItemClass(s,this);this._mainScene.addChild(c);this._coins.push(c)}else if(n==LevelManagerClass.STATIC_FINISH){var s={type:PickupItemClass.DOOR,x:r,y:i};var h=new PickupItemClass(s,this);this._mainScene.addChild(h);this._doors.push(h)}else if(n==LevelManagerClass.BALLOON){var s={type:PickupItemClass.BALLOON,x:r,y:i};var p=new PickupItemClass(s,this);this._mainScene.addChild(p);this._balloons.push(p)}else if(n==LevelManagerClass.BOX_ROCK){var d=new MainCharacterClass(MainCharacterClass.ROCK,this);d.setPos(r,i);this._mainScene.addChild(d);this._rocks.push(d)}else if(n==LevelManagerClass.ENEMY_1){var v=new MainCharacterClass(MainCharacterClass.ENEMY_1,this);v.setPos(r,i);this._mainScene.addChild(v);this._enemies.push(v)}else if(n==LevelManagerClass.ENEMY_2){var v=new MainCharacterClass(MainCharacterClass.ENEMY_2,this);v.setPos(r,i);this._mainScene.addChild(v);this._enemies.push(v)}else if(n==LevelManagerClass.ENEMY_3){var v=new MainCharacterClass(MainCharacterClass.ENEMY_3,this);v.setPos(r,i);this._mainScene.addChild(v);this._enemies.push(v)}else if(n==LevelManagerClass.STICKY){var v=new MainCharacterClass(MainCharacterClass.STICKY,this);v.setPos(r,i);v.findAnchor();this._mainScene.addChild(v);this._enemies.push(v)}else{cc.log("ERROR: Type not found "+n)}if(r<this._mainScene._minX){this._mainScene._minX=r}if(r>this._mainScene._maxX){this._mainScene._maxX=r}},newBullet:function(e,t,n,r,i){var s={type:e,x:t,y:n,velX:r,velY:i};var o=new Bullet(s,this);this._mainScene.addChild(o);var u=this.Grid.getCell(t,n);u.Traspasable=false;this._bullets.push(o)},switchRedBlue:function(){this._movements=this._movements+1;GAME_VALUES.movements++;for(var e=0;e<this._staticObjects.length;e++){this._staticObjects[e].switchSolidness()}}});var Bullet=cc.Sprite.extend({_currentCell:null,_currentCellTraspasableCode:0,_traspasableCode:0,_blocksCell:true,_bulletType:0,_alive:true,_isSensor:false,_speed:null,_isStatic:false,_dyingTime:0,_dyingRemaining:0,_idleAnimation:null,_deathAnimation:null,_gameLogic:null,_velocity:null,_acceleration:null,_gravityVector:null,_positionX:0,_positionY:0,_dying:false,_collideRect:null,ctor:function(e,t){this._super();this._gameLogic=t;this.init(e);this.collideRectInit()},init:function(e){this._velocity=new vector2d(0,0);this._acceleration=new vector2d(0,0);this._gravityVector=new vector2d(0,0);this._speed=new vector2d(0,0);this._bulletType=e.type;this._dying=false;if(this._bulletType==Bullet.CLOUD){this._positionX=e.x;this._positionY=e.y;this._costume=new cc.Sprite;this._costume.initWithSpriteFrameName("KW_Nube.png");this.addChild(this._costume);this._deathAnimation=new SpriteAnimation;this._deathAnimation.initWithAtlas("KW_NubeOut.png",1,.04,cc.p(-27,-27),cc.p(59,47),"deathcloud");this.addChild(this._deathAnimation);this._deathAnimation.setVisible(false);this._dyingTime=.7}else if(this._bulletType==Bullet.FIRE){this._positionX=e.x;this._positionY=e.y;this._costume=new SpriteAnimation;this._costume.initWithAtlas("Bala_Loop_emp.png",9999999,.003,cc.p(0,0),cc.p(44,26),"idlebullet");this.addChild(this._costume);this._costume.play();this._deathAnimation=new SpriteAnimation;this._deathAnimation.initWithAtlas("Bala_rompe_emp.png",1,.04,cc.p(-27,-27),cc.p(72,67),"deathbullet",cc.p(5,30));this.addChild(this._deathAnimation);this._deathAnimation.setVisible(false);this._dyingTime=1;if(e.velX>0){this._costume.setRotation(0)}else if(e.velX<0){this._costume.setScaleX(-1)}else if(e.velY>0){this._costume.setRotation(-90)}else if(e.velY<0){this._costume.setRotation(90)}}this.updateCostume();this._currentCell=this._gameLogic.Grid.getCell(this._positionX,this._positionY);this._currentCellTraspasableCode=this._currentCell.TraspasableCode;if(this._currentCell.TraspasableCode==EMPTY){this._currentCell.TraspasableCode=this._traspasableCode}this._speed.x=e.velX;this._speed.y=e.velY},update:function(e){this._velocity.x=this._speed.x*e;this._velocity.y=this._speed.y*e;this._positionX+=this._velocity.x;this._positionY+=this._velocity.y;if(this._position.x<-140||this._position.x>SCREEN_WIDTH+140||this._position.y<-140||this._position.y>SCREEN_HEIGHT+140){this._alive=false}var t=this._gameLogic.Grid.getCell(this._positionX,this._positionY);if(t!=null&&t!=this._currentCell){if(this._currentCell!=null){if(this._currentCellTraspasableCode==EMPTY){this._currentCell.TraspasableCode=this._currentCellTraspasableCode}}this._currentCell=t;this._currentCellTraspasableCode=this._currentCell.TraspasableCode;if(this._currentCell.TraspasableCode==EMPTY){this._currentCell.TraspasableCode=this._traspasableCode}if(this._currentCell.TraspasableCode==NORMAL||this._currentCell.TraspasableCode==ROCK){this.die()}}if(this._dyingRemaining>0){this._dyingRemaining-=e;if(this._dyingRemaining<=0){this._alive=false}}this.updateCostume();return this._alive},destroy:function(){this.removeFromParent(true)},die:function(){if(this._dying==true){return}this._dyingRemaining=this._dyingTime;this.showAnimation(Bullet.DEATH);if(this._bulletType==Bullet.FIRE){gSharedEngine.playEffect(EFFECT_11)}this._speed.x=0;this._speed.y=0;this._dying=true},updateCostume:function(){this.setPosition(cc.p(this._positionX*VISUAL_SCALE,this._positionY*VISUAL_SCALE))},collideRectInit:function(){if(this._bulletType==Bullet.CLOUD){this._collideRect=cc.rect(0,0,VISUAL_CELL_SIZE,VISUAL_CELL_SIZE)}else if(this._bulletType==Bullet.FIRE){this._collideRect=cc.rect(0,0,1,1)}},collideRect:function(){if(this._dyingRemaining>0){this._collideRect.x=0;this._collideRect.y=0;this._collideRect.width=0;this._collideRect.height=0}else{var e=this.getPosition();if(this._bulletType==Bullet.CLOUD){this._collideRect.x=e.x-VISUAL_CELL_SIZE*.5;this._collideRect.y=e.y-VISUAL_CELL_SIZE*.5}else if(this._bulletType==Bullet.FIRE){this._collideRect.x=e.x-1;this._collideRect.y=e.y-1}}return this._collideRect},getId:function(){return CLASS_ID_BULLET},getUserData:function(){return this},showAnimation:function(e){this._costume.setVisible(false);this._deathAnimation.setVisible(false);if(e==Bullet.DEATH){this._deathAnimation.setVisible(true);this._deathAnimation.play()}}});Bullet.CLOUD=1;Bullet.FIRE=2;Bullet.DEATH=2;var CanonClass=cc.Sprite.extend({_reloadTime:0,_reloadRemaining:0,_playAnimationTime:0,_bulletType:0,_isSensor:false,_bulletOffset:null,_isStatic:false,_bulletVelocity:null,_positionX:0,_positionY:0,_gameLogic:null,_type:-1,_collideRect:null,ctor:function(e,t){this._super();this._gameLogic=t;this.init(e);this.collideRectInit()},getId:function(){return CLASS_ID_CANON},collideRectInit:function(){this._collideRect=cc.rect(0,0,VISUAL_CELL_SIZE,VISUAL_CELL_SIZE)},collideRect:function(){var e=this.getPosition();this._collideRect.x=e.x-VISUAL_CELL_SIZE*.5;this._collideRect.y=e.y-VISUAL_CELL_SIZE*.5;return this._collideRect},init:function(e){this._bulletOffset=new vector2d(0,0);this._bulletVelocity=new vector2d(0,0);this._fireAnimation=new SpriteAnimation;this._fireAnimation.initWithAtlas("KW_Canon_Emp.png",1,.04,cc.p(-20,-18),cc.p(41,35),"cannonfire");this.addChild(this._fireAnimation);if(e.blockType==LevelManagerClass.CLOUD_CANNON||e.blockType==LevelManagerClass.CLOUD_CANNON_LEFT){this._playAnimationTime=CanonClass.START_INIT_ANIMATION_TIME_CLOUD;this._type=CanonClass.CLOUD_TYPE}else{this._playAnimationTime=CanonClass.START_INIT_ANIMATION_TIME;this._type=CanonClass.FIRE_TYPE}if(e.blockType==LevelManagerClass.CLOUD_CANNON){this._reloadTime=CanonClass.PLAY_ANIMATION_TIME_CLOUD;this._reloadRemaining=this._reloadTime;this._bulletType=Bullet.CLOUD;this._bulletOffset.x=CELL_SIZE;this._bulletOffset.y=0;this._bulletVelocity.x=90;this._bulletVelocity.y=0}else if(e.blockType==LevelManagerClass.CLOUD_CANNON_LEFT){this.setScaleX(-1);this._reloadTime=CanonClass.PLAY_ANIMATION_TIME_CLOUD;this._reloadRemaining=this._reloadTime;this._bulletType=Bullet.CLOUD;this._bulletOffset.x=-CELL_SIZE;this._bulletOffset.y=0;this._bulletVelocity.x=-90;this._bulletVelocity.y=0}else if(e.blockType==LevelManagerClass.FIRE_CANNON){this._reloadTime=CanonClass.PLAY_ANIMATION_TIME;this._reloadRemaining=this._reloadTime;this._bulletType=Bullet.FIRE;this._bulletOffset.x=0;this._bulletOffset.y=-VISUAL_CELL_SIZE*.7;this._bulletVelocity.x=700;this._bulletVelocity.y=0}else if(e.blockType==LevelManagerClass.FIRE_CANNON_LEFT){this.setScaleX(-1);this._reloadTime=CanonClass.PLAY_ANIMATION_TIME;this._reloadRemaining=this._reloadTime;this._bulletType=Bullet.FIRE;this._bulletOffset.x=0;this._bulletOffset.y=-VISUAL_CELL_SIZE*.7;this._bulletVelocity.x=-700;this._bulletVelocity.y=0}else if(e.blockType==LevelManagerClass.FIRE_CANNON_UP){this.setRotation(-90);this._reloadTime=CanonClass.PLAY_ANIMATION_TIME;this._reloadRemaining=this._reloadTime;this._bulletType=Bullet.FIRE;this._bulletOffset.x=VISUAL_CELL_SIZE*.8;this._bulletOffset.y=0;this._bulletVelocity.x=0;this._bulletVelocity.y=700}else if(e.blockType==LevelManagerClass.FIRE_CANNON_DOWN){this.setRotation(90);this._reloadTime=CanonClass.PLAY_ANIMATION_TIME;this._reloadRemaining=this._reloadTime;this._bulletType=Bullet.FIRE;this._bulletOffset.x=-VISUAL_CELL_SIZE*.8;this._bulletOffset.y=0;this._bulletVelocity.x=0;this._bulletVelocity.y=-700}this._positionX=e.x;this._positionY=e.y;this.setPosition(cc.p(e.x*VISUAL_SCALE,e.y*VISUAL_SCALE))},getUserData:function(){return this},update:function(e){this._reloadRemaining-=e;this._playAnimationTime-=e;if(this._playAnimationTime<=0){this._fireAnimation.play();if(this._type==CanonClass.CLOUD_TYPE){this._playAnimationTime=CanonClass.PLAY_ANIMATION_TIME_CLOUD}else{this._playAnimationTime=CanonClass.PLAY_ANIMATION_TIME}}if(this._reloadRemaining<=0){gSharedEngine.playEffect(EFFECT_6);this._gameLogic.newBullet(this._bulletType,this._positionX+this._bulletOffset.x,this._positionY+this._bulletOffset.y,this._bulletVelocity.x,this._bulletVelocity.y);this._reloadRemaining=this._reloadTime}},destroy:function(){this.removeFromParent(true)},newFrame:function(){var e=this._gameLogic.Grid.getCell(this._positionX,this._positionY);e.TraspasableCode=NORMAL}});CanonClass.PLAY_ANIMATION_TIME=2.75;CanonClass.START_INIT_ANIMATION_TIME=1.9;CanonClass.PLAY_ANIMATION_TIME_CLOUD=2;CanonClass.START_INIT_ANIMATION_TIME_CLOUD=1.1;CanonClass.CLOUD_TYPE=0;CanonClass.FIRE_TYPE=1;var GridClass=cc.Class.extend({_cells:new Array,Width:0,Height:0,CellSize:0,HalfCellSize:0,ctor:function(e,t,n){this.init(e,t,n)},init:function(e,t,n){this.CellSize=n;this.HalfCellSize=this.CellSize*.5;this.Width=e;this.Height=t;for(var r=0;r<t;r++){this._cells[r]=new Array;for(var i=0;i<e;i++){this._cells[r][i]=new GridCellClass(n,r,i)}}},getCell:function(e,t){var n=Math.floor(t/this.CellSize);var r=Math.floor(e/this.CellSize);if(n>=0&&r>=0&&n<this.Height&&r<this.Width)return this._cells[n][r];else return null},getCellByIJ:function(e,t){if(e>=0&&t>=0&&e<this.Height&&t<this.Width)return this._cells[e][t];else return null},clear:function(){for(var e=0;e<this._cells.length;e++){for(var t=0;t<this._cells[e].length;t++){this._cells[e][t].Traspasable=true;this._cells[e][t].TraspasableCode=EMPTY}}}});var PickupItemClass=cc.Node.extend({_itemType:0,_alive:true,_active:false,_positionX:0,_positionY:0,_gameLogic:null,_activatingRemaining:0,_activatingTime:0,_isSensor:true,_isStatic:true,_dyingRemaining:0,_dyingTime:0,_aliveRemaining:0,_aliveRemainingAnimation:null,_aliveRemainingTotal:0,_useCollider:true,_mainCharacter:null,_idleAnimation:null,_activeAnimation:null,_activatedAnimation:null,_deathAnimation:null,_deathSound:1,_activateSound:1,_collideRect:null,ctor:function(e,t){this._super();this._gameLogic=t;this.init(e);this.collideRectInit()},updateCostume:function(){this.setPosition(cc.p(this._positionX*VISUAL_SCALE,this._positionY*VISUAL_SCALE))},collideRectInit:function(){if(this._itemType==PickupItemClass.TURN){this._collideRect=cc.rect(0,0,10,10)}else if(this._itemType==PickupItemClass.DOOR){this._collideRect=cc.rect(0,0,5,5)}else{this._collideRect=cc.rect(0,0,1,1)}},collideRect:function(){if(!this._useCollider){this._collideRect.x=0;this._collideRect.y=0;this._collideRect.width=0;this._collideRect.height=0}else{var e=this.getPosition();if(this._itemType==PickupItemClass.TURN){this._collideRect.x=e.x-10;this._collideRect.y=e.y-10}else if(this._itemType==PickupItemClass.DOOR){this._collideRect.x=e.x-5;this._collideRect.y=e.y-5}else{this._collideRect.x=e.x-1;this._collideRect.y=e.y-1}}return this._collideRect},init:function(e){this._itemType=e.type;if(this._itemType==PickupItemClass.COIN){this._aliveRemainingTotal=e.aliveTime;this._aliveRemaining=e.aliveTime;if(this._aliveRemainingTotal>0){this._aliveRemainingAnimation=new SpriteAnimation;this._aliveRemainingAnimation.initWithAtlas("KW_monedatemp.png",1,.035,cc.p(-29,-29),cc.p(60,60),"aliveRemainingcoin");this.addChild(this._aliveRemainingAnimation)}this._idleAnimation=new SpriteAnimation;this._idleAnimation.initWithAtlas("Moneda_quieta_emp.png",999999,.035,cc.p(-27,-24),cc.p(54,54),"idlecoin");this.addChild(this._idleAnimation);this._deathAnimation=new SpriteAnimation;this._deathAnimation.initWithAtlas("Moneda_come_emp.png",1,.035,cc.p(-27,-24),cc.p(54,54),"deathcoin",cc.p(8,25));this.addChild(this._deathAnimation);this._dyingTime=.5;this._activateAnimation=this._deathAnimation;this._activeAnimation=this._deathAnimation;this._deathSound=2;this.showAnimation(PickupItemClass.IDLE)}else if(this._itemType==PickupItemClass.DOOR){this._activateAnimation=new SpriteAnimation;this._activateAnimation.initWithAtlas("Conejo-puerta_entra_emp.png",1,.035,cc.p(-27,-24),cc.p(70,57),"opendoor");this.addChild(this._activateAnimation);this._activateAnimation.setVisible(false);this._deathAnimation=new SpriteAnimation;this._deathAnimation.initWithAtlas("Kermix-puerta_entra_emp.png",1,.035,cc.p(-21,-25),cc.p(71,58),"deathdoor");this.addChild(this._deathAnimation);this._deathAnimation.setVisible(false);this._deathAnimation.endAnimationCallback(this,"fadeOutDoor");this._idleAnimation=this._activateAnimation;this._dyingTime=2;this._deathSound=3;this._aliveRemainingTotal=15;this._active=true;this._activeAnimation=this._deathAnimation}else if(this._itemType==PickupItemClass.BALLOON){this._idleAnimation=new cc.Sprite;this._idleAnimation.initWithSpriteFrameName("Globo_solo.png");this._idleAnimation.setPosition(0,5);this.addChild(this._idleAnimation);this._activateAnimation=new SpriteAnimation;this._activateAnimation.initWithAtlas("Globo_inflado_emp.png",1,.02,cc.p(-24,-21),cc.p(47,78),"activateballoon",cc.p(3,13));this.addChild(this._activateAnimation);this._activateAnimation.setVisible(false);this._activatingTime=.05;this._activateSound=5;this._activeAnimation=this._idleAnimation;this._deathAnimation=new SpriteAnimation;this._deathAnimation.initWithAtlas("Globo_revienta_emp.png",1,.04,cc.p(-24,-21),cc.p(46,78),"deathballoon",cc.p(1,12));this.addChild(this._deathAnimation);this._deathAnimation.setVisible(false);this._dyingTime=.5;this._deathSound=6}this._positionX=e.x;this._positionY=e.y;this.updateCostume()},getId:function(){return CLASS_ID_PICKUP_ITEM},update:function(e){if(this._aliveRemaining>0){this._aliveRemaining-=e;if(this._itemType==PickupItemClass.COIN){this._aliveRemainingAnimation.setFrame(Math.ceil((1-this._aliveRemaining/this._aliveRemainingTotal)*9));if(this._aliveRemaining<=0){this._aliveRemainingAnimation.setVisible(false);this.die()}}}if(this._activatingRemaining>0){this._activatingRemaining-=e;if(this._activatingRemaining<=0){this._active=true}}if(this._dyingRemaining>0){this._dyingRemaining-=e;if(this._dyingRemaining<=0){this._alive=false}}this.updateCostume();return this._alive},getUserData:function(){return this},playActivateAnimation:function(){this._activateAnimation.setVisible(true);this._activateAnimation.play()},newFrame:function(){var e=this._gameLogic.Grid.getCell(this._positionX,this._positionY);e.TraspasableCode=DOOR},showAnimation:function(e){this._idleAnimation.setVisible(false);this._activateAnimation.setVisible(false);this._activeAnimation.isVisible(false);this._deathAnimation.setVisible(false);if(e==PickupItemClass.IDLE){this._idleAnimation.setVisible(true);this._idleAnimation.play()}else if(e==PickupItemClass.ACTIVATED){this._activateAnimation.setVisible(true);this._activateAnimation.play()}else if(e==PickupItemClass.ACTIVE){this._activeAnimation.setVisible(true);this._activeAnimation.play()}else if(e==PickupItemClass.DEATH){this._deathAnimation.setVisible(true);this._deathAnimation.play()}},destroy:function(){this.removeFromParent(true)},fadeOutDoor:function(){this._deathAnimation.runAction(cc.FadeTo.create(.3,0))},die:function(){if(this._aliveRemainingAnimation!=null){this._aliveRemainingAnimation.setVisible(false)}this._mainCharacter=null;this.showAnimation(PickupItemClass.DEATH);this._dyingRemaining=this._dyingTime;this._active=false;this._useCollider=false;switch(this._deathSound){case 2:gSharedEngine.playEffect(EFFECT_17);break;case 3:gSharedEngine.playEffect(EFFECT_28);break;case 6:gSharedEngine.playEffect(EFFECT_34);break}},activate:function(){this.showAnimation(PickupItemClass.ACTIVATED);this._activatingRemaining=this._activatingTime;switch(this._activateSound){case 1:gSharedEngine.playEffect(EFFECT_13);break;case 5:gSharedEngine.playEffect(EFFECT_12);break}},setMainCharacter:function(e){this._mainCharacter=e},getMainCharacter:function(){return this._mainCharacter},isActive:function(){return this._active},checkClick:function(e,t){if(this._itemType==PickupItemClass.BALLOON&&this._active){if(e>=this.getPosition().x-CELL_SIZE*1.3&&e<=this.getPosition().x+CELL_SIZE*1.3&&t>=this.getPosition().y-CELL_SIZE*1.3&&t<=this.getPosition().y+CELL_SIZE*1.3){if(!this._mainCharacter.ReachedExit){this._gameLogic._tutorial.newAction(TutorialClass.POP_BALLOON);this._mainCharacter.dropFromBallon();this.die();this._mainCharacter=null;return}}}}});PickupItemClass.COIN=1;PickupItemClass.DOOR=2;PickupItemClass.BALLOON=3;PickupItemClass.TURN=5;PickupItemClass.BALLOON_SPEED=-8;PickupItemClass.BALLOON_STRING_LENGTH=50;PickupItemClass.IDLE=1;PickupItemClass.ACTIVATED=2;PickupItemClass.ACTIVE=3;PickupItemClass.DEATH=4;var TerrainBlockClass=cc.Node.extend({_blockType:0,_solid:true,_myCell:null,_grid:null,_sprite:null,_overImage:null,_isStatic:true,_positionX:0,_positionY:0,_isSensor:false,_collideRect:null,getId:function(){return CLASS_ID_TERRAIN_BLOCK},ctor:function(e,t){this._super();this.init(e,t);this.collideRectinit()},init:function(e,t){this._grid=e.Grid;this._myCell=e.Grid.getCell(t.x,t.y);this._myCell.TraspasableCode=NORMAL;if(t.blockType==LevelManagerClass.STATIC_GRAY){this._blockType=TerrainBlockClass.NORMAL;var n=e.LevelManager.getCurrentWorld();if(n==1||n==3||n==4){var r=Math.floor(Math.random()*2.99+1);this._sprite=new cc.Sprite;this._sprite.initWithSpriteFrameName("KW_tierra"+n+"_"+r+".png");this.addChild(this._sprite)}else if(n==2||n==5){var i=Math.floor(Math.random()*3.99)*90;this._sprite=new cc.Sprite;this._sprite.initWithSpriteFrameName("KW_tierra"+n+"_1.png");this.addChild(this._sprite);if(n==2){this._sprite.setRotation(i)}}}else if(t.blockType==LevelManagerClass.FLOOR_SWITCH_RED||t.blockType==LevelManagerClass.FLOOR_SWITCH_BLUE){this._blockType=TerrainBlockClass.SWITCH;if(t.blockType==LevelManagerClass.FLOOR_SWITCH_RED){this._sprite=new cc.Sprite;this._sprite.initWithSpriteFrameName("KW_tierra3rojotrans.png");this.addChild(this._sprite);this._overImage=new cc.Sprite;this._overImage.initWithSpriteFrameName("KW_tierra3rojo.png");this.addChild(this._overImage)}else{this._sprite=new cc.Sprite;this._sprite.initWithSpriteFrameName("KW_tierra3azultrans.png");this.addChild(this._sprite);this._overImage=new cc.Sprite;this._overImage.initWithSpriteFrameName("KW_tierra3azul.png");this.addChild(this._overImage);this.switchSolidness()}}this._positionX=t.x;this._positionY=t.y;this.setPosition(cc.p(t.x*VISUAL_SCALE,t.y*VISUAL_SCALE))},getUserData:function(){return this},destroy:function(){this.removeFromParent(true)},collideRectinit:function(){this._collideRect=cc.rect(0,0,VISUAL_CELL_SIZE,VISUAL_CELL_SIZE)},collideRect:function(){var e=this.getPosition();this._collideRect.x=e.x-VISUAL_CELL_SIZE*.5;this._collideRect.y=e.y-VISUAL_CELL_SIZE*.5;return this._collideRect},newFrame:function(){var e=this._grid.getCell(this._positionX,this._positionY);if(this._blockType!=TerrainBlockClass.SWITCH||this._solid){e.TraspasableCode=NORMAL}},switchSolidness:function(){if(this._blockType==TerrainBlockClass.SWITCH){this._solid=!this._solid;if(this._solid){this._overImage.setVisible(true);this._myCell.TraspasableCode=NORMAL}else{this._overImage.setVisible(false);this._myCell.TraspasableCode=EMPTY}this._isSensor=!this._solid}}});TerrainBlockClass.NORMAL=1;TerrainBlockClass.SWITCH=2;var GridCellClass=cc.Class.extend({i:0,j:0,x:0,y:0,Traspasable:true,TraspasableCode:EMPTY,_cellSize:0,_halfCellSize:0,ctor:function(e,t,n){this.i=t;this.j=n;this._cellSize=e;this._halfCellSize=e*.5;this.x=(n+.5)*e;this.y=(t+.5)*e}});var defaultAppearTime=Math.floor(60*.25);var defaultDissappearTime=60*6;var doNotDissapear=99999999;var defaultDeleteTime=60*7;var midWindowX=158;var midWindowY=240;var TutorialClass=cc.Node.extend({_loadedImages:null,_animationData:null,CurrentFrame:1,_currentShownImg:-1,_actionExecuted:false,_currentWorld:0,_currentLevel:0,_images:null,_mainScene:null,ctor:function(e){this._super();this._mainScene=e;this._loadedImages=new Array;this._animationData=new Array;this.init()},init:function(){this._images=[[[[{text:IS_HANDHELD?"{TUT_1_1A}":"{TUT_1_1B}",rotation:-2,width:150},"",midWindowX,midWindowY+120,150,55,defaultAppearTime,doNotDissapear,doNotDissapear],[null,"KW_tut_flecha.png",midWindowX,midWindowY+70,170,24,defaultAppearTime,doNotDissapear,doNotDissapear],[null,IS_HANDHELD?"KW_tut_mano.png":"FTR_html5_IndicadorTutorial.png",midWindowX-50,midWindowY+20,81,90,defaultAppearTime,doNotDissapear,doNotDissapear,true,1.8*60,{time:1.5,x:midWindowX+50,y:midWindowY+20,alpha:0}],TutorialClass.MOVE],[[{text:IS_HANDHELD?"{TUT_1_2A}":"{TUT_1_2B}",rotation:3,width:145},"",midWindowX+50,midWindowY+100,145,62,defaultAppearTime,doNotDissapear,doNotDissapear],[null,"KW_tut_flechavert.png",midWindowX-40,midWindowY+30,24,148,defaultAppearTime,doNotDissapear,doNotDissapear],[null,IS_HANDHELD?"KW_tut_mano.png":"FTR_html5_IndicadorTutorial.png",midWindowX+20,midWindowY-40,81,90,defaultAppearTime,doNotDissapear,doNotDissapear,true,1.8*60,{time:1.5,x:midWindowX+20,y:midWindowY+100-40,alpha:0}],TutorialClass.JUMP],[[{text:"{TUT_1_3}",rotation:2,width:100,offset:{x:38,y:0}},"KW_tut_1-3.png",midWindowX,midWindowY+100,212,62,defaultAppearTime,doNotDissapear,doNotDissapear],TutorialClass.JUMP],[],[[{text:"{TUT_1_5}",rotation:-3,width:60,offset:{x:85,y:-3}},"KW_tut_1-5.png",midWindowX+6,midWindowY+150,251,85,defaultAppearTime,doNotDissapear,doNotDissapear],[null,"KW_tierratutorial.png",midWindowX,4.5*VISUAL_CELL_SIZE,35,35,defaultAppearTime,doNotDissapear,doNotDissapear],TutorialClass.PUSH_ROCK],[[{text:"{TUT_1_6}",rotation:-5,width:70,offset:{x:30,y:0}},"KW_tut_1-6.png",midWindowX,midWindowY+150,169,79,defaultAppearTime,defaultDissappearTime,defaultDeleteTime],[null,"KW_tierratutorial.png",midWindowX+VISUAL_CELL_SIZE,3.5*VISUAL_CELL_SIZE,35,35,defaultAppearTime,defaultDissappearTime,defaultDeleteTime],[null,"KW_tierratutorial.png",midWindowX,3.5*VISUAL_CELL_SIZE,35,35,defaultAppearTime,defaultDissappearTime,defaultDeleteTime]],[],[[{text:"{TUT_1_8}",rotation:-1,width:90,offset:{x:35,y:0}},"KW_tut_1-3.png",midWindowX,midWindowY+150,193,58,defaultAppearTime,doNotDissapear,doNotDissapear],TutorialClass.MOVE],[],[[{text:"{TUT_1_10}",rotation:5,width:80,offset:{x:40,y:15}},"KW_tut_1-10.png",midWindowX,midWindowY+150,180,101,defaultAppearTime,doNotDissapear,doNotDissapear],TutorialClass.GRAB_BALLOON],[[{text:"{TUT_1_11}",rotation:-6,width:90,offset:{x:45,y:6}},"KW_tut_1-11.png",midWindowX,midWindowY+150,201,71,defaultAppearTime,doNotDissapear,doNotDissapear],TutorialClass.POP_BALLOON],[],[],[[{text:"{TUT_1_14}",rotation:-6,width:60,offset:{x:40,y:-5}},"KW_tut_1-14.png",midWindowX,midWindowY+150,161,79,defaultAppearTime,defaultDissappearTime,defaultDeleteTime],[null,"KW_tierratutorial.png",midWindowX,7.5*VISUAL_CELL_SIZE,35,35,defaultAppearTime,defaultDissappearTime,defaultDeleteTime]],[],[[{text:"{TUT_1_16}",rotation:1,width:80,offset:{x:50,y:-5}},"KW_tut_1-16.png",midWindowX,midWindowY+150,199,98,defaultAppearTime,doNotDissapear,doNotDissapear],TutorialClass.KERMIX_ON_CLOUD],[],[],[],[[{text:"{TUT_1_20}",rotation:3,width:80,offset:{x:35,y:-5}},"KW_tut_1-3.png",midWindowX+20,midWindowY+150,160,57,defaultAppearTime,defaultDissappearTime,defaultDeleteTime]],[],[],[[{text:"{TUT_1_23}",rotation:2,width:60,offset:{x:9,y:0}},"",midWindowX,midWindowY+150,93,51,defaultAppearTime,defaultDissappearTime,defaultDeleteTime]]],[[[{text:IS_HANDHELD?"{TUT_1_1A}":"{TUT_1_1B}",rotation:-2,width:150},"",midWindowX,midWindowY+120,150,55,defaultAppearTime,doNotDissapear,doNotDissapear],[null,"KW_tut_flecha.png",midWindowX,midWindowY+70,170,24,defaultAppearTime,doNotDissapear,doNotDissapear],[null,IS_HANDHELD?"KW_tut_mano.png":"FTR_html5_IndicadorTutorial.png",midWindowX-50,midWindowY+20,81,90,defaultAppearTime,doNotDissapear,doNotDissapear,true,1.8*60,{time:1.5,x:midWindowX+50,y:midWindowY+20,alpha:0}],TutorialClass.MOVE],[[{text:IS_HANDHELD?"{TUT_1_2A}":"{TUT_1_2B}",rotation:3,width:145},"",midWindowX+50,midWindowY+100,145,62,defaultAppearTime,doNotDissapear,doNotDissapear],[null,"KW_tut_flechavert.png",midWindowX-40,midWindowY+30,24,148,defaultAppearTime,doNotDissapear,doNotDissapear],[null,IS_HANDHELD?"KW_tut_mano.png":"FTR_html5_IndicadorTutorial.png",midWindowX+20,midWindowY-40,81,90,defaultAppearTime,doNotDissapear,doNotDissapear,true,1.8*60,{time:1.5,x:midWindowX+20,y:midWindowY+100-40,alpha:0}],TutorialClass.JUMP],[[{text:"{TUT_1_3}",rotation:2,width:100,offset:{x:38,y:0}},"KW_tut_1-3.png",midWindowX,midWindowY+100,212,62,defaultAppearTime,doNotDissapear,doNotDissapear],TutorialClass.JUMP],[[{text:"{TUT_2_1}",rotation:2,width:80,offset:{x:35,y:5}},"KW_tut_1-3.png",midWindowX,midWindowY+100,196,62,defaultAppearTime,defaultDissappearTime,defaultDeleteTime]],[[{text:"{TUT_2_2}",rotation:-3,width:80,offset:{x:25,y:-5}},"KW_tut_2-2.png",midWindowX,midWindowY+100,216,79,defaultAppearTime,defaultDissappearTime,defaultDeleteTime]],[],[],[],[],[],[],[[{text:"{TUT_2_9}",rotation:-2,width:100,offset:{x:-10,y:-37}},"KW_tut_2-9.png",midWindowX,midWindowY+130,191,125,defaultAppearTime,defaultDissappearTime,defaultDeleteTime]],[],[],[],[],[],[],[],[[{text:"{TUT_2_17}",rotation:-2,width:150,offset:{x:0,y:2}},"",midWindowX,midWindowY+120,157,47,defaultAppearTime,defaultDissappearTime,defaultDeleteTime]]],[[[{text:IS_HANDHELD?"{TUT_1_1A}":"{TUT_1_1B}",rotation:-2,width:150},"",midWindowX,midWindowY+120,150,55,defaultAppearTime,doNotDissapear,doNotDissapear],[null,"KW_tut_flecha.png",midWindowX,midWindowY+70,170,24,defaultAppearTime,doNotDissapear,doNotDissapear],[null,IS_HANDHELD?"KW_tut_mano.png":"FTR_html5_IndicadorTutorial.png",midWindowX-50,midWindowY+20,81,90,defaultAppearTime,doNotDissapear,doNotDissapear,true,1.8*60,{time:1.5,x:midWindowX+50,y:midWindowY+20,alpha:0}],TutorialClass.MOVE],[[{text:IS_HANDHELD?"{TUT_1_2A}":"{TUT_1_2B}",rotation:3,width:145},"",midWindowX+50,midWindowY+100,145,62,defaultAppearTime,doNotDissapear,doNotDissapear],[null,"KW_tut_flechavert.png",midWindowX-40,midWindowY+30,24,148,defaultAppearTime,doNotDissapear,doNotDissapear],[null,IS_HANDHELD?"KW_tut_mano.png":"FTR_html5_IndicadorTutorial.png",midWindowX+20,midWindowY-40,81,90,defaultAppearTime,doNotDissapear,doNotDissapear,true,1.8*60,{time:1.5,x:midWindowX+20,y:midWindowY+100-40,alpha:0}],TutorialClass.JUMP],[[{text:"{TUT_1_3}",rotation:2,width:100,offset:{x:38,y:0}},"KW_tut_1-3.png",midWindowX,midWindowY+100,212,62,defaultAppearTime,doNotDissapear,doNotDissapear],TutorialClass.JUMP],[[{text:"{TUT_3_1}",rotation:2,width:80,offset:{x:-5,y:-27}},"KW_tut_3-1b.png",midWindowX+80,midWindowY+100,83,113,defaultAppearTime,doNotDissapear,doNotDissapear],[{text:"{TUT_3_1b}",rotation:2,width:60,offset:{x:-5,y:-27}},"KW_tut_3-1b.png",midWindowX+80,midWindowY+50,100,142,doNotDissapear+15,doNotDissapear+defaultDissappearTime,doNotDissapear+defaultDissappearTime+100],TutorialClass.RED_BLUE_BUTTON]],[[[{text:IS_HANDHELD?"{TUT_1_1A}":"{TUT_1_1B}",rotation:-2,width:150},"",midWindowX,midWindowY+120,150,55,defaultAppearTime,doNotDissapear,doNotDissapear],[null,"KW_tut_flecha.png",midWindowX,midWindowY+70,170,24,defaultAppearTime,doNotDissapear,doNotDissapear],[null,IS_HANDHELD?"KW_tut_mano.png":"FTR_html5_IndicadorTutorial.png",midWindowX-50,midWindowY+20,81,90,defaultAppearTime,doNotDissapear,doNotDissapear,true,1.8*60,{time:1.5,x:midWindowX+50,y:midWindowY+20,alpha:0}],TutorialClass.MOVE],[[{text:IS_HANDHELD?"{TUT_1_2A}":"{TUT_1_2B}",rotation:3,width:145},"",midWindowX+50,midWindowY+100,145,62,defaultAppearTime,doNotDissapear,doNotDissapear],[null,"KW_tut_flechavert.png",midWindowX-40,midWindowY+30,24,148,defaultAppearTime,doNotDissapear,doNotDissapear],[null,IS_HANDHELD?"KW_tut_mano.png":"FTR_html5_IndicadorTutorial.png",midWindowX+20,midWindowY-40,81,90,defaultAppearTime,doNotDissapear,doNotDissapear,true,1.8*60,{time:1.5,x:midWindowX+20,y:midWindowY+100-40,alpha:0}],TutorialClass.JUMP],[[{text:"{TUT_1_3}",rotation:2,width:100,offset:{x:38,y:0}},"KW_tut_1-3.png",midWindowX,midWindowY+100,212,62,defaultAppearTime,doNotDissapear,doNotDissapear],TutorialClass.JUMP],[[{text:"{TUT_4_1}",rotation:0,width:70,offset:{x:-10,y:0}},"",midWindowX+80,midWindowY+100,113,54,defaultAppearTime,defaultDissappearTime,defaultDeleteTime]]],[[[{text:IS_HANDHELD?"{TUT_1_1A}":"{TUT_1_1B}",rotation:-2,width:150},"",midWindowX,midWindowY+120,150,55,defaultAppearTime,doNotDissapear,doNotDissapear],[null,"KW_tut_flecha.png",midWindowX,midWindowY+70,170,24,defaultAppearTime,doNotDissapear,doNotDissapear],[null,IS_HANDHELD?"KW_tut_mano.png":"FTR_html5_IndicadorTutorial.png",midWindowX-50,midWindowY+20,81,90,defaultAppearTime,doNotDissapear,doNotDissapear,true,1.8*60,{time:1.5,x:midWindowX+50,y:midWindowY+20,alpha:0}],TutorialClass.MOVE],[[{text:IS_HANDHELD?"{TUT_1_2A}":"{TUT_1_2B}",rotation:3,width:145},"",midWindowX+50,midWindowY+100,145,62,defaultAppearTime,doNotDissapear,doNotDissapear],[null,"KW_tut_flechavert.png",midWindowX-40,midWindowY+30,24,148,defaultAppearTime,doNotDissapear,doNotDissapear],[null,IS_HANDHELD?"KW_tut_mano.png":"FTR_html5_IndicadorTutorial.png",midWindowX+20,midWindowY-40,81,90,defaultAppearTime,doNotDissapear,doNotDissapear,true,1.8*60,{time:1.5,x:midWindowX+20,y:midWindowY+100-40,alpha:0}],TutorialClass.JUMP],[[{text:"{TUT_1_3}",rotation:2,width:100,offset:{x:38,y:0}},"KW_tut_1-3.png",midWindowX,midWindowY+100,212,62,defaultAppearTime,doNotDissapear,doNotDissapear],TutorialClass.JUMP],[[{text:"{TUT_5_1}",rotation:3,width:150,offset:{x:-10,y:5}},"",midWindowX,midWindowY+90,157,62,defaultAppearTime,doNotDissapear,doNotDissapear],TutorialClass.GRAVITY]]]},load:function(e,t){this._currentWorld=e;this._currentLevel=t;var n=this._images[e-1][t-1];this.CurrentFrame=1;this._actionExecuted=false;if(n!=null){for(var r=0;r<n.length;r++){if(Object.prototype.toString.call(n[r])==="[object Array]"){var i=n[r][TutorialClass.NAME_INDEX];if(i&&i!=""){var s=new cc.Sprite;s.initWithSpriteFrameName(i);s.setPositionX(n[r][TutorialClass.X_INDEX]);s.setPositionY(n[r][TutorialClass.Y_INDEX]);s.setOpacity(0);this._loadedImages.push(s);this._animationData.push(n[r]);this._mainScene.addChild(s)}var o=n[r][TutorialClass.TEXT_INDEX];if(o){var u=cc.LabelTTF.create(Localization.getText(o.text),"Arial",16,cc.size(o.width,0));u.setPosition(n[r][TutorialClass.X_INDEX],n[r][TutorialClass.Y_INDEX]);u.setOpacity(0);u.enableShadow(cc.size(1,-2),1,0);if(o.rotation){u.setRotation(o.rotation)}if(o.offset){u.setPosition(u.getPositionX()+o.offset.x,u.getPositionY()+o.offset.y)}TextUtils.addOffsetToLabelBMFont(u,5);this._loadedImages.push(u);this._animationData.push(n[r]);this._mainScene.addChild(u)}}else{this._waitingAction=n[r]}}}},update:function(e){if(this._animationData.length>0){var t=0;while(t<this._animationData.length){if(this._animationData[t][TutorialClass.APPEAR_INDEX]==this.CurrentFrame){this._loadedImages[t].runAction(cc.FadeIn.create(.5));this._currentShownImg=t}else if(this._animationData[t][TutorialClass.LOOP_INDEX]&&this.CurrentFrame>this._animationData[t][TutorialClass.APPEAR_INDEX]&&this.CurrentFrame<this._animationData[t][TutorialClass.DISAPPEAR_INDEX]){var n=this.CurrentFrame-this._animationData[t][TutorialClass.APPEAR_INDEX];if(n%this._animationData[t][TutorialClass.LOOP_LENGTH_INDEX]==7){var r=this._loadedImages[t];r.setPositionX(this._animationData[t][TutorialClass.X_INDEX]);r.setPositionY(this._animationData[t][TutorialClass.Y_INDEX]);r.setOpacity(255);var i=this._animationData[t][TutorialClass.TO_INDEX];r.runAction(cc.FadeTo.create(i.time,i.alpha));r.runAction(cc.MoveTo.create(i.time,cc.p(i.x,i.y)))}}else if(this._animationData[t][TutorialClass.DISAPPEAR_INDEX]==this.CurrentFrame){this._loadedImages[t].stopAllActions();this._loadedImages[t].runAction(cc.FadeTo.create(.3,0))}else if(this._animationData[t][TutorialClass.DELETE_INDEX]==this.CurrentFrame){this._loadedImages[t].removeFromParent(true);this._loadedImages.splice(t);this._animationData.splice(t);t=t-1}t=t+1}this.CurrentFrame=this.CurrentFrame+1}},newAction:function(e){if(this._animationData.length>0&&!this._actionExecuted&&e==this._waitingAction&&this.CurrentFrame>30){this.CurrentFrame=doNotDissapear-1;this._actionExecuted=true}},clear:function(){for(var e=0;e<this._loadedImages.length;e++){this._loadedImages[e].removeFromParent(true)}this._loadedImages.length=0;this._animationData.length=0}});TutorialClass.TEXT_INDEX=0;TutorialClass.NAME_INDEX=1;TutorialClass.X_INDEX=2;TutorialClass.Y_INDEX=3;TutorialClass.WIDTH_INDEX=4;TutorialClass.HEIGHT_INDEX=5;TutorialClass.APPEAR_INDEX=6;TutorialClass.DISAPPEAR_INDEX=7;TutorialClass.DELETE_INDEX=8;TutorialClass.LOOP_INDEX=9;TutorialClass.LOOP_LENGTH_INDEX=10;TutorialClass.TO_INDEX=11;TutorialClass.RED_BLUE_BUTTON=1;TutorialClass.MOVE=2;TutorialClass.JUMP=3;TutorialClass.PUSH_ROCK=4;TutorialClass.GRAB_BALLOON=5;TutorialClass.POP_BALLOON=6;TutorialClass.KERMIX_ON_CLOUD=7;TutorialClass.GRAVITY=8;var MainCharacterClass=cc.Node.extend({_characterType:0,_positionX:0,_positionY:0,_gameLogic:null,_belowCell:null,_currentCell:null,_orientation:"portrait",_currentCellTraspasableCode:EMPTY,_belowTraspasableCode:NORMAL,_traspasableCode:EMPTY,_stepsInGridRemaining:0,_direction:0,_verticalDirection:0,_remainingToMove:0,_stepsToAdd:0,_isStatic:false,_isSensor:false,_inCanon:false,_alive:true,_onSurface:false,_myBalloon:null,_idleing:false,_canJump:false,_canMove:true,_velocity:null,_acceleration:null,_gravityVector:null,_gravity:-3,_canActivateFall:true,ReachedExit:false,_inSamePlace:0,_lastPosition:null,_fallAnimationPlayed:false,_idleTime:0,_maxSteps:5,_timeBetweenSteps:1.1,_remainingToNextStep:1.5,_dyingDirection:1,_flyingUnit:false,_animationLocked:0,_dieTime:.7,_horizontalMode:true,_verticalMode:false,_draggingLeft:true,_belowCellDirection:null,_aboveCellDirection:null,_rightCellDirection:null,_leftCellDirection:null,_myBottom:BOTTOM,_myTop:TOP,_myLeft:LEFT,_myRight:RIGHT,_stickyInDiagonal:false,_stickyDestination:null,_stickyDeltaAngle:0,_stickyStartAngle:0,_showStopAnimation:false,_squareCostume:null,_idleAnimation:null,_leftMoveAnimation:null,_leftStopMoveAnimation:null,_rightMoveAnimation:null,_rightStopMoveAnimation:null,_jumpAnimation:null,_startFallAnimation:null,_stopFallAnimation:null,_attackAnimation:null,_deathAnimation:null,_usesAnimation:true,_executeMoveInGrid:false,_nextStepDirection:-1,_nextStepSteps:0,_nextStepCancelPreviousSteps:false,_collideRect:null,ctor:function(e,t){this._super();this._velocity=new vector2d(0,0);this._acceleration=new vector2d(0,0);this._gravityVector=new vector2d(0,0);this.init(e,t)},init:function(e,t){this._gameLogic=t;this._belowCellDirection=new vector2d(0,0);this._aboveCellDirection=new vector2d(0,0);this._rightCellDirection=new vector2d(0,0);this._leftCellDirection=new vector2d(0,0);this._stickyDestination=new vector2d(0,0);this._myCloud=null;this._characterType=e;if(this._characterType==MainCharacterClass.KERMIX){this._traspasableCode=PLAYER;this._idleAnimation=new SpriteAnimation;this._idleAnimation.initWithAtlas("Kermix_respira_emp.png",1,.05,cc.p(-21,-21),cc.p(42,42),"breath");this.addChild(this._idleAnimation);this._idleAnimation.setVisible(false);this._leftMoveAnimation=new SpriteAnimation;this._leftMoveAnimation.initWithAtlas("Kermix_deslizader_emp.png",9999,.05,cc.p(-21,-21),cc.p(42,42),"moveleft",cc.p(1,8));this.addChild(this._leftMoveAnimation);this._leftMoveAnimation.setVisible(false);this._leftStopMoveAnimation=new SpriteAnimation;this._leftStopMoveAnimation.initWithAtlas("Kermix_deslizader_emp.png",1,.05,cc.p(-21,-21),cc.p(42,42),"movestopleft",cc.p(9,19));this.addChild(this._leftStopMoveAnimation);this._leftStopMoveAnimation.setVisible(false);this._rightMoveAnimation=new SpriteAnimation;this._rightMoveAnimation.initWithAtlas("Kermix_deslizaizq_emp.png",1,.05,cc.p(-21,-21),cc.p(42,42),"moveright",cc.p(1,8));this.addChild(this._rightMoveAnimation);this._rightMoveAnimation.setVisible(false);this._rightStopMoveAnimation=new SpriteAnimation;this._rightStopMoveAnimation.initWithAtlas("Kermix_deslizaizq_emp.png",1,.05,cc.p(-21,-21),cc.p(42,42),"movestopright",cc.p(9,19));this.addChild(this._rightStopMoveAnimation);this._rightStopMoveAnimation.setVisible(false);this._jumpAnimation=new SpriteAnimation;this._jumpAnimation.initWithAtlas("Kermix_salta_emp.png",1,.04,cc.p(-21,-21),cc.p(42,42),"jump",cc.p(1,16));this.addChild(this._jumpAnimation);this._jumpAnimation.setVisible(false);this._startFallAnimation=new SpriteAnimation;this._startFallAnimation.initWithAtlas("Kermix_salta_emp.png",1,.02,cc.p(-21,-21),cc.p(42,42),"falling",cc.p(17,20));this.addChild(this._startFallAnimation);this._startFallAnimation.setVisible(false);this._stopFallAnimation=new SpriteAnimation;this._stopFallAnimation.initWithAtlas("Kermix_salta_emp.png",1,.04,cc.p(-21,-21),cc.p(42,42),"stopfalling",cc.p(21,30));this.addChild(this._stopFallAnimation);this._stopFallAnimation.setVisible(false);this._deathAnimation=new cc.Sprite;this._deathAnimation.initWithSpriteFrameName("Kermix_muere.png");this.addChild(this._deathAnimation);this._deathAnimation.setVisible(true);this._squareCostume=this._idleAnimation;this._attackAnimation=this._idleAnimation}else if(this._characterType==MainCharacterClass.ROCK){this._traspasableCode=ROCK;this._squareCostume=new cc.Sprite;this._squareCostume.initWithSpriteFrameName("KW_roca.png");this.addChild(this._squareCostume);this._squareCostume.setVisible(true);this._usesAnimation=false}else if(this._characterType==MainCharacterClass.ENEMY_1){this._traspasableCode=ENEMY;this._idleAnimation=new SpriteAnimation;this._idleAnimation.initWithAtlas("Villano_respira_emp.png",1,.05,cc.p(-23,-20),cc.p(45,53),"skikeidle",cc.p(1,27));this.addChild(this._idleAnimation);this._idleAnimation.setVisible(false);this._leftMoveAnimation=new SpriteAnimation;this._leftMoveAnimation.initWithAtlas("Villano_deslizader_emp.png",1,.05,cc.p(-22,-20),cc.p(45,53),"skikeleftmove",cc.p(6,9));this.addChild(this._leftMoveAnimation);this._leftMoveAnimation.setVisible(false);this._leftStopMoveAnimation=new SpriteAnimation;this._leftStopMoveAnimation.initWithAtlas("Villano_deslizader_emp.png",1,.05,cc.p(-22,-20),cc.p(45,53),"skikeleftstopmove",cc.p(13,27));this.addChild(this._leftStopMoveAnimation);this._leftStopMoveAnimation.setVisible(false);this._rightStopMoveAnimation=new SpriteAnimation;this._rightStopMoveAnimation.initWithAtlas("Villano_deslizader_emp.png",1,.05,cc.p(-22,-20),cc.p(45,53),"skikeleftstopmove",cc.p(13,27),true);this.addChild(this._rightStopMoveAnimation);this._rightStopMoveAnimation.setVisible(false);this._rightMoveAnimation=new SpriteAnimation;this._rightMoveAnimation.initWithAtlas("Villano_deslizader_emp.png",1,.05,cc.p(-22,-20),cc.p(45,53),"skikeleftstopmove",cc.p(13,27),true);this.addChild(this._rightMoveAnimation);this._rightMoveAnimation.setVisible(false);this._squareCostume=this._idleAnimation;this._jumpAnimation=this._leftMoveAnimation;this._attackAnimation=this._idleAnimation;this._startFallAnimation=this._idleAnimation;this._stopFallAnimation=this._idleAnimation;this._deathAnimation=this._leftMoveAnimation;this._direction=-1;this._verticalDirection=0}else if(this._characterType==MainCharacterClass.STICKY){this._traspasableCode=ENEMY;this._idleAnimation=new SpriteAnimation;this._idleAnimation.initWithAtlas("KW_Pegajoso.png",1,.04,cc.p(-23,-21),cc.p(47,45),"idlestiky");this.addChild(this._idleAnimation);this._idleAnimation.setVisible(true);this._leftMoveAnimation=this._idleAnimation;this._leftStopMoveAnimation=this._idleAnimation;this._startFallAnimation=new SpriteAnimation;this._startFallAnimation.initWithAtlas("KW_Pegajoso.png",1,.05,cc.p(-23,-21),cc.p(47,45),"startfallstiky",cc.p(1,1));this.addChild(this._startFallAnimation);this._startFallAnimation.setVisible(true);this._rightMoveAnimation=this._leftMoveAnimation;this._rightStopMoveAnimation=this._leftStopMoveAnimation;this._stopFallAnimation=this._startFallAnimation;this._squareCostume=this._idleAnimation;this._jumpAnimation=this._leftMoveAnimation;this._attackAnimation=this._leftMoveAnimation;this._deathAnimation=new SpriteAnimation;this._deathAnimation.initWithAtlas("KW_Pegajoso_Aplastado.png",1,.05,cc.p(-30,-30),cc.p(62,66),"deathstiky");this.addChild(this._deathAnimation);this._deathAnimation.setVisible(false);this._direction=-1;this._verticalDirection=0;this._belowCellDirection.x=0;this._belowCellDirection.y=1;this._horizontalMode=true;this._verticalMode=false;this.setGravity(0);this.setAsSensor(true);this._flyingUnit=true}else if(this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3){this._traspasableCode=ENEMY;this._idleAnimation=new SpriteAnimation;this._idleAnimation.initWithAtlas("KW_Vampiro_Volando_Gordo.png",99999999,.05,cc.p(-37,-20),cc.p(74,39),"batfat");this.addChild(this._idleAnimation);this._idleAnimation.setVisible(false);this._leftMoveAnimation=new SpriteAnimation;this._leftMoveAnimation.initWithAtlas("KW_PalomaVampiro.png",99999999,.035,cc.p(-37,-20),cc.p(74,39),"idlebat");this.addChild(this._leftMoveAnimation);this._leftMoveAnimation.setVisible(true);this._squareCostume=this._leftMoveAnimation;this._rightMoveAnimation=this._leftMoveAnimation;this._jumpAnimation=this._leftMoveAnimation;this._leftStopMoveAnimation=this._leftMoveAnimation;this._rightStopMoveAnimation=this._leftMoveAnimation;this._startFallAnimation=this._leftMoveAnimation;this._stopFallAnimation=this._leftMoveAnimation;this._attackAnimation=new SpriteAnimation;this._attackAnimation.initWithAtlas("KW_PalomaVampiro_Comiendo.png",99999999,.05,cc.p(-37,-20),cc.p(74,39),"attackbat");this.addChild(this._attackAnimation);this._attackAnimation.setVisible(false);this._deathAnimation=new SpriteAnimation;this._deathAnimation.initWithAtlas("KW_PalomaVampiro_Gordo.png",99999999,.05,cc.p(-37,-20),cc.p(74,50),"deathbat");this.addChild(this._deathAnimation);this._deathAnimation.setVisible(false);this.setGravity(0);if(this._characterType==MainCharacterClass.ENEMY_3){this._direction=-1;this._verticalDirection=0;this._horizontalMode=true;this._verticalMode=false}else{this._direction=0;this._verticalDirection=1;this._horizontalMode=false;this._verticalMode=true}this._flyingUnit=true}if(this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3){this.showAnimation(MainCharacterClass.START_LEFT);this._leftMoveAnimation.play()}else{this.showAnimation(MainCharacterClass.IDLE)}this._currentCell=t.Grid.getCell(0,0);this._currentCellTraspasableCode=this._currentCell.TraspasableCode;if(this._currentCell.TraspasableCode==EMPTY){this._currentCell.TraspasableCode=this._traspasableCode}this._lastPosition=new vector2d(0,0);this._inSamePlace=false;this.setOrientation("portrait")},setPos:function(e,t){this._positionX=e;this._positionY=t;this._currentCell=this._gameLogic.Grid.getCell(this._positionX,this._positionY);this._stepsInGridRemaining=0;this.updateCostume()},getCurrentCell:function(){return this._gameLogic.Grid.getCell(this._positionX,this._positionY)},getRightCell:function(){var e=this.getCurrentCell();if(e){return this._gameLogic.Grid.getCellByIJ(e.i+this._rightCellDirection.y,e.j+this._rightCellDirection.x)}return null},getLeftCell:function(){var e=this.getCurrentCell();if(e){return this._gameLogic.Grid.getCellByIJ(e.i+this._leftCellDirection.y,e.j+this._leftCellDirection.x)}return null},getAboveCell:function(){var e=this.getCurrentCell();if(e){return this._gameLogic.Grid.getCellByIJ(e.i+this._aboveCellDirection.y,e.j+this._aboveCellDirection.x)}return null},getBelowCell:function(){var e=this.getCurrentCell();if(e){return this._gameLogic.Grid.getCellByIJ(e.i+this._belowCellDirection.y,e.j+this._belowCellDirection.x)}return null},stopMovement:function(){if(!this._alive){return}if(this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3||this._characterType==MainCharacterClass.STICKY){return}if(this._myCloud!=null&&this.isGoingDown()){if(this._gravityVector.y>0){if(this._positionY<=this._myCloud._positionY-VISUAL_CELL_SIZE){this._velocity.y=0;this._positionY=this._myCloud._positionY-CELL_SIZE}}else if(this._gravityVector.y<0){if(this._positionY>=this._myCloud._positionY+VISUAL_CELL_SIZE){this._velocity.y=0;this._positionY=this._myCloud._positionY+CELL_SIZE}}}var e=this.getCurrentCell();if(e){var t=true;var n=this.getBelowCell();if(n&&e.TraspasableCode!=NORMAL){t=n.TraspasableCode==NORMAL||n.TraspasableCode==ROCK||n.TraspasableCode==PLAYER;if(this._characterType==MainCharacterClass.ROCK){if(n.TraspasableCode==ENEMY){var r=this._gameLogic.getEnemyOn(n.i,n.j);if(r._characterType==MainCharacterClass.ENEMY_1){t=n.TraspasableCode==NORMAL||n.TraspasableCode==ROCK||n.TraspasableCode==PLAYER||n.TraspasableCode==ENEMY}}}if(t&&this.isGoingDown()){if(this._horizontalMode){if(this._positionY-CELL_SIZE<=n.y+VISUAL_CELL_SIZE*.5){this._velocity.y=0;this._positionY=e.y}}else{if(this._positionX-CELL_SIZE<=n.x+VISUAL_CELL_SIZE*.5){this._velocity.x=0;this._positionX=e.x}}}}var i=this.getAboveCell();if(i!=null&&(i.TraspasableCode==PLAYER||i.TraspasableCode==ROCK)&&this.isGoingUp()){if(this._horizontalMode){this._velocity.y=0;this._positionY=e.y}else{this._velocity.x=0;this._positionX=e.x}}var s=this.getLeftCell();if(s&&this.isGoingLeft()){t=s.TraspasableCode==NORMAL||s.TraspasableCode==ROCK||s.TraspasableCode==PLAYER;if(this._characterType==MainCharacterClass.ENEMY_1||this._characterType==MainCharacterClass.STICKY){t=s.TraspasableCode==NORMAL||s.TraspasableCode==ROCK}else if(this._characterType==MainCharacterClass.KERMIX){if(s.TraspasableCode==ROCK){var o=this._gameLogic.getRockInIJ(s.i,s.j);if(o!=null&&o._myCloud==null){var u=o.getLeftCell();if(u&&u.TraspasableCode==EMPTY){t=false}}}}else if(this._characterType==MainCharacterClass.ROCK){if(s.TraspasableCode==ENEMY){var r=this._gameLogic.getEnemyOn(s.i,s.j);if(r!=null&&r._characterType==MainCharacterClass.ENEMY_1){var u=r.getLeftCell();if(u&&u.TraspasableCode==NORMAL){t=true}}}}if(t){if(this._horizontalMode){if(this._myCloud!=null){if(this._positionX-CELL_SIZE<=s.x+VISUAL_CELL_SIZE*.2){this._velocity.x=0;this._positionX=e.x}}else{this._velocity.x=0;this._positionX=e.x}}else{if(this._myCloud!=null){if(this._positionY-CELL_SIZE<=s.y+VISUAL_CELL_SIZE*.2){this._velocity.y=0;this._positionY=e.y}}else{this._velocity.y=0;this._positionY=e.y}}}}var a=this.getRightCell();if(a&&this.isGoingRight()){t=a.TraspasableCode==NORMAL||a.TraspasableCode==ROCK||a.TraspasableCode==PLAYER;if(this._characterType==MainCharacterClass.ENEMY_1||this._characterType==MainCharacterClass.STICKY){t=a.TraspasableCode==NORMAL||a.TraspasableCode==ROCK}else if(this._characterType==MainCharacterClass.KERMIX){if(a.TraspasableCode==ROCK){var o=this._gameLogic.getRockInIJ(a.i,a.j);if(o!=null&&o._myCloud==null){var f=o.getRightCell();if(f&&f.TraspasableCode==EMPTY){t=false}}}}else if(this._characterType==MainCharacterClass.ROCK){if(a.TraspasableCode==ENEMY){var r=this._gameLogic.getEnemyOn(a.i,a.j);if(r!=null&&r._characterType==MainCharacterClass.ENEMY_1){var f=r.getRightCell();if(f&&f.TraspasableCode==NORMAL){t=true}}}}if(t){if(this._horizontalMode){if(this._myCloud!=null){if(this._positionX+CELL_SIZE>=a.x-VISUAL_CELL_SIZE*.2){this._velocity.x=0;this._positionX=e.x}}else{this._velocity.x=0;this._positionX=e.x}}else{if(this._myCloud!=null){if(this._positionY+CELL_SIZE>=a.y-VISUAL_CELL_SIZE*.2){this._velocity.y=0;this._positionY=e.y}}else{this._velocity.y=0;this._positionY=e.y}}}}}},move:function(e){if(!this._isStatic){if(this._myBalloon!=null){if(this.isGoingDown()){if(this._horizontalMode){this._velocity.y=0}else{this._velocity.x=0}}}this._acceleration.y+=this._gravityVector.y;this._acceleration.x+=this._gravityVector.x;this._velocity.x+=this._acceleration.x;this._velocity.y+=this._acceleration.y;if(!this._isSensor){if(this._gravityVector.x>0){this._velocity.x=Math.min(this._velocity.x,35)}else if(this._gravityVector.x<0){this._velocity.x=Math.max(this._velocity.x,-35)}else if(this._gravityVector.y>0){this._velocity.y=Math.min(this._velocity.y,35)}else if(this._gravityVector.y<0){this._velocity.y=Math.max(this._velocity.y,-35)}}this.stopMovement();this._positionX+=this._velocity.x;this._positionY+=this._velocity.y;this._acceleration.y=0;this._acceleration.x=0}},setAsStatic:function(e){this._isStatic=e},setAsSensor:function(e){this._isSensor=e},update:function(e){this.executeMoveInGrid();this.move(e);if(!this._alive){this.updateCostume();if(this._characterType==MainCharacterClass.KERMIX){if(this._horizontalMode){this._velocity.x=this._dyingDirection*6}else{this._velocity.y=this._dyingDirection*6}}return false}if(this._hasEaten){this.updateCostume();if(this._food){var t=this._food._positionX-this._positionX;var n=this._food._positionY-this._positionY;if(Math.abs(n)>=-40){gSharedEngine.playEffect(EFFECT_9);this._animationLocked=0;if(this._food._characterType==MainCharacterClass.ROCK){this.showAnimation(MainCharacterClass.DEATH);this.setAsSensor(true);this.setGravity(-.5);this._deadByFood=true}else{this.showAnimation(MainCharacterClass.IDLE_BREATHE)}this._food.setVisible(false);this._food=null;this._animationLocked=100;this._modVelocity=1}t=0;n=n*-.01;this._velocity.x=t;this._velocity.y=n}else{if(!this._deadByFood){if(Math.abs(this._velocity.x)>5){this._modVelocity=this._modVelocity*-1}this._velocity.x=this._velocity.x+this._modVelocity;this._velocity.y=8;if(this._positionY>1e3){return false}}else{if(this._characterType==MainCharacterClass.STICKY){this._dieTime-=e;if(this._dieTime<=0){this.die();return false}}else if(this._positionY>1e3){return false}}}return true}if(this.ReachedExit&&!this._doorReached){this.setVisible(false);this.setGravity(0);this._velocity.x=0;this._velocity.y=0;this._acceleration.x=0;this._acceleration.y=0;this._positionX=this._exitDoor._positionX;this._positionY=this._exitDoor._positionY;this.setAsStatic(true);this._doorReached=true;this._exitDoor.die();if(this._myBalloon!=null){this._myBalloon.die()}}var r=this._gameLogic.Grid.getCell(this._positionX,this._positionY);if(r!=null){this._belowCell=this._gameLogic.Grid.getCellByIJ(r.i+this._belowCellDirection.y,r.j+this._belowCellDirection.x);if(this._belowCell!=null){this._belowTraspasableCode=this._belowCell.TraspasableCode}if(r!=this._currentCell){if(this._belowCell!=null){if((this._belowCell.TraspasableCode==EMPTY||this._belowCell.TraspasableCode==DOOR)&&!this._flyingUnit&&this._myCloud==null){this._stepsInGridRemaining=0}}if(r.j!=this._currentCell.j&&this._horizontalMode){this._stepsInGridRemaining=this._stepsInGridRemaining-1;if(this._stepsInGridRemaining<=0&&this._showStopAnimation){this._showStopAnimation=false;if(this._direction>0){this.showAnimation(MainCharacterClass.STOP_RIGHT)}else{this.showAnimation(MainCharacterClass.STOP_LEFT)}}}if(r.i!=this._currentCell.i&&this._verticalMode){this._stepsInGridRemaining=this._stepsInGridRemaining-1;if(this._showStopAnimation){this._showStopAnimation=false;if(this._verticalDirection>0){this.showAnimation(MainCharacterClass.STOP_RIGHT)}else{this.showAnimation(MainCharacterClass.STOP_LEFT)}}}this._currentCell=r}if(this._stepsInGridRemaining>0){if(this._horizontalMode==true){var i=0;if(this._direction>0){i=this._currentCell.x+this._gameLogic.Grid.HalfCellSize}else{i=this._currentCell.x-this._gameLogic.Grid.HalfCellSize}var s=Math.abs(this._positionX-i)/CELL_SIZE;var o=MainCharacterClass.HORIZONTAL_VELOCITY*(this._stepsInGridRemaining+s);this._velocity.x=this._direction*MainCharacterClass.HORIZONTAL_VELOCITY;this._velocity.x=this._direction*o}if(this._verticalMode==true){var i=0;if(this._verticalDirection>0){i=this._currentCell.y+this._gameLogic.Grid.HalfCellSize}else{i=this._currentCell.y-this._gameLogic.Grid.HalfCellSize}var s=Math.abs(this._positionY-i)/CELL_SIZE;var o=MainCharacterClass.HORIZONTAL_VELOCITY*(this._stepsInGridRemaining+s);this._velocity.y=this._verticalDirection*o}}else{if(!this._idleing){if(this._horizontalMode==true){var u=this._currentCell.x-this._positionX;if(Math.abs(u)<MainCharacterClass.SNAP_TO_GRID_DISTANCE){this._velocity.x=0;this._positionX=this._currentCell.x;this._idleing=true}else{this._velocity.x=u*.7}}if(this._verticalMode==true){var u=this._currentCell.y-this._positionY;if(Math.abs(u)<MainCharacterClass.SNAP_TO_GRID_DISTANCE){this._velocity.y=0;this._positionY=this._currentCell.y;this._idleing=true}else{this._velocity.y=u*.7}}}else if(this._idleing&&this._myCloud==null){if(this._horizontalMode){var u=this._currentCell.x-this._positionX;this._velocity.x=u*.07}if(this._verticalMode){var u=this._currentCell.y-this._positionY;this._velocity.y=u*.07}}}}else{if(this._positionX<-CELL_SIZE*2||this._positionX>CELL_SIZE*10||this._positionY>CELL_SIZE*16||this._positionY<-CELL_SIZE*2){if(this._characterType==MainCharacterClass.KERMIX){gSharedEngine.playEffect(EFFECT_14)}else if(this._characterType==MainCharacterClass.ENEMY_1){gSharedEngine.playEffect(EFFECT_24)}this.die(0,true)}}if(this._fallAnimationPlayed==false){if(this.isFalling()){this.showAnimation(MainCharacterClass.START_FALL);this._fallAnimationPlayed=true}}if(this._myBalloon!=null){this._canJump=false;this._canMove=false;if(this._myBalloon._active){if(this._belowCellDirection.x!=0){this._velocity.x=PickupItemClass.BALLOON_SPEED*this._belowCellDirection.x}if(this._belowCellDirection.y!=0){this._velocity.y=PickupItemClass.BALLOON_SPEED*this._belowCellDirection.y}}this._myBalloon._positionX=this._positionX-PickupItemClass.BALLOON_STRING_LENGTH*this._belowCellDirection.x;this._myBalloon._positionY=this._positionY-PickupItemClass.BALLOON_STRING_LENGTH*this._belowCellDirection.y;this._myBalloon.setRotation(this.getRotation())}if(this._characterType==MainCharacterClass.STICKY){if(this._myRock!=null){if(this._stepsInGridRemaining<=0){var a=this._myRock._positionX-this._belowCellDirection.x*CELL_SIZE;var f=this._myRock._positionY-this._belowCellDirection.y*CELL_SIZE;this._stickyDestination.x=a;this._stickyDestination.y=f}this._stickyInDiagonal=true}if(this._stickyInDiagonal){var t=this._stickyDestination.x-this._positionX;var n=this._stickyDestination.y-this._positionY;var l=Math.sqrt(t*t+n*n);this.setRotation(this._stickyStartAngle+(1-l/99)*this._stickyDeltaAngle);if(Math.abs(t)<=4&&Math.abs(n)<=4){this._stickyInDiagonal=false;this.setPosition(this._stickyDestination.x,this._stickyDestination.y);t=0;n=0;this.rotateCostume();this._stickyStartAngle=this.getRotation();this._stickyDeltaAngle=0}t=t*.3;n=n*.3;this._velocity.x=t;this._velocity.y=n}else if(this._stickyInInnerDiagonal){this.setRotation(this._stickyStartAngle+this._stickyInDiagonalCount*.2*this._stickyDeltaAngle);if(this._stickyInDiagonalCount==5){this._stickyInInnerDiagonal=false;this.setRotation(this._stickyStartAngle+this._stickyDeltaAngle)}this._stickyInDiagonalCount=this._stickyInDiagonalCount+1}}this.updateCostume();if(this._idleing&&(this._canJump||this._characterType==MainCharacterClass.ENEMY_1)){this._idleTime+=e;if(this._idleTime>=5){this.showAnimation(MainCharacterClass.IDLE_BREATHE);this._idleTime=0}}else{this._idleTime=0}if(this._stepsInGridRemaining>0&&this._positionX==this._lastPosition.x&&this._positionY==this._lastPosition.y){this._inSamePlace=this._inSamePlace+1;if(this._inSamePlace>=10){this._stepsInGridRemaining=0;this._showStopAnimation=false;if(this._direction>0){this.showAnimation(MainCharacterClass.STOP_RIGHT)}else{this.showAnimation(MainCharacterClass.STOP_LEFT)}}else if(this._inSamePlace==3){var c=this._gameLogic.Grid.getCell(this._positionX+this._direction*CELL_SIZE,this._positionY+this._verticalDirection*CELL_SIZE);if(c.TraspasableCode==NORMAL){this._stepsInGridRemaining=0;this._showStopAnimation=false;if(this._direction>0){this.showAnimation(MainCharacterClass.STOP_RIGHT)}else{this.showAnimation(MainCharacterClass.STOP_LEFT)}}}}else{this._inSamePlace=0}this._lastPosition.x=this._positionX;this._lastPosition.y=this._positionY;if(this._animationLocked>0){this._animationLocked=this._animationLocked-1}return this._alive},updateCostume:function(){this.setPosition(cc.p(this._positionX*VISUAL_SCALE,this._positionY*VISUAL_SCALE))},collideRectInit:function(){if(this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3){this._collideRect=cc.rect(0,0,VISUAL_CELL_SIZE*.1,VISUAL_CELL_SIZE*.1)}else if(this._characterType==MainCharacterClass.ENEMY_1){if(this._orientation=="portrait"){this._collideRect=cc.rect(0,0,VISUAL_CELL_SIZE*.99,VISUAL_CELL_SIZE*.9)}else if(this._orientation=="landscapeRight"){this._collideRect=cc.rect(0,0,VISUAL_CELL_SIZE*.9,VISUAL_CELL_SIZE*.99)}else if(this._orientation=="portraitUpsideDown"){this._collideRect=cc.rect(0,0,VISUAL_CELL_SIZE*.99,VISUAL_CELL_SIZE*.9)}else if(this._orientation=="landscapeLeft"){this._collideRect=cc.rect(0,0,VISUAL_CELL_SIZE*.9,VISUAL_CELL_SIZE*.99)}}else if(this._characterType==MainCharacterClass.STICKY){this._collideRect=cc.rect(0,0,VISUAL_CELL_SIZE*.55,VISUAL_CELL_SIZE*.55)}else{this._collideRect=cc.rect(0,0,VISUAL_CELL_SIZE,VISUAL_CELL_SIZE)}},collideRect:function(){var e=this.getPosition();if(this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3){this._collideRect.x=e.x-VISUAL_CELL_SIZE*.1*.5;this._collideRect.y=e.y-VISUAL_CELL_SIZE*.1*.5}else if(this._characterType==MainCharacterClass.ENEMY_1){if(this._orientation=="portrait"){this._collideRect.x=e.x-VISUAL_CELL_SIZE*.99*.5;this._collideRect.y=e.y-VISUAL_CELL_SIZE*.5}else if(this._orientation=="landscapeRight"){this._collideRect.x=e.x+VISUAL_CELL_SIZE*.5;this._collideRect.y=e.y-VISUAL_CELL_SIZE*.99*.5}else if(this._orientation=="portraitUpsideDown"){this._collideRect.x=e.x-VISUAL_CELL_SIZE*.99*.5;this._collideRect.y=e.y+VISUAL_CELL_SIZE*.5}else if(this._orientation=="landscapeLeft"){this._collideRect.x=e.x-VISUAL_CELL_SIZE*.5;this._collideRect.y=e.y-VISUAL_CELL_SIZE*.99*.5}}else if(this._characterType==MainCharacterClass.STICKY){this._collideRect.x=e.x-VISUAL_CELL_SIZE*.55*.5;this._collideRect.y=e.y-VISUAL_CELL_SIZE*.55*.5}else{this._collideRect.x=e.x-VISUAL_CELL_SIZE*.5;this._collideRect.y=e.y-VISUAL_CELL_SIZE*.5}return this._collideRect},destroy:function(){this.removeFromParent(true)},newFrame:function(){this._onSurface=false;this._canJump=false;this._myCloud=null;this._canActivateFall=true;this._canMove=false;if(this._alive&&!this._doorReached){var e=this._gameLogic.Grid.getCell(this._positionX,this._positionY);if(e!=null&&e.TraspasableCode==EMPTY){this._currentCellTraspasableCode=e.TraspasableCode;e.TraspasableCode=this._traspasableCode}}},isGoingRight:function(){if(this._rightCellDirection.y>0&&this._velocity.y>0||this._rightCellDirection.y<0&&this._velocity.y<0||this._rightCellDirection.x<0&&this._velocity.x<0||this._rightCellDirection.x>0&&this._velocity.x>0){return true}return false},isGoingLeft:function(){if(this._leftCellDirection.y>0&&this._velocity.y>0||this._leftCellDirection.y<0&&this._velocity.y<0||this._leftCellDirection.x<0&&this._velocity.x<0||this._leftCellDirection.x>0&&this._velocity.x>0){return true}return false},isGoingUp:function(){if(this._aboveCellDirection.y>0&&this._velocity.y>0||this._aboveCellDirection.y<0&&this._velocity.y<0||this._aboveCellDirection.x<0&&this._velocity.x<0||this._aboveCellDirection.x>0&&this._velocity.x>0){return true}return false},isGoingDown:function(){if(this._belowCellDirection.y>0&&this._velocity.y>0||this._belowCellDirection.y<0&&this._velocity.y<0||this._belowCellDirection.x<0&&this._velocity.x<0||this._belowCellDirection.x>0&&this._velocity.x>0){return true}return false},isFalling:function(){if(this._belowCellDirection.y>0&&this._velocity.y>=5||this._belowCellDirection.y<0&&this._velocity.y<=-5||this._belowCellDirection.x<0&&this._velocity.x<=-5||this._belowCellDirection.x>0&&this._velocity.x>=5){return true}return false},moveInGrid:function(e,t,n){this._executeMoveInGrid=true;this._nextStepDirection=e;this._nextStepSteps=t;this._nextStepCancelPreviousSteps=n},executeMoveInGrid:function(){if(!this._executeMoveInGrid){return}this._executeMoveInGrid=false;var e=this._nextStepDirection;var t=this._nextStepSteps;var n=this._nextStepCancelPreviousSteps;if(!this.ReachedExit&&this._alive){if((this._canMove||this._flyingUnit)&&!this._inCanon&&this._myBalloon==null){var r=this._gameLogic.Grid.getCell(this._positionX+this._belowCellDirection.x*CELL_SIZE,this._positionY+this._belowCellDirection.y*CELL_SIZE);if(r!=null||this._flyingUnit||this._myCloud!=null){if(this._flyingUnit||this._myCloud!=null||r.TraspasableCode!=EMPTY){if(this._direction!=e){this._stepsInGridRemaining=0}if(this._idleing||this._direction!=e){if(this._characterType==MainCharacterClass.KERMIX){gSharedEngine.playEffect(EFFECT_13)}if(e>0){this.showAnimation(MainCharacterClass.START_RIGHT)}else{this.showAnimation(MainCharacterClass.START_LEFT)}this._showStopAnimation=true}if(this._characterType==MainCharacterClass.ROCK){if(this._stepsInGridRemaining>0){gSharedEngine.playEffect(EFFECT_26)}}if(n){this._stepsInGridRemaining=t}else{this._stepsInGridRemaining=Math.max(0,this._stepsInGridRemaining);this._stepsInGridRemaining=this._stepsInGridRemaining+t}this._gameLogic._tutorial.newAction(TutorialClass.MOVE);this._stepsInGridRemaining=Math.min(this._stepsInGridRemaining,this._maxSteps);if(this._horizontalMode){this._direction=e;this._verticalDirection=0}if(this._verticalMode){this._verticalDirection=e;this._direction=0}}}this._idleing=false}}},showAnimation:function(e){if(!this._usesAnimation){return}if(this._animationLocked>0){return}this._squareCostume.setVisible(false);this._leftMoveAnimation.setVisible(false);this._leftStopMoveAnimation.setVisible(false);this._rightStopMoveAnimation.setVisible(false);this._rightMoveAnimation.setVisible(false);this._idleAnimation.setVisible(false);this._jumpAnimation.setVisible(false);this._startFallAnimation.setVisible(false);this._stopFallAnimation.setVisible(false);this._attackAnimation.setVisible(false);this._deathAnimation.setVisible(false);switch(e){case MainCharacterClass.IDLE:this._squareCostume.setVisible(true);this._squareCostume.play();break;case MainCharacterClass.START_LEFT:{this._leftMoveAnimation.setVisible(true);if(!(this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3)){this._leftMoveAnimation.play()}}break;case MainCharacterClass.STOP_LEFT:{this._leftStopMoveAnimation.setVisible(true);if(!(this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3||this._characterType==MainCharacterClass.STICKY)){this._leftStopMoveAnimation.play()}}break;case MainCharacterClass.FULL_LEFT:this._leftMoveAnimation.setVisible(true);this._leftMoveAnimation.play();break;case MainCharacterClass.START_RIGHT:{this._rightMoveAnimation.setVisible(true);if(!(this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3)){this._rightMoveAnimation.play()}}break;case MainCharacterClass.STOP_RIGHT:{this._rightStopMoveAnimation.setVisible(true);if(!(this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3||this._characterType==MainCharacterClass.STICKY)){this._rightStopMoveAnimation.play()}}break;case MainCharacterClass.FULL_RIGHT:this._rightMoveAnimation.setVisible(true);this._rightMoveAnimation.play();break;case MainCharacterClass.IDLE_BREATHE:this._idleAnimation.setVisible(true);this._idleAnimation.play();break;case MainCharacterClass.JUMP:this._jumpAnimation.setVisible(true);this._jumpAnimation.play();break;case MainCharacterClass.START_FALL:this._startFallAnimation.setVisible(true);if(!(this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3||this._characterType==MainCharacterClass.STICKY)){this._startFallAnimation.play()}break;case MainCharacterClass.STOP_FALL:this._stopFallAnimation.setVisible(true);this._stopFallAnimation.play();break;case MainCharacterClass.ATTACK:this._attackAnimation.setVisible(true);this._attackAnimation.play();break;case MainCharacterClass.DEATH:this._deathAnimation.setVisible(true);break}},jump:function(){if(this._alive&&this._canJump&&!this._inCanon&&!this.ReachedExit&&this._stepsInGridRemaining<=0){this.showAnimation(MainCharacterClass.JUMP);gSharedEngine.playEffect(EFFECT_15);this._gameLogic._tutorial.newAction(TutorialClass.JUMP);this._idleing=false;this._canMove=false;this._acceleration.x=this._belowCellDirection.x*-39;this._acceleration.y=this._belowCellDirection.y*-39;if(this._myCloud!=null){this._idleing=true;this._velocity.x=0}}},isInCell:function(e,t){if(this._currentCell!=null){if(this._currentCell.i==e&&this._currentCell.j==t){return true}}return false},die:function(e,t){if(this._alive){this._alive=false;this._dieTime=1;if(t){this._dieTime=.01}this._stepsInGridRemaining=0;if(this._myBalloon!=null){this._myBalloon.die();this._myBalloon=null}if(this._characterType==MainCharacterClass.KERMIX){gSharedEngine.playEffect(EFFECT_14);this.showAnimation(MainCharacterClass.IDLE);this._idleAnimation.pause();this._idleAnimation.setVisible(false);this._deathAnimation.setVisible(true);this.setAsSensor(true);if(this._myBalloon!=null){this._myBalloon.die();this._myBalloon=null}this._idleing=false;this._canMove=false;if(this._horizontalMode){this._acceleration.y=-30*this._belowCellDirection.y;if(e!=null){if(e==LEFT){this._dyingDirection=-1}else{this._dyingDirection=1}}else{this._dyingDirection=1}}else{this._acceleration.x=-30*this._belowCellDirection.x;if(e!=null){if(e==TOP){this._dyingDirection=-1}else{this._dyingDirection=1}}else{this._dyingDirection=1}}}else{this._gameLogic._mainScene.removeChild(this)}this._velocity.x=0;this._velocity.y=0}},getUserData:function(){return this},getId:function(){return CLASS_ID_MAIN_CHARACTER},runCollitions:function(e,t){if(this._isStatic){return}for(var n=0;n<e.length;n++){this.collide(e[n],t[n])}},oppositeDirection:function(e){var t=new Array(BOTTOM,LEFT,TOP,RIGHT);return t[e-1]},collide:function(e,t){var n=e.getId();if(n==CLASS_ID_TERRAIN_BLOCK&&!e._isSensor||n==CLASS_ID_MAIN_CHARACTER||n==CLASS_ID_CANON||n==CLASS_ID_BULLET){if(t==this._myBottom){if(!this._onSurface){if(this._fallAnimationPlayed){if(this._myBalloon==null||!this._myBalloon._active){if(this._horizontalMode&&this._velocity.y==0||this._verticalMode&&this._velocity.x==0){this.showAnimation(MainCharacterClass.STOP_FALL);this._fallAnimationPlayed=false;this._onSurface=true}}}}if(this._myBalloon==null&&n==CLASS_ID_BULLET&&e.getUserData()._bulletType==Bullet.CLOUD&&this._idleing){this._myCloud=e.getUserData();this._gameLogic._tutorial.newAction(TutorialClass.KERMIX_ON_CLOUD);this._velocity.x=this._myCloud._velocity.x}if(this._myCloud==null&&this._characterType!=MainCharacterClass.ENEMY_1){this._idleing=false}if(this._belowTraspasableCode!=EMPTY||this._myCloud!=null){this._canJump=true}this._canMove=true}else if(t==this._myTop&&this._myCloud==null){if(this._characterType==MainCharacterClass.KERMIX&&n==CLASS_ID_MAIN_CHARACTER&&e.getUserData()._characterType==MainCharacterClass.KERMIX||this._characterType==MainCharacterClass.ENEMY_1&&n==CLASS_ID_MAIN_CHARACTER&&e.getUserData()._characterType==MainCharacterClass.ROCK){this._canMove=false;this._canJump=false}if(this._characterType==MainCharacterClass.ENEMY_1&&!this._idleAnimation.isVisible()){this._idleTime=4.5;this._idleing=true}}}if(n==CLASS_ID_BULLET){var r=e.getUserData();if(this._alive&&!this.ReachedExit&&r._bulletType==Bullet.FIRE&&this._characterType!=MainCharacterClass.ROCK){this.die(this.oppositeDirection(t));this._dieTime=1.01}}if(this._characterType==MainCharacterClass.KERMIX){if(n==CLASS_ID_PICKUP_ITEM&&this._alive){var i=e.getUserData();if(i._itemType==PickupItemClass.COIN){this._gameLogic.grabCoin(i)}else if(i._itemType==PickupItemClass.DOOR&&!this.ReachedExit&&i.isActive()){this._stepsInGridRemaining=0;this.ReachedExit=true;this._exitDoor=i}else if(i._itemType==PickupItemClass.BALLOON){if(this._myBalloon==null&&i.getMainCharacter()==null){this._gameLogic._tutorial.newAction(TutorialClass.GRAB_BALLOON);i.setMainCharacter(this);i.activate();this.showAnimation(MainCharacterClass.IDLE);this._idleing=false;this._canJump=false;this._canMove=false;this._myBalloon=i;this._positionX=i._positionX;this._stepsInGridRemaining=0}}}else if(n==CLASS_ID_MAIN_CHARACTER){var s=e.getUserData();if(s._characterType==MainCharacterClass.ROCK){if((t==this._myLeft||t==this._myRight)&&s._positionY==this._positionY){this._stepsInGridRemaining=Math.min(1,this._stepsInGridRemaining);var o=0;var u=false;if(this._horizontalMode){o=this._direction;if(this._orientation=="portrait"&&(t==this._myLeft&&this._direction==-1||t==this._myRight&&this._direction==1)){u=true}else if(this._orientation=="portraitUpsideDown"&&(t==this._myRight&&this._direction==-1||t==this._myLeft&&this._direction==1)){u=true}}else{o=this._verticalDirection;if(this._orientation=="landscapeRight"&&(t==this._myLeft&&this._verticalDirection==-1||t==this._myRight&&this._verticalDirection==1)){u=true}else if(this._orientation=="landscapeLeft"&&(t==this._myRight&&this._verticalDirection==-1||t==this._myLeft&&this._verticalDirection==1)){u=true}}if(u&&this._stepsInGridRemaining>0){this._gameLogic._tutorial.newAction(TutorialClass.PUSH_ROCK);s.moveInGrid(o,this._stepsInGridRemaining,true)}}}else if(this._alive&&!this.ReachedExit&&(s._characterType==MainCharacterClass.ENEMY_1||s._characterType==MainCharacterClass.ENEMY_2||s._characterType==MainCharacterClass.ENEMY_3||s._characterType==MainCharacterClass.STICKY)){if(s._characterType==MainCharacterClass.ENEMY_2||s._characterType==MainCharacterClass.ENEMY_3){if(!s._hasEaten){s.attack();s._hasEaten=true;s._food=this;this.getEaten();this._dieTime=2.5}}else{if(s._characterType==MainCharacterClass.STICKY&&s._hasEaten){}else{this.die(this.oppositeDirection(t));this._dieTime=1.1}}}}else if(n==CLASS_ID_BULLET){var r=e.getUserData();if(r._bulletType==Bullet.FIRE){this.die();this._dieTime=1.2;if(r._dyingRemaining==0&&r._alive==true){r.die()}}}}else if(this._characterType==MainCharacterClass.ROCK){if(n==CLASS_ID_PICKUP_ITEM){var i=e.getUserData();if(i._itemType==PickupItemClass.BALLOON){if(this._myBalloon==null&&i.getMainCharacter()==null){i.setMainCharacter(this);i.activate();this.showAnimation(MainCharacterClass.IDLE);this._idleing=false;this._canJump=false;this._canMove=false;this._myBalloon=i;this._stepsInGridRemaining=0}}}else if(n==CLASS_ID_MAIN_CHARACTER){var s=e.getUserData();if(s._characterType==MainCharacterClass.ROCK||s._characterType==MainCharacterClass.ENEMY_1){if(t==this._myLeft||t==this._myRight){this._stepsInGridRemaining=Math.min(1,this._stepsInGridRemaining);var o=0;var u=false;if(this._horizontalMode){o=this._direction;if(this._orientation=="portrait"&&(t==this._myLeft&&this._direction==-1||t==this._myRight&&this._direction==1)){u=true}else if(this._orientation=="portraitUpsideDown"&&(t==this._myRight&&this._direction==-1||t==this._myLeft&&this._direction==1)){u=true}}else{o=this._verticalDirection;if(this._orientation=="landscapeRight"&&(t==this._myLeft&&this._verticalDirection==-1||t==this._myRight&&this._verticalDirection==1)){u=true}else if(this._orientation=="landscapeLeft"&&(t==this._myRight&&this._verticalDirection==-1||t==this._myLeft&&this._verticalDirection==1)){u=true}}if(u&&this._stepsInGridRemaining>0){s._remainingToNextStep=2;s.moveInGrid(o,this._stepsInGridRemaining,true)}}}else if((s._characterType==MainCharacterClass.ENEMY_2||s._characterType==MainCharacterClass.ENEMY_3)&&!s._hasEaten){s.attack();s._hasEaten=true;s._food=this;s.setAsSensor(true);this.getEaten();this._dieTime=3}else if(s._characterType==MainCharacterClass.STICKY){if(t==this._myBottom){}else{s.stickToRock(this,this.oppositeDirection(t))}}}else if(n==CLASS_ID_BULLET){var r=e.getUserData();if(r._bulletType==Bullet.FIRE){r.die()}}}else if(this._characterType==MainCharacterClass.ENEMY_1||this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3||this._characterType==MainCharacterClass.STICKY){if(n==CLASS_ID_PICKUP_ITEM){var i=e.getUserData();if(i._itemType==PickupItemClass.TURN){if(i!=this._lastPickup){this._direction=this._direction*-1;this._verticalDirection=this._verticalDirection*-1}}this._lastPickup=i}else if(n==CLASS_ID_MAIN_CHARACTER){var s=e.getUserData();if(!this._hasEaten){if(s._characterType==MainCharacterClass.ROCK){if(this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3||this._characterType==MainCharacterClass.ENEMY_1){}else{if(t==TOP){this.showAnimation(MainCharacterClass.DEATH);this._stepsInGridRemaining=0;this._velocity.x=0;this._velocity.y=0;this._acceleration.x=0;this._acceleration.y=0;this._hasEaten=true;this._deadByFood=true;this._dieTime=.5;this._animationLocked=100;this._remainingToNextStep=3.333;this._deathAnimation.play();this.setAsStatic(true);gSharedEngine.playEffect(EFFECT_1)}else{if(this._characterType==MainCharacterClass.STICKY&&(t==LEFT||t==RIGHT)){if(this._positionY-10<s._positionY){this.showAnimation(MainCharacterClass.DEATH);this._stepsInGridRemaining=0;this._velocity.x=0;this._velocity.y=0;this._acceleration.x=0;this._acceleration.y=0;this._hasEaten=true;this._deadByFood=true;this._dieTime=.5;this._animationLocked=100;this._remainingToNextStep=3.333;this._deathAnimation.play();this.setAsStatic(true);gSharedEngine.playEffect(EFFECT_1)}}}}}}}else if(n==CLASS_ID_BULLET){var r=e.getUserData();if(r._bulletType==Bullet.FIRE){gSharedEngine.playEffect(EFFECT_24);this.die();this._dieTime=1.4;if(r._dyingRemaining==0&&r._alive==true){r.die()}}}}},dropFromBallon:function(){if(!this.ReachedExit){this._myBalloon=null;this._velocity.y=0;this._velocity.x=0}},deltaToAngle:function(e,t){var n=t-e;while(n<-180){n=n+360}while(n>180){n=n-360}return n},planDirection:function(e){this._remainingToNextStep-=e;if(this._remainingToNextStep<=0&&(this._canMove||this._flyingUnit)){if(this._characterType!=MainCharacterClass.STICKY){var t=this._gameLogic.Grid.getCell(this._positionX+this._direction*CELL_SIZE,this._positionY+this._verticalDirection*CELL_SIZE);if(t!=null){if(t.TraspasableCode==EMPTY||t.TraspasableCode==PLAYER||this._flyingUnit&&t.TraspasableCode==ROCK){var n=this._gameLogic.Grid.getCellByIJ(t.i+this._belowCellDirection.y,t.j+this._belowCellDirection.x);if(n!=null&&n.TraspasableCode!=EMPTY&&!this._gameLogic.isMainCharacterOn(n.i,n.j)||this._flyingUnit){if(this._characterType==MainCharacterClass.ENEMY_1){gSharedEngine.playEffect(EFFECT_7)}else if(this._characterType==MainCharacterClass.ENEMY_2||this._characterType==MainCharacterClass.ENEMY_3){gSharedEngine.playEffect(EFFECT_25)}if(this._horizontalMode){this.moveInGrid(this._direction,1)}if(this._verticalMode){this.moveInGrid(this._verticalDirection,1)}this._remainingToNextStep=this._timeBetweenSteps;return}}}this._direction=this._direction*-1;this._verticalDirection=this._verticalDirection*-1;this._lastPickup=null}else{var t=this._gameLogic.Grid.getCell(this._positionX+this._direction*CELL_SIZE,this._positionY+this._verticalDirection*CELL_SIZE);if(t!=null){if(t.TraspasableCode==EMPTY||t.TraspasableCode==PLAYER||t.TraspasableCode==ENEMY){var n=this._gameLogic.Grid.getCellByIJ(t.i+this._belowCellDirection.y,t.j+this._belowCellDirection.x);if(n!=null&&(n.TraspasableCode==NORMAL||n.TraspasableCode==ROCK||n.TraspasableCode==DOOR)){if(n.TraspasableCode==NORMAL||n.TraspasableCode==DOOR){if(this._horizontalMode){this.moveInGrid(this._direction,1)}if(this._verticalMode){this.moveInGrid(this._verticalDirection,1)}gSharedEngine.playEffect(EFFECT_23);this._remainingToNextStep=this._timeBetweenSteps;this._myRock=null;return}else if(n.TraspasableCode==ROCK){var r=this._gameLogic.getRockInIJ(n.i,n.j);if(r!=null){this._myRock=r;this._stickyInDiagonal=true;this._stickyDestination.x=t.x;this._stickyDestination.y=t.y;this._stickyStartAngle=this.getRotation();this._stickyDeltaAngle=0;gSharedEngine.playEffect(EFFECT_23);this._remainingToNextStep=this._timeBetweenSteps;return}}}else{this._myRock=null;var r=this._gameLogic.getRockInIJ(this._currentCell.i+this._belowCellDirection.y,this._currentCell.j+this._belowCellDirection.x);if(r!=null){this._myRock=r}if(this._draggingLeft){this.rotateDirectionCounterClockWise();this.rotateCellBelowDirectionCounterClockWise()}else{this.rotateDirectionClockWise();this.rotateCellBelowDirectionClockWise()}this._stickyInDiagonal=true;this._stickyDestination.x=n.x;this._stickyDestination.y=n.y;this._stickyStartAngle=this.getRotation();this.rotateCostume();if(this._draggingLeft){this.showAnimation(MainCharacterClass.FULL_LEFT)}else{this.showAnimation(MainCharacterClass.FULL_RIGHT)}gSharedEngine.playEffect(EFFECT_23);this._stickyDeltaAngle=this.deltaToAngle(this._stickyStartAngle,this.getRotation());this.setRotation(this._stickyStartAngle);this._remainingToNextStep=this._timeBetweenSteps}}else{this._myRock=null;if(t.TraspasableCode==ROCK){var r=this._gameLogic.getRockInIJ(t.i,t.j);if(r!=null){this._myRock=r}}if(this._draggingLeft){this.rotateDirectionClockWise();this.rotateCellBelowDirectionClockWise()}else{this.rotateDirectionCounterClockWise();this.rotateCellBelowDirectionCounterClockWise()}gSharedEngine.playEffect(EFFECT_23);this._stickyInInnerDiagonal=true;this._stickyStartAngle=this.getRotation();this.rotateCostume();if(this._draggingLeft){this.showAnimation(MainCharacterClass.FULL_LEFT)}else{this.showAnimation(MainCharacterClass.FULL_RIGHT)}this._stickyDeltaAngle=this.deltaToAngle(this._stickyStartAngle,this.getRotation());this.setRotation(this._stickyStartAngle);this._stickyInDiagonalCount=0;this._remainingToNextStep=this._timeBetweenSteps}}else{this._remainingToNextStep=this._timeBetweenSteps;this._draggingLeft=!this._draggingLeft;if(this._draggingLeft){this._leftMoveAnimation.xScale=1;this._rightMoveAnimation.xScale=1}else{this._leftMoveAnimation.xScale=-1;this._rightMoveAnimation.xScale=-1}this._direction=-1*this._direction;this._verticalDirection=-1*this._verticalDirection}this.rotateCostume()}}},findAnchor:function(){var e=true;var t=0;do{var n=this._gameLogic.Grid.getCell(this._positionX+this._belowCellDirection.x*CELL_SIZE,this._positionY+this._belowCellDirection.y*CELL_SIZE);if(n!=null){if(n.TraspasableCode==NORMAL){e=false;if(t==1||t==3){}else if(t==0){this._verticalDirection=1;this._belowCellDirection.x=1;this._belowCellDirection.y=0;this._direction=0;this.rotateDirectionClockWise();if(this._belowCellDirection.x==1){this._belowCellDirection.x=0;this._belowCellDirection.y=1}else if(this._belowCellDirection.y==1){this._belowCellDirection.x=-1;this._belowCellDirection.y=0}else if(this._belowCellDirection.x==-1){this._belowCellDirection.x=0;this._belowCellDirection.y=-1}else if(this._belowCellDirection.y==-1){this._belowCellDirection.x=1;this._belowCellDirection.y=0}}else if(t==2){this._direction=0;this._verticalDirection=-1;this._belowCellDirection.x=1;this._belowCellDirection.y=0;this.rotateCellBelowDirectionClockWise();this.rotateDirectionClockWise()}}else{this.rotateDirectionClockWise();if(this._belowCellDirection.x==1){this._belowCellDirection.x=0;this._belowCellDirection.y=1}else if(this._belowCellDirection.y==1){this._belowCellDirection.x=-1;this._belowCellDirection.y=0}else if(this._belowCellDirection.x==-1){this._belowCellDirection.x=0;this._belowCellDirection.y=-1}else if(this._belowCellDirection.y==-1){this._belowCellDirection.x=1;this._belowCellDirection.y=0}t++}}}while(e);this.rotateCostume()},rotateCostume:function(){if(this._belowCellDirection.x==1){this.setRotation(-90)}else if(this._belowCellDirection.y==1){this.setRotation(180)}else if(this._belowCellDirection.x==-1){this.setRotation(90)}else if(this._belowCellDirection.y==-1){this.setRotation(0)}},rotateCellBelowDirectionClockWise:function(){if(this._belowCellDirection.x==1){this._belowCellDirection.x=0;this._belowCellDirection.y=-1}else if(this._belowCellDirection.y==1){this._belowCellDirection.x=1;this._belowCellDirection.y=0}else if(this._belowCellDirection.x==-1){this._belowCellDirection.x=0;this._belowCellDirection.y=1}else if(this._belowCellDirection.y==-1){this._belowCellDirection.x=-1;this._belowCellDirection.y=0}},rotateCellBelowDirectionCounterClockWise:function(){if(this._belowCellDirection.x==1){this._belowCellDirection.x=0;this._belowCellDirection.y=1}else if(this._belowCellDirection.y==1){this._belowCellDirection.x=-1;this._belowCellDirection.y=0}else if(this._belowCellDirection.x==-1){this._belowCellDirection.x=0;this._belowCellDirection.y=-1}else if(this._belowCellDirection.y==-1){this._belowCellDirection.x=1;this._belowCellDirection.y=0}},rotateDirectionClockWise:function(){if(this._direction==1){this._direction=0;this._verticalDirection=-1;this._horizontalMode=false;this._verticalMode=true}else if(this._verticalDirection==1){this._direction=1;this._verticalDirection=0;this._horizontalMode=true;this._verticalMode=false}else if(this._direction==-1){this._direction=0;this._verticalDirection=1;this._horizontalMode=false;this._verticalMode=true}else if(this._verticalDirection==-1){this._direction=-1;this._verticalDirection=0;this._horizontalMode=true;this._verticalMode=false}},rotateDirectionCounterClockWise:function(){if(this._direction==1){this._direction=0;this._verticalDirection=1;this._horizontalMode=false;this._verticalMode=true}else if(this._verticalDirection==1){this._direction=-1;this._verticalDirection=0;this._horizontalMode=true;this._verticalMode=false}else if(this._direction==-1){this._direction=0;this._verticalDirection=-1;this._horizontalMode=false;this._verticalMode=true}else if(this._verticalDirection==-1){this._direction=1;this._verticalDirection=0;this._horizontalMode=true;this._verticalMode=false}},setGravity:function(e){this._gravity=e;this.setOrientation(this._orientation)},setOrientation:function(e){this._orientation=e;if(this._orientation=="portrait"){this._gravityVector.x=0;this._gravityVector.y=this._gravity}else if(this._orientation=="landscapeRight"){this._gravityVector.x=-this._gravity;this._gravityVector.y=0}else if(this._orientation=="portraitUpsideDown"){this._gravityVector.x=0;this._gravityVector.y=-this._gravity}else if(this._orientation=="landscapeLeft"){this._gravityVector.x=this._gravity;this._gravityVector.y=0}if(this._characterType==MainCharacterClass.STICKY){this.collideRectInit();return}if(this._orientation=="portrait"){this.setRotation(0);if(!this._flyingUnit){this._horizontalMode=true;this._verticalMode=false;this._direction=-1;this._verticalDirection=0}this._belowCellDirection.x=0;this._belowCellDirection.y=-1;this._aboveCellDirection.x=0;this._aboveCellDirection.y=1;this._rightCellDirection.x=1;this._rightCellDirection.y=0;this._leftCellDirection.x=-1;this._leftCellDirection.y=0}else if(this._orientation=="landscapeRight"){this.setRotation(-90);if(!this._flyingUnit){this._horizontalMode=false;this._verticalMode=true;this._direction=0;this._verticalDirection=-1}this._belowCellDirection.x=1;this._belowCellDirection.y=0;this._aboveCellDirection.x=-1;this._aboveCellDirection.y=0;this._rightCellDirection.x=0;this._rightCellDirection.y=1;this._leftCellDirection.x=0;this._leftCellDirection.y=-1}else if(this._orientation=="portraitUpsideDown"){this.setRotation(180);if(!this._flyingUnit){this._horizontalMode=true;this._verticalMode=false;this._direction=1;this._verticalDirection=0}this._belowCellDirection.x=0;this._belowCellDirection.y=1;this._aboveCellDirection.x=0;this._aboveCellDirection.y=-1;this._rightCellDirection.x=-1;this._rightCellDirection.y=0;this._leftCellDirection.x=1;this._leftCellDirection.y=0}else if(this._orientation=="landscapeLeft"){this.setRotation(90);if(!this._flyingUnit){this._horizontalMode=false;this._verticalMode=true;this._direction=0;this._verticalDirection=1}this._belowCellDirection.x=-1;this._belowCellDirection.y=0;this._aboveCellDirection.x=1;this._aboveCellDirection.y=0;this._rightCellDirection.x=0;this._rightCellDirection.y=-1;this._leftCellDirection.x=0;this._leftCellDirection.y=1}this.collideRectInit()},attack:function(){this.showAnimation(MainCharacterClass.ATTACK);this._animationLocked=30},getEaten:function(){if(this._alive){this._alive=false;this._gotEaten=true;if(this._myBalloon!=null){this._myBalloon.die();this._myBalloon=null}if(this._characterType==MainCharacterClass.KERMIX){gSharedEngine.playEffect(EFFECT_14);this.setAsSensor(true);if(this._myBalloon!=null){this._myBalloon.die();this._myBalloon=null}this._idleing=false;this._canMove=false;this._acceleration.y=0;this._acceleration.x=0;this.setGravity(0);this._dyingDirection=0}else{this._gameLogic._mainScene.removeChild(this)}this._velocity.x=0;this._velocity.y=0}},stickToRock:function(e,t){if(this._myRock!=null){return}this._myRock=e}});MainCharacterClass.HORIZONTAL_VELOCITY=10;MainCharacterClass.SNAP_TO_GRID_DISTANCE=2;MainCharacterClass.KERMIX=1;MainCharacterClass.ROCK=2;MainCharacterClass.ENEMY_1=3;MainCharacterClass.ENEMY_2=4;MainCharacterClass.ENEMY_3=5;MainCharacterClass.STICKY=6;MainCharacterClass.IDLE=1;MainCharacterClass.START_LEFT=2;MainCharacterClass.STOP_LEFT=3;MainCharacterClass.START_RIGHT=4;MainCharacterClass.STOP_RIGHT=5;MainCharacterClass.IDLE_BREATHE=6;MainCharacterClass.JUMP=7;MainCharacterClass.START_FALL=8;MainCharacterClass.STOP_FALL=9;MainCharacterClass.ATTACK=10;MainCharacterClass.DEATH=11;MainCharacterClass.FULL_LEFT=12;MainCharacterClass.FULL_RIGHT=13;var DataFlag={frames:[[1500,0,150,100,0,0,0],[712,100,78,56,0,0,0],[634,100,78,56,0,0,0],[556,100,78,56,0,0,0],[1200,0,150,100,0,0,0],[0,100,150,100,0,0,0],[1800,0,150,100,0,0,0],[1950,0,78,56,0,0,0],[1650,0,150,100,0,0,0],[478,100,78,56,0,0,0],[790,100,78,56,0,0,0],[1350,0,150,100,0,0,0],[0,0,150,100,0,0,0],[1050,0,150,100,0,0,0],[900,0,150,100,0,0,0],[750,0,150,100,0,0,0],[600,0,150,100,0,0,0],[450,0,150,100,0,0,0],[300,0,150,100,0,0,0],[150,0,150,100,0,0,0],[150,100,328,63,0,0,0]],animations:{ar:{frames:[1],speed:1},es:{frames:[14],speed:1},it:{frames:[12],speed:1},tr:{frames:[0],speed:1},ru:{frames:[5],speed:1},sa:{frames:[3],speed:1},jp:{frames:[9],speed:1},br:{frames:[19],speed:1},uk:{frames:[16],speed:1},select:{frames:[20],speed:1},us:{frames:[15],speed:1},pt:{frames:[7],speed:1},nl:{frames:[8],speed:1},cn:{frames:[18],speed:1},fr:{frames:[13],speed:1},de:{frames:[17],speed:1},"in":{frames:[10],speed:1},id:{frames:[11],speed:1},se:{frames:[4],speed:1},mx:{frames:[2],speed:1},pl:{frames:[6],speed:1}}};var LanguageSelectorClass=cc.Layer.extend({_cont:null,_contSelect:null,_contOptions:null,_txt:null,_flag:null,_node:null,_background:null,_sceneMain:null,_imageFrame:null,ctor:function(){this.init()},init:function(){var e=false;if(this._super()){this._node=cc.Node.create();this.addChild(this._node);this._node.setVisible(false);this._cont=cc.Menu.create();this._cont.setPosition(0,0);this.addChild(this._cont);this._imageFrame=cc.SpriteFrameCache.getInstance().getSpriteFrame("ui-localization.png");this.createSelect();this.createOptions();e=true}return e},createSelect:function(){var e=DataFlag.frames[DataFlag.animations.select.frames[0]];this._contSelect=cc.MenuItemImage.create(null,null,function(e){this._node.setVisible(!this._node.isVisible())},this);var t=this._imageFrame.clone();var n=this._imageFrame.clone();t.setRect(cc.rect(t.getRect().x+e[0]*.5,t.getRect().y+e[1]*.5,e[2]*.5,e[3]*.5));var r=cc.Sprite.createWithSpriteFrame(t);r.setPosition(cc.p(-430,-45));this._contSelect.setNormalImage(r);this._cont.addChild(this._contSelect);this._contSelect.setPosition(cc.p(-10,-20));var i=DataFlag.frames[DataFlag.animations[LANGUAGES[PlayerData.currentLanguageIndex].iso].frames[0]];n.setRect(cc.rect(n.getRect().x+i[0]*.5,n.getRect().y+i[1]*.5,i[2]*.5,i[3]*.5));this._flag=cc.Sprite.createWithSpriteFrame(n);this._flag.setScale(.5);this._flag.setPosition(22,18);this._txt=cc.LabelTTF.create(LANGUAGES[PlayerData.currentLanguageIndex].label,"Arial","18");this._txt.setColor(cc.black());this._txt.setPosition(cc.p(75,18));this._contSelect.addChild(this._flag);this._contSelect.addChild(this._txt);var s=new cc.Size;s.width=e[2]*.5;s.height=e[3]*.5;this._contSelect.setContentSize(s)},createOptions:function(){this._background=cc.Sprite.createWithSpriteFrame(cc.SpriteFrameCache.getInstance().getSpriteFrame("black.png"));this._background.setScaleX(12);this._background.setScaleY(16);this._background.setOpacity(150);this._background.setPosition(cc.p(-80,215));this._node.addChild(this._background);this._contOptions=cc.Menu.create();this._contOptions.setPosition(0,360);this._node.addChild(this._contOptions);var e=5;var t={w:-450,h:0};for(var n=0;n<LANGUAGES.length;n++){var r=n%e;var i=Math.floor(n/e);var s=DataFlag.frames[DataFlag.animations[LANGUAGES[n].iso].frames[0]];var o=this._imageFrame.clone();o.setRect(cc.rect(o.getRect().x+s[0]*.5,o.getRect().y+s[1]*.5,s[2]*.5,s[3]*.5));var u=cc.Sprite.createWithSpriteFrame(o);u.setScale(.6);u.setPosition(cc.p(-280,0));var a=cc.LabelTTF.create(LANGUAGES[n].label,"Arial","18");a.setPosition(cc.p(u.getContentSize().width*.5,10));u.addChild(a);var f=cc.MenuItemSprite.create(null,null,function(e){Localization.setLanguage(LANGUAGES[e.getUserData()].lang);var t=DataFlag.frames[DataFlag.animations[LANGUAGES[e.getUserData()].iso].frames[0]];var n=this._imageFrame.clone();n.setRect(cc.rect(n.getRect().x+t[0]*.5,n.getRect().y+t[1]*.5,t[2]*.5,t[3]*.5));this._flag.setDisplayFrame(n);this._txt.setString(LANGUAGES[e.getUserData()].label);PlayerData.currentLanguageIndex=e.getUserData();this._node.setVisible(false);PlayerData.saveData()},this);f.setNormalImage(u);var l=new cc.Size;l.width=s[2]*.5;l.height=s[3]*.5;f.setContentSize(l);f.setUserData(n);this._contOptions.addChild(f);f.setPosition(r*(u.getContentSize().width*.5+t.w)-190,-i*(u.getContentSize().height+t.h))}}});var ScenePromoLayer=cc.Layer.extend({TYPE_1:0,TYPE_2:1,TYPE_3:1,_type:0,_background:null,_text1:null,_text1Shadow:null,_text2:null,_text3:null,_menu:null,_button1:null,_button2:null,_backButton:null,ctor:function(e){this._type=e;this._super();this.init()},init:function(){if(this._super()){var e=new cc.Size(VISUAL_SCREEN_WIDTH,VISUAL_SCREEN_HEIGHT);var t=cc.Sprite.create();var n=cc.Sprite.createWithSpriteFrameName("KW_Intro_Negro.png");t.addChild(n);n.setOpacity(255*.8);n.setScaleX(VISUAL_SCREEN_WIDTH/n.getContentSize().width);n.setScaleY(VISUAL_SCREEN_HEIGHT/n.getContentSize().height);var r=cc.Sprite.createWithSpriteFrameName("FondoPopUp.png");t.addChild(r);this._background=t;this._text1=cc.LabelTTF.create(Localization.getText("{PROMO_1A}"),"Arial","19",cc.size(400,0),cc.TEXT_ALIGNMENT_CENTER);this._text1Shadow=cc.LabelTTF.create(Localization.getText("{PROMO_1A}"),"Arial","19",cc.size(400,0),cc.TEXT_ALIGNMENT_CENTER);this._text1Shadow.setColor(cc.c3b(0,0,0));this._menu=cc.Menu.create();switch(this._type){case this.TYPE_1:this._button1=cc.MenuItemImage.create(null,null,function(){FlurryAgent.logEvent(FLURRY_CLICKED_IOS);window.open("http://www.lehetj.com/game/html5","_blank")},this);this._button2=cc.MenuItemImage.create(null,null,function(){FlurryAgent.logEvent(FLURRY_CLICKED_ANDROID);window.open("http://www.lehetj.com/game/html5","_blank")},this);break;default:this._button1=cc.MenuItemImage.create(null,null,function(){FlurryAgent.logEvent(FLURRY_CLICKED_IOS);window.open("http://www.lehetj.com/game/html5","_blank")},this);this._button2=cc.MenuItemImage.create(null,null,function(){FlurryAgent.logEvent(FLURRY_CLICKED_ANDROID);window.open("http://www.lehetj.com/game/html5","_blank")},this);break}this._button1.setNormalImage(cc.Sprite.createWithSpriteFrameName(this.getIOSImageName()));this._button2.setNormalImage(cc.Sprite.createWithSpriteFrameName(this.getAndroidImageName()));this._backButton=cc.MenuItemImage.create(null,null,function(){this.setVisible(false)},this);this._backButton.setNormalImage(cc.Sprite.createWithSpriteFrameName("CerrarPopUp.png"));this.addChild(this._background);this.addChild(this._text1Shadow);this.addChild(this._text1);this._menu.addChild(this._button1);this._menu.addChild(this._button2);this._menu.addChild(this._backButton);this.addChild(this._menu);TextUtils.addOffsetToLabelBMFont(this._text1,5);TextUtils.addOffsetToLabelBMFont(this._text1Shadow,5);this._background.setPosition(e.width/2,e.height/2);this._menu.setPosition(cc.PointZero());this._text1.setPosition(e.width/2,180);this._text1Shadow.setPosition(e.width/2+1,178);this._button1.setPosition(e.width/2,110);this._button2.setPosition(e.width/2,150);this._backButton.setPosition(e.width/2+r.getContentSize().width/2,e.height/2+r.getContentSize().height/2)}return true},getIOSImageName:function(){var e=Localization.getLanguage();if(e=="pt-BR")return"PT_Br_AppStore.png";else if(e=="de-DE")return"De_AppStore.png";else if(e=="en-GB")return"En_AppStore.png";else if(e=="en-US")return"En_AppStore.png";else if(e=="es-ES")return"Es_AppStore.png";else if(e=="fr-FR")return"Fr_AppStore.png";else if(e=="it-IT")return"It_AppStore.png";else if(e=="es-AR")return"Es_AppStore.png";else if(e=="en-ID")return"En_AppStore.png";else if(e=="jp-JP")return"Jp_AppStore.png";else if(e=="nl-NL")return"Nl_AppStore.png";else if(e=="pt-PT")return"PT_AppStore.png";else if(e=="pl-PL")return"Pl_AppStore.png";else if(e=="ru-RU")return"Ru_AppStore.png";else if(e=="sv-SE")return"Sv_AppStore.png";else if(e=="en-US")return"En_AppStore.png";else if(e=="es-MX")return"Es_AppStore.png";else if(e=="CHINESE-CN")return"Zh_AppStore.png";else if(e=="es-LA")return"Es_AppStore.png";else if(e=="zh-CN")return"Zh_AppStore.png"},getAndroidImageName:function(){var e=Localization.getLanguage();if(e=="pt-BR")return"Pt_Br_GooglePla.png";else if(e=="de-DE")return"De_GooglePla.png";else if(e=="en-GB")return"En_GooglePla.png";else if(e=="en-US")return"En_GooglePla.png";else if(e=="es-ES")return"Es_GooglePla.png";else if(e=="fr-FR")return"Fr_GooglePla.png";else if(e=="it-IT")return"It_GooglePla.png";else if(e=="es-AR")return"Es_GooglePla.png";else if(e=="en-ID")return"En_GooglePla.png";else if(e=="jp-JP")return"Ja_GooglePla.png";else if(e=="nl-NL")return"Nl_GooglePla.png";else if(e=="pt-PT")return"Pt_GooglePla.png";else if(e=="pl-PL")return"Pl_GooglePla.png";else if(e=="ru-RU")return"Ru_GooglePla.png";else if(e=="sv-SE")return"Sv_GooglePla.png";else if(e=="en-US")return"En_GooglePla.png";else if(e=="es-MX")return"Es_GooglePla.png";else if(e=="CHINESE-CN")return"Zh_GooglePla.png";else if(e=="es-LA")return"Es_GooglePla.png";else if(e=="zh-CN")return"Zh_GooglePla.png"}})